(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function c5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function u5(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var cv={exports:{}},Dp={},uv={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),TM=Symbol.for("react.portal"),RM=Symbol.for("react.fragment"),PM=Symbol.for("react.strict_mode"),bM=Symbol.for("react.profiler"),BM=Symbol.for("react.provider"),IM=Symbol.for("react.context"),LM=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),FM=Symbol.for("react.memo"),UM=Symbol.for("react.lazy"),U8=Symbol.iterator;function OM(n){return n===null||typeof n!="object"?null:(n=U8&&n[U8]||n["@@iterator"],typeof n=="function"?n:null)}var hv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dv=Object.assign,fv={};function Yc(n,e,t){this.props=n,this.context=e,this.refs=fv,this.updater=t||hv}Yc.prototype.isReactComponent={};Yc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Yc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function pv(){}pv.prototype=Yc.prototype;function h5(n,e,t){this.props=n,this.context=e,this.refs=fv,this.updater=t||hv}var d5=h5.prototype=new pv;d5.constructor=h5;dv(d5,Yc.prototype);d5.isPureReactComponent=!0;var O8=Array.isArray,mv=Object.prototype.hasOwnProperty,f5={current:null},gv={key:!0,ref:!0,__self:!0,__source:!0};function _v(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mv.call(e,i)&&!gv.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:sd,type:n,key:s,ref:o,props:r,_owner:f5.current}}function NM(n,e){return{$$typeof:sd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function p5(n){return typeof n=="object"&&n!==null&&n.$$typeof===sd}function kM(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var N8=/\/+/g;function Dm(n,e){return typeof n=="object"&&n!==null&&n.key!=null?kM(""+n.key):e.toString(36)}function O1(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case sd:case TM:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Dm(o,0):i,O8(r)?(t="",n!=null&&(t=n.replace(N8,"$&/")+"/"),O1(r,e,t,"",function(h){return h})):r!=null&&(p5(r)&&(r=NM(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(N8,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",O8(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Dm(s,a);o+=O1(s,e,t,l,r)}else if(l=OM(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Dm(s,a++),o+=O1(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xf(n,e,t){if(n==null)return n;var i=[],r=0;return O1(n,i,"","",function(s){return e.call(t,s,r++)}),i}function zM(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var wi={current:null},N1={transition:null},HM={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:N1,ReactCurrentOwner:f5};function vv(){throw Error("act(...) is not supported in production builds of React.")}Rt.Children={map:xf,forEach:function(n,e,t){xf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xf(n,function(){e++}),e},toArray:function(n){return xf(n,function(e){return e})||[]},only:function(n){if(!p5(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Rt.Component=Yc;Rt.Fragment=RM;Rt.Profiler=bM;Rt.PureComponent=h5;Rt.StrictMode=PM;Rt.Suspense=DM;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;Rt.act=vv;Rt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=dv({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=f5.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)mv.call(e,l)&&!gv.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];i.children=a}return{$$typeof:sd,type:n.type,key:r,ref:s,props:i,_owner:o}};Rt.createContext=function(n){return n={$$typeof:IM,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:BM,_context:n},n.Consumer=n};Rt.createElement=_v;Rt.createFactory=function(n){var e=_v.bind(null,n);return e.type=n,e};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(n){return{$$typeof:LM,render:n}};Rt.isValidElement=p5;Rt.lazy=function(n){return{$$typeof:UM,_payload:{_status:-1,_result:n},_init:zM}};Rt.memo=function(n,e){return{$$typeof:FM,type:n,compare:e===void 0?null:e}};Rt.startTransition=function(n){var e=N1.transition;N1.transition={};try{n()}finally{N1.transition=e}};Rt.unstable_act=vv;Rt.useCallback=function(n,e){return wi.current.useCallback(n,e)};Rt.useContext=function(n){return wi.current.useContext(n)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(n){return wi.current.useDeferredValue(n)};Rt.useEffect=function(n,e){return wi.current.useEffect(n,e)};Rt.useId=function(){return wi.current.useId()};Rt.useImperativeHandle=function(n,e,t){return wi.current.useImperativeHandle(n,e,t)};Rt.useInsertionEffect=function(n,e){return wi.current.useInsertionEffect(n,e)};Rt.useLayoutEffect=function(n,e){return wi.current.useLayoutEffect(n,e)};Rt.useMemo=function(n,e){return wi.current.useMemo(n,e)};Rt.useReducer=function(n,e,t){return wi.current.useReducer(n,e,t)};Rt.useRef=function(n){return wi.current.useRef(n)};Rt.useState=function(n){return wi.current.useState(n)};Rt.useSyncExternalStore=function(n,e,t){return wi.current.useSyncExternalStore(n,e,t)};Rt.useTransition=function(){return wi.current.useTransition()};Rt.version="18.3.1";uv.exports=Rt;var oe=uv.exports;const Bo=c5(oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM=oe,VM=Symbol.for("react.element"),WM=Symbol.for("react.fragment"),XM=Object.prototype.hasOwnProperty,JM=GM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jM={key:!0,ref:!0,__self:!0,__source:!0};function yv(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)XM.call(e,i)&&!jM.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:VM,type:n,key:s,ref:o,props:r,_owner:JM.current}}Dp.Fragment=WM;Dp.jsx=yv;Dp.jsxs=yv;cv.exports=Dp;var ne=cv.exports,_3={},xv={exports:{}},ar={},qv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var Y=H-1>>>1,le=L[Y];if(0<r(le,V))L[Y]=V,L[H]=le,H=Y;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var Y=0,le=L.length,qe=le>>>1;Y<qe;){var ee=2*(Y+1)-1,fe=L[ee],Ae=ee+1,ve=L[Ae];if(0>r(fe,H))Ae<le&&0>r(ve,fe)?(L[Y]=ve,L[Ae]=H,Y=Ae):(L[Y]=fe,L[ee]=H,Y=ee);else if(Ae<le&&0>r(ve,H))L[Y]=ve,L[Ae]=H,Y=Ae;else break e}}return V}function r(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],h=[],d=1,f=null,p=3,m=!1,v=!1,q=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=t(h);V!==null;){if(V.callback===null)i(h);else if(V.startTime<=L)i(h),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(h)}}function M(L){if(q=!1,S(L),!v)if(t(l)!==null)v=!0,W(R);else{var V=t(h);V!==null&&te(M,V.startTime-L)}}function R(L,V){v=!1,q&&(q=!1,g(B),B=-1),m=!0;var H=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||L&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var le=Y(f.expirationTime<=V);V=n.unstable_now(),typeof le=="function"?f.callback=le:f===t(l)&&i(l),S(V)}else i(l);f=t(l)}if(f!==null)var qe=!0;else{var ee=t(h);ee!==null&&te(M,ee.startTime-V),qe=!1}return qe}finally{f=null,p=H,m=!1}}var C=!1,P=null,B=-1,b=5,T=-1;function D(){return!(n.unstable_now()-T<b)}function N(){if(P!==null){var L=n.unstable_now();T=L;var V=!0;try{V=P(!0,L)}finally{V?O():(C=!1,P=null)}}else C=!1}var O;if(typeof x=="function")O=function(){x(N)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=N,O=function(){X.postMessage(null)}}else O=function(){y(N,0)};function W(L){P=L,C||(C=!0,O())}function te(L,V){B=y(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,W(R))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return V()}finally{p=H}},n.unstable_scheduleCallback=function(L,V,H){var Y=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=H+le,L={id:d++,callback:V,priorityLevel:L,startTime:H,expirationTime:le,sortIndex:-1},H>Y?(L.sortIndex=H,e(h,L),t(l)===null&&L===t(h)&&(q?(g(B),B=-1):q=!0,te(M,H-Y))):(L.sortIndex=le,e(l,L),v||m||(v=!0,W(R))),L},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(L){var V=p;return function(){var H=p;p=V;try{return L.apply(this,arguments)}finally{p=H}}}})(Av);qv.exports=Av;var YM=qv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM=oe,sr=YM;function Te(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sv=new Set,Eh={};function ll(n,e){Lc(n,e),Lc(n+"Capture",e)}function Lc(n,e){for(Eh[n]=e,n=0;n<e.length;n++)Sv.add(e[n])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v3=Object.prototype.hasOwnProperty,QM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k8={},z8={};function ZM(n){return v3.call(z8,n)?!0:v3.call(k8,n)?!1:QM.test(n)?z8[n]=!0:(k8[n]=!0,!1)}function $M(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function eE(n,e,t,i){if(e===null||typeof e>"u"||$M(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zn[n]=new Ci(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zn[e]=new Ci(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zn[n]=new Ci(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zn[n]=new Ci(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zn[n]=new Ci(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zn[n]=new Ci(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zn[n]=new Ci(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zn[n]=new Ci(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zn[n]=new Ci(n,5,!1,n.toLowerCase(),null,!1,!1)});var m5=/[\-:]([a-z])/g;function g5(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(m5,g5);Zn[e]=new Ci(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(m5,g5);Zn[e]=new Ci(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(m5,g5);Zn[e]=new Ci(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zn[n]=new Ci(n,1,!1,n.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zn[n]=new Ci(n,1,!1,n.toLowerCase(),null,!0,!0)});function _5(n,e,t,i){var r=Zn.hasOwnProperty(e)?Zn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eE(e,t,r,i)&&(t=null),i||r===null?ZM(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var $s=KM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qf=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),v5=Symbol.for("react.strict_mode"),y3=Symbol.for("react.profiler"),Mv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),y5=Symbol.for("react.forward_ref"),x3=Symbol.for("react.suspense"),q3=Symbol.for("react.suspense_list"),x5=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),wv=Symbol.for("react.offscreen"),H8=Symbol.iterator;function bu(n){return n===null||typeof n!="object"?null:(n=H8&&n[H8]||n["@@iterator"],typeof n=="function"?n:null)}var pn=Object.assign,Fm;function rh(n){if(Fm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Fm=e&&e[1]||""}return`
`+Fm+n}var Um=!1;function Om(n,e){if(!n||Um)return"";Um=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){i=h}n.call(e.prototype)}else{try{throw Error()}catch(h){i=h}n()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Um=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?rh(n):""}function tE(n){switch(n.tag){case 5:return rh(n.type);case 16:return rh("Lazy");case 13:return rh("Suspense");case 19:return rh("SuspenseList");case 0:case 2:case 15:return n=Om(n.type,!1),n;case 11:return n=Om(n.type.render,!1),n;case 1:return n=Om(n.type,!0),n;default:return""}}function A3(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case cc:return"Fragment";case lc:return"Portal";case y3:return"Profiler";case v5:return"StrictMode";case x3:return"Suspense";case q3:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ev:return(n.displayName||"Context")+".Consumer";case Mv:return(n._context.displayName||"Context")+".Provider";case y5:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x5:return e=n.displayName||null,e!==null?e:A3(n.type)||"Memo";case Mo:e=n._payload,n=n._init;try{return A3(n(e))}catch{}}return null}function nE(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A3(e);case 8:return e===v5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cv(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iE(n){var e=Cv(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Af(n){n._valueTracker||(n._valueTracker=iE(n))}function Tv(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Cv(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function rp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function S3(n,e){var t=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function G8(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Vo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rv(n,e){e=e.checked,e!=null&&_5(n,"checked",e,!1)}function M3(n,e){Rv(n,e);var t=Vo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?E3(n,e.type,t):e.hasOwnProperty("defaultValue")&&E3(n,e.type,Vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function V8(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function E3(n,e,t){(e!=="number"||rp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var sh=Array.isArray;function Ec(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Vo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function w3(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function W8(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Te(92));if(sh(t)){if(1<t.length)throw Error(Te(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Vo(t)}}function Pv(n,e){var t=Vo(e.value),i=Vo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function X8(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function bv(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C3(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?bv(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Sf,Bv=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Sf=Sf||document.createElement("div"),Sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rE=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(n){rE.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),hh[e]=hh[n]})});function Iv(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||hh.hasOwnProperty(n)&&hh[n]?(""+e).trim():e+"px"}function Lv(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Iv(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var sE=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T3(n,e){if(e){if(sE[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function R3(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P3=null;function q5(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var b3=null,wc=null,Cc=null;function J8(n){if(n=ld(n)){if(typeof b3!="function")throw Error(Te(280));var e=n.stateNode;e&&(e=kp(e),b3(n.stateNode,n.type,e))}}function Dv(n){wc?Cc?Cc.push(n):Cc=[n]:wc=n}function Fv(){if(wc){var n=wc,e=Cc;if(Cc=wc=null,J8(n),e)for(n=0;n<e.length;n++)J8(e[n])}}function Uv(n,e){return n(e)}function Ov(){}var Nm=!1;function Nv(n,e,t){if(Nm)return n(e,t);Nm=!0;try{return Uv(n,e,t)}finally{Nm=!1,(wc!==null||Cc!==null)&&(Ov(),Fv())}}function Ch(n,e){var t=n.stateNode;if(t===null)return null;var i=kp(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Te(231,e,typeof t));return t}var B3=!1;if(Js)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){B3=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{B3=!1}function oE(n,e,t,i,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(t,h)}catch(d){this.onError(d)}}var dh=!1,sp=null,op=!1,I3=null,aE={onError:function(n){dh=!0,sp=n}};function lE(n,e,t,i,r,s,o,a,l){dh=!1,sp=null,oE.apply(aE,arguments)}function cE(n,e,t,i,r,s,o,a,l){if(lE.apply(this,arguments),dh){if(dh){var h=sp;dh=!1,sp=null}else throw Error(Te(198));op||(op=!0,I3=h)}}function cl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function kv(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function j8(n){if(cl(n)!==n)throw Error(Te(188))}function uE(n){var e=n.alternate;if(!e){if(e=cl(n),e===null)throw Error(Te(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return j8(r),n;if(s===i)return j8(r),e;s=s.sibling}throw Error(Te(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Te(189))}}if(t.alternate!==i)throw Error(Te(190))}if(t.tag!==3)throw Error(Te(188));return t.stateNode.current===t?n:e}function zv(n){return n=uE(n),n!==null?Hv(n):null}function Hv(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Hv(n);if(e!==null)return e;n=n.sibling}return null}var Gv=sr.unstable_scheduleCallback,Y8=sr.unstable_cancelCallback,hE=sr.unstable_shouldYield,dE=sr.unstable_requestPaint,Sn=sr.unstable_now,fE=sr.unstable_getCurrentPriorityLevel,A5=sr.unstable_ImmediatePriority,Vv=sr.unstable_UserBlockingPriority,ap=sr.unstable_NormalPriority,pE=sr.unstable_LowPriority,Wv=sr.unstable_IdlePriority,Fp=null,ps=null;function mE(n){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Fp,n,void 0,(n.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:vE,gE=Math.log,_E=Math.LN2;function vE(n){return n>>>=0,n===0?32:31-(gE(n)/_E|0)|0}var Mf=64,Ef=4194304;function oh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function lp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=oh(a):(s&=o,s!==0&&(i=oh(s)))}else o=t&~r,o!==0?i=oh(o):s!==0&&(i=oh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Xr(e),r=1<<t,i|=n[t],e&=~r;return i}function yE(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xE(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Xr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=yE(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function L3(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xv(){var n=Mf;return Mf<<=1,!(Mf&4194240)&&(Mf=64),n}function km(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function od(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xr(e),n[e]=t}function qE(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Xr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function S5(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Xr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Wt=0;function Jv(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var jv,M5,Yv,Kv,Qv,D3=!1,wf=[],Io=null,Lo=null,Do=null,Th=new Map,Rh=new Map,wo=[],AE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K8(n,e){switch(n){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Th.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(e.pointerId)}}function Iu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ld(e),e!==null&&M5(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function SE(n,e,t,i,r){switch(e){case"focusin":return Io=Iu(Io,n,e,t,i,r),!0;case"dragenter":return Lo=Iu(Lo,n,e,t,i,r),!0;case"mouseover":return Do=Iu(Do,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Th.set(s,Iu(Th.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Rh.set(s,Iu(Rh.get(s)||null,n,e,t,i,r)),!0}return!1}function Zv(n){var e=Ba(n.target);if(e!==null){var t=cl(e);if(t!==null){if(e=t.tag,e===13){if(e=kv(t),e!==null){n.blockedOn=e,Qv(n.priority,function(){Yv(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function k1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=F3(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);P3=i,t.target.dispatchEvent(i),P3=null}else return e=ld(t),e!==null&&M5(e),n.blockedOn=t,!1;e.shift()}return!0}function Q8(n,e,t){k1(n)&&t.delete(e)}function ME(){D3=!1,Io!==null&&k1(Io)&&(Io=null),Lo!==null&&k1(Lo)&&(Lo=null),Do!==null&&k1(Do)&&(Do=null),Th.forEach(Q8),Rh.forEach(Q8)}function Lu(n,e){n.blockedOn===e&&(n.blockedOn=null,D3||(D3=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,ME)))}function Ph(n){function e(r){return Lu(r,n)}if(0<wf.length){Lu(wf[0],n);for(var t=1;t<wf.length;t++){var i=wf[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Io!==null&&Lu(Io,n),Lo!==null&&Lu(Lo,n),Do!==null&&Lu(Do,n),Th.forEach(e),Rh.forEach(e),t=0;t<wo.length;t++)i=wo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<wo.length&&(t=wo[0],t.blockedOn===null);)Zv(t),t.blockedOn===null&&wo.shift()}var Tc=$s.ReactCurrentBatchConfig,cp=!0;function EE(n,e,t,i){var r=Wt,s=Tc.transition;Tc.transition=null;try{Wt=1,E5(n,e,t,i)}finally{Wt=r,Tc.transition=s}}function wE(n,e,t,i){var r=Wt,s=Tc.transition;Tc.transition=null;try{Wt=4,E5(n,e,t,i)}finally{Wt=r,Tc.transition=s}}function E5(n,e,t,i){if(cp){var r=F3(n,e,t,i);if(r===null)Km(n,e,i,up,t),K8(n,i);else if(SE(r,n,e,t,i))i.stopPropagation();else if(K8(n,i),e&4&&-1<AE.indexOf(n)){for(;r!==null;){var s=ld(r);if(s!==null&&jv(s),s=F3(n,e,t,i),s===null&&Km(n,e,i,up,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Km(n,e,i,null,t)}}var up=null;function F3(n,e,t,i){if(up=null,n=q5(i),n=Ba(n),n!==null)if(e=cl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=kv(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return up=n,null}function $v(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fE()){case A5:return 1;case Vv:return 4;case ap:case pE:return 16;case Wv:return 536870912;default:return 16}default:return 16}}var Ro=null,w5=null,z1=null;function ey(){if(z1)return z1;var n,e=w5,t=e.length,i,r="value"in Ro?Ro.value:Ro.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return z1=r.slice(n,1<i?1-i:void 0)}function H1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Cf(){return!0}function Z8(){return!1}function lr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cf:Z8,this.isPropagationStopped=Z8,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),e}var Kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C5=lr(Kc),ad=pn({},Kc,{view:0,detail:0}),CE=lr(ad),zm,Hm,Du,Up=pn({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T5,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Du&&(Du&&n.type==="mousemove"?(zm=n.screenX-Du.screenX,Hm=n.screenY-Du.screenY):Hm=zm=0,Du=n),zm)},movementY:function(n){return"movementY"in n?n.movementY:Hm}}),$8=lr(Up),TE=pn({},Up,{dataTransfer:0}),RE=lr(TE),PE=pn({},ad,{relatedTarget:0}),Gm=lr(PE),bE=pn({},Kc,{animationName:0,elapsedTime:0,pseudoElement:0}),BE=lr(bE),IE=pn({},Kc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LE=lr(IE),DE=pn({},Kc,{data:0}),e9=lr(DE),FE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NE(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=OE[n])?!!e[n]:!1}function T5(){return NE}var kE=pn({},ad,{key:function(n){if(n.key){var e=FE[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=H1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T5,charCode:function(n){return n.type==="keypress"?H1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?H1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),zE=lr(kE),HE=pn({},Up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t9=lr(HE),GE=pn({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T5}),VE=lr(GE),WE=pn({},Kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=lr(WE),JE=pn({},Up,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jE=lr(JE),YE=[9,13,27,32],R5=Js&&"CompositionEvent"in window,fh=null;Js&&"documentMode"in document&&(fh=document.documentMode);var KE=Js&&"TextEvent"in window&&!fh,ty=Js&&(!R5||fh&&8<fh&&11>=fh),n9=" ",i9=!1;function ny(n,e){switch(n){case"keyup":return YE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iy(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var uc=!1;function QE(n,e){switch(n){case"compositionend":return iy(e);case"keypress":return e.which!==32?null:(i9=!0,n9);case"textInput":return n=e.data,n===n9&&i9?null:n;default:return null}}function ZE(n,e){if(uc)return n==="compositionend"||!R5&&ny(n,e)?(n=ey(),z1=w5=Ro=null,uc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ty&&e.locale!=="ko"?null:e.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!$E[n.type]:e==="textarea"}function ry(n,e,t,i){Dv(i),e=hp(e,"onChange"),0<e.length&&(t=new C5("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var ph=null,bh=null;function ew(n){my(n,0)}function Op(n){var e=fc(n);if(Tv(e))return n}function tw(n,e){if(n==="change")return e}var sy=!1;if(Js){var Vm;if(Js){var Wm="oninput"in document;if(!Wm){var s9=document.createElement("div");s9.setAttribute("oninput","return;"),Wm=typeof s9.oninput=="function"}Vm=Wm}else Vm=!1;sy=Vm&&(!document.documentMode||9<document.documentMode)}function o9(){ph&&(ph.detachEvent("onpropertychange",oy),bh=ph=null)}function oy(n){if(n.propertyName==="value"&&Op(bh)){var e=[];ry(e,bh,n,q5(n)),Nv(ew,e)}}function nw(n,e,t){n==="focusin"?(o9(),ph=e,bh=t,ph.attachEvent("onpropertychange",oy)):n==="focusout"&&o9()}function iw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Op(bh)}function rw(n,e){if(n==="click")return Op(e)}function sw(n,e){if(n==="input"||n==="change")return Op(e)}function ow(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jr=typeof Object.is=="function"?Object.is:ow;function Bh(n,e){if(jr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!v3.call(e,r)||!jr(n[r],e[r]))return!1}return!0}function a9(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function l9(n,e){var t=a9(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=a9(t)}}function ay(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ay(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ly(){for(var n=window,e=rp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=rp(n.document)}return e}function P5(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function aw(n){var e=ly(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ay(t.ownerDocument.documentElement,t)){if(i!==null&&P5(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=l9(t,s);var o=l9(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lw=Js&&"documentMode"in document&&11>=document.documentMode,hc=null,U3=null,mh=null,O3=!1;function c9(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;O3||hc==null||hc!==rp(i)||(i=hc,"selectionStart"in i&&P5(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),mh&&Bh(mh,i)||(mh=i,i=hp(U3,"onSelect"),0<i.length&&(e=new C5("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=hc)))}function Tf(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var dc={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},Xm={},cy={};Js&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function Np(n){if(Xm[n])return Xm[n];if(!dc[n])return n;var e=dc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in cy)return Xm[n]=e[t];return n}var uy=Np("animationend"),hy=Np("animationiteration"),dy=Np("animationstart"),fy=Np("transitionend"),py=new Map,u9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yo(n,e){py.set(n,e),ll(e,[n])}for(var Jm=0;Jm<u9.length;Jm++){var jm=u9[Jm],cw=jm.toLowerCase(),uw=jm[0].toUpperCase()+jm.slice(1);Yo(cw,"on"+uw)}Yo(uy,"onAnimationEnd");Yo(hy,"onAnimationIteration");Yo(dy,"onAnimationStart");Yo("dblclick","onDoubleClick");Yo("focusin","onFocus");Yo("focusout","onBlur");Yo(fy,"onTransitionEnd");Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ah));function h9(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,cE(i,e,void 0,n),n.currentTarget=null}function my(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;h9(r,a,h),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;h9(r,a,h),s=l}}}if(op)throw n=I3,op=!1,I3=null,n}function en(n,e){var t=e[G3];t===void 0&&(t=e[G3]=new Set);var i=n+"__bubble";t.has(i)||(gy(e,n,2,!1),t.add(i))}function Ym(n,e,t){var i=0;e&&(i|=4),gy(t,n,i,e)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function Ih(n){if(!n[Rf]){n[Rf]=!0,Sv.forEach(function(t){t!=="selectionchange"&&(hw.has(t)||Ym(t,!1,n),Ym(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Rf]||(e[Rf]=!0,Ym("selectionchange",!1,e))}}function gy(n,e,t,i){switch($v(e)){case 1:var r=EE;break;case 4:r=wE;break;default:r=E5}t=r.bind(null,e,t,n),r=void 0,!B3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Km(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ba(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Nv(function(){var h=s,d=q5(t),f=[];e:{var p=py.get(n);if(p!==void 0){var m=C5,v=n;switch(n){case"keypress":if(H1(t)===0)break e;case"keydown":case"keyup":m=zE;break;case"focusin":v="focus",m=Gm;break;case"focusout":v="blur",m=Gm;break;case"beforeblur":case"afterblur":m=Gm;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VE;break;case uy:case hy:case dy:m=BE;break;case fy:m=XE;break;case"scroll":m=CE;break;case"wheel":m=jE;break;case"copy":case"cut":case"paste":m=LE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=t9}var q=(e&4)!==0,y=!q&&n==="scroll",g=q?p!==null?p+"Capture":null:p;q=[];for(var x=h,S;x!==null;){S=x;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Ch(x,g),M!=null&&q.push(Lh(x,M,S)))),y)break;x=x.return}0<q.length&&(p=new m(p,v,null,t,d),f.push({event:p,listeners:q}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==P3&&(v=t.relatedTarget||t.fromElement)&&(Ba(v)||v[js]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=h,v=v?Ba(v):null,v!==null&&(y=cl(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=h),m!==v)){if(q=$8,M="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(q=t9,M="onPointerLeave",g="onPointerEnter",x="pointer"),y=m==null?p:fc(m),S=v==null?p:fc(v),p=new q(M,x+"leave",m,t,d),p.target=y,p.relatedTarget=S,M=null,Ba(d)===h&&(q=new q(g,x+"enter",v,t,d),q.target=S,q.relatedTarget=y,M=q),y=M,m&&v)t:{for(q=m,g=v,x=0,S=q;S;S=Rl(S))x++;for(S=0,M=g;M;M=Rl(M))S++;for(;0<x-S;)q=Rl(q),x--;for(;0<S-x;)g=Rl(g),S--;for(;x--;){if(q===g||g!==null&&q===g.alternate)break t;q=Rl(q),g=Rl(g)}q=null}else q=null;m!==null&&d9(f,p,m,q,!1),v!==null&&y!==null&&d9(f,y,v,q,!0)}}e:{if(p=h?fc(h):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=tw;else if(r9(p))if(sy)R=sw;else{R=iw;var C=nw}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=rw);if(R&&(R=R(n,h))){ry(f,R,t,d);break e}C&&C(n,p,h),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&E3(p,"number",p.value)}switch(C=h?fc(h):window,n){case"focusin":(r9(C)||C.contentEditable==="true")&&(hc=C,U3=h,mh=null);break;case"focusout":mh=U3=hc=null;break;case"mousedown":O3=!0;break;case"contextmenu":case"mouseup":case"dragend":O3=!1,c9(f,t,d);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":c9(f,t,d)}var P;if(R5)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else uc?ny(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(ty&&t.locale!=="ko"&&(uc||B!=="onCompositionStart"?B==="onCompositionEnd"&&uc&&(P=ey()):(Ro=d,w5="value"in Ro?Ro.value:Ro.textContent,uc=!0)),C=hp(h,B),0<C.length&&(B=new e9(B,n,null,t,d),f.push({event:B,listeners:C}),P?B.data=P:(P=iy(t),P!==null&&(B.data=P)))),(P=KE?QE(n,t):ZE(n,t))&&(h=hp(h,"onBeforeInput"),0<h.length&&(d=new e9("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:h}),d.data=P))}my(f,e)})}function Lh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function hp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ch(n,t),s!=null&&i.unshift(Lh(n,s,r)),s=Ch(n,e),s!=null&&i.push(Lh(n,s,r))),n=n.return}return i}function Rl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function d9(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,h=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&h!==null&&(a=h,r?(l=Ch(t,s),l!=null&&o.unshift(Lh(t,l,a))):r||(l=Ch(t,s),l!=null&&o.push(Lh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var dw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function f9(n){return(typeof n=="string"?n:""+n).replace(dw,`
`).replace(fw,"")}function Pf(n,e,t){if(e=f9(e),f9(n)!==e&&t)throw Error(Te(425))}function dp(){}var N3=null,k3=null;function z3(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var H3=typeof setTimeout=="function"?setTimeout:void 0,pw=typeof clearTimeout=="function"?clearTimeout:void 0,p9=typeof Promise=="function"?Promise:void 0,mw=typeof queueMicrotask=="function"?queueMicrotask:typeof p9<"u"?function(n){return p9.resolve(null).then(n).catch(gw)}:H3;function gw(n){setTimeout(function(){throw n})}function Qm(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Ph(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Ph(e)}function Fo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function m9(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Qc=Math.random().toString(36).slice(2),ds="__reactFiber$"+Qc,Dh="__reactProps$"+Qc,js="__reactContainer$"+Qc,G3="__reactEvents$"+Qc,_w="__reactListeners$"+Qc,vw="__reactHandles$"+Qc;function Ba(n){var e=n[ds];if(e)return e;for(var t=n.parentNode;t;){if(e=t[js]||t[ds]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=m9(n);n!==null;){if(t=n[ds])return t;n=m9(n)}return e}n=t,t=n.parentNode}return null}function ld(n){return n=n[ds]||n[js],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Te(33))}function kp(n){return n[Dh]||null}var V3=[],pc=-1;function Ko(n){return{current:n}}function tn(n){0>pc||(n.current=V3[pc],V3[pc]=null,pc--)}function $t(n,e){pc++,V3[pc]=n.current,n.current=e}var Wo={},fi=Ko(Wo),Fi=Ko(!1),ja=Wo;function Dc(n,e){var t=n.type.contextTypes;if(!t)return Wo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ui(n){return n=n.childContextTypes,n!=null}function fp(){tn(Fi),tn(fi)}function g9(n,e,t){if(fi.current!==Wo)throw Error(Te(168));$t(fi,e),$t(Fi,t)}function _y(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Te(108,nE(n)||"Unknown",r));return pn({},t,i)}function pp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wo,ja=fi.current,$t(fi,n),$t(Fi,Fi.current),!0}function _9(n,e,t){var i=n.stateNode;if(!i)throw Error(Te(169));t?(n=_y(n,e,ja),i.__reactInternalMemoizedMergedChildContext=n,tn(Fi),tn(fi),$t(fi,n)):tn(Fi),$t(Fi,t)}var Fs=null,zp=!1,Zm=!1;function vy(n){Fs===null?Fs=[n]:Fs.push(n)}function yw(n){zp=!0,vy(n)}function Qo(){if(!Zm&&Fs!==null){Zm=!0;var n=0,e=Wt;try{var t=Fs;for(Wt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Fs=null,zp=!1}catch(r){throw Fs!==null&&(Fs=Fs.slice(n+1)),Gv(A5,Qo),r}finally{Wt=e,Zm=!1}}return null}var mc=[],gc=0,mp=null,gp=0,Sr=[],Mr=0,Ya=null,ks=1,zs="";function wa(n,e){mc[gc++]=gp,mc[gc++]=mp,mp=n,gp=e}function yy(n,e,t){Sr[Mr++]=ks,Sr[Mr++]=zs,Sr[Mr++]=Ya,Ya=n;var i=ks;n=zs;var r=32-Xr(i)-1;i&=~(1<<r),t+=1;var s=32-Xr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ks=1<<32-Xr(e)+r|t<<r|i,zs=s+n}else ks=1<<s|t<<r|i,zs=n}function b5(n){n.return!==null&&(wa(n,1),yy(n,1,0))}function B5(n){for(;n===mp;)mp=mc[--gc],mc[gc]=null,gp=mc[--gc],mc[gc]=null;for(;n===Ya;)Ya=Sr[--Mr],Sr[Mr]=null,zs=Sr[--Mr],Sr[Mr]=null,ks=Sr[--Mr],Sr[Mr]=null}var ir=null,$i=null,ln=!1,Vr=null;function xy(n,e){var t=wr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function v9(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ir=n,$i=Fo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ir=n,$i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ya!==null?{id:ks,overflow:zs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=wr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ir=n,$i=null,!0):!1;default:return!1}}function W3(n){return(n.mode&1)!==0&&(n.flags&128)===0}function X3(n){if(ln){var e=$i;if(e){var t=e;if(!v9(n,e)){if(W3(n))throw Error(Te(418));e=Fo(t.nextSibling);var i=ir;e&&v9(n,e)?xy(i,t):(n.flags=n.flags&-4097|2,ln=!1,ir=n)}}else{if(W3(n))throw Error(Te(418));n.flags=n.flags&-4097|2,ln=!1,ir=n}}}function y9(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ir=n}function bf(n){if(n!==ir)return!1;if(!ln)return y9(n),ln=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!z3(n.type,n.memoizedProps)),e&&(e=$i)){if(W3(n))throw qy(),Error(Te(418));for(;e;)xy(n,e),e=Fo(e.nextSibling)}if(y9(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Te(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){$i=Fo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}$i=null}}else $i=ir?Fo(n.stateNode.nextSibling):null;return!0}function qy(){for(var n=$i;n;)n=Fo(n.nextSibling)}function Fc(){$i=ir=null,ln=!1}function I5(n){Vr===null?Vr=[n]:Vr.push(n)}var xw=$s.ReactCurrentBatchConfig;function Fu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Te(309));var i=t.stateNode}if(!i)throw Error(Te(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Te(284));if(!t._owner)throw Error(Te(290,n))}return n}function Bf(n,e){throw n=Object.prototype.toString.call(e),Error(Te(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function x9(n){var e=n._init;return e(n._payload)}function Ay(n){function e(g,x){if(n){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=ko(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,S,M){return x===null||x.tag!==6?(x=s2(S,g.mode,M),x.return=g,x):(x=r(x,S),x.return=g,x)}function l(g,x,S,M){var R=S.type;return R===cc?d(g,x,S.props.children,M,S.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Mo&&x9(R)===x.type)?(M=r(x,S.props),M.ref=Fu(g,x,S),M.return=g,M):(M=Y1(S.type,S.key,S.props,null,g.mode,M),M.ref=Fu(g,x,S),M.return=g,M)}function h(g,x,S,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=o2(S,g.mode,M),x.return=g,x):(x=r(x,S.children||[]),x.return=g,x)}function d(g,x,S,M,R){return x===null||x.tag!==7?(x=Ga(S,g.mode,M,R),x.return=g,x):(x=r(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=s2(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qf:return S=Y1(x.type,x.key,x.props,null,g.mode,S),S.ref=Fu(g,null,x),S.return=g,S;case lc:return x=o2(x,g.mode,S),x.return=g,x;case Mo:var M=x._init;return f(g,M(x._payload),S)}if(sh(x)||bu(x))return x=Ga(x,g.mode,S,null),x.return=g,x;Bf(g,x)}return null}function p(g,x,S,M){var R=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:a(g,x,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qf:return S.key===R?l(g,x,S,M):null;case lc:return S.key===R?h(g,x,S,M):null;case Mo:return R=S._init,p(g,x,R(S._payload),M)}if(sh(S)||bu(S))return R!==null?null:d(g,x,S,M,null);Bf(g,S)}return null}function m(g,x,S,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(x,g,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case qf:return g=g.get(M.key===null?S:M.key)||null,l(x,g,M,R);case lc:return g=g.get(M.key===null?S:M.key)||null,h(x,g,M,R);case Mo:var C=M._init;return m(g,x,S,C(M._payload),R)}if(sh(M)||bu(M))return g=g.get(S)||null,d(x,g,M,R,null);Bf(x,M)}return null}function v(g,x,S,M){for(var R=null,C=null,P=x,B=x=0,b=null;P!==null&&B<S.length;B++){P.index>B?(b=P,P=null):b=P.sibling;var T=p(g,P,S[B],M);if(T===null){P===null&&(P=b);break}n&&P&&T.alternate===null&&e(g,P),x=s(T,x,B),C===null?R=T:C.sibling=T,C=T,P=b}if(B===S.length)return t(g,P),ln&&wa(g,B),R;if(P===null){for(;B<S.length;B++)P=f(g,S[B],M),P!==null&&(x=s(P,x,B),C===null?R=P:C.sibling=P,C=P);return ln&&wa(g,B),R}for(P=i(g,P);B<S.length;B++)b=m(P,g,B,S[B],M),b!==null&&(n&&b.alternate!==null&&P.delete(b.key===null?B:b.key),x=s(b,x,B),C===null?R=b:C.sibling=b,C=b);return n&&P.forEach(function(D){return e(g,D)}),ln&&wa(g,B),R}function q(g,x,S,M){var R=bu(S);if(typeof R!="function")throw Error(Te(150));if(S=R.call(S),S==null)throw Error(Te(151));for(var C=R=null,P=x,B=x=0,b=null,T=S.next();P!==null&&!T.done;B++,T=S.next()){P.index>B?(b=P,P=null):b=P.sibling;var D=p(g,P,T.value,M);if(D===null){P===null&&(P=b);break}n&&P&&D.alternate===null&&e(g,P),x=s(D,x,B),C===null?R=D:C.sibling=D,C=D,P=b}if(T.done)return t(g,P),ln&&wa(g,B),R;if(P===null){for(;!T.done;B++,T=S.next())T=f(g,T.value,M),T!==null&&(x=s(T,x,B),C===null?R=T:C.sibling=T,C=T);return ln&&wa(g,B),R}for(P=i(g,P);!T.done;B++,T=S.next())T=m(P,g,B,T.value,M),T!==null&&(n&&T.alternate!==null&&P.delete(T.key===null?B:T.key),x=s(T,x,B),C===null?R=T:C.sibling=T,C=T);return n&&P.forEach(function(N){return e(g,N)}),ln&&wa(g,B),R}function y(g,x,S,M){if(typeof S=="object"&&S!==null&&S.type===cc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case qf:e:{for(var R=S.key,C=x;C!==null;){if(C.key===R){if(R=S.type,R===cc){if(C.tag===7){t(g,C.sibling),x=r(C,S.props.children),x.return=g,g=x;break e}}else if(C.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Mo&&x9(R)===C.type){t(g,C.sibling),x=r(C,S.props),x.ref=Fu(g,C,S),x.return=g,g=x;break e}t(g,C);break}else e(g,C);C=C.sibling}S.type===cc?(x=Ga(S.props.children,g.mode,M,S.key),x.return=g,g=x):(M=Y1(S.type,S.key,S.props,null,g.mode,M),M.ref=Fu(g,x,S),M.return=g,g=M)}return o(g);case lc:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){t(g,x.sibling),x=r(x,S.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=o2(S,g.mode,M),x.return=g,g=x}return o(g);case Mo:return C=S._init,y(g,x,C(S._payload),M)}if(sh(S))return v(g,x,S,M);if(bu(S))return q(g,x,S,M);Bf(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(t(g,x.sibling),x=r(x,S),x.return=g,g=x):(t(g,x),x=s2(S,g.mode,M),x.return=g,g=x),o(g)):t(g,x)}return y}var Uc=Ay(!0),Sy=Ay(!1),_p=Ko(null),vp=null,_c=null,L5=null;function D5(){L5=_c=vp=null}function F5(n){var e=_p.current;tn(_p),n._currentValue=e}function J3(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Rc(n,e){vp=n,L5=_c=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Di=!0),n.firstContext=null)}function Rr(n){var e=n._currentValue;if(L5!==n)if(n={context:n,memoizedValue:e,next:null},_c===null){if(vp===null)throw Error(Te(308));_c=n,vp.dependencies={lanes:0,firstContext:n}}else _c=_c.next=n;return e}var Ia=null;function U5(n){Ia===null?Ia=[n]:Ia.push(n)}function My(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,U5(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ys(n,i)}function Ys(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Eo=!1;function O5(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ey(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ft&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ys(n,t)}return r=i.interleaved,r===null?(e.next=e,U5(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ys(n,t)}function G1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,S5(n,t)}}function q9(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function yp(n,e,t,i){var r=n.updateQueue;Eo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=h=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,q=a;switch(p=e,m=t,q.tag){case 1:if(v=q.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=q.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=pn({},f,p);break e;case 2:Eo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Qa|=o,n.lanes=o,n.memoizedState=f}}function A9(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Te(191,r));r.call(i)}}}var cd={},ms=Ko(cd),Fh=Ko(cd),Uh=Ko(cd);function La(n){if(n===cd)throw Error(Te(174));return n}function N5(n,e){switch($t(Uh,e),$t(Fh,n),$t(ms,cd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:C3(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=C3(e,n)}tn(ms),$t(ms,e)}function Oc(){tn(ms),tn(Fh),tn(Uh)}function wy(n){La(Uh.current);var e=La(ms.current),t=C3(e,n.type);e!==t&&($t(Fh,n),$t(ms,t))}function k5(n){Fh.current===n&&(tn(ms),tn(Fh))}var hn=Ko(0);function xp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function z5(){for(var n=0;n<$m.length;n++)$m[n]._workInProgressVersionPrimary=null;$m.length=0}var V1=$s.ReactCurrentDispatcher,e2=$s.ReactCurrentBatchConfig,Ka=0,fn=null,Ln=null,Hn=null,qp=!1,gh=!1,Oh=0,qw=0;function si(){throw Error(Te(321))}function H5(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!jr(n[t],e[t]))return!1;return!0}function G5(n,e,t,i,r,s){if(Ka=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,V1.current=n===null||n.memoizedState===null?Ew:ww,n=t(i,r),gh){s=0;do{if(gh=!1,Oh=0,25<=s)throw Error(Te(301));s+=1,Hn=Ln=null,e.updateQueue=null,V1.current=Cw,n=t(i,r)}while(gh)}if(V1.current=Ap,e=Ln!==null&&Ln.next!==null,Ka=0,Hn=Ln=fn=null,qp=!1,e)throw Error(Te(300));return n}function V5(){var n=Oh!==0;return Oh=0,n}function hs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?fn.memoizedState=Hn=n:Hn=Hn.next=n,Hn}function Pr(){if(Ln===null){var n=fn.alternate;n=n!==null?n.memoizedState:null}else n=Ln.next;var e=Hn===null?fn.memoizedState:Hn.next;if(e!==null)Hn=e,Ln=n;else{if(n===null)throw Error(Te(310));Ln=n,n={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Hn===null?fn.memoizedState=Hn=n:Hn=Hn.next=n}return Hn}function Nh(n,e){return typeof e=="function"?e(n):e}function t2(n){var e=Pr(),t=e.queue;if(t===null)throw Error(Te(311));t.lastRenderedReducer=n;var i=Ln,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,h=s;do{var d=h.lane;if((Ka&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:n(i,h.action);else{var f={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,fn.lanes|=d,Qa|=d}h=h.next}while(h!==null&&h!==s);l===null?o=i:l.next=a,jr(i,e.memoizedState)||(Di=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,fn.lanes|=s,Qa|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function n2(n){var e=Pr(),t=e.queue;if(t===null)throw Error(Te(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);jr(s,e.memoizedState)||(Di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Cy(){}function Ty(n,e){var t=fn,i=Pr(),r=e(),s=!jr(i.memoizedState,r);if(s&&(i.memoizedState=r,Di=!0),i=i.queue,W5(by.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(t.flags|=2048,kh(9,Py.bind(null,t,i,r,e),void 0,null),Gn===null)throw Error(Te(349));Ka&30||Ry(t,e,r)}return r}function Ry(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Py(n,e,t,i){e.value=t,e.getSnapshot=i,By(e)&&Iy(n)}function by(n,e,t){return t(function(){By(e)&&Iy(n)})}function By(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!jr(n,t)}catch{return!0}}function Iy(n){var e=Ys(n,1);e!==null&&Jr(e,n,1,-1)}function S9(n){var e=hs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:n},e.queue=n,n=n.dispatch=Mw.bind(null,fn,n),[e.memoizedState,n]}function kh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Ly(){return Pr().memoizedState}function W1(n,e,t,i){var r=hs();fn.flags|=n,r.memoizedState=kh(1|e,t,void 0,i===void 0?null:i)}function Hp(n,e,t,i){var r=Pr();i=i===void 0?null:i;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,i!==null&&H5(i,o.deps)){r.memoizedState=kh(e,t,s,i);return}}fn.flags|=n,r.memoizedState=kh(1|e,t,s,i)}function M9(n,e){return W1(8390656,8,n,e)}function W5(n,e){return Hp(2048,8,n,e)}function Dy(n,e){return Hp(4,2,n,e)}function Fy(n,e){return Hp(4,4,n,e)}function Uy(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Oy(n,e,t){return t=t!=null?t.concat([n]):null,Hp(4,4,Uy.bind(null,e,n),t)}function X5(){}function Ny(n,e){var t=Pr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&H5(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function ky(n,e){var t=Pr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&H5(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function zy(n,e,t){return Ka&21?(jr(t,e)||(t=Xv(),fn.lanes|=t,Qa|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Di=!0),n.memoizedState=t)}function Aw(n,e){var t=Wt;Wt=t!==0&&4>t?t:4,n(!0);var i=e2.transition;e2.transition={};try{n(!1),e()}finally{Wt=t,e2.transition=i}}function Hy(){return Pr().memoizedState}function Sw(n,e,t){var i=No(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Gy(n))Vy(e,t);else if(t=My(n,e,t,i),t!==null){var r=Mi();Jr(t,n,i,r),Wy(t,e,i)}}function Mw(n,e,t){var i=No(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Gy(n))Vy(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,jr(a,o)){var l=e.interleaved;l===null?(r.next=r,U5(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=My(n,e,r,i),t!==null&&(r=Mi(),Jr(t,n,i,r),Wy(t,e,i))}}function Gy(n){var e=n.alternate;return n===fn||e!==null&&e===fn}function Vy(n,e){gh=qp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Wy(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,S5(n,t)}}var Ap={readContext:Rr,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},Ew={readContext:Rr,useCallback:function(n,e){return hs().memoizedState=[n,e===void 0?null:e],n},useContext:Rr,useEffect:M9,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,W1(4194308,4,Uy.bind(null,e,n),t)},useLayoutEffect:function(n,e){return W1(4194308,4,n,e)},useInsertionEffect:function(n,e){return W1(4,2,n,e)},useMemo:function(n,e){var t=hs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=hs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Sw.bind(null,fn,n),[i.memoizedState,n]},useRef:function(n){var e=hs();return n={current:n},e.memoizedState=n},useState:S9,useDebugValue:X5,useDeferredValue:function(n){return hs().memoizedState=n},useTransition:function(){var n=S9(!1),e=n[0];return n=Aw.bind(null,n[1]),hs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=fn,r=hs();if(ln){if(t===void 0)throw Error(Te(407));t=t()}else{if(t=e(),Gn===null)throw Error(Te(349));Ka&30||Ry(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,M9(by.bind(null,i,s,n),[n]),i.flags|=2048,kh(9,Py.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=hs(),e=Gn.identifierPrefix;if(ln){var t=zs,i=ks;t=(i&~(1<<32-Xr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Oh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=qw++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ww={readContext:Rr,useCallback:Ny,useContext:Rr,useEffect:W5,useImperativeHandle:Oy,useInsertionEffect:Dy,useLayoutEffect:Fy,useMemo:ky,useReducer:t2,useRef:Ly,useState:function(){return t2(Nh)},useDebugValue:X5,useDeferredValue:function(n){var e=Pr();return zy(e,Ln.memoizedState,n)},useTransition:function(){var n=t2(Nh)[0],e=Pr().memoizedState;return[n,e]},useMutableSource:Cy,useSyncExternalStore:Ty,useId:Hy,unstable_isNewReconciler:!1},Cw={readContext:Rr,useCallback:Ny,useContext:Rr,useEffect:W5,useImperativeHandle:Oy,useInsertionEffect:Dy,useLayoutEffect:Fy,useMemo:ky,useReducer:n2,useRef:Ly,useState:function(){return n2(Nh)},useDebugValue:X5,useDeferredValue:function(n){var e=Pr();return Ln===null?e.memoizedState=n:zy(e,Ln.memoizedState,n)},useTransition:function(){var n=n2(Nh)[0],e=Pr().memoizedState;return[n,e]},useMutableSource:Cy,useSyncExternalStore:Ty,useId:Hy,unstable_isNewReconciler:!1};function kr(n,e){if(n&&n.defaultProps){e=pn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function j3(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:pn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Gp={isMounted:function(n){return(n=n._reactInternals)?cl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Mi(),r=No(n),s=Vs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Uo(n,s,r),e!==null&&(Jr(e,n,r,i),G1(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Mi(),r=No(n),s=Vs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Uo(n,s,r),e!==null&&(Jr(e,n,r,i),G1(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mi(),i=No(n),r=Vs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Uo(n,r,i),e!==null&&(Jr(e,n,i,t),G1(e,n,i))}};function E9(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bh(t,i)||!Bh(r,s):!0}function Xy(n,e,t){var i=!1,r=Wo,s=e.contextType;return typeof s=="object"&&s!==null?s=Rr(s):(r=Ui(e)?ja:fi.current,i=e.contextTypes,s=(i=i!=null)?Dc(n,r):Wo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function w9(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Gp.enqueueReplaceState(e,e.state,null)}function Y3(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},O5(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Rr(s):(s=Ui(e)?ja:fi.current,r.context=Dc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(j3(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Gp.enqueueReplaceState(r,r.state,null),yp(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Nc(n,e){try{var t="",i=e;do t+=tE(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function i2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function K3(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Tw=typeof WeakMap=="function"?WeakMap:Map;function Jy(n,e,t){t=Vs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Mp||(Mp=!0,o4=i),K3(n,e)},t}function jy(n,e,t){t=Vs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){K3(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){K3(n,e),typeof i!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function C9(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Tw;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Hw.bind(null,n,e,t),e.then(n,n))}function T9(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function R9(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Vs(-1,1),e.tag=2,Uo(t,e,1))),t.lanes|=1),n)}var Rw=$s.ReactCurrentOwner,Di=!1;function qi(n,e,t,i){e.child=n===null?Sy(e,null,t,i):Uc(e,n.child,t,i)}function P9(n,e,t,i,r){t=t.render;var s=e.ref;return Rc(e,r),i=G5(n,e,t,i,s,r),t=V5(),n!==null&&!Di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ks(n,e,r)):(ln&&t&&b5(e),e.flags|=1,qi(n,e,i,r),e.child)}function b9(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!e6(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Yy(n,e,s,i,r)):(n=Y1(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Bh,t(o,i)&&n.ref===e.ref)return Ks(n,e,r)}return e.flags|=1,n=ko(s,i),n.ref=e.ref,n.return=e,e.child=n}function Yy(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Bh(s,i)&&n.ref===e.ref)if(Di=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Di=!0);else return e.lanes=n.lanes,Ks(n,e,r)}return Q3(n,e,t,i,r)}function Ky(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(yc,Ki),Ki|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,$t(yc,Ki),Ki|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,$t(yc,Ki),Ki|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,$t(yc,Ki),Ki|=i;return qi(n,e,r,t),e.child}function Qy(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Q3(n,e,t,i,r){var s=Ui(t)?ja:fi.current;return s=Dc(e,s),Rc(e,r),t=G5(n,e,t,i,s,r),i=V5(),n!==null&&!Di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ks(n,e,r)):(ln&&i&&b5(e),e.flags|=1,qi(n,e,t,r),e.child)}function B9(n,e,t,i,r){if(Ui(t)){var s=!0;pp(e)}else s=!1;if(Rc(e,r),e.stateNode===null)X1(n,e),Xy(e,t,i),Y3(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=t.contextType;typeof h=="object"&&h!==null?h=Rr(h):(h=Ui(t)?ja:fi.current,h=Dc(e,h));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==h)&&w9(e,o,i,h),Eo=!1;var p=e.memoizedState;o.state=p,yp(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Fi.current||Eo?(typeof d=="function"&&(j3(e,t,d,i),l=e.memoizedState),(a=Eo||E9(e,t,a,i,p,l,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=h,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ey(n,e),a=e.memoizedProps,h=e.type===e.elementType?a:kr(e.type,a),o.props=h,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Rr(l):(l=Ui(t)?ja:fi.current,l=Dc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&w9(e,o,i,l),Eo=!1,p=e.memoizedState,o.state=p,yp(e,i,o,r);var v=e.memoizedState;a!==f||p!==v||Fi.current||Eo?(typeof m=="function"&&(j3(e,t,m,i),v=e.memoizedState),(h=Eo||E9(e,t,h,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=h):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Z3(n,e,t,i,s,r)}function Z3(n,e,t,i,r,s){Qy(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&_9(e,t,!1),Ks(n,e,s);i=e.stateNode,Rw.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Uc(e,n.child,null,s),e.child=Uc(e,null,a,s)):qi(n,e,a,s),e.memoizedState=i.state,r&&_9(e,t,!0),e.child}function Zy(n){var e=n.stateNode;e.pendingContext?g9(n,e.pendingContext,e.pendingContext!==e.context):e.context&&g9(n,e.context,!1),N5(n,e.containerInfo)}function I9(n,e,t,i,r){return Fc(),I5(r),e.flags|=256,qi(n,e,t,i),e.child}var $3={dehydrated:null,treeContext:null,retryLane:0};function e4(n){return{baseLanes:n,cachePool:null,transitions:null}}function $y(n,e,t){var i=e.pendingProps,r=hn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),$t(hn,r&1),n===null)return X3(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xp(o,i,0,null),n=Ga(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=e4(t),e.memoizedState=$3,n):J5(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Pw(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ko(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ko(a,s):(s=Ga(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?e4(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=$3,i}return s=n.child,n=s.sibling,i=ko(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function J5(n,e){return e=Xp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function If(n,e,t,i){return i!==null&&I5(i),Uc(e,n.child,null,t),n=J5(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Pw(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=i2(Error(Te(422))),If(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Xp({mode:"visible",children:i.children},r,0,null),s=Ga(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Uc(e,n.child,null,o),e.child.memoizedState=e4(o),e.memoizedState=$3,s);if(!(e.mode&1))return If(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Te(419)),i=i2(s,i,void 0),If(n,e,o,i)}if(a=(o&n.childLanes)!==0,Di||a){if(i=Gn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ys(n,r),Jr(i,n,r,-1))}return $5(),i=i2(Error(Te(421))),If(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Gw.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,$i=Fo(r.nextSibling),ir=e,ln=!0,Vr=null,n!==null&&(Sr[Mr++]=ks,Sr[Mr++]=zs,Sr[Mr++]=Ya,ks=n.id,zs=n.overflow,Ya=e),e=J5(e,i.children),e.flags|=4096,e)}function L9(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),J3(n.return,e,t)}function r2(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function ex(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(qi(n,e,i.children,t),i=hn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&L9(n,t,e);else if(n.tag===19)L9(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if($t(hn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&xp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),r2(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&xp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}r2(e,!0,t,null,s);break;case"together":r2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function X1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ks(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Qa|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Te(153));if(e.child!==null){for(n=e.child,t=ko(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ko(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function bw(n,e,t){switch(e.tag){case 3:Zy(e),Fc();break;case 5:wy(e);break;case 1:Ui(e.type)&&pp(e);break;case 4:N5(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;$t(_p,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?($t(hn,hn.current&1),e.flags|=128,null):t&e.child.childLanes?$y(n,e,t):($t(hn,hn.current&1),n=Ks(n,e,t),n!==null?n.sibling:null);$t(hn,hn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return ex(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$t(hn,hn.current),i)break;return null;case 22:case 23:return e.lanes=0,Ky(n,e,t)}return Ks(n,e,t)}var tx,t4,nx,ix;tx=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};t4=function(){};nx=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,La(ms.current);var s=null;switch(t){case"input":r=S3(n,r),i=S3(n,i),s=[];break;case"select":r=pn({},r,{value:void 0}),i=pn({},i,{value:void 0}),s=[];break;case"textarea":r=w3(n,r),i=w3(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=dp)}T3(t,i);var o;t=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var a=r[h];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Eh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var l=i[h];if(a=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(h,t)),t=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&en("scroll",n),s||a===l||(s=[])):(s=s||[]).push(h,l))}t&&(s=s||[]).push("style",t);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};ix=function(n,e,t,i){t!==i&&(e.flags|=4)};function Uu(n,e){if(!ln)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function oi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Bw(n,e,t){var i=e.pendingProps;switch(B5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(e),null;case 1:return Ui(e.type)&&fp(),oi(e),null;case 3:return i=e.stateNode,Oc(),tn(Fi),tn(fi),z5(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(bf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vr!==null&&(c4(Vr),Vr=null))),t4(n,e),oi(e),null;case 5:k5(e);var r=La(Uh.current);if(t=e.type,n!==null&&e.stateNode!=null)nx(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Te(166));return oi(e),null}if(n=La(ms.current),bf(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ds]=e,i[Dh]=s,n=(e.mode&1)!==0,t){case"dialog":en("cancel",i),en("close",i);break;case"iframe":case"object":case"embed":en("load",i);break;case"video":case"audio":for(r=0;r<ah.length;r++)en(ah[r],i);break;case"source":en("error",i);break;case"img":case"image":case"link":en("error",i),en("load",i);break;case"details":en("toggle",i);break;case"input":G8(i,s),en("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},en("invalid",i);break;case"textarea":W8(i,s),en("invalid",i)}T3(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pf(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pf(i.textContent,a,n),r=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",i)}switch(t){case"input":Af(i),V8(i,s,!0);break;case"textarea":Af(i),X8(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=dp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=bv(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ds]=e,n[Dh]=i,tx(n,e,!1,!1),e.stateNode=n;e:{switch(o=R3(t,i),t){case"dialog":en("cancel",n),en("close",n),r=i;break;case"iframe":case"object":case"embed":en("load",n),r=i;break;case"video":case"audio":for(r=0;r<ah.length;r++)en(ah[r],n);r=i;break;case"source":en("error",n),r=i;break;case"img":case"image":case"link":en("error",n),en("load",n),r=i;break;case"details":en("toggle",n),r=i;break;case"input":G8(n,i),r=S3(n,i),en("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=pn({},i,{value:void 0}),en("invalid",n);break;case"textarea":W8(n,i),r=w3(n,i),en("invalid",n);break;default:r=i}T3(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lv(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bv(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wh(n,l):typeof l=="number"&&wh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",n):l!=null&&_5(n,s,l,o))}switch(t){case"input":Af(n),V8(n,i,!1);break;case"textarea":Af(n),X8(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Vo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Ec(n,!!i.multiple,s,!1):i.defaultValue!=null&&Ec(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=dp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return oi(e),null;case 6:if(n&&e.stateNode!=null)ix(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Te(166));if(t=La(Uh.current),La(ms.current),bf(e)){if(i=e.stateNode,t=e.memoizedProps,i[ds]=e,(s=i.nodeValue!==t)&&(n=ir,n!==null))switch(n.tag){case 3:Pf(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pf(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ds]=e,e.stateNode=i}return oi(e),null;case 13:if(tn(hn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ln&&$i!==null&&e.mode&1&&!(e.flags&128))qy(),Fc(),e.flags|=98560,s=!1;else if(s=bf(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[ds]=e}else Fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;oi(e),s=!1}else Vr!==null&&(c4(Vr),Vr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||hn.current&1?Dn===0&&(Dn=3):$5())),e.updateQueue!==null&&(e.flags|=4),oi(e),null);case 4:return Oc(),t4(n,e),n===null&&Ih(e.stateNode.containerInfo),oi(e),null;case 10:return F5(e.type._context),oi(e),null;case 17:return Ui(e.type)&&fp(),oi(e),null;case 19:if(tn(hn),s=e.memoizedState,s===null)return oi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Uu(s,!1);else{if(Dn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=xp(n),o!==null){for(e.flags|=128,Uu(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return $t(hn,hn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>kc&&(e.flags|=128,i=!0,Uu(s,!1),e.lanes=4194304)}else{if(!i)if(n=xp(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Uu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return oi(e),null}else 2*Sn()-s.renderingStartTime>kc&&t!==1073741824&&(e.flags|=128,i=!0,Uu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=hn.current,$t(hn,i?t&1|2:t&1),e):(oi(e),null);case 22:case 23:return Z5(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ki&1073741824&&(oi(e),e.subtreeFlags&6&&(e.flags|=8192)):oi(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function Iw(n,e){switch(B5(e),e.tag){case 1:return Ui(e.type)&&fp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Oc(),tn(Fi),tn(fi),z5(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return k5(e),null;case 13:if(tn(hn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Fc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return tn(hn),null;case 4:return Oc(),null;case 10:return F5(e.type._context),null;case 22:case 23:return Z5(),null;case 24:return null;default:return null}}var Lf=!1,di=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,We=null;function vc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){_n(n,e,i)}else t.current=null}function n4(n,e,t){try{t()}catch(i){_n(n,e,i)}}var D9=!1;function Dw(n,e){if(N3=cp,n=ly(),P5(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,h=0,d=0,f=n,p=null;t:for(;;){for(var m;f!==t||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++h===r&&(a=o),p===s&&++d===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(k3={focusedElem:n,selectionRange:t},cp=!1,We=e;We!==null;)if(e=We,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,We=n;else for(;We!==null;){e=We;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var q=v.memoizedProps,y=v.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?q:kr(e.type,q),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(M){_n(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}return v=D9,D9=!1,v}function _h(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&n4(e,t,s)}r=r.next}while(r!==i)}}function Vp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function i4(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function rx(n){var e=n.alternate;e!==null&&(n.alternate=null,rx(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ds],delete e[Dh],delete e[G3],delete e[_w],delete e[vw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sx(n){return n.tag===5||n.tag===3||n.tag===4}function F9(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function r4(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=dp));else if(i!==4&&(n=n.child,n!==null))for(r4(n,e,t),n=n.sibling;n!==null;)r4(n,e,t),n=n.sibling}function s4(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(s4(n,e,t),n=n.sibling;n!==null;)s4(n,e,t),n=n.sibling}var Jn=null,Hr=!1;function fo(n,e,t){for(t=t.child;t!==null;)ox(n,e,t),t=t.sibling}function ox(n,e,t){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Fp,t)}catch{}switch(t.tag){case 5:di||vc(t,e);case 6:var i=Jn,r=Hr;Jn=null,fo(n,e,t),Jn=i,Hr=r,Jn!==null&&(Hr?(n=Jn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Jn.removeChild(t.stateNode));break;case 18:Jn!==null&&(Hr?(n=Jn,t=t.stateNode,n.nodeType===8?Qm(n.parentNode,t):n.nodeType===1&&Qm(n,t),Ph(n)):Qm(Jn,t.stateNode));break;case 4:i=Jn,r=Hr,Jn=t.stateNode.containerInfo,Hr=!0,fo(n,e,t),Jn=i,Hr=r;break;case 0:case 11:case 14:case 15:if(!di&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&n4(t,e,o),r=r.next}while(r!==i)}fo(n,e,t);break;case 1:if(!di&&(vc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){_n(t,e,a)}fo(n,e,t);break;case 21:fo(n,e,t);break;case 22:t.mode&1?(di=(i=di)||t.memoizedState!==null,fo(n,e,t),di=i):fo(n,e,t);break;default:fo(n,e,t)}}function U9(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Lw),e.forEach(function(i){var r=Vw.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Dr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jn=a.stateNode,Hr=!1;break e;case 3:Jn=a.stateNode.containerInfo,Hr=!0;break e;case 4:Jn=a.stateNode.containerInfo,Hr=!0;break e}a=a.return}if(Jn===null)throw Error(Te(160));ox(s,o,r),Jn=null,Hr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(h){_n(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ax(e,n),e=e.sibling}function ax(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dr(e,n),ls(n),i&4){try{_h(3,n,n.return),Vp(3,n)}catch(q){_n(n,n.return,q)}try{_h(5,n,n.return)}catch(q){_n(n,n.return,q)}}break;case 1:Dr(e,n),ls(n),i&512&&t!==null&&vc(t,t.return);break;case 5:if(Dr(e,n),ls(n),i&512&&t!==null&&vc(t,t.return),n.flags&32){var r=n.stateNode;try{wh(r,"")}catch(q){_n(n,n.return,q)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Rv(r,s),R3(a,o);var h=R3(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Lv(r,f):d==="dangerouslySetInnerHTML"?Bv(r,f):d==="children"?wh(r,f):_5(r,d,f,h)}switch(a){case"input":M3(r,s);break;case"textarea":Pv(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ec(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ec(r,!!s.multiple,s.defaultValue,!0):Ec(r,!!s.multiple,s.multiple?[]:"",!1))}r[Dh]=s}catch(q){_n(n,n.return,q)}}break;case 6:if(Dr(e,n),ls(n),i&4){if(n.stateNode===null)throw Error(Te(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(q){_n(n,n.return,q)}}break;case 3:if(Dr(e,n),ls(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ph(e.containerInfo)}catch(q){_n(n,n.return,q)}break;case 4:Dr(e,n),ls(n);break;case 13:Dr(e,n),ls(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(K5=Sn())),i&4&&U9(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(di=(h=di)||d,Dr(e,n),di=h):Dr(e,n),ls(n),i&8192){if(h=n.memoizedState!==null,(n.stateNode.isHidden=h)&&!d&&n.mode&1)for(We=n,d=n.child;d!==null;){for(f=We=d;We!==null;){switch(p=We,m=p.child,p.tag){case 0:case 11:case 14:case 15:_h(4,p,p.return);break;case 1:vc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(q){_n(i,t,q)}}break;case 5:vc(p,p.return);break;case 22:if(p.memoizedState!==null){N9(f);continue}}m!==null?(m.return=p,We=m):N9(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Iv("display",o))}catch(q){_n(n,n.return,q)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(q){_n(n,n.return,q)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dr(e,n),ls(n),i&4&&U9(n);break;case 21:break;default:Dr(e,n),ls(n)}}function ls(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(sx(t)){var i=t;break e}t=t.return}throw Error(Te(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wh(r,""),i.flags&=-33);var s=F9(n);s4(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=F9(n);r4(n,a,o);break;default:throw Error(Te(161))}}catch(l){_n(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Fw(n,e,t){We=n,lx(n)}function lx(n,e,t){for(var i=(n.mode&1)!==0;We!==null;){var r=We,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Lf;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||di;a=Lf;var h=di;if(Lf=o,(di=l)&&!h)for(We=r;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?k9(r):l!==null?(l.return=o,We=l):k9(r);for(;s!==null;)We=s,lx(s),s=s.sibling;We=r,Lf=a,di=h}O9(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,We=s):O9(n)}}function O9(n){for(;We!==null;){var e=We;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:di||Vp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!di)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:kr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&A9(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}A9(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ph(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}di||e.flags&512&&i4(e)}catch(p){_n(e,e.return,p)}}if(e===n){We=null;break}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}}function N9(n){for(;We!==null;){var e=We;if(e===n){We=null;break}var t=e.sibling;if(t!==null){t.return=e.return,We=t;break}We=e.return}}function k9(n){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Vp(4,e)}catch(l){_n(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){_n(e,r,l)}}var s=e.return;try{i4(e)}catch(l){_n(e,s,l)}break;case 5:var o=e.return;try{i4(e)}catch(l){_n(e,o,l)}}}catch(l){_n(e,e.return,l)}if(e===n){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var Uw=Math.ceil,Sp=$s.ReactCurrentDispatcher,j5=$s.ReactCurrentOwner,Tr=$s.ReactCurrentBatchConfig,Ft=0,Gn=null,Pn=null,Kn=0,Ki=0,yc=Ko(0),Dn=0,zh=null,Qa=0,Wp=0,Y5=0,vh=null,Li=null,K5=0,kc=1/0,Ls=null,Mp=!1,o4=null,Oo=null,Df=!1,Po=null,Ep=0,yh=0,a4=null,J1=-1,j1=0;function Mi(){return Ft&6?Sn():J1!==-1?J1:J1=Sn()}function No(n){return n.mode&1?Ft&2&&Kn!==0?Kn&-Kn:xw.transition!==null?(j1===0&&(j1=Xv()),j1):(n=Wt,n!==0||(n=window.event,n=n===void 0?16:$v(n.type)),n):1}function Jr(n,e,t,i){if(50<yh)throw yh=0,a4=null,Error(Te(185));od(n,t,i),(!(Ft&2)||n!==Gn)&&(n===Gn&&(!(Ft&2)&&(Wp|=t),Dn===4&&Co(n,Kn)),Oi(n,i),t===1&&Ft===0&&!(e.mode&1)&&(kc=Sn()+500,zp&&Qo()))}function Oi(n,e){var t=n.callbackNode;xE(n,e);var i=lp(n,n===Gn?Kn:0);if(i===0)t!==null&&Y8(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Y8(t),e===1)n.tag===0?yw(z9.bind(null,n)):vy(z9.bind(null,n)),mw(function(){!(Ft&6)&&Qo()}),t=null;else{switch(Jv(i)){case 1:t=A5;break;case 4:t=Vv;break;case 16:t=ap;break;case 536870912:t=Wv;break;default:t=ap}t=gx(t,cx.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function cx(n,e){if(J1=-1,j1=0,Ft&6)throw Error(Te(327));var t=n.callbackNode;if(Pc()&&n.callbackNode!==t)return null;var i=lp(n,n===Gn?Kn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=wp(n,i);else{e=i;var r=Ft;Ft|=2;var s=hx();(Gn!==n||Kn!==e)&&(Ls=null,kc=Sn()+500,Ha(n,e));do try{kw();break}catch(a){ux(n,a)}while(!0);D5(),Sp.current=s,Ft=r,Pn!==null?e=0:(Gn=null,Kn=0,e=Dn)}if(e!==0){if(e===2&&(r=L3(n),r!==0&&(i=r,e=l4(n,r))),e===1)throw t=zh,Ha(n,0),Co(n,i),Oi(n,Sn()),t;if(e===6)Co(n,i);else{if(r=n.current.alternate,!(i&30)&&!Ow(r)&&(e=wp(n,i),e===2&&(s=L3(n),s!==0&&(i=s,e=l4(n,s))),e===1))throw t=zh,Ha(n,0),Co(n,i),Oi(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Te(345));case 2:Ca(n,Li,Ls);break;case 3:if(Co(n,i),(i&130023424)===i&&(e=K5+500-Sn(),10<e)){if(lp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Mi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=H3(Ca.bind(null,n,Li,Ls),e);break}Ca(n,Li,Ls);break;case 4:if(Co(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Xr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Uw(i/1960))-i,10<i){n.timeoutHandle=H3(Ca.bind(null,n,Li,Ls),i);break}Ca(n,Li,Ls);break;case 5:Ca(n,Li,Ls);break;default:throw Error(Te(329))}}}return Oi(n,Sn()),n.callbackNode===t?cx.bind(null,n):null}function l4(n,e){var t=vh;return n.current.memoizedState.isDehydrated&&(Ha(n,e).flags|=256),n=wp(n,e),n!==2&&(e=Li,Li=t,e!==null&&c4(e)),n}function c4(n){Li===null?Li=n:Li.push.apply(Li,n)}function Ow(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!jr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(n,e){for(e&=~Y5,e&=~Wp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xr(e),i=1<<t;n[t]=-1,e&=~i}}function z9(n){if(Ft&6)throw Error(Te(327));Pc();var e=lp(n,0);if(!(e&1))return Oi(n,Sn()),null;var t=wp(n,e);if(n.tag!==0&&t===2){var i=L3(n);i!==0&&(e=i,t=l4(n,i))}if(t===1)throw t=zh,Ha(n,0),Co(n,e),Oi(n,Sn()),t;if(t===6)throw Error(Te(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ca(n,Li,Ls),Oi(n,Sn()),null}function Q5(n,e){var t=Ft;Ft|=1;try{return n(e)}finally{Ft=t,Ft===0&&(kc=Sn()+500,zp&&Qo())}}function Za(n){Po!==null&&Po.tag===0&&!(Ft&6)&&Pc();var e=Ft;Ft|=1;var t=Tr.transition,i=Wt;try{if(Tr.transition=null,Wt=1,n)return n()}finally{Wt=i,Tr.transition=t,Ft=e,!(Ft&6)&&Qo()}}function Z5(){Ki=yc.current,tn(yc)}function Ha(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,pw(t)),Pn!==null)for(t=Pn.return;t!==null;){var i=t;switch(B5(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fp();break;case 3:Oc(),tn(Fi),tn(fi),z5();break;case 5:k5(i);break;case 4:Oc();break;case 13:tn(hn);break;case 19:tn(hn);break;case 10:F5(i.type._context);break;case 22:case 23:Z5()}t=t.return}if(Gn=n,Pn=n=ko(n.current,null),Kn=Ki=e,Dn=0,zh=null,Y5=Wp=Qa=0,Li=vh=null,Ia!==null){for(e=0;e<Ia.length;e++)if(t=Ia[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ia=null}return n}function ux(n,e){do{var t=Pn;try{if(D5(),V1.current=Ap,qp){for(var i=fn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}qp=!1}if(Ka=0,Hn=Ln=fn=null,gh=!1,Oh=0,j5.current=null,t===null||t.return===null){Dn=1,zh=e,Pn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=T9(o);if(m!==null){m.flags&=-257,R9(m,o,a,s,e),m.mode&1&&C9(s,h,e),e=m,l=h;var v=e.updateQueue;if(v===null){var q=new Set;q.add(l),e.updateQueue=q}else v.add(l);break e}else{if(!(e&1)){C9(s,h,e),$5();break e}l=Error(Te(426))}}else if(ln&&a.mode&1){var y=T9(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),R9(y,o,a,s,e),I5(Nc(l,a));break e}}s=l=Nc(l,a),Dn!==4&&(Dn=2),vh===null?vh=[s]:vh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Jy(s,l,e);q9(s,g);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Oo===null||!Oo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=jy(s,a,e);q9(s,M);break e}}s=s.return}while(s!==null)}fx(t)}catch(R){e=R,Pn===t&&t!==null&&(Pn=t=t.return);continue}break}while(!0)}function hx(){var n=Sp.current;return Sp.current=Ap,n===null?Ap:n}function $5(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Gn===null||!(Qa&268435455)&&!(Wp&268435455)||Co(Gn,Kn)}function wp(n,e){var t=Ft;Ft|=2;var i=hx();(Gn!==n||Kn!==e)&&(Ls=null,Ha(n,e));do try{Nw();break}catch(r){ux(n,r)}while(!0);if(D5(),Ft=t,Sp.current=i,Pn!==null)throw Error(Te(261));return Gn=null,Kn=0,Dn}function Nw(){for(;Pn!==null;)dx(Pn)}function kw(){for(;Pn!==null&&!hE();)dx(Pn)}function dx(n){var e=mx(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,e===null?fx(n):Pn=e,j5.current=null}function fx(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Iw(t,e),t!==null){t.flags&=32767,Pn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Dn=6,Pn=null;return}}else if(t=Bw(t,e,Ki),t!==null){Pn=t;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=n}while(e!==null);Dn===0&&(Dn=5)}function Ca(n,e,t){var i=Wt,r=Tr.transition;try{Tr.transition=null,Wt=1,zw(n,e,t,i)}finally{Tr.transition=r,Wt=i}return null}function zw(n,e,t,i){do Pc();while(Po!==null);if(Ft&6)throw Error(Te(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Te(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(qE(n,s),n===Gn&&(Pn=Gn=null,Kn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Df||(Df=!0,gx(ap,function(){return Pc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Tr.transition,Tr.transition=null;var o=Wt;Wt=1;var a=Ft;Ft|=4,j5.current=null,Dw(n,t),ax(t,n),aw(k3),cp=!!N3,k3=N3=null,n.current=t,Fw(t),dE(),Ft=a,Wt=o,Tr.transition=s}else n.current=t;if(Df&&(Df=!1,Po=n,Ep=r),s=n.pendingLanes,s===0&&(Oo=null),mE(t.stateNode),Oi(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mp)throw Mp=!1,n=o4,o4=null,n;return Ep&1&&n.tag!==0&&Pc(),s=n.pendingLanes,s&1?n===a4?yh++:(yh=0,a4=n):yh=0,Qo(),null}function Pc(){if(Po!==null){var n=Jv(Ep),e=Tr.transition,t=Wt;try{if(Tr.transition=null,Wt=16>n?16:n,Po===null)var i=!1;else{if(n=Po,Po=null,Ep=0,Ft&6)throw Error(Te(331));var r=Ft;for(Ft|=4,We=n.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(We=h;We!==null;){var d=We;switch(d.tag){case 0:case 11:case 15:_h(8,d,s)}var f=d.child;if(f!==null)f.return=d,We=f;else for(;We!==null;){d=We;var p=d.sibling,m=d.return;if(rx(d),d===h){We=null;break}if(p!==null){p.return=m,We=p;break}We=m}}}var v=s.alternate;if(v!==null){var q=v.child;if(q!==null){v.child=null;do{var y=q.sibling;q.sibling=null,q=y}while(q!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_h(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,We=g;break e}We=s.return}}var x=n.current;for(We=x;We!==null;){o=We;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,We=S;else e:for(o=x;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vp(9,a)}}catch(R){_n(a,a.return,R)}if(a===o){We=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,We=M;break e}We=a.return}}if(Ft=r,Qo(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Fp,n)}catch{}i=!0}return i}finally{Wt=t,Tr.transition=e}}return!1}function H9(n,e,t){e=Nc(t,e),e=Jy(n,e,1),n=Uo(n,e,1),e=Mi(),n!==null&&(od(n,1,e),Oi(n,e))}function _n(n,e,t){if(n.tag===3)H9(n,n,t);else for(;e!==null;){if(e.tag===3){H9(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Oo===null||!Oo.has(i))){n=Nc(t,n),n=jy(e,n,1),e=Uo(e,n,1),n=Mi(),e!==null&&(od(e,1,n),Oi(e,n));break}}e=e.return}}function Hw(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Mi(),n.pingedLanes|=n.suspendedLanes&t,Gn===n&&(Kn&t)===t&&(Dn===4||Dn===3&&(Kn&130023424)===Kn&&500>Sn()-K5?Ha(n,0):Y5|=t),Oi(n,e)}function px(n,e){e===0&&(n.mode&1?(e=Ef,Ef<<=1,!(Ef&130023424)&&(Ef=4194304)):e=1);var t=Mi();n=Ys(n,e),n!==null&&(od(n,e,t),Oi(n,t))}function Gw(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),px(n,t)}function Vw(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Te(314))}i!==null&&i.delete(e),px(n,t)}var mx;mx=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fi.current)Di=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Di=!1,bw(n,e,t);Di=!!(n.flags&131072)}else Di=!1,ln&&e.flags&1048576&&yy(e,gp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;X1(n,e),n=e.pendingProps;var r=Dc(e,fi.current);Rc(e,t),r=G5(null,e,i,n,r,t);var s=V5();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(i)?(s=!0,pp(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,O5(e),r.updater=Gp,e.stateNode=r,r._reactInternals=e,Y3(e,i,n,t),e=Z3(null,e,i,!0,s,t)):(e.tag=0,ln&&s&&b5(e),qi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(X1(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Xw(i),n=kr(i,n),r){case 0:e=Q3(null,e,i,n,t);break e;case 1:e=B9(null,e,i,n,t);break e;case 11:e=P9(null,e,i,n,t);break e;case 14:e=b9(null,e,i,kr(i.type,n),t);break e}throw Error(Te(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:kr(i,r),Q3(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:kr(i,r),B9(n,e,i,r,t);case 3:e:{if(Zy(e),n===null)throw Error(Te(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Ey(n,e),yp(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Nc(Error(Te(423)),e),e=I9(n,e,i,t,r);break e}else if(i!==r){r=Nc(Error(Te(424)),e),e=I9(n,e,i,t,r);break e}else for($i=Fo(e.stateNode.containerInfo.firstChild),ir=e,ln=!0,Vr=null,t=Sy(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Fc(),i===r){e=Ks(n,e,t);break e}qi(n,e,i,t)}e=e.child}return e;case 5:return wy(e),n===null&&X3(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,z3(i,r)?o=null:s!==null&&z3(i,s)&&(e.flags|=32),Qy(n,e),qi(n,e,o,t),e.child;case 6:return n===null&&X3(e),null;case 13:return $y(n,e,t);case 4:return N5(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Uc(e,null,i,t):qi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:kr(i,r),P9(n,e,i,r,t);case 7:return qi(n,e,e.pendingProps,t),e.child;case 8:return qi(n,e,e.pendingProps.children,t),e.child;case 12:return qi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,$t(_p,i._currentValue),i._currentValue=o,s!==null)if(jr(s.value,o)){if(s.children===r.children&&!Fi.current){e=Ks(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Vs(-1,t&-t),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),J3(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Te(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),J3(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Rc(e,t),r=Rr(r),i=i(r),e.flags|=1,qi(n,e,i,t),e.child;case 14:return i=e.type,r=kr(i,e.pendingProps),r=kr(i.type,r),b9(n,e,i,r,t);case 15:return Yy(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:kr(i,r),X1(n,e),e.tag=1,Ui(i)?(n=!0,pp(e)):n=!1,Rc(e,t),Xy(e,i,r),Y3(e,i,r,t),Z3(null,e,i,!0,n,t);case 19:return ex(n,e,t);case 22:return Ky(n,e,t)}throw Error(Te(156,e.tag))};function gx(n,e){return Gv(n,e)}function Ww(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(n,e,t,i){return new Ww(n,e,t,i)}function e6(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xw(n){if(typeof n=="function")return e6(n)?1:0;if(n!=null){if(n=n.$$typeof,n===y5)return 11;if(n===x5)return 14}return 2}function ko(n,e){var t=n.alternate;return t===null?(t=wr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Y1(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")e6(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case cc:return Ga(t.children,r,s,e);case v5:o=8,r|=8;break;case y3:return n=wr(12,t,e,r|2),n.elementType=y3,n.lanes=s,n;case x3:return n=wr(13,t,e,r),n.elementType=x3,n.lanes=s,n;case q3:return n=wr(19,t,e,r),n.elementType=q3,n.lanes=s,n;case wv:return Xp(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Mv:o=10;break e;case Ev:o=9;break e;case y5:o=11;break e;case x5:o=14;break e;case Mo:o=16,i=null;break e}throw Error(Te(130,n==null?n:typeof n,""))}return e=wr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ga(n,e,t,i){return n=wr(7,n,i,e),n.lanes=t,n}function Xp(n,e,t,i){return n=wr(22,n,i,e),n.elementType=wv,n.lanes=t,n.stateNode={isHidden:!1},n}function s2(n,e,t){return n=wr(6,n,null,e),n.lanes=t,n}function o2(n,e,t){return e=wr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Jw(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function t6(n,e,t,i,r,s,o,a,l){return n=new Jw(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},O5(s),n}function jw(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function _x(n){if(!n)return Wo;n=n._reactInternals;e:{if(cl(n)!==n||n.tag!==1)throw Error(Te(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(n.tag===1){var t=n.type;if(Ui(t))return _y(n,t,e)}return e}function vx(n,e,t,i,r,s,o,a,l){return n=t6(t,i,!0,n,r,s,o,a,l),n.context=_x(null),t=n.current,i=Mi(),r=No(t),s=Vs(i,r),s.callback=e??null,Uo(t,s,r),n.current.lanes=r,od(n,r,i),Oi(n,i),n}function Jp(n,e,t,i){var r=e.current,s=Mi(),o=No(r);return t=_x(t),e.context===null?e.context=t:e.pendingContext=t,e=Vs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Uo(r,e,o),n!==null&&(Jr(n,r,o,s),G1(n,r,o)),o}function Cp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function G9(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function n6(n,e){G9(n,e),(n=n.alternate)&&G9(n,e)}function Yw(){return null}var yx=typeof reportError=="function"?reportError:function(n){console.error(n)};function i6(n){this._internalRoot=n}jp.prototype.render=i6.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Te(409));Jp(n,e,null,null)};jp.prototype.unmount=i6.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Za(function(){Jp(null,n,null,null)}),e[js]=null}};function jp(n){this._internalRoot=n}jp.prototype.unstable_scheduleHydration=function(n){if(n){var e=Kv();n={blockedOn:null,target:n,priority:e};for(var t=0;t<wo.length&&e!==0&&e<wo[t].priority;t++);wo.splice(t,0,n),t===0&&Zv(n)}};function r6(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function V9(){}function Kw(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=Cp(o);s.call(h)}}var o=vx(e,i,n,0,null,!1,!1,"",V9);return n._reactRootContainer=o,n[js]=o.current,Ih(n.nodeType===8?n.parentNode:n),Za(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var h=Cp(l);a.call(h)}}var l=t6(n,0,!1,null,null,!1,!1,"",V9);return n._reactRootContainer=l,n[js]=l.current,Ih(n.nodeType===8?n.parentNode:n),Za(function(){Jp(e,l,t,i)}),l}function Kp(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Cp(o);a.call(l)}}Jp(e,o,n,r)}else o=Kw(t,e,n,r,i);return Cp(o)}jv=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=oh(e.pendingLanes);t!==0&&(S5(e,t|1),Oi(e,Sn()),!(Ft&6)&&(kc=Sn()+500,Qo()))}break;case 13:Za(function(){var i=Ys(n,1);if(i!==null){var r=Mi();Jr(i,n,1,r)}}),n6(n,1)}};M5=function(n){if(n.tag===13){var e=Ys(n,134217728);if(e!==null){var t=Mi();Jr(e,n,134217728,t)}n6(n,134217728)}};Yv=function(n){if(n.tag===13){var e=No(n),t=Ys(n,e);if(t!==null){var i=Mi();Jr(t,n,e,i)}n6(n,e)}};Kv=function(){return Wt};Qv=function(n,e){var t=Wt;try{return Wt=n,e()}finally{Wt=t}};b3=function(n,e,t){switch(e){case"input":if(M3(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=kp(i);if(!r)throw Error(Te(90));Tv(i),M3(i,r)}}}break;case"textarea":Pv(n,t);break;case"select":e=t.value,e!=null&&Ec(n,!!t.multiple,e,!1)}};Uv=Q5;Ov=Za;var Qw={usingClientEntryPoint:!1,Events:[ld,fc,kp,Dv,Fv,Q5]},Ou={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zw={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zv(n),n===null?null:n.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||Yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Fp=Ff.inject(Zw),ps=Ff}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw;ar.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r6(e))throw Error(Te(200));return jw(n,e,null,t)};ar.createRoot=function(n,e){if(!r6(n))throw Error(Te(299));var t=!1,i="",r=yx;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=t6(n,1,!1,null,null,t,!1,i,r),n[js]=e.current,Ih(n.nodeType===8?n.parentNode:n),new i6(e)};ar.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Te(188)):(n=Object.keys(n).join(","),Error(Te(268,n)));return n=zv(e),n=n===null?null:n.stateNode,n};ar.flushSync=function(n){return Za(n)};ar.hydrate=function(n,e,t){if(!Yp(e))throw Error(Te(200));return Kp(null,n,e,!0,t)};ar.hydrateRoot=function(n,e,t){if(!r6(n))throw Error(Te(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=yx;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=vx(e,null,n,1,t??null,r,!1,s,o),n[js]=e.current,Ih(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new jp(e)};ar.render=function(n,e,t){if(!Yp(e))throw Error(Te(200));return Kp(null,n,e,!1,t)};ar.unmountComponentAtNode=function(n){if(!Yp(n))throw Error(Te(40));return n._reactRootContainer?(Za(function(){Kp(null,null,n,!1,function(){n._reactRootContainer=null,n[js]=null})}),!0):!1};ar.unstable_batchedUpdates=Q5;ar.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Yp(t))throw Error(Te(200));if(n==null||n._reactInternals===void 0)throw Error(Te(38));return Kp(n,e,t,!1,i)};ar.version="18.3.1-next-f1338f8080-20240426";function xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xx)}catch(n){console.error(n)}}xx(),xv.exports=ar;var qx=xv.exports,Ax,W9=qx;Ax=_3.createRoot=W9.createRoot,_3.hydrateRoot=W9.hydrateRoot;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Zc="165",$w={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},eC={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Sx=0,u4=1,Mx=2,tC=3,Ex=0,Qp=1,xh=2,zr=3,Yr=0,Ei=1,Er=2,gs=0,Va=1,h4=2,d4=3,f4=4,wx=5,To=100,Cx=101,Tx=102,Rx=103,Px=104,bx=200,Bx=201,Ix=202,Lx=203,Tp=204,Rp=205,Dx=206,Fx=207,Ux=208,Ox=209,Nx=210,kx=211,zx=212,Hx=213,Gx=214,Vx=0,Wx=1,Xx=2,Hh=3,Jx=4,jx=5,Yx=6,Kx=7,ud=0,Qx=1,Zx=2,_s=0,$x=1,eq=2,tq=3,s6=4,nq=5,iq=6,rq=7,p4="attached",sq="detached",Zp=300,Qs=301,Xo=302,Gh=303,Vh=304,$c=306,Jo=1e3,er=1001,zc=1002,Mn=1003,$p=1004,nC=1004,Da=1005,iC=1005,Jt=1006,bc=1007,rC=1007,Cr=1008,sC=1008,ys=1009,oq=1010,aq=1011,Hc=1012,o6=1013,$a=1014,tr=1015,ul=1016,a6=1017,l6=1018,el=1020,lq=35902,cq=1021,uq=1022,Si=1023,hq=1024,dq=1025,zo=1026,tl=1027,c6=1028,u6=1029,fq=1030,h6=1031,d6=1033,K1=33776,Q1=33777,Z1=33778,$1=33779,m4=35840,g4=35841,_4=35842,v4=35843,y4=36196,x4=37492,q4=37496,A4=37808,S4=37809,M4=37810,E4=37811,w4=37812,C4=37813,T4=37814,R4=37815,P4=37816,b4=37817,B4=37818,I4=37819,L4=37820,D4=37821,ep=36492,F4=36494,U4=36495,pq=36283,O4=36284,N4=36285,k4=36286,mq=2200,gq=2201,_q=2202,Gc=2300,Vc=2301,tp=2302,Fa=2400,Ua=2401,Wh=2402,e0=2500,f6=2501,vq=0,p6=1,Pp=2,yq=3200,xq=3201,Zo=0,qq=1,Os="",Ar="srgb",eo="srgb-linear",t0="display-p3",hd="display-p3-linear",Xh="linear",Qt="srgb",Jh="rec709",jh="p3",oC=0,Ta=7680,aC=7681,lC=7682,cC=7683,uC=34055,hC=34056,dC=5386,fC=512,pC=513,mC=514,gC=515,_C=516,vC=517,yC=518,z4=519,Aq=512,Sq=513,Mq=514,m6=515,Eq=516,wq=517,Cq=518,Tq=519,Yh=35044,xC=35048,qC=35040,AC=35045,SC=35049,MC=35041,EC=35046,wC=35050,CC=35042,TC="100",H4="300 es",fs=2e3,Kh=2001;let to=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let X9=1234567;const Wa=Math.PI/180,Wc=180/Math.PI;function rr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ai[n&255]+ai[n>>8&255]+ai[n>>16&255]+ai[n>>24&255]+"-"+ai[e&255]+ai[e>>8&255]+"-"+ai[e>>16&15|64]+ai[e>>24&255]+"-"+ai[t&63|128]+ai[t>>8&255]+"-"+ai[t>>16&255]+ai[t>>24&255]+ai[i&255]+ai[i>>8&255]+ai[i>>16&255]+ai[i>>24&255]).toLowerCase()}function vn(n,e,t){return Math.max(e,Math.min(t,n))}function g6(n,e){return(n%e+e)%e}function RC(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function PC(n,e,t){return n!==e?(t-n)/(e-n):0}function qh(n,e,t){return(1-t)*n+t*e}function bC(n,e,t,i){return qh(n,e,1-Math.exp(-t*i))}function BC(n,e=1){return e-Math.abs(g6(n,e*2)-e)}function IC(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function LC(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function DC(n,e){return n+Math.floor(Math.random()*(e-n+1))}function FC(n,e){return n+Math.random()*(e-n)}function UC(n){return n*(.5-Math.random())}function OC(n){n!==void 0&&(X9=n);let e=X9+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function NC(n){return n*Wa}function kC(n){return n*Wc}function zC(n){return(n&n-1)===0&&n!==0}function HC(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function GC(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function VC(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),h=s((e+i)/2),d=o((e+i)/2),f=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*f,l*p,a*h);break;case"YZY":n.set(l*p,a*d,l*f,a*h);break;case"ZXZ":n.set(l*f,l*p,a*d,a*h);break;case"XZX":n.set(a*d,l*v,l*m,a*h);break;case"YXY":n.set(l*m,a*d,l*v,a*h);break;case"ZYZ":n.set(l*v,l*m,a*d,a*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ai(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function vt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const _6={DEG2RAD:Wa,RAD2DEG:Wc,generateUUID:rr,clamp:vn,euclideanModulo:g6,mapLinear:RC,inverseLerp:PC,lerp:qh,damp:bC,pingpong:BC,smoothstep:IC,smootherstep:LC,randInt:DC,randFloat:FC,randFloatSpread:UC,seededRandom:OC,degToRad:NC,radToDeg:kC,isPowerOfTwo:zC,ceilPowerOfTwo:HC,floorPowerOfTwo:GC,setQuaternionFromProperEuler:VC,normalize:vt,denormalize:Ai};class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _t{constructor(e,t,i,r,s,o,a,l,h){_t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,h)}set(e,t,i,r,s,o,a,l,h){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],h=i[1],d=i[4],f=i[7],p=i[2],m=i[5],v=i[8],q=r[0],y=r[3],g=r[6],x=r[1],S=r[4],M=r[7],R=r[2],C=r[5],P=r[8];return s[0]=o*q+a*x+l*R,s[3]=o*y+a*S+l*C,s[6]=o*g+a*M+l*P,s[1]=h*q+d*x+f*R,s[4]=h*y+d*S+f*C,s[7]=h*g+d*M+f*P,s[2]=p*q+m*x+v*R,s[5]=p*y+m*S+v*C,s[8]=p*g+m*M+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],d=e[8];return t*o*d-t*a*h-i*s*d+i*a*l+r*s*h-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],d=e[8],f=d*o-a*h,p=a*l-d*s,m=h*s-o*l,v=t*f+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const q=1/v;return e[0]=f*q,e[1]=(r*h-d*i)*q,e[2]=(a*i-r*o)*q,e[3]=p*q,e[4]=(d*t-r*l)*q,e[5]=(r*s-a*t)*q,e[6]=m*q,e[7]=(i*l-h*t)*q,e[8]=(o*t-i*s)*q,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),h=Math.sin(s);return this.set(i*l,i*h,-i*(l*o+h*a)+o+e,-r*h,r*l,-r*(-h*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(a2.makeScale(e,t)),this}rotate(e){return this.premultiply(a2.makeRotation(-e)),this}translate(e,t){return this.premultiply(a2.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const a2=new _t;function Rq(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const WC={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xc(n,e){return new WC[n](e)}function Qh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Pq(){const n=Qh("canvas");return n.style.display="block",n}const J9={};function v6(n){n in J9||(J9[n]=!0,console.warn(n))}function XC(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}const j9=new _t().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Y9=new _t().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Uf={[eo]:{transfer:Xh,primaries:Jh,toReference:n=>n,fromReference:n=>n},[Ar]:{transfer:Qt,primaries:Jh,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[hd]:{transfer:Xh,primaries:jh,toReference:n=>n.applyMatrix3(Y9),fromReference:n=>n.applyMatrix3(j9)},[t0]:{transfer:Qt,primaries:jh,toReference:n=>n.convertSRGBToLinear().applyMatrix3(Y9),fromReference:n=>n.applyMatrix3(j9).convertLinearToSRGB()}},JC=new Set([eo,hd]),Gt={enabled:!0,_workingColorSpace:eo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!JC.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Uf[e].toReference,r=Uf[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Uf[n].primaries},getTransfer:function(n){return n===Os?Xh:Uf[n].transfer}};function Bc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function l2(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Pl;class bq{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Pl===void 0&&(Pl=Qh("canvas")),Pl.width=e.width,Pl.height=e.height;const i=Pl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Pl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Qh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Bc(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Bc(t[i]/255)*255):t[i]=Bc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jC=0;class Oa{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jC++}),this.uuid=rr(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(c2(r[o].image)):s.push(c2(r[o]))}else s=c2(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function c2(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?bq.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let YC=0;class nn extends to{constructor(e=nn.DEFAULT_IMAGE,t=nn.DEFAULT_MAPPING,i=er,r=er,s=Jt,o=Cr,a=Si,l=ys,h=nn.DEFAULT_ANISOTROPY,d=Os){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:YC++}),this.uuid=rr(),this.name="",this.source=new Oa(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Zp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jo:e.x=e.x-Math.floor(e.x);break;case er:e.x=e.x<0?0:1;break;case zc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jo:e.y=e.y-Math.floor(e.y);break;case er:e.y=e.y<0?0:1;break;case zc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}nn.DEFAULT_IMAGE=null;nn.DEFAULT_MAPPING=Zp;nn.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,i=0,r=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,h=l[0],d=l[4],f=l[8],p=l[1],m=l[5],v=l[9],q=l[2],y=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(f-q)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+q)<.1&&Math.abs(v+y)<.1&&Math.abs(h+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(h+1)/2,M=(m+1)/2,R=(g+1)/2,C=(d+p)/4,P=(f+q)/4,B=(v+y)/4;return S>M&&S>R?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=C/i,s=P/i):M>R?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=C/r,s=B/r):R<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(R),i=P/s,r=B/s),this.set(i,r,s,t),this}let x=Math.sqrt((y-v)*(y-v)+(f-q)*(f-q)+(p-d)*(p-d));return Math.abs(x)<.001&&(x=1),this.x=(y-v)/x,this.y=(f-q)/x,this.z=(p-d)/x,this.w=Math.acos((h+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bq extends to{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zt(0,0,e,t),this.scissorTest=!1,this.viewport=new zt(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jt,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new nn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Oa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ni extends Bq{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class n0 extends nn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class KC extends Ni{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new n0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class y6 extends nn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class QC extends Ni{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new y6(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Vn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],h=i[r+1],d=i[r+2],f=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],q=s[o+3];if(a===0){e[t+0]=l,e[t+1]=h,e[t+2]=d,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=q;return}if(f!==q||l!==p||h!==m||d!==v){let y=1-a;const g=l*p+h*m+d*v+f*q,x=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const R=Math.sqrt(S),C=Math.atan2(R,g*x);y=Math.sin(y*C)/R,a=Math.sin(a*C)/R}const M=a*x;if(l=l*y+p*M,h=h*y+m*M,d=d*y+v*M,f=f*y+q*M,y===1-a){const R=1/Math.sqrt(l*l+h*h+d*d+f*f);l*=R,h*=R,d*=R,f*=R}}e[t]=l,e[t+1]=h,e[t+2]=d,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],h=i[r+2],d=i[r+3],f=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*f+l*m-h*p,e[t+1]=l*v+d*p+h*f-a*m,e[t+2]=h*v+d*m+a*p-l*f,e[t+3]=d*v-a*f-l*p-h*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,h=a(i/2),d=a(r/2),f=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*f+h*m*v,this._y=h*m*f-p*d*v,this._z=h*d*v+p*m*f,this._w=h*d*f-p*m*v;break;case"YXZ":this._x=p*d*f+h*m*v,this._y=h*m*f-p*d*v,this._z=h*d*v-p*m*f,this._w=h*d*f+p*m*v;break;case"ZXY":this._x=p*d*f-h*m*v,this._y=h*m*f+p*d*v,this._z=h*d*v+p*m*f,this._w=h*d*f-p*m*v;break;case"ZYX":this._x=p*d*f-h*m*v,this._y=h*m*f+p*d*v,this._z=h*d*v-p*m*f,this._w=h*d*f+p*m*v;break;case"YZX":this._x=p*d*f+h*m*v,this._y=h*m*f+p*d*v,this._z=h*d*v-p*m*f,this._w=h*d*f-p*m*v;break;case"XZY":this._x=p*d*f-h*m*v,this._y=h*m*f-p*d*v,this._z=h*d*v+p*m*f,this._w=h*d*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],h=t[2],d=t[6],f=t[10],p=i+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-h)*m,this._z=(o-r)*m}else if(i>a&&i>f){const m=2*Math.sqrt(1+i-a-f);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+h)/m}else if(a>f){const m=2*Math.sqrt(1+a-i-f);this._w=(s-h)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+f-i-a);this._w=(o-r)/m,this._x=(s+h)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,h=t._z,d=t._w;return this._x=i*d+o*a+r*h-s*l,this._y=r*d+o*l+s*a-i*h,this._z=s*d+o*h+i*l-r*a,this._w=o*d-i*a-r*l-s*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const h=Math.sqrt(l),d=Math.atan2(h,a),f=Math.sin((1-t)*d)/h,p=Math.sin(t*d)/h;return this._w=o*f+this._w*p,this._x=i*f+this._x*p,this._y=r*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class U{constructor(e=0,t=0,i=0){U.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(K9.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(K9.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,h=2*(o*r-a*i),d=2*(a*t-s*r),f=2*(s*i-o*t);return this.x=t+l*h+o*f-a*d,this.y=i+l*d+a*h-s*f,this.z=r+l*f+s*d-o*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return u2.copy(this).projectOnVector(e),this.sub(u2)}reflect(e){return this.sub(u2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const u2=new U,K9=new Vn;class Qn{constructor(e=new U(1/0,1/0,1/0),t=new U(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Fr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Fr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Fr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Fr):Fr.fromBufferAttribute(s,o),Fr.applyMatrix4(e.matrixWorld),this.expandByPoint(Fr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Of.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Of.copy(i.boundingBox)),Of.applyMatrix4(e.matrixWorld),this.union(Of)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Fr),Fr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nu),Nf.subVectors(this.max,Nu),bl.subVectors(e.a,Nu),Bl.subVectors(e.b,Nu),Il.subVectors(e.c,Nu),po.subVectors(Bl,bl),mo.subVectors(Il,Bl),ha.subVectors(bl,Il);let t=[0,-po.z,po.y,0,-mo.z,mo.y,0,-ha.z,ha.y,po.z,0,-po.x,mo.z,0,-mo.x,ha.z,0,-ha.x,-po.y,po.x,0,-mo.y,mo.x,0,-ha.y,ha.x,0];return!h2(t,bl,Bl,Il,Nf)||(t=[1,0,0,0,1,0,0,0,1],!h2(t,bl,Bl,Il,Nf))?!1:(kf.crossVectors(po,mo),t=[kf.x,kf.y,kf.z],h2(t,bl,Bl,Il,Nf))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Fr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Fr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Cs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Cs=[new U,new U,new U,new U,new U,new U,new U,new U],Fr=new U,Of=new Qn,bl=new U,Bl=new U,Il=new U,po=new U,mo=new U,ha=new U,Nu=new U,Nf=new U,kf=new U,da=new U;function h2(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){da.fromArray(n,s);const a=r.x*Math.abs(da.x)+r.y*Math.abs(da.y)+r.z*Math.abs(da.z),l=e.dot(da),h=t.dot(da),d=i.dot(da);if(Math.max(-Math.max(l,h,d),Math.min(l,h,d))>a)return!1}return!0}const ZC=new Qn,ku=new U,d2=new U;class Wn{constructor(e=new U,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):ZC.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ku.subVectors(e,this.center);const t=ku.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(ku,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(d2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ku.copy(e.center).add(d2)),this.expandByPoint(ku.copy(e.center).sub(d2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ts=new U,f2=new U,zf=new U,go=new U,p2=new U,Hf=new U,m2=new U;class eu{constructor(e=new U,t=new U(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ts)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ts.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ts.copy(this.origin).addScaledVector(this.direction,t),Ts.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){f2.copy(e).add(t).multiplyScalar(.5),zf.copy(t).sub(e).normalize(),go.copy(this.origin).sub(f2);const s=e.distanceTo(t)*.5,o=-this.direction.dot(zf),a=go.dot(this.direction),l=-go.dot(zf),h=go.lengthSq(),d=Math.abs(1-o*o);let f,p,m,v;if(d>0)if(f=o*l-a,p=o*a-l,v=s*d,f>=0)if(p>=-v)if(p<=v){const q=1/d;f*=q,p*=q,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+h}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+h;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+h;else p<=-v?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+h):p<=v?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+h):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+h);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(f2).addScaledVector(zf,p),m}intersectSphere(e,t){Ts.subVectors(e.center,this.origin);const i=Ts.dot(this.direction),r=Ts.dot(Ts)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const h=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return h>=0?(i=(e.min.x-p.x)*h,r=(e.max.x-p.x)*h):(i=(e.max.x-p.x)*h,r=(e.min.x-p.x)*h),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ts)!==null}intersectTriangle(e,t,i,r,s){p2.subVectors(t,e),Hf.subVectors(i,e),m2.crossVectors(p2,Hf);let o=this.direction.dot(m2),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;go.subVectors(this.origin,e);const l=a*this.direction.dot(Hf.crossVectors(go,Hf));if(l<0)return null;const h=a*this.direction.dot(p2.cross(go));if(h<0||l+h>o)return null;const d=-a*go.dot(m2);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tt{constructor(e,t,i,r,s,o,a,l,h,d,f,p,m,v,q,y){tt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,h,d,f,p,m,v,q,y)}set(e,t,i,r,s,o,a,l,h,d,f,p,m,v,q,y){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=h,g[6]=d,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=q,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ll.setFromMatrixColumn(e,0).length(),s=1/Ll.setFromMatrixColumn(e,1).length(),o=1/Ll.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),h=Math.sin(r),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*f,v=a*d,q=a*f;t[0]=l*d,t[4]=-l*f,t[8]=h,t[1]=m+v*h,t[5]=p-q*h,t[9]=-a*l,t[2]=q-p*h,t[6]=v+m*h,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*f,v=h*d,q=h*f;t[0]=p+q*a,t[4]=v*a-m,t[8]=o*h,t[1]=o*f,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=q+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*f,v=h*d,q=h*f;t[0]=p-q*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=q-p*a,t[2]=-o*h,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*f,v=a*d,q=a*f;t[0]=l*d,t[4]=v*h-m,t[8]=p*h+q,t[1]=l*f,t[5]=q*h+p,t[9]=m*h-v,t[2]=-h,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*h,v=a*l,q=a*h;t[0]=l*d,t[4]=q-p*f,t[8]=v*f+m,t[1]=f,t[5]=o*d,t[9]=-a*d,t[2]=-h*d,t[6]=m*f+v,t[10]=p-q*f}else if(e.order==="XZY"){const p=o*l,m=o*h,v=a*l,q=a*h;t[0]=l*d,t[4]=-f,t[8]=h*d,t[1]=p*f+q,t[5]=o*d,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*d,t[10]=q*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($C,e,eT)}lookAt(e,t,i){const r=this.elements;return ji.subVectors(e,t),ji.lengthSq()===0&&(ji.z=1),ji.normalize(),_o.crossVectors(i,ji),_o.lengthSq()===0&&(Math.abs(i.z)===1?ji.x+=1e-4:ji.z+=1e-4,ji.normalize(),_o.crossVectors(i,ji)),_o.normalize(),Gf.crossVectors(ji,_o),r[0]=_o.x,r[4]=Gf.x,r[8]=ji.x,r[1]=_o.y,r[5]=Gf.y,r[9]=ji.y,r[2]=_o.z,r[6]=Gf.z,r[10]=ji.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],h=i[12],d=i[1],f=i[5],p=i[9],m=i[13],v=i[2],q=i[6],y=i[10],g=i[14],x=i[3],S=i[7],M=i[11],R=i[15],C=r[0],P=r[4],B=r[8],b=r[12],T=r[1],D=r[5],N=r[9],O=r[13],J=r[2],X=r[6],W=r[10],te=r[14],L=r[3],V=r[7],H=r[11],Y=r[15];return s[0]=o*C+a*T+l*J+h*L,s[4]=o*P+a*D+l*X+h*V,s[8]=o*B+a*N+l*W+h*H,s[12]=o*b+a*O+l*te+h*Y,s[1]=d*C+f*T+p*J+m*L,s[5]=d*P+f*D+p*X+m*V,s[9]=d*B+f*N+p*W+m*H,s[13]=d*b+f*O+p*te+m*Y,s[2]=v*C+q*T+y*J+g*L,s[6]=v*P+q*D+y*X+g*V,s[10]=v*B+q*N+y*W+g*H,s[14]=v*b+q*O+y*te+g*Y,s[3]=x*C+S*T+M*J+R*L,s[7]=x*P+S*D+M*X+R*V,s[11]=x*B+S*N+M*W+R*H,s[15]=x*b+S*O+M*te+R*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],h=e[13],d=e[2],f=e[6],p=e[10],m=e[14],v=e[3],q=e[7],y=e[11],g=e[15];return v*(+s*l*f-r*h*f-s*a*p+i*h*p+r*a*m-i*l*m)+q*(+t*l*m-t*h*p+s*o*p-r*o*m+r*h*d-s*l*d)+y*(+t*h*f-t*a*m-s*o*f+i*o*m+s*a*d-i*h*d)+g*(-r*a*d-t*l*f+t*a*p+r*o*f-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],d=e[8],f=e[9],p=e[10],m=e[11],v=e[12],q=e[13],y=e[14],g=e[15],x=f*y*h-q*p*h+q*l*m-a*y*m-f*l*g+a*p*g,S=v*p*h-d*y*h-v*l*m+o*y*m+d*l*g-o*p*g,M=d*q*h-v*f*h+v*a*m-o*q*m-d*a*g+o*f*g,R=v*f*l-d*q*l-v*a*p+o*q*p+d*a*y-o*f*y,C=t*x+i*S+r*M+s*R;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=x*P,e[1]=(q*p*s-f*y*s-q*r*m+i*y*m+f*r*g-i*p*g)*P,e[2]=(a*y*s-q*l*s+q*r*h-i*y*h-a*r*g+i*l*g)*P,e[3]=(f*l*s-a*p*s-f*r*h+i*p*h+a*r*m-i*l*m)*P,e[4]=S*P,e[5]=(d*y*s-v*p*s+v*r*m-t*y*m-d*r*g+t*p*g)*P,e[6]=(v*l*s-o*y*s-v*r*h+t*y*h+o*r*g-t*l*g)*P,e[7]=(o*p*s-d*l*s+d*r*h-t*p*h-o*r*m+t*l*m)*P,e[8]=M*P,e[9]=(v*f*s-d*q*s-v*i*m+t*q*m+d*i*g-t*f*g)*P,e[10]=(o*q*s-v*a*s+v*i*h-t*q*h-o*i*g+t*a*g)*P,e[11]=(d*a*s-o*f*s-d*i*h+t*f*h+o*i*m-t*a*m)*P,e[12]=R*P,e[13]=(d*q*r-v*f*r+v*i*p-t*q*p-d*i*y+t*f*y)*P,e[14]=(v*a*r-o*q*r-v*i*l+t*q*l+o*i*y-t*a*y)*P,e[15]=(o*f*r-d*a*r+d*i*l-t*f*l-o*i*p+t*a*p)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,h=s*o,d=s*a;return this.set(h*o+i,h*a-r*l,h*l+r*a,0,h*a+r*l,d*a+i,d*l-r*o,0,h*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,h=s+s,d=o+o,f=a+a,p=s*h,m=s*d,v=s*f,q=o*d,y=o*f,g=a*f,x=l*h,S=l*d,M=l*f,R=i.x,C=i.y,P=i.z;return r[0]=(1-(q+g))*R,r[1]=(m+M)*R,r[2]=(v-S)*R,r[3]=0,r[4]=(m-M)*C,r[5]=(1-(p+g))*C,r[6]=(y+x)*C,r[7]=0,r[8]=(v+S)*P,r[9]=(y-x)*P,r[10]=(1-(p+q))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ll.set(r[0],r[1],r[2]).length();const o=Ll.set(r[4],r[5],r[6]).length(),a=Ll.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ur.copy(this);const h=1/s,d=1/o,f=1/a;return Ur.elements[0]*=h,Ur.elements[1]*=h,Ur.elements[2]*=h,Ur.elements[4]*=d,Ur.elements[5]*=d,Ur.elements[6]*=d,Ur.elements[8]*=f,Ur.elements[9]*=f,Ur.elements[10]*=f,t.setFromRotationMatrix(Ur),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=fs){const l=this.elements,h=2*s/(t-e),d=2*s/(i-r),f=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===fs)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Kh)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=h,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=fs){const l=this.elements,h=1/(t-e),d=1/(i-r),f=1/(o-s),p=(t+e)*h,m=(i+r)*d;let v,q;if(a===fs)v=(o+s)*f,q=-2*f;else if(a===Kh)v=s*f,q=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*h,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=q,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ll=new U,Ur=new tt,$C=new U(0,0,0),eT=new U(1,1,1),_o=new U,Gf=new U,ji=new U,Q9=new tt,Z9=new Vn;class or{constructor(e=0,t=0,i=0,r=or.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],h=r[5],d=r[9],f=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,h),this._z=0);break;case"YXZ":this._x=Math.asin(-vn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,h)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(vn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-vn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,h),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,h),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Q9.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Q9,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Z9.setFromEuler(this),this.setFromQuaternion(Z9,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}or.DEFAULT_ORDER="XYZ";class Xa{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let tT=0;const $9=new U,Dl=new Vn,Rs=new tt,Vf=new U,zu=new U,nT=new U,iT=new Vn,e7=new U(1,0,0),t7=new U(0,1,0),n7=new U(0,0,1),i7={type:"added"},rT={type:"removed"},Fl={type:"childadded",child:null},g2={type:"childremoved",child:null};class Lt extends to{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tT++}),this.uuid=rr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const e=new U,t=new or,i=new Vn,r=new U(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new tt},normalMatrix:{value:new _t}}),this.matrix=new tt,this.matrixWorld=new tt,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Xa,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Dl.setFromAxisAngle(e,t),this.quaternion.multiply(Dl),this}rotateOnWorldAxis(e,t){return Dl.setFromAxisAngle(e,t),this.quaternion.premultiply(Dl),this}rotateX(e){return this.rotateOnAxis(e7,e)}rotateY(e){return this.rotateOnAxis(t7,e)}rotateZ(e){return this.rotateOnAxis(n7,e)}translateOnAxis(e,t){return $9.copy(e).applyQuaternion(this.quaternion),this.position.add($9.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(e7,e)}translateY(e){return this.translateOnAxis(t7,e)}translateZ(e){return this.translateOnAxis(n7,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Rs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Vf.copy(e):Vf.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),zu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rs.lookAt(zu,Vf,this.up):Rs.lookAt(Vf,zu,this.up),this.quaternion.setFromRotationMatrix(Rs),r&&(Rs.extractRotation(r.matrixWorld),Dl.setFromRotationMatrix(Rs),this.quaternion.premultiply(Dl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(i7),Fl.child=e,this.dispatchEvent(Fl),Fl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(rT),g2.child=e,this.dispatchEvent(g2),g2.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Rs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Rs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Rs),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(i7),Fl.child=e,this.dispatchEvent(Fl),Fl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zu,e,nT),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zu,iT,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let h=0,d=l.length;h<d;h++){const f=l[h];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,h=this.material.length;l<h;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),h=o(e.textures),d=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const h in a){const d=a[h];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Lt.DEFAULT_UP=new U(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Or=new U,Ps=new U,_2=new U,bs=new U,Ul=new U,Ol=new U,r7=new U,v2=new U,y2=new U,x2=new U;class Zi{constructor(e=new U,t=new U,i=new U){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Or.subVectors(e,t),r.cross(Or);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Or.subVectors(r,t),Ps.subVectors(i,t),_2.subVectors(e,t);const o=Or.dot(Or),a=Or.dot(Ps),l=Or.dot(_2),h=Ps.dot(Ps),d=Ps.dot(_2),f=o*h-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(h*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,bs)===null?!1:bs.x>=0&&bs.y>=0&&bs.x+bs.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,bs)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,bs.x),l.addScaledVector(o,bs.y),l.addScaledVector(a,bs.z),l)}static isFrontFacing(e,t,i,r){return Or.subVectors(i,t),Ps.subVectors(e,t),Or.cross(Ps).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Or.subVectors(this.c,this.b),Ps.subVectors(this.a,this.b),Or.cross(Ps).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Zi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Zi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Ul.subVectors(r,i),Ol.subVectors(s,i),v2.subVectors(e,i);const l=Ul.dot(v2),h=Ol.dot(v2);if(l<=0&&h<=0)return t.copy(i);y2.subVectors(e,r);const d=Ul.dot(y2),f=Ol.dot(y2);if(d>=0&&f<=d)return t.copy(r);const p=l*f-d*h;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Ul,o);x2.subVectors(e,s);const m=Ul.dot(x2),v=Ol.dot(x2);if(v>=0&&m<=v)return t.copy(s);const q=m*h-l*v;if(q<=0&&h>=0&&v<=0)return a=h/(h-v),t.copy(i).addScaledVector(Ol,a);const y=d*v-m*f;if(y<=0&&f-d>=0&&m-v>=0)return r7.subVectors(s,r),a=(f-d)/(f-d+(m-v)),t.copy(r).addScaledVector(r7,a);const g=1/(y+q+p);return o=q*g,a=p*g,t.copy(i).addScaledVector(Ul,o).addScaledVector(Ol,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Iq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vo={h:0,s:0,l:0},Wf={h:0,s:0,l:0};function q2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Fe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ar){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Gt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Gt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Gt.workingColorSpace){if(e=g6(e,1),t=vn(t,0,1),i=vn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=q2(o,s,e+1/3),this.g=q2(o,s,e),this.b=q2(o,s,e-1/3)}return Gt.toWorkingColorSpace(this,r),this}setStyle(e,t=Ar){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ar){const i=Iq[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bc(e.r),this.g=Bc(e.g),this.b=Bc(e.b),this}copyLinearToSRGB(e){return this.r=l2(e.r),this.g=l2(e.g),this.b=l2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ar){return Gt.fromWorkingColorSpace(li.copy(this),e),Math.round(vn(li.r*255,0,255))*65536+Math.round(vn(li.g*255,0,255))*256+Math.round(vn(li.b*255,0,255))}getHexString(e=Ar){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gt.workingColorSpace){Gt.fromWorkingColorSpace(li.copy(this),t);const i=li.r,r=li.g,s=li.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,h;const d=(a+o)/2;if(a===o)l=0,h=0;else{const f=o-a;switch(h=d<=.5?f/(o+a):f/(2-o-a),o){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=h,e.l=d,e}getRGB(e,t=Gt.workingColorSpace){return Gt.fromWorkingColorSpace(li.copy(this),t),e.r=li.r,e.g=li.g,e.b=li.b,e}getStyle(e=Ar){Gt.fromWorkingColorSpace(li.copy(this),e);const t=li.r,i=li.g,r=li.b;return e!==Ar?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(vo),this.setHSL(vo.h+e,vo.s+t,vo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(vo),e.getHSL(Wf);const i=qh(vo.h,Wf.h,t),r=qh(vo.s,Wf.s,t),s=qh(vo.l,Wf.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const li=new Fe;Fe.NAMES=Iq;let sT=0;class bn extends to{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sT++}),this.uuid=rr(),this.name="",this.type="Material",this.blending=Va,this.side=Yr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Tp,this.blendDst=Rp,this.blendEquation=To,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Fe(0,0,0),this.blendAlpha=0,this.depthFunc=Hh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=z4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ta,this.stencilZFail=Ta,this.stencilZPass=Ta,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Va&&(i.blending=this.blending),this.side!==Yr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Tp&&(i.blendSrc=this.blendSrc),this.blendDst!==Rp&&(i.blendDst=this.blendDst),this.blendEquation!==To&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Hh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==z4&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ta&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ta&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ta&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class nr extends bn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new or,this.combine=ud,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ns=oT();function oT(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const h=l-127;h<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):h<-14?(i[l]=1024>>-h-14,i[l|256]=1024>>-h-14|32768,r[l]=-h-1,r[l|256]=-h-1):h<=15?(i[l]=h+15<<10,i[l|256]=h+15<<10|32768,r[l]=13,r[l|256]=13):h<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let h=l<<13,d=0;for(;!(h&8388608);)h<<=1,d-=8388608;h&=-8388609,d+=947912704,s[l]=h|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ii(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=vn(n,-65504,65504),Ns.floatView[0]=n;const e=Ns.uint32View[0],t=e>>23&511;return Ns.baseTable[t]+((e&8388607)>>Ns.shiftTable[t])}function lh(n){const e=n>>10;return Ns.uint32View[0]=Ns.mantissaTable[Ns.offsetTable[e]+(n&1023)]+Ns.exponentTable[e],Ns.floatView[0]}const aT={toHalfFloat:Ii,fromHalfFloat:lh},Rn=new U,Xf=new pe;class Pt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Yh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=tr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return v6("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Xf.fromBufferAttribute(this,t),Xf.applyMatrix3(e),this.setXY(t,Xf.x,Xf.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.applyMatrix3(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.applyMatrix4(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.applyNormalMatrix(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.transformDirection(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ai(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=vt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ai(t,this.array)),t}setX(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ai(t,this.array)),t}setY(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ai(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ai(t,this.array)),t}setW(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Yh&&(e.usage=this.usage),e}}class lT extends Pt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class cT extends Pt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class uT extends Pt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class hT extends Pt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class x6 extends Pt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class dT extends Pt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class q6 extends Pt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class fT extends Pt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=lh(this.array[e*this.itemSize]);return this.normalized&&(t=Ai(t,this.array)),t}setX(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize]=Ii(t),this}getY(e){let t=lh(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ai(t,this.array)),t}setY(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+1]=Ii(t),this}getZ(e){let t=lh(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ai(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+2]=Ii(t),this}getW(e){let t=lh(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ai(t,this.array)),t}setW(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+3]=Ii(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array)),this.array[e+0]=Ii(t),this.array[e+1]=Ii(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.array[e+0]=Ii(t),this.array[e+1]=Ii(i),this.array[e+2]=Ii(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.array[e+0]=Ii(t),this.array[e+1]=Ii(i),this.array[e+2]=Ii(r),this.array[e+3]=Ii(s),this}}class Ke extends Pt{constructor(e,t,i){super(new Float32Array(e),t,i)}}let pT=0;const vr=new tt,A2=new Lt,Nl=new U,Yi=new Qn,Hu=new Qn,zn=new U;class dt extends to{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:pT++}),this.uuid=rr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Rq(e)?q6:x6)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new _t().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vr.makeRotationFromQuaternion(e),this.applyMatrix4(vr),this}rotateX(e){return vr.makeRotationX(e),this.applyMatrix4(vr),this}rotateY(e){return vr.makeRotationY(e),this.applyMatrix4(vr),this}rotateZ(e){return vr.makeRotationZ(e),this.applyMatrix4(vr),this}translate(e,t,i){return vr.makeTranslation(e,t,i),this.applyMatrix4(vr),this}scale(e,t,i){return vr.makeScale(e,t,i),this.applyMatrix4(vr),this}lookAt(e){return A2.lookAt(e),A2.updateMatrix(),this.applyMatrix4(A2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nl).negate(),this.translate(Nl.x,Nl.y,Nl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ke(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new U(-1/0,-1/0,-1/0),new U(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Yi.setFromBufferAttribute(s),this.morphTargetsRelative?(zn.addVectors(this.boundingBox.min,Yi.min),this.boundingBox.expandByPoint(zn),zn.addVectors(this.boundingBox.max,Yi.max),this.boundingBox.expandByPoint(zn)):(this.boundingBox.expandByPoint(Yi.min),this.boundingBox.expandByPoint(Yi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new U,1/0);return}if(e){const i=this.boundingSphere.center;if(Yi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Hu.setFromBufferAttribute(a),this.morphTargetsRelative?(zn.addVectors(Yi.min,Hu.min),Yi.expandByPoint(zn),zn.addVectors(Yi.max,Hu.max),Yi.expandByPoint(zn)):(Yi.expandByPoint(Hu.min),Yi.expandByPoint(Hu.max))}Yi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)zn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(zn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let h=0,d=a.count;h<d;h++)zn.fromBufferAttribute(a,h),l&&(Nl.fromBufferAttribute(e,h),zn.add(Nl)),r=Math.max(r,i.distanceToSquared(zn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pt(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let B=0;B<i.count;B++)a[B]=new U,l[B]=new U;const h=new U,d=new U,f=new U,p=new pe,m=new pe,v=new pe,q=new U,y=new U;function g(B,b,T){h.fromBufferAttribute(i,B),d.fromBufferAttribute(i,b),f.fromBufferAttribute(i,T),p.fromBufferAttribute(s,B),m.fromBufferAttribute(s,b),v.fromBufferAttribute(s,T),d.sub(h),f.sub(h),m.sub(p),v.sub(p);const D=1/(m.x*v.y-v.x*m.y);isFinite(D)&&(q.copy(d).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(D),y.copy(f).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(D),a[B].add(q),a[b].add(q),a[T].add(q),l[B].add(y),l[b].add(y),l[T].add(y))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let B=0,b=x.length;B<b;++B){const T=x[B],D=T.start,N=T.count;for(let O=D,J=D+N;O<J;O+=3)g(e.getX(O+0),e.getX(O+1),e.getX(O+2))}const S=new U,M=new U,R=new U,C=new U;function P(B){R.fromBufferAttribute(r,B),C.copy(R);const b=a[B];S.copy(b),S.sub(R.multiplyScalar(R.dot(b))).normalize(),M.crossVectors(C,b);const D=M.dot(l[B])<0?-1:1;o.setXYZW(B,S.x,S.y,S.z,D)}for(let B=0,b=x.length;B<b;++B){const T=x[B],D=T.start,N=T.count;for(let O=D,J=D+N;O<J;O+=3)P(e.getX(O+0)),P(e.getX(O+1)),P(e.getX(O+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Pt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new U,s=new U,o=new U,a=new U,l=new U,h=new U,d=new U,f=new U;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),q=e.getX(p+1),y=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,q),o.fromBufferAttribute(t,y),d.subVectors(o,s),f.subVectors(r,s),d.cross(f),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,q),h.fromBufferAttribute(i,y),a.add(d),l.add(d),h.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(q,l.x,l.y,l.z),i.setXYZ(y,h.x,h.y,h.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),f.subVectors(r,s),d.cross(f),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)zn.fromBufferAttribute(e,t),zn.normalize(),e.setXYZ(t,zn.x,zn.y,zn.z)}toNonIndexed(){function e(a,l){const h=a.array,d=a.itemSize,f=a.normalized,p=new h.constructor(l.length*d);let m=0,v=0;for(let q=0,y=l.length;q<y;q++){a.isInterleavedBufferAttribute?m=l[q]*a.data.stride+a.offset:m=l[q]*d;for(let g=0;g<d;g++)p[v++]=h[m++]}return new Pt(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],h=e(l,i);t.setAttribute(a,h)}const s=this.morphAttributes;for(const a in s){const l=[],h=s[a];for(let d=0,f=h.length;d<f;d++){const p=h[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const h=o[a];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const h in l)l[h]!==void 0&&(e[h]=l[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const h=i[l];e.data.attributes[l]=h.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const h=this.morphAttributes[l],d=[];for(let f=0,p=h.length;f<p;f++){const m=h[f];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const h in r){const d=r[h];this.setAttribute(h,d.clone(t))}const s=e.morphAttributes;for(const h in s){const d=[],f=s[h];for(let p=0,m=f.length;p<m;p++)d.push(f[p].clone(t));this.morphAttributes[h]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,d=o.length;h<d;h++){const f=o[h];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const s7=new tt,fa=new eu,Jf=new Wn,o7=new U,kl=new U,zl=new U,Hl=new U,S2=new U,jf=new U,Yf=new pe,Kf=new pe,Qf=new pe,a7=new U,l7=new U,c7=new U,Zf=new U,$f=new U;class xn extends Lt{constructor(e=new dt,t=new nr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){jf.set(0,0,0);for(let l=0,h=s.length;l<h;l++){const d=a[l],f=s[l];d!==0&&(S2.fromBufferAttribute(f,e),o?jf.addScaledVector(S2,d):jf.addScaledVector(S2.sub(t),d))}t.add(jf)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Jf.copy(i.boundingSphere),Jf.applyMatrix4(s),fa.copy(e.ray).recast(e.near),!(Jf.containsPoint(fa.origin)===!1&&(fa.intersectSphere(Jf,o7)===null||fa.origin.distanceToSquared(o7)>(e.far-e.near)**2))&&(s7.copy(s).invert(),fa.copy(e.ray).applyMatrix4(s7),!(i.boundingBox!==null&&fa.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,fa)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,h=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,q=p.length;v<q;v++){const y=p[v],g=o[y.materialIndex],x=Math.max(y.start,m.start),S=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,R=S;M<R;M+=3){const C=a.getX(M),P=a.getX(M+1),B=a.getX(M+2);r=e1(this,g,e,i,h,d,f,C,P,B),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),q=Math.min(a.count,m.start+m.count);for(let y=v,g=q;y<g;y+=3){const x=a.getX(y),S=a.getX(y+1),M=a.getX(y+2);r=e1(this,o,e,i,h,d,f,x,S,M),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,q=p.length;v<q;v++){const y=p[v],g=o[y.materialIndex],x=Math.max(y.start,m.start),S=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,R=S;M<R;M+=3){const C=M,P=M+1,B=M+2;r=e1(this,g,e,i,h,d,f,C,P,B),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),q=Math.min(l.count,m.start+m.count);for(let y=v,g=q;y<g;y+=3){const x=y,S=y+1,M=y+2;r=e1(this,o,e,i,h,d,f,x,S,M),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}}}function mT(n,e,t,i,r,s,o,a){let l;if(e.side===Ei?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Yr,a),l===null)return null;$f.copy(a),$f.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo($f);return h<t.near||h>t.far?null:{distance:h,point:$f.clone(),object:n}}function e1(n,e,t,i,r,s,o,a,l,h){n.getVertexPosition(a,kl),n.getVertexPosition(l,zl),n.getVertexPosition(h,Hl);const d=mT(n,e,t,i,kl,zl,Hl,Zf);if(d){r&&(Yf.fromBufferAttribute(r,a),Kf.fromBufferAttribute(r,l),Qf.fromBufferAttribute(r,h),d.uv=Zi.getInterpolation(Zf,kl,zl,Hl,Yf,Kf,Qf,new pe)),s&&(Yf.fromBufferAttribute(s,a),Kf.fromBufferAttribute(s,l),Qf.fromBufferAttribute(s,h),d.uv1=Zi.getInterpolation(Zf,kl,zl,Hl,Yf,Kf,Qf,new pe)),o&&(a7.fromBufferAttribute(o,a),l7.fromBufferAttribute(o,l),c7.fromBufferAttribute(o,h),d.normal=Zi.getInterpolation(Zf,kl,zl,Hl,a7,l7,c7,new U),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c:h,normal:new U,materialIndex:0};Zi.getNormal(kl,zl,Hl,f.normal),d.face=f}return d}class hl extends dt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],h=[],d=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ke(h,3)),this.setAttribute("normal",new Ke(d,3)),this.setAttribute("uv",new Ke(f,2));function v(q,y,g,x,S,M,R,C,P,B,b){const T=M/P,D=R/B,N=M/2,O=R/2,J=C/2,X=P+1,W=B+1;let te=0,L=0;const V=new U;for(let H=0;H<W;H++){const Y=H*D-O;for(let le=0;le<X;le++){const qe=le*T-N;V[q]=qe*x,V[y]=Y*S,V[g]=J,h.push(V.x,V.y,V.z),V[q]=0,V[y]=0,V[g]=C>0?1:-1,d.push(V.x,V.y,V.z),f.push(le/P),f.push(1-H/B),te+=1}}for(let H=0;H<B;H++)for(let Y=0;Y<P;Y++){const le=p+Y+X*H,qe=p+Y+X*(H+1),ee=p+(Y+1)+X*(H+1),fe=p+(Y+1)+X*H;l.push(le,qe,fe),l.push(qe,ee,fe),L+=6}a.addGroup(m,L,b),m+=L,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Xc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function xi(n){const e={};for(let t=0;t<n.length;t++){const i=Xc(n[t]);for(const r in i)e[r]=i[r]}return e}function gT(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Lq(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Gt.workingColorSpace}const Dq={clone:Xc,merge:xi};var _T=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vT=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class br extends bn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_T,this.fragmentShader=vT,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Xc(e.uniforms),this.uniformsGroups=gT(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}let tu=class extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tt,this.projectionMatrix=new tt,this.projectionMatrixInverse=new tt,this.coordinateSystem=fs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};const yo=new U,u7=new pe,h7=new pe;class yn extends tu{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Wc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Wc*2*Math.atan(Math.tan(Wa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){yo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(yo.x,yo.y).multiplyScalar(-e/yo.z),yo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(yo.x,yo.y).multiplyScalar(-e/yo.z)}getViewSize(e,t){return this.getViewBounds(e,u7,h7),t.subVectors(h7,u7)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Wa*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,h=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/h,r*=o.width/l,i*=o.height/h}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Gl=-90,Vl=1;class Fq extends Lt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new yn(Gl,Vl,e,t);r.layers=this.layers,this.add(r);const s=new yn(Gl,Vl,e,t);s.layers=this.layers,this.add(s);const o=new yn(Gl,Vl,e,t);o.layers=this.layers,this.add(o);const a=new yn(Gl,Vl,e,t);a.layers=this.layers,this.add(a);const l=new yn(Gl,Vl,e,t);l.layers=this.layers,this.add(l);const h=new yn(Gl,Vl,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const h of t)this.remove(h);if(e===fs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Kh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,h,d]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const q=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,h),i.texture.generateMipmaps=q,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(f,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class dd extends nn{constructor(e,t,i,r,s,o,a,l,h,d){e=e!==void 0?e:[],t=t!==void 0?t:Qs,super(e,t,i,r,s,o,a,l,h,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Uq extends Ni{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new dd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Jt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new hl(5,5,5),s=new br({name:"CubemapFromEquirect",uniforms:Xc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ei,blending:gs});s.uniforms.tEquirect.value=t;const o=new xn(r,s),a=t.minFilter;return t.minFilter===Cr&&(t.minFilter=Jt),new Fq(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const M2=new U,yT=new U,xT=new _t;class Us{constructor(e=new U(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=M2.subVectors(i,t).cross(yT.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(M2),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||xT.getNormalMatrix(e),r=this.coplanarPoint(M2).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pa=new Wn,t1=new U;class fd{constructor(e=new Us,t=new Us,i=new Us,r=new Us,s=new Us,o=new Us){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=fs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],h=r[4],d=r[5],f=r[6],p=r[7],m=r[8],v=r[9],q=r[10],y=r[11],g=r[12],x=r[13],S=r[14],M=r[15];if(i[0].setComponents(l-s,p-h,y-m,M-g).normalize(),i[1].setComponents(l+s,p+h,y+m,M+g).normalize(),i[2].setComponents(l+o,p+d,y+v,M+x).normalize(),i[3].setComponents(l-o,p-d,y-v,M-x).normalize(),i[4].setComponents(l-a,p-f,y-q,M-S).normalize(),t===fs)i[5].setComponents(l+a,p+f,y+q,M+S).normalize();else if(t===Kh)i[5].setComponents(a,f,q,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),pa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pa)}intersectsSprite(e){return pa.center.set(0,0,0),pa.radius=.7071067811865476,pa.applyMatrix4(e.matrixWorld),this.intersectsSphere(pa)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(t1.x=r.normal.x>0?e.max.x:e.min.x,t1.y=r.normal.y>0?e.max.y:e.min.y,t1.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(t1)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Oq(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function qT(n){const e=new WeakMap;function t(a,l){const h=a.array,d=a.usage,f=h.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,h,d),a.onUploadCallback();let m;if(h instanceof Float32Array)m=n.FLOAT;else if(h instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)m=n.SHORT;else if(h instanceof Uint32Array)m=n.UNSIGNED_INT;else if(h instanceof Int32Array)m=n.INT;else if(h instanceof Int8Array)m=n.BYTE;else if(h instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:a.version,size:f}}function i(a,l,h){const d=l.array,f=l._updateRange,p=l.updateRanges;if(n.bindBuffer(h,a),f.count===-1&&p.length===0&&n.bufferSubData(h,0,d),p.length!==0){for(let m=0,v=p.length;m<v;m++){const q=p[m];n.bufferSubData(h,q.start*d.BYTES_PER_ELEMENT,d,q.start,q.count)}l.clearUpdateRanges()}f.count!==-1&&(n.bufferSubData(h,f.offset*d.BYTES_PER_ELEMENT,d,f.offset,f.count),f.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const h=e.get(a);if(h===void 0)e.set(a,t(a,l));else if(h.version<a.version){if(h.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,a,l),h.version=a.version}}return{get:r,remove:s,update:o}}class nu extends dt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),h=a+1,d=l+1,f=e/a,p=t/l,m=[],v=[],q=[],y=[];for(let g=0;g<d;g++){const x=g*p-o;for(let S=0;S<h;S++){const M=S*f-s;v.push(M,-x,0),q.push(0,0,1),y.push(S/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const S=x+h*g,M=x+h*(g+1),R=x+1+h*(g+1),C=x+1+h*g;m.push(S,M,C),m.push(M,R,C)}this.setIndex(m),this.setAttribute("position",new Ke(v,3)),this.setAttribute("normal",new Ke(q,3)),this.setAttribute("uv",new Ke(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.width,e.height,e.widthSegments,e.heightSegments)}}var AT=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ST=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,MT=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ET=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wT=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,CT=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,TT=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,RT=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,PT=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,bT=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,BT=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,IT=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,LT=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,DT=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,FT=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,UT=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,OT=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,NT=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kT=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,zT=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,HT=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,GT=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,VT=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,WT=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,XT=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,JT=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jT=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,YT=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,KT=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QT=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ZT="gl_FragColor = linearToOutputTexel( gl_FragColor );",$T=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,eR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,tR=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,nR=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,iR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,rR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,sR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,oR=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,aR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,lR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,cR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,uR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hR=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,dR=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,pR=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,mR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,gR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_R=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,yR=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,xR=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qR=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,AR=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,SR=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,MR=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ER=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wR=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,CR=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,TR=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,RR=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,PR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,bR=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BR=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,IR=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,LR=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,DR=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,FR=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UR=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,OR=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,NR=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,kR=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,HR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GR=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,VR=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,WR=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,XR=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,JR=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,jR=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,YR=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,KR=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,QR=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ZR=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,$R=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,eP=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,tP=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,nP=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,iP=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,rP=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,sP=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,oP=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,aP=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,lP=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cP=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,uP=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hP=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,dP=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fP=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,pP=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,mP=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,gP=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,_P=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,xP=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qP=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,AP=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,SP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,MP=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wP=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CP=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,TP=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,RP=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,PP=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,bP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BP=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IP=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LP=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DP=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,FP=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UP=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OP=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NP=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,kP=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zP=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,HP=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,GP=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VP=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WP=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,XP=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JP=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jP=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YP=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,KP=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,QP=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZP=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,$P=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,eb=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,qt={alphahash_fragment:AT,alphahash_pars_fragment:ST,alphamap_fragment:MT,alphamap_pars_fragment:ET,alphatest_fragment:wT,alphatest_pars_fragment:CT,aomap_fragment:TT,aomap_pars_fragment:RT,batching_pars_vertex:PT,batching_vertex:bT,begin_vertex:BT,beginnormal_vertex:IT,bsdfs:LT,iridescence_fragment:DT,bumpmap_pars_fragment:FT,clipping_planes_fragment:UT,clipping_planes_pars_fragment:OT,clipping_planes_pars_vertex:NT,clipping_planes_vertex:kT,color_fragment:zT,color_pars_fragment:HT,color_pars_vertex:GT,color_vertex:VT,common:WT,cube_uv_reflection_fragment:XT,defaultnormal_vertex:JT,displacementmap_pars_vertex:jT,displacementmap_vertex:YT,emissivemap_fragment:KT,emissivemap_pars_fragment:QT,colorspace_fragment:ZT,colorspace_pars_fragment:$T,envmap_fragment:eR,envmap_common_pars_fragment:tR,envmap_pars_fragment:nR,envmap_pars_vertex:iR,envmap_physical_pars_fragment:pR,envmap_vertex:rR,fog_vertex:sR,fog_pars_vertex:oR,fog_fragment:aR,fog_pars_fragment:lR,gradientmap_pars_fragment:cR,lightmap_pars_fragment:uR,lights_lambert_fragment:hR,lights_lambert_pars_fragment:dR,lights_pars_begin:fR,lights_toon_fragment:mR,lights_toon_pars_fragment:gR,lights_phong_fragment:_R,lights_phong_pars_fragment:vR,lights_physical_fragment:yR,lights_physical_pars_fragment:xR,lights_fragment_begin:qR,lights_fragment_maps:AR,lights_fragment_end:SR,logdepthbuf_fragment:MR,logdepthbuf_pars_fragment:ER,logdepthbuf_pars_vertex:wR,logdepthbuf_vertex:CR,map_fragment:TR,map_pars_fragment:RR,map_particle_fragment:PR,map_particle_pars_fragment:bR,metalnessmap_fragment:BR,metalnessmap_pars_fragment:IR,morphinstance_vertex:LR,morphcolor_vertex:DR,morphnormal_vertex:FR,morphtarget_pars_vertex:UR,morphtarget_vertex:OR,normal_fragment_begin:NR,normal_fragment_maps:kR,normal_pars_fragment:zR,normal_pars_vertex:HR,normal_vertex:GR,normalmap_pars_fragment:VR,clearcoat_normal_fragment_begin:WR,clearcoat_normal_fragment_maps:XR,clearcoat_pars_fragment:JR,iridescence_pars_fragment:jR,opaque_fragment:YR,packing:KR,premultiplied_alpha_fragment:QR,project_vertex:ZR,dithering_fragment:$R,dithering_pars_fragment:eP,roughnessmap_fragment:tP,roughnessmap_pars_fragment:nP,shadowmap_pars_fragment:iP,shadowmap_pars_vertex:rP,shadowmap_vertex:sP,shadowmask_pars_fragment:oP,skinbase_vertex:aP,skinning_pars_vertex:lP,skinning_vertex:cP,skinnormal_vertex:uP,specularmap_fragment:hP,specularmap_pars_fragment:dP,tonemapping_fragment:fP,tonemapping_pars_fragment:pP,transmission_fragment:mP,transmission_pars_fragment:gP,uv_pars_fragment:_P,uv_pars_vertex:vP,uv_vertex:yP,worldpos_vertex:xP,background_vert:qP,background_frag:AP,backgroundCube_vert:SP,backgroundCube_frag:MP,cube_vert:EP,cube_frag:wP,depth_vert:CP,depth_frag:TP,distanceRGBA_vert:RP,distanceRGBA_frag:PP,equirect_vert:bP,equirect_frag:BP,linedashed_vert:IP,linedashed_frag:LP,meshbasic_vert:DP,meshbasic_frag:FP,meshlambert_vert:UP,meshlambert_frag:OP,meshmatcap_vert:NP,meshmatcap_frag:kP,meshnormal_vert:zP,meshnormal_frag:HP,meshphong_vert:GP,meshphong_frag:VP,meshphysical_vert:WP,meshphysical_frag:XP,meshtoon_vert:JP,meshtoon_frag:jP,points_vert:YP,points_frag:KP,shadow_vert:QP,shadow_frag:ZP,sprite_vert:$P,sprite_frag:eb},Oe={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _t}},envmap:{envMap:{value:null},envMapRotation:{value:new _t},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _t}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _t}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _t},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _t},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _t},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _t}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _t}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _t}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0},uvTransform:{value:new _t}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}}},Wr={basic:{uniforms:xi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:qt.meshbasic_vert,fragmentShader:qt.meshbasic_frag},lambert:{uniforms:xi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)}}]),vertexShader:qt.meshlambert_vert,fragmentShader:qt.meshlambert_frag},phong:{uniforms:xi([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:qt.meshphong_vert,fragmentShader:qt.meshphong_frag},standard:{uniforms:xi([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qt.meshphysical_vert,fragmentShader:qt.meshphysical_frag},toon:{uniforms:xi([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Fe(0)}}]),vertexShader:qt.meshtoon_vert,fragmentShader:qt.meshtoon_frag},matcap:{uniforms:xi([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:qt.meshmatcap_vert,fragmentShader:qt.meshmatcap_frag},points:{uniforms:xi([Oe.points,Oe.fog]),vertexShader:qt.points_vert,fragmentShader:qt.points_frag},dashed:{uniforms:xi([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qt.linedashed_vert,fragmentShader:qt.linedashed_frag},depth:{uniforms:xi([Oe.common,Oe.displacementmap]),vertexShader:qt.depth_vert,fragmentShader:qt.depth_frag},normal:{uniforms:xi([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:qt.meshnormal_vert,fragmentShader:qt.meshnormal_frag},sprite:{uniforms:xi([Oe.sprite,Oe.fog]),vertexShader:qt.sprite_vert,fragmentShader:qt.sprite_frag},background:{uniforms:{uvTransform:{value:new _t},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:qt.background_vert,fragmentShader:qt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _t}},vertexShader:qt.backgroundCube_vert,fragmentShader:qt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qt.cube_vert,fragmentShader:qt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qt.equirect_vert,fragmentShader:qt.equirect_frag},distanceRGBA:{uniforms:xi([Oe.common,Oe.displacementmap,{referencePosition:{value:new U},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qt.distanceRGBA_vert,fragmentShader:qt.distanceRGBA_frag},shadow:{uniforms:xi([Oe.lights,Oe.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:qt.shadow_vert,fragmentShader:qt.shadow_frag}};Wr.physical={uniforms:xi([Wr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _t},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _t},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _t},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _t},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _t},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _t},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _t},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _t},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _t},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _t},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _t},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _t}}]),vertexShader:qt.meshphysical_vert,fragmentShader:qt.meshphysical_frag};const n1={r:0,b:0,g:0},ma=new or,tb=new tt;function nb(n,e,t,i,r,s,o){const a=new Fe(0);let l=s===!0?0:1,h,d,f=null,p=0,m=null;function v(x){let S=x.isScene===!0?x.background:null;return S&&S.isTexture&&(S=(x.backgroundBlurriness>0?t:e).get(S)),S}function q(x){let S=!1;const M=v(x);M===null?g(a,l):M&&M.isColor&&(g(M,1),S=!0);const R=n.xr.getEnvironmentBlendMode();R==="additive"?i.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||S)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(x,S){const M=v(S);M&&(M.isCubeTexture||M.mapping===$c)?(d===void 0&&(d=new xn(new hl(1,1,1),new br({name:"BackgroundCubeMaterial",uniforms:Xc(Wr.backgroundCube.uniforms),vertexShader:Wr.backgroundCube.vertexShader,fragmentShader:Wr.backgroundCube.fragmentShader,side:Ei,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(R,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),ma.copy(S.backgroundRotation),ma.x*=-1,ma.y*=-1,ma.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(ma.y*=-1,ma.z*=-1),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(tb.makeRotationFromEuler(ma)),d.material.toneMapped=Gt.getTransfer(M.colorSpace)!==Qt,(f!==M||p!==M.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,f=M,p=M.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(h===void 0&&(h=new xn(new nu(2,2),new br({name:"BackgroundMaterial",uniforms:Xc(Wr.background.uniforms),vertexShader:Wr.background.vertexShader,fragmentShader:Wr.background.fragmentShader,side:Yr,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=M,h.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,h.material.toneMapped=Gt.getTransfer(M.colorSpace)!==Qt,M.matrixAutoUpdate===!0&&M.updateMatrix(),h.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||p!==M.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,f=M,p=M.version,m=n.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null))}function g(x,S){x.getRGB(n1,Lq(n)),i.buffers.color.setClear(n1.r,n1.g,n1.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(x,S=1){a.set(x),l=S,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,g(a,l)},render:q,addToRenderList:y}}function ib(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(T,D,N,O,J){let X=!1;const W=f(O,N,D);s!==W&&(s=W,h(s.object)),X=m(T,O,N,J),X&&v(T,O,N,J),J!==null&&e.update(J,n.ELEMENT_ARRAY_BUFFER),(X||o)&&(o=!1,M(T,D,N,O),J!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function l(){return n.createVertexArray()}function h(T){return n.bindVertexArray(T)}function d(T){return n.deleteVertexArray(T)}function f(T,D,N){const O=N.wireframe===!0;let J=i[T.id];J===void 0&&(J={},i[T.id]=J);let X=J[D.id];X===void 0&&(X={},J[D.id]=X);let W=X[O];return W===void 0&&(W=p(l()),X[O]=W),W}function p(T){const D=[],N=[],O=[];for(let J=0;J<t;J++)D[J]=0,N[J]=0,O[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:N,attributeDivisors:O,object:T,attributes:{},index:null}}function m(T,D,N,O){const J=s.attributes,X=D.attributes;let W=0;const te=N.getAttributes();for(const L in te)if(te[L].location>=0){const H=J[L];let Y=X[L];if(Y===void 0&&(L==="instanceMatrix"&&T.instanceMatrix&&(Y=T.instanceMatrix),L==="instanceColor"&&T.instanceColor&&(Y=T.instanceColor)),H===void 0||H.attribute!==Y||Y&&H.data!==Y.data)return!0;W++}return s.attributesNum!==W||s.index!==O}function v(T,D,N,O){const J={},X=D.attributes;let W=0;const te=N.getAttributes();for(const L in te)if(te[L].location>=0){let H=X[L];H===void 0&&(L==="instanceMatrix"&&T.instanceMatrix&&(H=T.instanceMatrix),L==="instanceColor"&&T.instanceColor&&(H=T.instanceColor));const Y={};Y.attribute=H,H&&H.data&&(Y.data=H.data),J[L]=Y,W++}s.attributes=J,s.attributesNum=W,s.index=O}function q(){const T=s.newAttributes;for(let D=0,N=T.length;D<N;D++)T[D]=0}function y(T){g(T,0)}function g(T,D){const N=s.newAttributes,O=s.enabledAttributes,J=s.attributeDivisors;N[T]=1,O[T]===0&&(n.enableVertexAttribArray(T),O[T]=1),J[T]!==D&&(n.vertexAttribDivisor(T,D),J[T]=D)}function x(){const T=s.newAttributes,D=s.enabledAttributes;for(let N=0,O=D.length;N<O;N++)D[N]!==T[N]&&(n.disableVertexAttribArray(N),D[N]=0)}function S(T,D,N,O,J,X,W){W===!0?n.vertexAttribIPointer(T,D,N,J,X):n.vertexAttribPointer(T,D,N,O,J,X)}function M(T,D,N,O){q();const J=O.attributes,X=N.getAttributes(),W=D.defaultAttributeValues;for(const te in X){const L=X[te];if(L.location>=0){let V=J[te];if(V===void 0&&(te==="instanceMatrix"&&T.instanceMatrix&&(V=T.instanceMatrix),te==="instanceColor"&&T.instanceColor&&(V=T.instanceColor)),V!==void 0){const H=V.normalized,Y=V.itemSize,le=e.get(V);if(le===void 0)continue;const qe=le.buffer,ee=le.type,fe=le.bytesPerElement,Ae=ee===n.INT||ee===n.UNSIGNED_INT||V.gpuType===o6;if(V.isInterleavedBufferAttribute){const ve=V.data,Ze=ve.stride,lt=V.offset;if(ve.isInstancedInterleavedBuffer){for(let je=0;je<L.locationSize;je++)g(L.location+je,ve.meshPerAttribute);T.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let je=0;je<L.locationSize;je++)y(L.location+je);n.bindBuffer(n.ARRAY_BUFFER,qe);for(let je=0;je<L.locationSize;je++)S(L.location+je,Y/L.locationSize,ee,H,Ze*fe,(lt+Y/L.locationSize*je)*fe,Ae)}else{if(V.isInstancedBufferAttribute){for(let ve=0;ve<L.locationSize;ve++)g(L.location+ve,V.meshPerAttribute);T.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let ve=0;ve<L.locationSize;ve++)y(L.location+ve);n.bindBuffer(n.ARRAY_BUFFER,qe);for(let ve=0;ve<L.locationSize;ve++)S(L.location+ve,Y/L.locationSize,ee,H,Y*fe,Y/L.locationSize*ve*fe,Ae)}}else if(W!==void 0){const H=W[te];if(H!==void 0)switch(H.length){case 2:n.vertexAttrib2fv(L.location,H);break;case 3:n.vertexAttrib3fv(L.location,H);break;case 4:n.vertexAttrib4fv(L.location,H);break;default:n.vertexAttrib1fv(L.location,H)}}}}x()}function R(){B();for(const T in i){const D=i[T];for(const N in D){const O=D[N];for(const J in O)d(O[J].object),delete O[J];delete D[N]}delete i[T]}}function C(T){if(i[T.id]===void 0)return;const D=i[T.id];for(const N in D){const O=D[N];for(const J in O)d(O[J].object),delete O[J];delete D[N]}delete i[T.id]}function P(T){for(const D in i){const N=i[D];if(N[T.id]===void 0)continue;const O=N[T.id];for(const J in O)d(O[J].object),delete O[J];delete N[T.id]}}function B(){b(),o=!0,s!==r&&(s=r,h(s.object))}function b(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:B,resetDefaultState:b,dispose:R,releaseStatesOfGeometry:C,releaseStatesOfProgram:P,initAttributes:q,enableAttribute:y,disableUnusedAttributes:x}}function rb(n,e,t){let i;function r(h){i=h}function s(h,d){n.drawArrays(i,h,d),t.update(d,i,1)}function o(h,d,f){f!==0&&(n.drawArraysInstanced(i,h,d,f),t.update(d,i,f))}function a(h,d,f){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<f;m++)this.render(h[m],d[m]);else{p.multiDrawArraysWEBGL(i,h,0,d,0,f);let m=0;for(let v=0;v<f;v++)m+=d[v];t.update(m,i,1)}}function l(h,d,f,p){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<h.length;v++)o(h[v],d[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(i,h,0,d,0,p,0,f);let v=0;for(let q=0;q<f;q++)v+=d[q];for(let q=0;q<p.length;q++)t.update(v,i,p[q])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function sb(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(C){return!(C!==Si&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(C){const P=C===ul&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==ys&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==tr&&!P)}function l(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const d=l(h);d!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",d,"instead."),h=d);const f=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),q=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),x=n.getParameter(n.MAX_VARYING_VECTORS),S=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=m>0,R=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:h,logarithmicDepthBuffer:f,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:q,maxAttributes:y,maxVertexUniforms:g,maxVaryings:x,maxFragmentUniforms:S,vertexTextures:M,maxSamples:R}}function ob(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Us,a=new _t,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||i!==0||r;return r=p,i=f.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=d(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,q=f.clipIntersection,y=f.clipShadows,g=n.get(f);if(!r||v===null||v.length===0||s&&!y)s?d(null):h();else{const x=s?0:i,S=x*4;let M=g.clippingState||null;l.value=M,M=d(v,p,S,m);for(let R=0;R!==S;++R)M[R]=t[R];g.clippingState=M,this.numIntersection=q?this.numPlanes:0,this.numPlanes+=x}};function h(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(f,p,m,v){const q=f!==null?f.length:0;let y=null;if(q!==0){if(y=l.value,v!==!0||y===null){const g=m+q*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<g)&&(y=new Float32Array(g));for(let S=0,M=m;S!==q;++S,M+=4)o.copy(f[S]).applyMatrix4(x,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=q,e.numIntersection=0,y}}function ab(n){let e=new WeakMap;function t(o,a){return a===Gh?o.mapping=Qs:a===Vh&&(o.mapping=Xo),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Gh||a===Vh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const h=new Uq(l.height);return h.fromEquirectangularTexture(n,o),e.set(o,h),o.addEventListener("dispose",r),t(h.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class $o extends tu{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,o=s+h*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const qc=4,d7=[.125,.215,.35,.446,.526,.582],ba=20,E2=new $o,f7=new Fe;let w2=null,C2=0,T2=0,R2=!1;const Ra=(1+Math.sqrt(5))/2,Wl=1/Ra,p7=[new U(-Ra,Wl,0),new U(Ra,Wl,0),new U(-Wl,0,Ra),new U(Wl,0,Ra),new U(0,Ra,-Wl),new U(0,Ra,Wl),new U(-1,1,-1),new U(1,1,-1),new U(-1,1,1),new U(1,1,1)];class G4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){w2=this._renderer.getRenderTarget(),C2=this._renderer.getActiveCubeFace(),T2=this._renderer.getActiveMipmapLevel(),R2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_7(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=g7(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(w2,C2,T2),this._renderer.xr.enabled=R2,e.scissorTest=!1,i1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Qs||e.mapping===Xo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),w2=this._renderer.getRenderTarget(),C2=this._renderer.getActiveCubeFace(),T2=this._renderer.getActiveMipmapLevel(),R2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Jt,minFilter:Jt,generateMipmaps:!1,type:ul,format:Si,colorSpace:eo,depthBuffer:!1},r=m7(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=m7(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lb(s)),this._blurMaterial=cb(s,e,t)}return r}_compileMaterial(e){const t=new xn(this._lodPlanes[0],e);this._renderer.compile(t,E2)}_sceneToCubeUV(e,t,i,r){const a=new yn(90,1,t,i),l=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(f7),d.toneMapping=_s,d.autoClear=!1;const m=new nr({name:"PMREM.Background",side:Ei,depthWrite:!1,depthTest:!1}),v=new xn(new hl,m);let q=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,q=!0):(m.color.copy(f7),q=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(h[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,h[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,h[g]));const S=this._cubeSize;i1(r,x*S,g>2?S:0,S,S),d.setRenderTarget(r),q&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=f,e.background=y}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Qs||e.mapping===Xo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=_7()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=g7());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new xn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;i1(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,E2)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=p7[(r-s-1)%p7.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new xn(this._lodPlanes[r],h),p=h.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ba-1),q=s/v,y=isFinite(s)?1+Math.floor(d*q):ba;y>ba&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${ba}`);const g=[];let x=0;for(let P=0;P<ba;++P){const B=P/q,b=Math.exp(-B*B/2);g.push(b),P===0?x+=b:P<y&&(x+=2*b)}for(let P=0;P<g.length;P++)g[P]=g[P]/x;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-i;const M=this._sizeLods[r],R=3*M*(r>S-qc?r-S+qc:0),C=4*(this._cubeSize-M);i1(t,R,C,3*M,2*M),l.setRenderTarget(t),l.render(f,E2)}}function lb(n){const e=[],t=[],i=[];let r=n;const s=n-qc+1+d7.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-qc?l=d7[o-n+qc-1]:o===0&&(l=0),i.push(l);const h=1/(a-2),d=-h,f=1+h,p=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,v=6,q=3,y=2,g=1,x=new Float32Array(q*v*m),S=new Float32Array(y*v*m),M=new Float32Array(g*v*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,B=C>2?0:-1,b=[P,B,0,P+2/3,B,0,P+2/3,B+1,0,P,B,0,P+2/3,B+1,0,P,B+1,0];x.set(b,q*v*C),S.set(p,y*v*C);const T=[C,C,C,C,C,C];M.set(T,g*v*C)}const R=new dt;R.setAttribute("position",new Pt(x,q)),R.setAttribute("uv",new Pt(S,y)),R.setAttribute("faceIndex",new Pt(M,g)),e.push(R),r>qc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function m7(n,e,t){const i=new Ni(n,e,t);return i.texture.mapping=$c,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function i1(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function cb(n,e,t){const i=new Float32Array(ba),r=new U(0,1,0);return new br({name:"SphericalGaussianBlur",defines:{n:ba,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:A6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:gs,depthTest:!1,depthWrite:!1})}function g7(){return new br({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:A6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:gs,depthTest:!1,depthWrite:!1})}function _7(){return new br({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:A6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:gs,depthTest:!1,depthWrite:!1})}function A6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ub(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,h=l===Gh||l===Vh,d=l===Qs||l===Xo;if(h||d){let f=e.get(a);const p=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new G4(n)),f=h?t.fromEquirectangular(a,f):t.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const m=a.image;return h&&m&&m.height>0||d&&m&&r(m)?(t===null&&(t=new G4(n)),f=h?t.fromEquirectangular(a):t.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",s),f.texture):null}}}return a}function r(a){let l=0;const h=6;for(let d=0;d<h;d++)a[d]!==void 0&&l++;return l===h}function s(a){const l=a.target;l.removeEventListener("dispose",s);const h=e.get(l);h!==void 0&&(e.delete(l),h.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function hb(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&v6("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function db(n,e,t,i){const r={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const q=p.morphAttributes[v];for(let y=0,g=q.length;y<g;y++)e.remove(q[y])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const q=m[v];for(let y=0,g=q.length;y<g;y++)e.update(q[y],n.ARRAY_BUFFER)}}function h(f){const p=[],m=f.index,v=f.attributes.position;let q=0;if(m!==null){const x=m.array;q=m.version;for(let S=0,M=x.length;S<M;S+=3){const R=x[S+0],C=x[S+1],P=x[S+2];p.push(R,C,C,P,P,R)}}else if(v!==void 0){const x=v.array;q=v.version;for(let S=0,M=x.length/3-1;S<M;S+=3){const R=S+0,C=S+1,P=S+2;p.push(R,C,C,P,P,R)}}else return;const y=new(Rq(p)?q6:x6)(p,1);y.version=q;const g=s.get(f);g&&e.remove(g),s.set(f,y)}function d(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&h(f)}else h(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:d}}function fb(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function h(p,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,p*o,v),t.update(m,i,v))}function d(p,m,v){if(v===0)return;const q=e.get("WEBGL_multi_draw");if(q===null)for(let y=0;y<v;y++)this.render(p[y]/o,m[y]);else{q.multiDrawElementsWEBGL(i,m,0,s,p,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];t.update(y,i,1)}}function f(p,m,v,q){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<p.length;g++)h(p[g]/o,m[g],q[g]);else{y.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,q,0,v);let g=0;for(let x=0;x<v;x++)g+=m[x];for(let x=0;x<q.length;x++)t.update(g,i,q[x])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=h,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function pb(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function mb(n,e,t){const i=new WeakMap,r=new zt;function s(o,a,l){const h=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=d!==void 0?d.length:0;let p=i.get(a);if(p===void 0||p.count!==f){let T=function(){B.dispose(),i.delete(a),a.removeEventListener("dispose",T)};var m=T;p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,q=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let M=0;v===!0&&(M=1),q===!0&&(M=2),y===!0&&(M=3);let R=a.attributes.position.count*M,C=1;R>e.maxTextureSize&&(C=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const P=new Float32Array(R*C*4*f),B=new n0(P,R,C,f);B.type=tr,B.needsUpdate=!0;const b=M*4;for(let D=0;D<f;D++){const N=g[D],O=x[D],J=S[D],X=R*C*4*D;for(let W=0;W<N.count;W++){const te=W*b;v===!0&&(r.fromBufferAttribute(N,W),P[X+te+0]=r.x,P[X+te+1]=r.y,P[X+te+2]=r.z,P[X+te+3]=0),q===!0&&(r.fromBufferAttribute(O,W),P[X+te+4]=r.x,P[X+te+5]=r.y,P[X+te+6]=r.z,P[X+te+7]=0),y===!0&&(r.fromBufferAttribute(J,W),P[X+te+8]=r.x,P[X+te+9]=r.y,P[X+te+10]=r.z,P[X+te+11]=J.itemSize===4?r.w:1)}}p={count:f,texture:B,size:new pe(R,C)},i.set(a,p),a.addEventListener("dispose",T)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let y=0;y<h.length;y++)v+=h[y];const q=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",q),l.getUniforms().setValue(n,"morphTargetInfluences",h)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function gb(n,e,t,i){let r=new WeakMap;function s(l){const h=i.render.frame,d=l.geometry,f=e.get(l,d);if(r.get(f)!==h&&(e.update(f),r.set(f,h)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==h&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,h))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==h&&(p.update(),r.set(p,h))}return f}function o(){r=new WeakMap}function a(l){const h=l.target;h.removeEventListener("dispose",a),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:s,dispose:o}}class i0 extends nn{constructor(e,t,i,r,s,o,a,l,h,d=zo){if(d!==zo&&d!==tl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===zo&&(i=$a),i===void 0&&d===tl&&(i=el),super(null,r,s,o,a,l,d,i,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mn,this.minFilter=l!==void 0?l:Mn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const Nq=new nn,kq=new i0(1,1);kq.compareFunction=m6;const zq=new n0,Hq=new y6,Gq=new dd,v7=[],y7=[],x7=new Float32Array(16),q7=new Float32Array(9),A7=new Float32Array(4);function iu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=v7[r];if(s===void 0&&(s=new Float32Array(r),v7[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Fn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Un(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function r0(n,e){let t=y7[e];t===void 0&&(t=new Int32Array(e),y7[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function _b(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function vb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2fv(this.addr,e),Un(t,e)}}function yb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fn(t,e))return;n.uniform3fv(this.addr,e),Un(t,e)}}function xb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4fv(this.addr,e),Un(t,e)}}function qb(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Un(t,e)}else{if(Fn(t,i))return;A7.set(i),n.uniformMatrix2fv(this.addr,!1,A7),Un(t,i)}}function Ab(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Un(t,e)}else{if(Fn(t,i))return;q7.set(i),n.uniformMatrix3fv(this.addr,!1,q7),Un(t,i)}}function Sb(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Un(t,e)}else{if(Fn(t,i))return;x7.set(i),n.uniformMatrix4fv(this.addr,!1,x7),Un(t,i)}}function Mb(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Eb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2iv(this.addr,e),Un(t,e)}}function wb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3iv(this.addr,e),Un(t,e)}}function Cb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4iv(this.addr,e),Un(t,e)}}function Tb(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Rb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2uiv(this.addr,e),Un(t,e)}}function Pb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3uiv(this.addr,e),Un(t,e)}}function bb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4uiv(this.addr,e),Un(t,e)}}function Bb(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?kq:Nq;t.setTexture2D(e||s,r)}function Ib(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Hq,r)}function Lb(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Gq,r)}function Db(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||zq,r)}function Fb(n){switch(n){case 5126:return _b;case 35664:return vb;case 35665:return yb;case 35666:return xb;case 35674:return qb;case 35675:return Ab;case 35676:return Sb;case 5124:case 35670:return Mb;case 35667:case 35671:return Eb;case 35668:case 35672:return wb;case 35669:case 35673:return Cb;case 5125:return Tb;case 36294:return Rb;case 36295:return Pb;case 36296:return bb;case 35678:case 36198:case 36298:case 36306:case 35682:return Bb;case 35679:case 36299:case 36307:return Ib;case 35680:case 36300:case 36308:case 36293:return Lb;case 36289:case 36303:case 36311:case 36292:return Db}}function Ub(n,e){n.uniform1fv(this.addr,e)}function Ob(n,e){const t=iu(e,this.size,2);n.uniform2fv(this.addr,t)}function Nb(n,e){const t=iu(e,this.size,3);n.uniform3fv(this.addr,t)}function kb(n,e){const t=iu(e,this.size,4);n.uniform4fv(this.addr,t)}function zb(n,e){const t=iu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Hb(n,e){const t=iu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Gb(n,e){const t=iu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Vb(n,e){n.uniform1iv(this.addr,e)}function Wb(n,e){n.uniform2iv(this.addr,e)}function Xb(n,e){n.uniform3iv(this.addr,e)}function Jb(n,e){n.uniform4iv(this.addr,e)}function jb(n,e){n.uniform1uiv(this.addr,e)}function Yb(n,e){n.uniform2uiv(this.addr,e)}function Kb(n,e){n.uniform3uiv(this.addr,e)}function Qb(n,e){n.uniform4uiv(this.addr,e)}function Zb(n,e,t){const i=this.cache,r=e.length,s=r0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Un(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Nq,s[o])}function $b(n,e,t){const i=this.cache,r=e.length,s=r0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Un(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Hq,s[o])}function eB(n,e,t){const i=this.cache,r=e.length,s=r0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Un(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Gq,s[o])}function tB(n,e,t){const i=this.cache,r=e.length,s=r0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Un(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||zq,s[o])}function nB(n){switch(n){case 5126:return Ub;case 35664:return Ob;case 35665:return Nb;case 35666:return kb;case 35674:return zb;case 35675:return Hb;case 35676:return Gb;case 5124:case 35670:return Vb;case 35667:case 35671:return Wb;case 35668:case 35672:return Xb;case 35669:case 35673:return Jb;case 5125:return jb;case 36294:return Yb;case 36295:return Kb;case 36296:return Qb;case 35678:case 36198:case 36298:case 36306:case 35682:return Zb;case 35679:case 36299:case 36307:return $b;case 35680:case 36300:case 36308:case 36293:return eB;case 36289:case 36303:case 36311:case 36292:return tB}}class iB{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Fb(t.type)}}class rB{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=nB(t.type)}}class sB{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const P2=/(\w+)(\])?(\[|\.)?/g;function S7(n,e){n.seq.push(e),n.map[e.id]=e}function oB(n,e,t){const i=n.name,r=i.length;for(P2.lastIndex=0;;){const s=P2.exec(i),o=P2.lastIndex;let a=s[1];const l=s[2]==="]",h=s[3];if(l&&(a=a|0),h===void 0||h==="["&&o+2===r){S7(t,h===void 0?new iB(a,n,e):new rB(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new sB(a),S7(t,f)),t=f}}}class np{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);oB(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function M7(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const aB=37297;let lB=0;function cB(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function uB(n){const e=Gt.getPrimaries(Gt.workingColorSpace),t=Gt.getPrimaries(n);let i;switch(e===t?i="":e===jh&&t===Jh?i="LinearDisplayP3ToLinearSRGB":e===Jh&&t===jh&&(i="LinearSRGBToLinearDisplayP3"),n){case eo:case hd:return[i,"LinearTransferOETF"];case Ar:case t0:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function E7(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+cB(n.getShaderSource(e),o)}else return r}function hB(n,e){const t=uB(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function dB(n,e){let t;switch(e){case $x:t="Linear";break;case eq:t="Reinhard";break;case tq:t="OptimizedCineon";break;case s6:t="ACESFilmic";break;case iq:t="AgX";break;case rq:t="Neutral";break;case nq:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function fB(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ch).join(`
`)}function pB(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function mB(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function ch(n){return n!==""}function w7(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function C7(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gB=/^[ \t]*#include +<([\w\d./]+)>/gm;function V4(n){return n.replace(gB,vB)}const _B=new Map;function vB(n,e){let t=qt[e];if(t===void 0){const i=_B.get(e);if(i!==void 0)t=qt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return V4(t)}const yB=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function T7(n){return n.replace(yB,xB)}function xB(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function R7(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function qB(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Qp?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===xh?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===zr&&(e="SHADOWMAP_TYPE_VSM"),e}function AB(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Qs:case Xo:e="ENVMAP_TYPE_CUBE";break;case $c:e="ENVMAP_TYPE_CUBE_UV";break}return e}function SB(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xo:e="ENVMAP_MODE_REFRACTION";break}return e}function MB(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ud:e="ENVMAP_BLENDING_MULTIPLY";break;case Qx:e="ENVMAP_BLENDING_MIX";break;case Zx:e="ENVMAP_BLENDING_ADD";break}return e}function EB(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function wB(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=qB(t),h=AB(t),d=SB(t),f=MB(t),p=EB(t),m=fB(t),v=pB(s),q=r.createProgram();let y,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(ch).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(ch).join(`
`),g.length>0&&(g+=`
`)):(y=[R7(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ch).join(`
`),g=[R7(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==_s?"#define TONE_MAPPING":"",t.toneMapping!==_s?qt.tonemapping_pars_fragment:"",t.toneMapping!==_s?dB("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",qt.colorspace_pars_fragment,hB("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ch).join(`
`)),o=V4(o),o=w7(o,t),o=C7(o,t),a=V4(a),a=w7(a,t),a=C7(a,t),o=T7(o),a=T7(a),t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",t.glslVersion===H4?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===H4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=x+y+o,M=x+g+a,R=M7(r,r.VERTEX_SHADER,S),C=M7(r,r.FRAGMENT_SHADER,M);r.attachShader(q,R),r.attachShader(q,C),t.index0AttributeName!==void 0?r.bindAttribLocation(q,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(q,0,"position"),r.linkProgram(q);function P(D){if(n.debug.checkShaderErrors){const N=r.getProgramInfoLog(q).trim(),O=r.getShaderInfoLog(R).trim(),J=r.getShaderInfoLog(C).trim();let X=!0,W=!0;if(r.getProgramParameter(q,r.LINK_STATUS)===!1)if(X=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,q,R,C);else{const te=E7(r,R,"vertex"),L=E7(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(q,r.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+N+`
`+te+`
`+L)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(O===""||J==="")&&(W=!1);W&&(D.diagnostics={runnable:X,programLog:N,vertexShader:{log:O,prefix:y},fragmentShader:{log:J,prefix:g}})}r.deleteShader(R),r.deleteShader(C),B=new np(r,q),b=mB(r,q)}let B;this.getUniforms=function(){return B===void 0&&P(this),B};let b;this.getAttributes=function(){return b===void 0&&P(this),b};let T=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return T===!1&&(T=r.getProgramParameter(q,aB)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(q),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=lB++,this.cacheKey=e,this.usedTimes=1,this.program=q,this.vertexShader=R,this.fragmentShader=C,this}let CB=0;class TB{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new RB(e),t.set(e,i)),i}}class RB{constructor(e){this.id=CB++,this.code=e,this.usedTimes=0}}function PB(n,e,t,i,r,s,o){const a=new Xa,l=new TB,h=new Set,d=[],f=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function q(b){return h.add(b),b===0?"uv":`uv${b}`}function y(b,T,D,N,O){const J=N.fog,X=O.geometry,W=b.isMeshStandardMaterial?N.environment:null,te=(b.isMeshStandardMaterial?t:e).get(b.envMap||W),L=te&&te.mapping===$c?te.image.height:null,V=v[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const H=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,Y=H!==void 0?H.length:0;let le=0;X.morphAttributes.position!==void 0&&(le=1),X.morphAttributes.normal!==void 0&&(le=2),X.morphAttributes.color!==void 0&&(le=3);let qe,ee,fe,Ae;if(V){const Ht=Wr[V];qe=Ht.vertexShader,ee=Ht.fragmentShader}else qe=b.vertexShader,ee=b.fragmentShader,l.update(b),fe=l.getVertexShaderID(b),Ae=l.getFragmentShaderID(b);const ve=n.getRenderTarget(),Ze=O.isInstancedMesh===!0,lt=O.isBatchedMesh===!0,je=!!b.map,G=!!b.matcap,me=!!te,he=!!b.aoMap,we=!!b.lightMap,Se=!!b.bumpMap,Ce=!!b.normalMap,De=!!b.displacementMap,Ne=!!b.emissiveMap,at=!!b.metalnessMap,z=!!b.roughnessMap,I=b.anisotropy>0,se=b.clearcoat>0,xe=b.dispersion>0,_e=b.iridescence>0,Me=b.sheen>0,$e=b.transmission>0,be=I&&!!b.anisotropyMap,Ue=se&&!!b.clearcoatMap,ft=se&&!!b.clearcoatNormalMap,Re=se&&!!b.clearcoatRoughnessMap,Ye=_e&&!!b.iridescenceMap,Mt=_e&&!!b.iridescenceThicknessMap,ct=Me&&!!b.sheenColorMap,ze=Me&&!!b.sheenRoughnessMap,yt=!!b.specularMap,wt=!!b.specularColorMap,rn=!!b.specularIntensityMap,j=$e&&!!b.transmissionMap,Ge=$e&&!!b.thicknessMap,ge=!!b.gradientMap,ye=!!b.alphaMap,Ie=b.alphaTest>0,ut=!!b.alphaHash,bt=!!b.extensions;let sn=_s;b.toneMapped&&(ve===null||ve.isXRRenderTarget===!0)&&(sn=n.toneMapping);const En={shaderID:V,shaderType:b.type,shaderName:b.name,vertexShader:qe,fragmentShader:ee,defines:b.defines,customVertexShaderID:fe,customFragmentShaderID:Ae,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,batching:lt,batchingColor:lt&&O._colorsTexture!==null,instancing:Ze,instancingColor:Ze&&O.instanceColor!==null,instancingMorph:Ze&&O.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:ve===null?n.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:eo,alphaToCoverage:!!b.alphaToCoverage,map:je,matcap:G,envMap:me,envMapMode:me&&te.mapping,envMapCubeUVHeight:L,aoMap:he,lightMap:we,bumpMap:Se,normalMap:Ce,displacementMap:p&&De,emissiveMap:Ne,normalMapObjectSpace:Ce&&b.normalMapType===qq,normalMapTangentSpace:Ce&&b.normalMapType===Zo,metalnessMap:at,roughnessMap:z,anisotropy:I,anisotropyMap:be,clearcoat:se,clearcoatMap:Ue,clearcoatNormalMap:ft,clearcoatRoughnessMap:Re,dispersion:xe,iridescence:_e,iridescenceMap:Ye,iridescenceThicknessMap:Mt,sheen:Me,sheenColorMap:ct,sheenRoughnessMap:ze,specularMap:yt,specularColorMap:wt,specularIntensityMap:rn,transmission:$e,transmissionMap:j,thicknessMap:Ge,gradientMap:ge,opaque:b.transparent===!1&&b.blending===Va&&b.alphaToCoverage===!1,alphaMap:ye,alphaTest:Ie,alphaHash:ut,combine:b.combine,mapUv:je&&q(b.map.channel),aoMapUv:he&&q(b.aoMap.channel),lightMapUv:we&&q(b.lightMap.channel),bumpMapUv:Se&&q(b.bumpMap.channel),normalMapUv:Ce&&q(b.normalMap.channel),displacementMapUv:De&&q(b.displacementMap.channel),emissiveMapUv:Ne&&q(b.emissiveMap.channel),metalnessMapUv:at&&q(b.metalnessMap.channel),roughnessMapUv:z&&q(b.roughnessMap.channel),anisotropyMapUv:be&&q(b.anisotropyMap.channel),clearcoatMapUv:Ue&&q(b.clearcoatMap.channel),clearcoatNormalMapUv:ft&&q(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&q(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&q(b.iridescenceMap.channel),iridescenceThicknessMapUv:Mt&&q(b.iridescenceThicknessMap.channel),sheenColorMapUv:ct&&q(b.sheenColorMap.channel),sheenRoughnessMapUv:ze&&q(b.sheenRoughnessMap.channel),specularMapUv:yt&&q(b.specularMap.channel),specularColorMapUv:wt&&q(b.specularColorMap.channel),specularIntensityMapUv:rn&&q(b.specularIntensityMap.channel),transmissionMapUv:j&&q(b.transmissionMap.channel),thicknessMapUv:Ge&&q(b.thicknessMap.channel),alphaMapUv:ye&&q(b.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Ce||I),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,pointsUvs:O.isPoints===!0&&!!X.attributes.uv&&(je||ye),fog:!!J,useFog:b.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:O.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:le,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:sn,decodeVideoTexture:je&&b.map.isVideoTexture===!0&&Gt.getTransfer(b.map.colorSpace)===Qt,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Er,flipSided:b.side===Ei,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionClipCullDistance:bt&&b.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:bt&&b.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return En.vertexUv1s=h.has(1),En.vertexUv2s=h.has(2),En.vertexUv3s=h.has(3),h.clear(),En}function g(b){const T=[];if(b.shaderID?T.push(b.shaderID):(T.push(b.customVertexShaderID),T.push(b.customFragmentShaderID)),b.defines!==void 0)for(const D in b.defines)T.push(D),T.push(b.defines[D]);return b.isRawShaderMaterial===!1&&(x(T,b),S(T,b),T.push(n.outputColorSpace)),T.push(b.customProgramCacheKey),T.join()}function x(b,T){b.push(T.precision),b.push(T.outputColorSpace),b.push(T.envMapMode),b.push(T.envMapCubeUVHeight),b.push(T.mapUv),b.push(T.alphaMapUv),b.push(T.lightMapUv),b.push(T.aoMapUv),b.push(T.bumpMapUv),b.push(T.normalMapUv),b.push(T.displacementMapUv),b.push(T.emissiveMapUv),b.push(T.metalnessMapUv),b.push(T.roughnessMapUv),b.push(T.anisotropyMapUv),b.push(T.clearcoatMapUv),b.push(T.clearcoatNormalMapUv),b.push(T.clearcoatRoughnessMapUv),b.push(T.iridescenceMapUv),b.push(T.iridescenceThicknessMapUv),b.push(T.sheenColorMapUv),b.push(T.sheenRoughnessMapUv),b.push(T.specularMapUv),b.push(T.specularColorMapUv),b.push(T.specularIntensityMapUv),b.push(T.transmissionMapUv),b.push(T.thicknessMapUv),b.push(T.combine),b.push(T.fogExp2),b.push(T.sizeAttenuation),b.push(T.morphTargetsCount),b.push(T.morphAttributeCount),b.push(T.numDirLights),b.push(T.numPointLights),b.push(T.numSpotLights),b.push(T.numSpotLightMaps),b.push(T.numHemiLights),b.push(T.numRectAreaLights),b.push(T.numDirLightShadows),b.push(T.numPointLightShadows),b.push(T.numSpotLightShadows),b.push(T.numSpotLightShadowsWithMaps),b.push(T.numLightProbes),b.push(T.shadowMapType),b.push(T.toneMapping),b.push(T.numClippingPlanes),b.push(T.numClipIntersection),b.push(T.depthPacking)}function S(b,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),b.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.skinning&&a.enable(4),T.morphTargets&&a.enable(5),T.morphNormals&&a.enable(6),T.morphColors&&a.enable(7),T.premultipliedAlpha&&a.enable(8),T.shadowMapEnabled&&a.enable(9),T.doubleSided&&a.enable(10),T.flipSided&&a.enable(11),T.useDepthPacking&&a.enable(12),T.dithering&&a.enable(13),T.transmission&&a.enable(14),T.sheen&&a.enable(15),T.opaque&&a.enable(16),T.pointsUvs&&a.enable(17),T.decodeVideoTexture&&a.enable(18),T.alphaToCoverage&&a.enable(19),b.push(a.mask)}function M(b){const T=v[b.type];let D;if(T){const N=Wr[T];D=Dq.clone(N.uniforms)}else D=b.uniforms;return D}function R(b,T){let D;for(let N=0,O=d.length;N<O;N++){const J=d[N];if(J.cacheKey===T){D=J,++D.usedTimes;break}}return D===void 0&&(D=new wB(n,T,b,s),d.push(D)),D}function C(b){if(--b.usedTimes===0){const T=d.indexOf(b);d[T]=d[d.length-1],d.pop(),b.destroy()}}function P(b){l.remove(b)}function B(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:M,acquireProgram:R,releaseProgram:C,releaseShaderCache:P,programs:d,dispose:B}}function bB(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function BB(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function P7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function b7(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(f,p,m,v,q,y){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:q,group:y},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=q,g.group=y),e++,g}function a(f,p,m,v,q,y){const g=o(f,p,m,v,q,y);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(f,p,m,v,q,y){const g=o(f,p,m,v,q,y);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function h(f,p){t.length>1&&t.sort(f||BB),i.length>1&&i.sort(p||P7),r.length>1&&r.sort(p||P7)}function d(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:h}}function IB(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new b7,n.set(i,[o])):r>=s.length?(o=new b7,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function LB(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new U,color:new Fe};break;case"SpotLight":t={position:new U,direction:new U,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new U,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new U,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":t={color:new Fe,position:new U,halfWidth:new U,halfHeight:new U};break}return n[e.id]=t,t}}}function DB(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let FB=0;function UB(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function OB(n){const e=new LB,t=DB(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new U);const r=new U,s=new tt,o=new tt;function a(h){let d=0,f=0,p=0;for(let b=0;b<9;b++)i.probe[b].set(0,0,0);let m=0,v=0,q=0,y=0,g=0,x=0,S=0,M=0,R=0,C=0,P=0;h.sort(UB);for(let b=0,T=h.length;b<T;b++){const D=h[b],N=D.color,O=D.intensity,J=D.distance,X=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)d+=N.r*O,f+=N.g*O,p+=N.b*O;else if(D.isLightProbe){for(let W=0;W<9;W++)i.probe[W].addScaledVector(D.sh.coefficients[W],O);P++}else if(D.isDirectionalLight){const W=e.get(D);if(W.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const te=D.shadow,L=t.get(D);L.shadowBias=te.bias,L.shadowNormalBias=te.normalBias,L.shadowRadius=te.radius,L.shadowMapSize=te.mapSize,i.directionalShadow[m]=L,i.directionalShadowMap[m]=X,i.directionalShadowMatrix[m]=D.shadow.matrix,x++}i.directional[m]=W,m++}else if(D.isSpotLight){const W=e.get(D);W.position.setFromMatrixPosition(D.matrixWorld),W.color.copy(N).multiplyScalar(O),W.distance=J,W.coneCos=Math.cos(D.angle),W.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),W.decay=D.decay,i.spot[q]=W;const te=D.shadow;if(D.map&&(i.spotLightMap[R]=D.map,R++,te.updateMatrices(D),D.castShadow&&C++),i.spotLightMatrix[q]=te.matrix,D.castShadow){const L=t.get(D);L.shadowBias=te.bias,L.shadowNormalBias=te.normalBias,L.shadowRadius=te.radius,L.shadowMapSize=te.mapSize,i.spotShadow[q]=L,i.spotShadowMap[q]=X,M++}q++}else if(D.isRectAreaLight){const W=e.get(D);W.color.copy(N).multiplyScalar(O),W.halfWidth.set(D.width*.5,0,0),W.halfHeight.set(0,D.height*.5,0),i.rectArea[y]=W,y++}else if(D.isPointLight){const W=e.get(D);if(W.color.copy(D.color).multiplyScalar(D.intensity),W.distance=D.distance,W.decay=D.decay,D.castShadow){const te=D.shadow,L=t.get(D);L.shadowBias=te.bias,L.shadowNormalBias=te.normalBias,L.shadowRadius=te.radius,L.shadowMapSize=te.mapSize,L.shadowCameraNear=te.camera.near,L.shadowCameraFar=te.camera.far,i.pointShadow[v]=L,i.pointShadowMap[v]=X,i.pointShadowMatrix[v]=D.shadow.matrix,S++}i.point[v]=W,v++}else if(D.isHemisphereLight){const W=e.get(D);W.skyColor.copy(D.color).multiplyScalar(O),W.groundColor.copy(D.groundColor).multiplyScalar(O),i.hemi[g]=W,g++}}y>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Oe.LTC_FLOAT_1,i.rectAreaLTC2=Oe.LTC_FLOAT_2):(i.rectAreaLTC1=Oe.LTC_HALF_1,i.rectAreaLTC2=Oe.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=f,i.ambient[2]=p;const B=i.hash;(B.directionalLength!==m||B.pointLength!==v||B.spotLength!==q||B.rectAreaLength!==y||B.hemiLength!==g||B.numDirectionalShadows!==x||B.numPointShadows!==S||B.numSpotShadows!==M||B.numSpotMaps!==R||B.numLightProbes!==P)&&(i.directional.length=m,i.spot.length=q,i.rectArea.length=y,i.point.length=v,i.hemi.length=g,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=S,i.spotLightMatrix.length=M+R-C,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=P,B.directionalLength=m,B.pointLength=v,B.spotLength=q,B.rectAreaLength=y,B.hemiLength=g,B.numDirectionalShadows=x,B.numPointShadows=S,B.numSpotShadows=M,B.numSpotMaps=R,B.numLightProbes=P,i.version=FB++)}function l(h,d){let f=0,p=0,m=0,v=0,q=0;const y=d.matrixWorldInverse;for(let g=0,x=h.length;g<x;g++){const S=h[g];if(S.isDirectionalLight){const M=i.directional[f];M.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(y),f++}else if(S.isSpotLight){const M=i.spot[m];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(y),m++}else if(S.isRectAreaLight){const M=i.rectArea[v];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),o.identity(),s.copy(S.matrixWorld),s.premultiply(y),o.extractRotation(s),M.halfWidth.set(S.width*.5,0,0),M.halfHeight.set(0,S.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),v++}else if(S.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),p++}else if(S.isHemisphereLight){const M=i.hemi[q];M.direction.setFromMatrixPosition(S.matrixWorld),M.direction.transformDirection(y),q++}}}return{setup:a,setupView:l,state:i}}function B7(n){const e=new OB(n),t=[],i=[];function r(d){h.camera=d,t.length=0,i.length=0}function s(d){t.push(d)}function o(d){i.push(d)}function a(){e.setup(t)}function l(d){e.setupView(t,d)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function NB(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new B7(n),e.set(r,[a])):s>=o.length?(a=new B7(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}class S6 extends bn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yq,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class M6 extends bn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const kB=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zB=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function HB(n,e,t){let i=new fd;const r=new pe,s=new pe,o=new zt,a=new S6({depthPacking:xq}),l=new M6,h={},d=t.maxTextureSize,f={[Yr]:Ei,[Ei]:Yr,[Er]:Er},p=new br({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:kB,fragmentShader:zB}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new dt;v.setAttribute("position",new Pt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const q=new xn(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Qp;let g=this.type;this.render=function(C,P,B){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;const b=n.getRenderTarget(),T=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),N=n.state;N.setBlending(gs),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);const O=g!==zr&&this.type===zr,J=g===zr&&this.type!==zr;for(let X=0,W=C.length;X<W;X++){const te=C[X],L=te.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;r.copy(L.mapSize);const V=L.getFrameExtents();if(r.multiply(V),s.copy(L.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/V.x),r.x=s.x*V.x,L.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/V.y),r.y=s.y*V.y,L.mapSize.y=s.y)),L.map===null||O===!0||J===!0){const Y=this.type!==zr?{minFilter:Mn,magFilter:Mn}:{};L.map!==null&&L.map.dispose(),L.map=new Ni(r.x,r.y,Y),L.map.texture.name=te.name+".shadowMap",L.camera.updateProjectionMatrix()}n.setRenderTarget(L.map),n.clear();const H=L.getViewportCount();for(let Y=0;Y<H;Y++){const le=L.getViewport(Y);o.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),N.viewport(o),L.updateMatrices(te,Y),i=L.getFrustum(),M(P,B,L.camera,te,this.type)}L.isPointLightShadow!==!0&&this.type===zr&&x(L,B),L.needsUpdate=!1}g=this.type,y.needsUpdate=!1,n.setRenderTarget(b,T,D)};function x(C,P){const B=e.update(q);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ni(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(P,null,B,p,q,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(P,null,B,m,q,null)}function S(C,P,B,b){let T=null;const D=B.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0)T=D;else if(T=B.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const N=T.uuid,O=P.uuid;let J=h[N];J===void 0&&(J={},h[N]=J);let X=J[O];X===void 0&&(X=T.clone(),J[O]=X,P.addEventListener("dispose",R)),T=X}if(T.visible=P.visible,T.wireframe=P.wireframe,b===zr?T.side=P.shadowSide!==null?P.shadowSide:P.side:T.side=P.shadowSide!==null?P.shadowSide:f[P.side],T.alphaMap=P.alphaMap,T.alphaTest=P.alphaTest,T.map=P.map,T.clipShadows=P.clipShadows,T.clippingPlanes=P.clippingPlanes,T.clipIntersection=P.clipIntersection,T.displacementMap=P.displacementMap,T.displacementScale=P.displacementScale,T.displacementBias=P.displacementBias,T.wireframeLinewidth=P.wireframeLinewidth,T.linewidth=P.linewidth,B.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const N=n.properties.get(T);N.light=B}return T}function M(C,P,B,b,T){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&T===zr)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,C.matrixWorld);const O=e.update(C),J=C.material;if(Array.isArray(J)){const X=O.groups;for(let W=0,te=X.length;W<te;W++){const L=X[W],V=J[L.materialIndex];if(V&&V.visible){const H=S(C,V,b,T);C.onBeforeShadow(n,C,P,B,O,H,L),n.renderBufferDirect(B,null,O,H,C,L),C.onAfterShadow(n,C,P,B,O,H,L)}}}else if(J.visible){const X=S(C,J,b,T);C.onBeforeShadow(n,C,P,B,O,X,null),n.renderBufferDirect(B,null,O,X,C,null),C.onAfterShadow(n,C,P,B,O,X,null)}}const N=C.children;for(let O=0,J=N.length;O<J;O++)M(N[O],P,B,b,T)}function R(C){C.target.removeEventListener("dispose",R);for(const B in h){const b=h[B],T=C.target.uuid;T in b&&(b[T].dispose(),delete b[T])}}}function GB(n){function e(){let j=!1;const Ge=new zt;let ge=null;const ye=new zt(0,0,0,0);return{setMask:function(Ie){ge!==Ie&&!j&&(n.colorMask(Ie,Ie,Ie,Ie),ge=Ie)},setLocked:function(Ie){j=Ie},setClear:function(Ie,ut,bt,sn,En){En===!0&&(Ie*=sn,ut*=sn,bt*=sn),Ge.set(Ie,ut,bt,sn),ye.equals(Ge)===!1&&(n.clearColor(Ie,ut,bt,sn),ye.copy(Ge))},reset:function(){j=!1,ge=null,ye.set(-1,0,0,0)}}}function t(){let j=!1,Ge=null,ge=null,ye=null;return{setTest:function(Ie){Ie?Ae(n.DEPTH_TEST):ve(n.DEPTH_TEST)},setMask:function(Ie){Ge!==Ie&&!j&&(n.depthMask(Ie),Ge=Ie)},setFunc:function(Ie){if(ge!==Ie){switch(Ie){case Vx:n.depthFunc(n.NEVER);break;case Wx:n.depthFunc(n.ALWAYS);break;case Xx:n.depthFunc(n.LESS);break;case Hh:n.depthFunc(n.LEQUAL);break;case Jx:n.depthFunc(n.EQUAL);break;case jx:n.depthFunc(n.GEQUAL);break;case Yx:n.depthFunc(n.GREATER);break;case Kx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ge=Ie}},setLocked:function(Ie){j=Ie},setClear:function(Ie){ye!==Ie&&(n.clearDepth(Ie),ye=Ie)},reset:function(){j=!1,Ge=null,ge=null,ye=null}}}function i(){let j=!1,Ge=null,ge=null,ye=null,Ie=null,ut=null,bt=null,sn=null,En=null;return{setTest:function(Ht){j||(Ht?Ae(n.STENCIL_TEST):ve(n.STENCIL_TEST))},setMask:function(Ht){Ge!==Ht&&!j&&(n.stencilMask(Ht),Ge=Ht)},setFunc:function(Ht,zi,Hi){(ge!==Ht||ye!==zi||Ie!==Hi)&&(n.stencilFunc(Ht,zi,Hi),ge=Ht,ye=zi,Ie=Hi)},setOp:function(Ht,zi,Hi){(ut!==Ht||bt!==zi||sn!==Hi)&&(n.stencilOp(Ht,zi,Hi),ut=Ht,bt=zi,sn=Hi)},setLocked:function(Ht){j=Ht},setClear:function(Ht){En!==Ht&&(n.clearStencil(Ht),En=Ht)},reset:function(){j=!1,Ge=null,ge=null,ye=null,Ie=null,ut=null,bt=null,sn=null,En=null}}}const r=new e,s=new t,o=new i,a=new WeakMap,l=new WeakMap;let h={},d={},f=new WeakMap,p=[],m=null,v=!1,q=null,y=null,g=null,x=null,S=null,M=null,R=null,C=new Fe(0,0,0),P=0,B=!1,b=null,T=null,D=null,N=null,O=null;const J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,W=0;const te=n.getParameter(n.VERSION);te.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(te)[1]),X=W>=1):te.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),X=W>=2);let L=null,V={};const H=n.getParameter(n.SCISSOR_BOX),Y=n.getParameter(n.VIEWPORT),le=new zt().fromArray(H),qe=new zt().fromArray(Y);function ee(j,Ge,ge,ye){const Ie=new Uint8Array(4),ut=n.createTexture();n.bindTexture(j,ut),n.texParameteri(j,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(j,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let bt=0;bt<ge;bt++)j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY?n.texImage3D(Ge,0,n.RGBA,1,1,ye,0,n.RGBA,n.UNSIGNED_BYTE,Ie):n.texImage2D(Ge+bt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ie);return ut}const fe={};fe[n.TEXTURE_2D]=ee(n.TEXTURE_2D,n.TEXTURE_2D,1),fe[n.TEXTURE_CUBE_MAP]=ee(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),fe[n.TEXTURE_2D_ARRAY]=ee(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),fe[n.TEXTURE_3D]=ee(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Ae(n.DEPTH_TEST),s.setFunc(Hh),Se(!1),Ce(u4),Ae(n.CULL_FACE),he(gs);function Ae(j){h[j]!==!0&&(n.enable(j),h[j]=!0)}function ve(j){h[j]!==!1&&(n.disable(j),h[j]=!1)}function Ze(j,Ge){return d[j]!==Ge?(n.bindFramebuffer(j,Ge),d[j]=Ge,j===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Ge),j===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Ge),!0):!1}function lt(j,Ge){let ge=p,ye=!1;if(j){ge=f.get(Ge),ge===void 0&&(ge=[],f.set(Ge,ge));const Ie=j.textures;if(ge.length!==Ie.length||ge[0]!==n.COLOR_ATTACHMENT0){for(let ut=0,bt=Ie.length;ut<bt;ut++)ge[ut]=n.COLOR_ATTACHMENT0+ut;ge.length=Ie.length,ye=!0}}else ge[0]!==n.BACK&&(ge[0]=n.BACK,ye=!0);ye&&n.drawBuffers(ge)}function je(j){return m!==j?(n.useProgram(j),m=j,!0):!1}const G={[To]:n.FUNC_ADD,[Cx]:n.FUNC_SUBTRACT,[Tx]:n.FUNC_REVERSE_SUBTRACT};G[Rx]=n.MIN,G[Px]=n.MAX;const me={[bx]:n.ZERO,[Bx]:n.ONE,[Ix]:n.SRC_COLOR,[Tp]:n.SRC_ALPHA,[Nx]:n.SRC_ALPHA_SATURATE,[Ux]:n.DST_COLOR,[Dx]:n.DST_ALPHA,[Lx]:n.ONE_MINUS_SRC_COLOR,[Rp]:n.ONE_MINUS_SRC_ALPHA,[Ox]:n.ONE_MINUS_DST_COLOR,[Fx]:n.ONE_MINUS_DST_ALPHA,[kx]:n.CONSTANT_COLOR,[zx]:n.ONE_MINUS_CONSTANT_COLOR,[Hx]:n.CONSTANT_ALPHA,[Gx]:n.ONE_MINUS_CONSTANT_ALPHA};function he(j,Ge,ge,ye,Ie,ut,bt,sn,En,Ht){if(j===gs){v===!0&&(ve(n.BLEND),v=!1);return}if(v===!1&&(Ae(n.BLEND),v=!0),j!==wx){if(j!==q||Ht!==B){if((y!==To||S!==To)&&(n.blendEquation(n.FUNC_ADD),y=To,S=To),Ht)switch(j){case Va:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case h4:n.blendFunc(n.ONE,n.ONE);break;case d4:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case f4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case Va:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case h4:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case d4:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case f4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}g=null,x=null,M=null,R=null,C.set(0,0,0),P=0,q=j,B=Ht}return}Ie=Ie||Ge,ut=ut||ge,bt=bt||ye,(Ge!==y||Ie!==S)&&(n.blendEquationSeparate(G[Ge],G[Ie]),y=Ge,S=Ie),(ge!==g||ye!==x||ut!==M||bt!==R)&&(n.blendFuncSeparate(me[ge],me[ye],me[ut],me[bt]),g=ge,x=ye,M=ut,R=bt),(sn.equals(C)===!1||En!==P)&&(n.blendColor(sn.r,sn.g,sn.b,En),C.copy(sn),P=En),q=j,B=!1}function we(j,Ge){j.side===Er?ve(n.CULL_FACE):Ae(n.CULL_FACE);let ge=j.side===Ei;Ge&&(ge=!ge),Se(ge),j.blending===Va&&j.transparent===!1?he(gs):he(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.blendColor,j.blendAlpha,j.premultipliedAlpha),s.setFunc(j.depthFunc),s.setTest(j.depthTest),s.setMask(j.depthWrite),r.setMask(j.colorWrite);const ye=j.stencilWrite;o.setTest(ye),ye&&(o.setMask(j.stencilWriteMask),o.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),o.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),Ne(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function Se(j){b!==j&&(j?n.frontFace(n.CW):n.frontFace(n.CCW),b=j)}function Ce(j){j!==Sx?(Ae(n.CULL_FACE),j!==T&&(j===u4?n.cullFace(n.BACK):j===Mx?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ve(n.CULL_FACE),T=j}function De(j){j!==D&&(X&&n.lineWidth(j),D=j)}function Ne(j,Ge,ge){j?(Ae(n.POLYGON_OFFSET_FILL),(N!==Ge||O!==ge)&&(n.polygonOffset(Ge,ge),N=Ge,O=ge)):ve(n.POLYGON_OFFSET_FILL)}function at(j){j?Ae(n.SCISSOR_TEST):ve(n.SCISSOR_TEST)}function z(j){j===void 0&&(j=n.TEXTURE0+J-1),L!==j&&(n.activeTexture(j),L=j)}function I(j,Ge,ge){ge===void 0&&(L===null?ge=n.TEXTURE0+J-1:ge=L);let ye=V[ge];ye===void 0&&(ye={type:void 0,texture:void 0},V[ge]=ye),(ye.type!==j||ye.texture!==Ge)&&(L!==ge&&(n.activeTexture(ge),L=ge),n.bindTexture(j,Ge||fe[j]),ye.type=j,ye.texture=Ge)}function se(){const j=V[L];j!==void 0&&j.type!==void 0&&(n.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function xe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function _e(){try{n.compressedTexImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Me(){try{n.texSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function $e(){try{n.texSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ft(){try{n.texStorage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Re(){try{n.texStorage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ye(){try{n.texImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Mt(){try{n.texImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ct(j){le.equals(j)===!1&&(n.scissor(j.x,j.y,j.z,j.w),le.copy(j))}function ze(j){qe.equals(j)===!1&&(n.viewport(j.x,j.y,j.z,j.w),qe.copy(j))}function yt(j,Ge){let ge=l.get(Ge);ge===void 0&&(ge=new WeakMap,l.set(Ge,ge));let ye=ge.get(j);ye===void 0&&(ye=n.getUniformBlockIndex(Ge,j.name),ge.set(j,ye))}function wt(j,Ge){const ye=l.get(Ge).get(j);a.get(Ge)!==ye&&(n.uniformBlockBinding(Ge,ye,j.__bindingPointIndex),a.set(Ge,ye))}function rn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},L=null,V={},d={},f=new WeakMap,p=[],m=null,v=!1,q=null,y=null,g=null,x=null,S=null,M=null,R=null,C=new Fe(0,0,0),P=0,B=!1,b=null,T=null,D=null,N=null,O=null,le.set(0,0,n.canvas.width,n.canvas.height),qe.set(0,0,n.canvas.width,n.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Ae,disable:ve,bindFramebuffer:Ze,drawBuffers:lt,useProgram:je,setBlending:he,setMaterial:we,setFlipSided:Se,setCullFace:Ce,setLineWidth:De,setPolygonOffset:Ne,setScissorTest:at,activeTexture:z,bindTexture:I,unbindTexture:se,compressedTexImage2D:xe,compressedTexImage3D:_e,texImage2D:Ye,texImage3D:Mt,updateUBOMapping:yt,uniformBlockBinding:wt,texStorage2D:ft,texStorage3D:Re,texSubImage2D:Me,texSubImage3D:$e,compressedTexSubImage2D:be,compressedTexSubImage3D:Ue,scissor:ct,viewport:ze,reset:rn}}function VB(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new pe,d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(z,I){return m?new OffscreenCanvas(z,I):Qh("canvas")}function q(z,I,se){let xe=1;const _e=at(z);if((_e.width>se||_e.height>se)&&(xe=se/Math.max(_e.width,_e.height)),xe<1)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap||typeof VideoFrame<"u"&&z instanceof VideoFrame){const Me=Math.floor(xe*_e.width),$e=Math.floor(xe*_e.height);f===void 0&&(f=v(Me,$e));const be=I?v(Me,$e):f;return be.width=Me,be.height=$e,be.getContext("2d").drawImage(z,0,0,Me,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+_e.width+"x"+_e.height+") to ("+Me+"x"+$e+")."),be}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+_e.width+"x"+_e.height+")."),z;return z}function y(z){return z.generateMipmaps&&z.minFilter!==Mn&&z.minFilter!==Jt}function g(z){n.generateMipmap(z)}function x(z,I,se,xe,_e=!1){if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Me=I;if(I===n.RED&&(se===n.FLOAT&&(Me=n.R32F),se===n.HALF_FLOAT&&(Me=n.R16F),se===n.UNSIGNED_BYTE&&(Me=n.R8)),I===n.RED_INTEGER&&(se===n.UNSIGNED_BYTE&&(Me=n.R8UI),se===n.UNSIGNED_SHORT&&(Me=n.R16UI),se===n.UNSIGNED_INT&&(Me=n.R32UI),se===n.BYTE&&(Me=n.R8I),se===n.SHORT&&(Me=n.R16I),se===n.INT&&(Me=n.R32I)),I===n.RG&&(se===n.FLOAT&&(Me=n.RG32F),se===n.HALF_FLOAT&&(Me=n.RG16F),se===n.UNSIGNED_BYTE&&(Me=n.RG8)),I===n.RG_INTEGER&&(se===n.UNSIGNED_BYTE&&(Me=n.RG8UI),se===n.UNSIGNED_SHORT&&(Me=n.RG16UI),se===n.UNSIGNED_INT&&(Me=n.RG32UI),se===n.BYTE&&(Me=n.RG8I),se===n.SHORT&&(Me=n.RG16I),se===n.INT&&(Me=n.RG32I)),I===n.RGB&&se===n.UNSIGNED_INT_5_9_9_9_REV&&(Me=n.RGB9_E5),I===n.RGBA){const $e=_e?Xh:Gt.getTransfer(xe);se===n.FLOAT&&(Me=n.RGBA32F),se===n.HALF_FLOAT&&(Me=n.RGBA16F),se===n.UNSIGNED_BYTE&&(Me=$e===Qt?n.SRGB8_ALPHA8:n.RGBA8),se===n.UNSIGNED_SHORT_4_4_4_4&&(Me=n.RGBA4),se===n.UNSIGNED_SHORT_5_5_5_1&&(Me=n.RGB5_A1)}return(Me===n.R16F||Me===n.R32F||Me===n.RG16F||Me===n.RG32F||Me===n.RGBA16F||Me===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function S(z,I){let se;return z?I===null||I===$a||I===el?se=n.DEPTH24_STENCIL8:I===tr?se=n.DEPTH32F_STENCIL8:I===Hc&&(se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):I===null||I===$a||I===el?se=n.DEPTH_COMPONENT24:I===tr?se=n.DEPTH_COMPONENT32F:I===Hc&&(se=n.DEPTH_COMPONENT16),se}function M(z,I){return y(z)===!0||z.isFramebufferTexture&&z.minFilter!==Mn&&z.minFilter!==Jt?Math.log2(Math.max(I.width,I.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?I.mipmaps.length:1}function R(z){const I=z.target;I.removeEventListener("dispose",R),P(I),I.isVideoTexture&&d.delete(I)}function C(z){const I=z.target;I.removeEventListener("dispose",C),b(I)}function P(z){const I=i.get(z);if(I.__webglInit===void 0)return;const se=z.source,xe=p.get(se);if(xe){const _e=xe[I.__cacheKey];_e.usedTimes--,_e.usedTimes===0&&B(z),Object.keys(xe).length===0&&p.delete(se)}i.remove(z)}function B(z){const I=i.get(z);n.deleteTexture(I.__webglTexture);const se=z.source,xe=p.get(se);delete xe[I.__cacheKey],o.memory.textures--}function b(z){const I=i.get(z);if(z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(I.__webglFramebuffer[xe]))for(let _e=0;_e<I.__webglFramebuffer[xe].length;_e++)n.deleteFramebuffer(I.__webglFramebuffer[xe][_e]);else n.deleteFramebuffer(I.__webglFramebuffer[xe]);I.__webglDepthbuffer&&n.deleteRenderbuffer(I.__webglDepthbuffer[xe])}else{if(Array.isArray(I.__webglFramebuffer))for(let xe=0;xe<I.__webglFramebuffer.length;xe++)n.deleteFramebuffer(I.__webglFramebuffer[xe]);else n.deleteFramebuffer(I.__webglFramebuffer);if(I.__webglDepthbuffer&&n.deleteRenderbuffer(I.__webglDepthbuffer),I.__webglMultisampledFramebuffer&&n.deleteFramebuffer(I.__webglMultisampledFramebuffer),I.__webglColorRenderbuffer)for(let xe=0;xe<I.__webglColorRenderbuffer.length;xe++)I.__webglColorRenderbuffer[xe]&&n.deleteRenderbuffer(I.__webglColorRenderbuffer[xe]);I.__webglDepthRenderbuffer&&n.deleteRenderbuffer(I.__webglDepthRenderbuffer)}const se=z.textures;for(let xe=0,_e=se.length;xe<_e;xe++){const Me=i.get(se[xe]);Me.__webglTexture&&(n.deleteTexture(Me.__webglTexture),o.memory.textures--),i.remove(se[xe])}i.remove(z)}let T=0;function D(){T=0}function N(){const z=T;return z>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+r.maxTextures),T+=1,z}function O(z){const I=[];return I.push(z.wrapS),I.push(z.wrapT),I.push(z.wrapR||0),I.push(z.magFilter),I.push(z.minFilter),I.push(z.anisotropy),I.push(z.internalFormat),I.push(z.format),I.push(z.type),I.push(z.generateMipmaps),I.push(z.premultiplyAlpha),I.push(z.flipY),I.push(z.unpackAlignment),I.push(z.colorSpace),I.join()}function J(z,I){const se=i.get(z);if(z.isVideoTexture&&De(z),z.isRenderTargetTexture===!1&&z.version>0&&se.__version!==z.version){const xe=z.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{qe(se,z,I);return}}t.bindTexture(n.TEXTURE_2D,se.__webglTexture,n.TEXTURE0+I)}function X(z,I){const se=i.get(z);if(z.version>0&&se.__version!==z.version){qe(se,z,I);return}t.bindTexture(n.TEXTURE_2D_ARRAY,se.__webglTexture,n.TEXTURE0+I)}function W(z,I){const se=i.get(z);if(z.version>0&&se.__version!==z.version){qe(se,z,I);return}t.bindTexture(n.TEXTURE_3D,se.__webglTexture,n.TEXTURE0+I)}function te(z,I){const se=i.get(z);if(z.version>0&&se.__version!==z.version){ee(se,z,I);return}t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+I)}const L={[Jo]:n.REPEAT,[er]:n.CLAMP_TO_EDGE,[zc]:n.MIRRORED_REPEAT},V={[Mn]:n.NEAREST,[$p]:n.NEAREST_MIPMAP_NEAREST,[Da]:n.NEAREST_MIPMAP_LINEAR,[Jt]:n.LINEAR,[bc]:n.LINEAR_MIPMAP_NEAREST,[Cr]:n.LINEAR_MIPMAP_LINEAR},H={[Aq]:n.NEVER,[Tq]:n.ALWAYS,[Sq]:n.LESS,[m6]:n.LEQUAL,[Mq]:n.EQUAL,[Cq]:n.GEQUAL,[Eq]:n.GREATER,[wq]:n.NOTEQUAL};function Y(z,I){if(I.type===tr&&e.has("OES_texture_float_linear")===!1&&(I.magFilter===Jt||I.magFilter===bc||I.magFilter===Da||I.magFilter===Cr||I.minFilter===Jt||I.minFilter===bc||I.minFilter===Da||I.minFilter===Cr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(z,n.TEXTURE_WRAP_S,L[I.wrapS]),n.texParameteri(z,n.TEXTURE_WRAP_T,L[I.wrapT]),(z===n.TEXTURE_3D||z===n.TEXTURE_2D_ARRAY)&&n.texParameteri(z,n.TEXTURE_WRAP_R,L[I.wrapR]),n.texParameteri(z,n.TEXTURE_MAG_FILTER,V[I.magFilter]),n.texParameteri(z,n.TEXTURE_MIN_FILTER,V[I.minFilter]),I.compareFunction&&(n.texParameteri(z,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(z,n.TEXTURE_COMPARE_FUNC,H[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(I.magFilter===Mn||I.minFilter!==Da&&I.minFilter!==Cr||I.type===tr&&e.has("OES_texture_float_linear")===!1)return;if(I.anisotropy>1||i.get(I).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(z,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy}}}function le(z,I){let se=!1;z.__webglInit===void 0&&(z.__webglInit=!0,I.addEventListener("dispose",R));const xe=I.source;let _e=p.get(xe);_e===void 0&&(_e={},p.set(xe,_e));const Me=O(I);if(Me!==z.__cacheKey){_e[Me]===void 0&&(_e[Me]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,se=!0),_e[Me].usedTimes++;const $e=_e[z.__cacheKey];$e!==void 0&&(_e[z.__cacheKey].usedTimes--,$e.usedTimes===0&&B(I)),z.__cacheKey=Me,z.__webglTexture=_e[Me].texture}return se}function qe(z,I,se){let xe=n.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(xe=n.TEXTURE_2D_ARRAY),I.isData3DTexture&&(xe=n.TEXTURE_3D);const _e=le(z,I),Me=I.source;t.bindTexture(xe,z.__webglTexture,n.TEXTURE0+se);const $e=i.get(Me);if(Me.version!==$e.__version||_e===!0){t.activeTexture(n.TEXTURE0+se);const be=Gt.getPrimaries(Gt.workingColorSpace),Ue=I.colorSpace===Os?null:Gt.getPrimaries(I.colorSpace),ft=I.colorSpace===Os||be===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let Re=q(I.image,!1,r.maxTextureSize);Re=Ne(I,Re);const Ye=s.convert(I.format,I.colorSpace),Mt=s.convert(I.type);let ct=x(I.internalFormat,Ye,Mt,I.colorSpace,I.isVideoTexture);Y(xe,I);let ze;const yt=I.mipmaps,wt=I.isVideoTexture!==!0,rn=$e.__version===void 0||_e===!0,j=Me.dataReady,Ge=M(I,Re);if(I.isDepthTexture)ct=S(I.format===tl,I.type),rn&&(wt?t.texStorage2D(n.TEXTURE_2D,1,ct,Re.width,Re.height):t.texImage2D(n.TEXTURE_2D,0,ct,Re.width,Re.height,0,Ye,Mt,null));else if(I.isDataTexture)if(yt.length>0){wt&&rn&&t.texStorage2D(n.TEXTURE_2D,Ge,ct,yt[0].width,yt[0].height);for(let ge=0,ye=yt.length;ge<ye;ge++)ze=yt[ge],wt?j&&t.texSubImage2D(n.TEXTURE_2D,ge,0,0,ze.width,ze.height,Ye,Mt,ze.data):t.texImage2D(n.TEXTURE_2D,ge,ct,ze.width,ze.height,0,Ye,Mt,ze.data);I.generateMipmaps=!1}else wt?(rn&&t.texStorage2D(n.TEXTURE_2D,Ge,ct,Re.width,Re.height),j&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Re.width,Re.height,Ye,Mt,Re.data)):t.texImage2D(n.TEXTURE_2D,0,ct,Re.width,Re.height,0,Ye,Mt,Re.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){wt&&rn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ge,ct,yt[0].width,yt[0].height,Re.depth);for(let ge=0,ye=yt.length;ge<ye;ge++)if(ze=yt[ge],I.format!==Si)if(Ye!==null)if(wt){if(j)if(I.layerUpdates.size>0){for(const Ie of I.layerUpdates){const ut=ze.width*ze.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ge,0,0,Ie,ze.width,ze.height,1,Ye,ze.data.slice(ut*Ie,ut*(Ie+1)),0,0)}I.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ge,0,0,0,ze.width,ze.height,Re.depth,Ye,ze.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ge,ct,ze.width,ze.height,Re.depth,0,ze.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else wt?j&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ge,0,0,0,ze.width,ze.height,Re.depth,Ye,Mt,ze.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ge,ct,ze.width,ze.height,Re.depth,0,Ye,Mt,ze.data)}else{wt&&rn&&t.texStorage2D(n.TEXTURE_2D,Ge,ct,yt[0].width,yt[0].height);for(let ge=0,ye=yt.length;ge<ye;ge++)ze=yt[ge],I.format!==Si?Ye!==null?wt?j&&t.compressedTexSubImage2D(n.TEXTURE_2D,ge,0,0,ze.width,ze.height,Ye,ze.data):t.compressedTexImage2D(n.TEXTURE_2D,ge,ct,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?j&&t.texSubImage2D(n.TEXTURE_2D,ge,0,0,ze.width,ze.height,Ye,Mt,ze.data):t.texImage2D(n.TEXTURE_2D,ge,ct,ze.width,ze.height,0,Ye,Mt,ze.data)}else if(I.isDataArrayTexture)if(wt){if(rn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ge,ct,Re.width,Re.height,Re.depth),j)if(I.layerUpdates.size>0){let ge;switch(Mt){case n.UNSIGNED_BYTE:switch(Ye){case n.ALPHA:ge=1;break;case n.LUMINANCE:ge=1;break;case n.LUMINANCE_ALPHA:ge=2;break;case n.RGB:ge=3;break;case n.RGBA:ge=4;break;default:throw new Error(`Unknown texel size for format ${Ye}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:ge=1;break;default:throw new Error(`Unknown texel size for type ${Mt}.`)}const ye=Re.width*Re.height*ge;for(const Ie of I.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ie,Re.width,Re.height,1,Ye,Mt,Re.data.slice(ye*Ie,ye*(Ie+1)));I.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,Ye,Mt,Re.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ct,Re.width,Re.height,Re.depth,0,Ye,Mt,Re.data);else if(I.isData3DTexture)wt?(rn&&t.texStorage3D(n.TEXTURE_3D,Ge,ct,Re.width,Re.height,Re.depth),j&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,Ye,Mt,Re.data)):t.texImage3D(n.TEXTURE_3D,0,ct,Re.width,Re.height,Re.depth,0,Ye,Mt,Re.data);else if(I.isFramebufferTexture){if(rn)if(wt)t.texStorage2D(n.TEXTURE_2D,Ge,ct,Re.width,Re.height);else{let ge=Re.width,ye=Re.height;for(let Ie=0;Ie<Ge;Ie++)t.texImage2D(n.TEXTURE_2D,Ie,ct,ge,ye,0,Ye,Mt,null),ge>>=1,ye>>=1}}else if(yt.length>0){if(wt&&rn){const ge=at(yt[0]);t.texStorage2D(n.TEXTURE_2D,Ge,ct,ge.width,ge.height)}for(let ge=0,ye=yt.length;ge<ye;ge++)ze=yt[ge],wt?j&&t.texSubImage2D(n.TEXTURE_2D,ge,0,0,Ye,Mt,ze):t.texImage2D(n.TEXTURE_2D,ge,ct,Ye,Mt,ze);I.generateMipmaps=!1}else if(wt){if(rn){const ge=at(Re);t.texStorage2D(n.TEXTURE_2D,Ge,ct,ge.width,ge.height)}j&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ye,Mt,Re)}else t.texImage2D(n.TEXTURE_2D,0,ct,Ye,Mt,Re);y(I)&&g(xe),$e.__version=Me.version,I.onUpdate&&I.onUpdate(I)}z.__version=I.version}function ee(z,I,se){if(I.image.length!==6)return;const xe=le(z,I),_e=I.source;t.bindTexture(n.TEXTURE_CUBE_MAP,z.__webglTexture,n.TEXTURE0+se);const Me=i.get(_e);if(_e.version!==Me.__version||xe===!0){t.activeTexture(n.TEXTURE0+se);const $e=Gt.getPrimaries(Gt.workingColorSpace),be=I.colorSpace===Os?null:Gt.getPrimaries(I.colorSpace),Ue=I.colorSpace===Os||$e===be?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ue);const ft=I.isCompressedTexture||I.image[0].isCompressedTexture,Re=I.image[0]&&I.image[0].isDataTexture,Ye=[];for(let ye=0;ye<6;ye++)!ft&&!Re?Ye[ye]=q(I.image[ye],!0,r.maxCubemapSize):Ye[ye]=Re?I.image[ye].image:I.image[ye],Ye[ye]=Ne(I,Ye[ye]);const Mt=Ye[0],ct=s.convert(I.format,I.colorSpace),ze=s.convert(I.type),yt=x(I.internalFormat,ct,ze,I.colorSpace),wt=I.isVideoTexture!==!0,rn=Me.__version===void 0||xe===!0,j=_e.dataReady;let Ge=M(I,Mt);Y(n.TEXTURE_CUBE_MAP,I);let ge;if(ft){wt&&rn&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ge,yt,Mt.width,Mt.height);for(let ye=0;ye<6;ye++){ge=Ye[ye].mipmaps;for(let Ie=0;Ie<ge.length;Ie++){const ut=ge[Ie];I.format!==Si?ct!==null?wt?j&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie,0,0,ut.width,ut.height,ct,ut.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie,yt,ut.width,ut.height,0,ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):wt?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie,0,0,ut.width,ut.height,ct,ze,ut.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie,yt,ut.width,ut.height,0,ct,ze,ut.data)}}}else{if(ge=I.mipmaps,wt&&rn){ge.length>0&&Ge++;const ye=at(Ye[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ge,yt,ye.width,ye.height)}for(let ye=0;ye<6;ye++)if(Re){wt?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,0,0,Ye[ye].width,Ye[ye].height,ct,ze,Ye[ye].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,yt,Ye[ye].width,Ye[ye].height,0,ct,ze,Ye[ye].data);for(let Ie=0;Ie<ge.length;Ie++){const bt=ge[Ie].image[ye].image;wt?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie+1,0,0,bt.width,bt.height,ct,ze,bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie+1,yt,bt.width,bt.height,0,ct,ze,bt.data)}}else{wt?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,0,0,ct,ze,Ye[ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,yt,ct,ze,Ye[ye]);for(let Ie=0;Ie<ge.length;Ie++){const ut=ge[Ie];wt?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie+1,0,0,ct,ze,ut.image[ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ie+1,yt,ct,ze,ut.image[ye])}}}y(I)&&g(n.TEXTURE_CUBE_MAP),Me.__version=_e.version,I.onUpdate&&I.onUpdate(I)}z.__version=I.version}function fe(z,I,se,xe,_e,Me){const $e=s.convert(se.format,se.colorSpace),be=s.convert(se.type),Ue=x(se.internalFormat,$e,be,se.colorSpace);if(!i.get(I).__hasExternalTextures){const Re=Math.max(1,I.width>>Me),Ye=Math.max(1,I.height>>Me);_e===n.TEXTURE_3D||_e===n.TEXTURE_2D_ARRAY?t.texImage3D(_e,Me,Ue,Re,Ye,I.depth,0,$e,be,null):t.texImage2D(_e,Me,Ue,Re,Ye,0,$e,be,null)}t.bindFramebuffer(n.FRAMEBUFFER,z),Ce(I)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,xe,_e,i.get(se).__webglTexture,0,Se(I)):(_e===n.TEXTURE_2D||_e>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&_e<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,xe,_e,i.get(se).__webglTexture,Me),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ae(z,I,se){if(n.bindRenderbuffer(n.RENDERBUFFER,z),I.depthBuffer){const xe=I.depthTexture,_e=xe&&xe.isDepthTexture?xe.type:null,Me=S(I.stencilBuffer,_e),$e=I.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,be=Se(I);Ce(I)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,Me,I.width,I.height):se?n.renderbufferStorageMultisample(n.RENDERBUFFER,be,Me,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,Me,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,$e,n.RENDERBUFFER,z)}else{const xe=I.textures;for(let _e=0;_e<xe.length;_e++){const Me=xe[_e],$e=s.convert(Me.format,Me.colorSpace),be=s.convert(Me.type),Ue=x(Me.internalFormat,$e,be,Me.colorSpace),ft=Se(I);se&&Ce(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Ue,I.width,I.height):Ce(I)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Ue,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,Ue,I.width,I.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ve(z,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,z),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),J(I.depthTexture,0);const xe=i.get(I.depthTexture).__webglTexture,_e=Se(I);if(I.depthTexture.format===zo)Ce(I)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0);else if(I.depthTexture.format===tl)Ce(I)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function Ze(z){const I=i.get(z),se=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!I.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");ve(I.__webglFramebuffer,z)}else if(se){I.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer[xe]),I.__webglDepthbuffer[xe]=n.createRenderbuffer(),Ae(I.__webglDepthbuffer[xe],z,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),Ae(I.__webglDepthbuffer,z,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function lt(z,I,se){const xe=i.get(z);I!==void 0&&fe(xe.__webglFramebuffer,z,z.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),se!==void 0&&Ze(z)}function je(z){const I=z.texture,se=i.get(z),xe=i.get(I);z.addEventListener("dispose",C);const _e=z.textures,Me=z.isWebGLCubeRenderTarget===!0,$e=_e.length>1;if($e||(xe.__webglTexture===void 0&&(xe.__webglTexture=n.createTexture()),xe.__version=I.version,o.memory.textures++),Me){se.__webglFramebuffer=[];for(let be=0;be<6;be++)if(I.mipmaps&&I.mipmaps.length>0){se.__webglFramebuffer[be]=[];for(let Ue=0;Ue<I.mipmaps.length;Ue++)se.__webglFramebuffer[be][Ue]=n.createFramebuffer()}else se.__webglFramebuffer[be]=n.createFramebuffer()}else{if(I.mipmaps&&I.mipmaps.length>0){se.__webglFramebuffer=[];for(let be=0;be<I.mipmaps.length;be++)se.__webglFramebuffer[be]=n.createFramebuffer()}else se.__webglFramebuffer=n.createFramebuffer();if($e)for(let be=0,Ue=_e.length;be<Ue;be++){const ft=i.get(_e[be]);ft.__webglTexture===void 0&&(ft.__webglTexture=n.createTexture(),o.memory.textures++)}if(z.samples>0&&Ce(z)===!1){se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let be=0;be<_e.length;be++){const Ue=_e[be];se.__webglColorRenderbuffer[be]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,se.__webglColorRenderbuffer[be]);const ft=s.convert(Ue.format,Ue.colorSpace),Re=s.convert(Ue.type),Ye=x(Ue.internalFormat,ft,Re,Ue.colorSpace,z.isXRRenderTarget===!0),Mt=Se(z);n.renderbufferStorageMultisample(n.RENDERBUFFER,Mt,Ye,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+be,n.RENDERBUFFER,se.__webglColorRenderbuffer[be])}n.bindRenderbuffer(n.RENDERBUFFER,null),z.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),Ae(se.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Me){t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture),Y(n.TEXTURE_CUBE_MAP,I);for(let be=0;be<6;be++)if(I.mipmaps&&I.mipmaps.length>0)for(let Ue=0;Ue<I.mipmaps.length;Ue++)fe(se.__webglFramebuffer[be][Ue],z,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ue);else fe(se.__webglFramebuffer[be],z,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0);y(I)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if($e){for(let be=0,Ue=_e.length;be<Ue;be++){const ft=_e[be],Re=i.get(ft);t.bindTexture(n.TEXTURE_2D,Re.__webglTexture),Y(n.TEXTURE_2D,ft),fe(se.__webglFramebuffer,z,ft,n.COLOR_ATTACHMENT0+be,n.TEXTURE_2D,0),y(ft)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let be=n.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(be=z.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(be,xe.__webglTexture),Y(be,I),I.mipmaps&&I.mipmaps.length>0)for(let Ue=0;Ue<I.mipmaps.length;Ue++)fe(se.__webglFramebuffer[Ue],z,I,n.COLOR_ATTACHMENT0,be,Ue);else fe(se.__webglFramebuffer,z,I,n.COLOR_ATTACHMENT0,be,0);y(I)&&g(be),t.unbindTexture()}z.depthBuffer&&Ze(z)}function G(z){const I=z.textures;for(let se=0,xe=I.length;se<xe;se++){const _e=I[se];if(y(_e)){const Me=z.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,$e=i.get(_e).__webglTexture;t.bindTexture(Me,$e),g(Me),t.unbindTexture()}}}const me=[],he=[];function we(z){if(z.samples>0){if(Ce(z)===!1){const I=z.textures,se=z.width,xe=z.height;let _e=n.COLOR_BUFFER_BIT;const Me=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,$e=i.get(z),be=I.length>1;if(be)for(let Ue=0;Ue<I.length;Ue++)t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,$e.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglFramebuffer);for(let Ue=0;Ue<I.length;Ue++){if(z.resolveDepthBuffer&&(z.depthBuffer&&(_e|=n.DEPTH_BUFFER_BIT),z.stencilBuffer&&z.resolveStencilBuffer&&(_e|=n.STENCIL_BUFFER_BIT)),be){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,$e.__webglColorRenderbuffer[Ue]);const ft=i.get(I[Ue]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ft,0)}n.blitFramebuffer(0,0,se,xe,0,0,se,xe,_e,n.NEAREST),l===!0&&(me.length=0,he.length=0,me.push(n.COLOR_ATTACHMENT0+Ue),z.depthBuffer&&z.resolveDepthBuffer===!1&&(me.push(Me),he.push(Me),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,he)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,me))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),be)for(let Ue=0;Ue<I.length;Ue++){t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,$e.__webglColorRenderbuffer[Ue]);const ft=i.get(I[Ue]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,ft,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglMultisampledFramebuffer)}else if(z.depthBuffer&&z.resolveDepthBuffer===!1&&l){const I=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[I])}}}function Se(z){return Math.min(r.maxSamples,z.samples)}function Ce(z){const I=i.get(z);return z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function De(z){const I=o.render.frame;d.get(z)!==I&&(d.set(z,I),z.update())}function Ne(z,I){const se=z.colorSpace,xe=z.format,_e=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||se!==eo&&se!==Os&&(Gt.getTransfer(se)===Qt?(xe!==Si||_e!==ys)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),I}function at(z){return typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement?(h.width=z.naturalWidth||z.width,h.height=z.naturalHeight||z.height):typeof VideoFrame<"u"&&z instanceof VideoFrame?(h.width=z.displayWidth,h.height=z.displayHeight):(h.width=z.width,h.height=z.height),h}this.allocateTextureUnit=N,this.resetTextureUnits=D,this.setTexture2D=J,this.setTexture2DArray=X,this.setTexture3D=W,this.setTextureCube=te,this.rebindTextures=lt,this.setupRenderTarget=je,this.updateRenderTargetMipmap=G,this.updateMultisampleRenderTarget=we,this.setupDepthRenderbuffer=Ze,this.setupFrameBufferTexture=fe,this.useMultisampledRTT=Ce}function Vq(n,e){function t(i,r=Os){let s;const o=Gt.getTransfer(r);if(i===ys)return n.UNSIGNED_BYTE;if(i===a6)return n.UNSIGNED_SHORT_4_4_4_4;if(i===l6)return n.UNSIGNED_SHORT_5_5_5_1;if(i===lq)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===oq)return n.BYTE;if(i===aq)return n.SHORT;if(i===Hc)return n.UNSIGNED_SHORT;if(i===o6)return n.INT;if(i===$a)return n.UNSIGNED_INT;if(i===tr)return n.FLOAT;if(i===ul)return n.HALF_FLOAT;if(i===cq)return n.ALPHA;if(i===uq)return n.RGB;if(i===Si)return n.RGBA;if(i===hq)return n.LUMINANCE;if(i===dq)return n.LUMINANCE_ALPHA;if(i===zo)return n.DEPTH_COMPONENT;if(i===tl)return n.DEPTH_STENCIL;if(i===c6)return n.RED;if(i===u6)return n.RED_INTEGER;if(i===fq)return n.RG;if(i===h6)return n.RG_INTEGER;if(i===d6)return n.RGBA_INTEGER;if(i===K1||i===Q1||i===Z1||i===$1)if(o===Qt)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===K1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Q1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Z1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===$1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===K1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Q1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Z1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===$1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===m4||i===g4||i===_4||i===v4)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===m4)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===g4)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===_4)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===v4)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===y4||i===x4||i===q4)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===y4||i===x4)return o===Qt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===q4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===A4||i===S4||i===M4||i===E4||i===w4||i===C4||i===T4||i===R4||i===P4||i===b4||i===B4||i===I4||i===L4||i===D4)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===A4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===S4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===M4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===E4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===w4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===C4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===T4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===R4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===P4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===b4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===B4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===I4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===L4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===D4)return o===Qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===ep||i===F4||i===U4)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===ep)return o===Qt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===F4)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===U4)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===pq||i===O4||i===N4||i===k4)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===ep)return s.COMPRESSED_RED_RGTC1_EXT;if(i===O4)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===N4)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===k4)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===el?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class Wq extends yn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Hs extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const WB={type:"move"};class b2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Hs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Hs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new U,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new U),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Hs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new U,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new U),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){o=!0;for(const q of e.hand.values()){const y=t.getJointPose(q,i),g=this._getHandJoint(h,q);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const d=h.joints["index-finger-tip"],f=h.joints["thumb-tip"],p=d.position.distanceTo(f.position),m=.02,v=.005;h.inputState.pinching&&p>m+v?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&p<=m-v&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(WB)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Hs;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const XB=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,JB=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class jB{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new nn,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new br({vertexShader:XB,fragmentShader:JB,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new xn(new nu(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class YB extends to{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,h=null,d=null,f=null,p=null,m=null,v=null;const q=new jB,y=t.getContextAttributes();let g=null,x=null;const S=[],M=[],R=new pe;let C=null;const P=new yn;P.layers.enable(1),P.viewport=new zt;const B=new yn;B.layers.enable(2),B.viewport=new zt;const b=[P,B],T=new Wq;T.layers.enable(1),T.layers.enable(2);let D=null,N=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let fe=S[ee];return fe===void 0&&(fe=new b2,S[ee]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(ee){let fe=S[ee];return fe===void 0&&(fe=new b2,S[ee]=fe),fe.getGripSpace()},this.getHand=function(ee){let fe=S[ee];return fe===void 0&&(fe=new b2,S[ee]=fe),fe.getHandSpace()};function O(ee){const fe=M.indexOf(ee.inputSource);if(fe===-1)return;const Ae=S[fe];Ae!==void 0&&(Ae.update(ee.inputSource,ee.frame,h||o),Ae.dispatchEvent({type:ee.type,data:ee.inputSource}))}function J(){r.removeEventListener("select",O),r.removeEventListener("selectstart",O),r.removeEventListener("selectend",O),r.removeEventListener("squeeze",O),r.removeEventListener("squeezestart",O),r.removeEventListener("squeezeend",O),r.removeEventListener("end",J),r.removeEventListener("inputsourceschange",X);for(let ee=0;ee<S.length;ee++){const fe=M[ee];fe!==null&&(M[ee]=null,S[ee].disconnect(fe))}D=null,N=null,q.reset(),e.setRenderTarget(g),m=null,p=null,f=null,r=null,x=null,qe.stop(),i.isPresenting=!1,e.setPixelRatio(C),e.setSize(R.width,R.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){s=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){a=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(ee){h=ee},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(ee){if(r=ee,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",O),r.addEventListener("selectstart",O),r.addEventListener("selectend",O),r.addEventListener("squeeze",O),r.addEventListener("squeezestart",O),r.addEventListener("squeezeend",O),r.addEventListener("end",J),r.addEventListener("inputsourceschange",X),y.xrCompatible!==!0&&await t.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(R),r.renderState.layers===void 0){const fe={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,fe),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),x=new Ni(m.framebufferWidth,m.framebufferHeight,{format:Si,type:ys,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let fe=null,Ae=null,ve=null;y.depth&&(ve=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,fe=y.stencil?tl:zo,Ae=y.stencil?el:$a);const Ze={colorFormat:t.RGBA8,depthFormat:ve,scaleFactor:s};f=new XRWebGLBinding(r,t),p=f.createProjectionLayer(Ze),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),x=new Ni(p.textureWidth,p.textureHeight,{format:Si,type:ys,depthTexture:new i0(p.textureWidth,p.textureHeight,Ae,void 0,void 0,void 0,void 0,void 0,void 0,fe),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(l),h=null,o=await r.requestReferenceSpace(a),qe.setContext(r),qe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function X(ee){for(let fe=0;fe<ee.removed.length;fe++){const Ae=ee.removed[fe],ve=M.indexOf(Ae);ve>=0&&(M[ve]=null,S[ve].disconnect(Ae))}for(let fe=0;fe<ee.added.length;fe++){const Ae=ee.added[fe];let ve=M.indexOf(Ae);if(ve===-1){for(let lt=0;lt<S.length;lt++)if(lt>=M.length){M.push(Ae),ve=lt;break}else if(M[lt]===null){M[lt]=Ae,ve=lt;break}if(ve===-1)break}const Ze=S[ve];Ze&&Ze.connect(Ae)}}const W=new U,te=new U;function L(ee,fe,Ae){W.setFromMatrixPosition(fe.matrixWorld),te.setFromMatrixPosition(Ae.matrixWorld);const ve=W.distanceTo(te),Ze=fe.projectionMatrix.elements,lt=Ae.projectionMatrix.elements,je=Ze[14]/(Ze[10]-1),G=Ze[14]/(Ze[10]+1),me=(Ze[9]+1)/Ze[5],he=(Ze[9]-1)/Ze[5],we=(Ze[8]-1)/Ze[0],Se=(lt[8]+1)/lt[0],Ce=je*we,De=je*Se,Ne=ve/(-we+Se),at=Ne*-we;fe.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(at),ee.translateZ(Ne),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const z=je+Ne,I=G+Ne,se=Ce-at,xe=De+(ve-at),_e=me*G/I*z,Me=he*G/I*z;ee.projectionMatrix.makePerspective(se,xe,_e,Me,z,I),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function V(ee,fe){fe===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(fe.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(r===null)return;q.texture!==null&&(ee.near=q.depthNear,ee.far=q.depthFar),T.near=B.near=P.near=ee.near,T.far=B.far=P.far=ee.far,(D!==T.near||N!==T.far)&&(r.updateRenderState({depthNear:T.near,depthFar:T.far}),D=T.near,N=T.far,P.near=D,P.far=N,B.near=D,B.far=N,P.updateProjectionMatrix(),B.updateProjectionMatrix(),ee.updateProjectionMatrix());const fe=ee.parent,Ae=T.cameras;V(T,fe);for(let ve=0;ve<Ae.length;ve++)V(Ae[ve],fe);Ae.length===2?L(T,P,B):T.projectionMatrix.copy(P.projectionMatrix),H(ee,T,fe)};function H(ee,fe,Ae){Ae===null?ee.matrix.copy(fe.matrixWorld):(ee.matrix.copy(Ae.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(fe.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(fe.projectionMatrix),ee.projectionMatrixInverse.copy(fe.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=Wc*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ee){l=ee,p!==null&&(p.fixedFoveation=ee),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ee)},this.hasDepthSensing=function(){return q.texture!==null},this.getDepthSensingMesh=function(){return q.getMesh(T)};let Y=null;function le(ee,fe){if(d=fe.getViewerPose(h||o),v=fe,d!==null){const Ae=d.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let ve=!1;Ae.length!==T.cameras.length&&(T.cameras.length=0,ve=!0);for(let lt=0;lt<Ae.length;lt++){const je=Ae[lt];let G=null;if(m!==null)G=m.getViewport(je);else{const he=f.getViewSubImage(p,je);G=he.viewport,lt===0&&(e.setRenderTargetTextures(x,he.colorTexture,p.ignoreDepthValues?void 0:he.depthStencilTexture),e.setRenderTarget(x))}let me=b[lt];me===void 0&&(me=new yn,me.layers.enable(lt),me.viewport=new zt,b[lt]=me),me.matrix.fromArray(je.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(je.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(G.x,G.y,G.width,G.height),lt===0&&(T.matrix.copy(me.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),ve===!0&&T.cameras.push(me)}const Ze=r.enabledFeatures;if(Ze&&Ze.includes("depth-sensing")){const lt=f.getDepthInformation(Ae[0]);lt&&lt.isValid&&lt.texture&&q.init(e,lt,r.renderState)}}for(let Ae=0;Ae<S.length;Ae++){const ve=M[Ae],Ze=S[Ae];ve!==null&&Ze!==void 0&&Ze.update(ve,fe,h||o)}Y&&Y(ee,fe),fe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:fe}),v=null}const qe=new Oq;qe.setAnimationLoop(le),this.setAnimationLoop=function(ee){Y=ee},this.dispose=function(){}}}const ga=new or,KB=new tt;function QB(n,e){function t(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function i(y,g){g.color.getRGB(y.fogColor.value,Lq(n)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function r(y,g,x,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),f(y,g)):g.isMeshPhongMaterial?(s(y,g),d(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,M)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),q(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,x,S):g.isSpriteMaterial?h(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,t(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Ei&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,t(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Ei&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,t(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,t(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const x=e.get(g),S=x.envMap,M=x.envMapRotation;S&&(y.envMap.value=S,ga.copy(M),ga.x*=-1,ga.y*=-1,ga.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(ga.y*=-1,ga.z*=-1),y.envMapRotation.value.setFromMatrix4(KB.makeRotationFromEuler(ga)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,x,S){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*x,y.scale.value=S*.5,g.map&&(y.map.value=g.map,t(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function h(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function d(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function f(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,x){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ei&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function q(y,g){const x=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(x.matrixWorld),y.nearDistance.value=x.shadow.camera.near,y.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function ZB(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,S){const M=S.program;i.uniformBlockBinding(x,M)}function h(x,S){let M=r[x.id];M===void 0&&(v(x),M=d(x),r[x.id]=M,x.addEventListener("dispose",y));const R=S.program;i.updateUBOMapping(x,R);const C=e.render.frame;s[x.id]!==C&&(p(x),s[x.id]=C)}function d(x){const S=f();x.__bindingPointIndex=S;const M=n.createBuffer(),R=x.__size,C=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,R,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,M),M}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const S=r[x.id],M=x.uniforms,R=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let C=0,P=M.length;C<P;C++){const B=Array.isArray(M[C])?M[C]:[M[C]];for(let b=0,T=B.length;b<T;b++){const D=B[b];if(m(D,C,b,R)===!0){const N=D.__offset,O=Array.isArray(D.value)?D.value:[D.value];let J=0;for(let X=0;X<O.length;X++){const W=O[X],te=q(W);typeof W=="number"||typeof W=="boolean"?(D.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,N+J,D.__data)):W.isMatrix3?(D.__data[0]=W.elements[0],D.__data[1]=W.elements[1],D.__data[2]=W.elements[2],D.__data[3]=0,D.__data[4]=W.elements[3],D.__data[5]=W.elements[4],D.__data[6]=W.elements[5],D.__data[7]=0,D.__data[8]=W.elements[6],D.__data[9]=W.elements[7],D.__data[10]=W.elements[8],D.__data[11]=0):(W.toArray(D.__data,J),J+=te.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,N,D.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,S,M,R){const C=x.value,P=S+"_"+M;if(R[P]===void 0)return typeof C=="number"||typeof C=="boolean"?R[P]=C:R[P]=C.clone(),!0;{const B=R[P];if(typeof C=="number"||typeof C=="boolean"){if(B!==C)return R[P]=C,!0}else if(B.equals(C)===!1)return B.copy(C),!0}return!1}function v(x){const S=x.uniforms;let M=0;const R=16;for(let P=0,B=S.length;P<B;P++){const b=Array.isArray(S[P])?S[P]:[S[P]];for(let T=0,D=b.length;T<D;T++){const N=b[T],O=Array.isArray(N.value)?N.value:[N.value];for(let J=0,X=O.length;J<X;J++){const W=O[J],te=q(W),L=M%R;L!==0&&R-L<te.boundary&&(M+=R-L),N.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=M,M+=te.storage}}}const C=M%R;return C>0&&(M+=R-C),x.__size=M,x.__cache={},this}function q(x){const S={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function y(x){const S=x.target;S.removeEventListener("dispose",y);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:h,dispose:g}}class Xq{constructor(e={}){const{canvas:t=Pq(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:h=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),v=new Int32Array(4);let q=null,y=null;const g=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ar,this.toneMapping=_s,this.toneMappingExposure=1;const S=this;let M=!1,R=0,C=0,P=null,B=-1,b=null;const T=new zt,D=new zt;let N=null;const O=new Fe(0);let J=0,X=t.width,W=t.height,te=1,L=null,V=null;const H=new zt(0,0,X,W),Y=new zt(0,0,X,W);let le=!1;const qe=new fd;let ee=!1,fe=!1;const Ae=new tt,ve=new U,Ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let lt=!1;function je(){return P===null?te:1}let G=i;function me(F,Q){return t.getContext(F,Q)}try{const F={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:h,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Zc}`),t.addEventListener("webglcontextlost",Ge,!1),t.addEventListener("webglcontextrestored",ge,!1),t.addEventListener("webglcontextcreationerror",ye,!1),G===null){const Q="webgl2";if(G=me(Q,F),G===null)throw me(Q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let he,we,Se,Ce,De,Ne,at,z,I,se,xe,_e,Me,$e,be,Ue,ft,Re,Ye,Mt,ct,ze,yt,wt;function rn(){he=new hb(G),he.init(),ze=new Vq(G,he),we=new sb(G,he,e,ze),Se=new GB(G),Ce=new pb(G),De=new bB,Ne=new VB(G,he,Se,De,we,ze,Ce),at=new ab(S),z=new ub(S),I=new qT(G),yt=new ib(G,I),se=new db(G,I,Ce,yt),xe=new gb(G,se,I,Ce),Ye=new mb(G,we,Ne),Ue=new ob(De),_e=new PB(S,at,z,he,we,yt,Ue),Me=new QB(S,De),$e=new IB,be=new NB(he),Re=new nb(S,at,z,Se,xe,p,l),ft=new HB(S,xe,we),wt=new ZB(G,Ce,we,Se),Mt=new rb(G,he,Ce),ct=new fb(G,he,Ce),Ce.programs=_e.programs,S.capabilities=we,S.extensions=he,S.properties=De,S.renderLists=$e,S.shadowMap=ft,S.state=Se,S.info=Ce}rn();const j=new YB(S,G);this.xr=j,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const F=he.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=he.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(F){F!==void 0&&(te=F,this.setSize(X,W,!1))},this.getSize=function(F){return F.set(X,W)},this.setSize=function(F,Q,re=!0){if(j.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=F,W=Q,t.width=Math.floor(F*te),t.height=Math.floor(Q*te),re===!0&&(t.style.width=F+"px",t.style.height=Q+"px"),this.setViewport(0,0,F,Q)},this.getDrawingBufferSize=function(F){return F.set(X*te,W*te).floor()},this.setDrawingBufferSize=function(F,Q,re){X=F,W=Q,te=re,t.width=Math.floor(F*re),t.height=Math.floor(Q*re),this.setViewport(0,0,F,Q)},this.getCurrentViewport=function(F){return F.copy(T)},this.getViewport=function(F){return F.copy(H)},this.setViewport=function(F,Q,re,ae){F.isVector4?H.set(F.x,F.y,F.z,F.w):H.set(F,Q,re,ae),Se.viewport(T.copy(H).multiplyScalar(te).round())},this.getScissor=function(F){return F.copy(Y)},this.setScissor=function(F,Q,re,ae){F.isVector4?Y.set(F.x,F.y,F.z,F.w):Y.set(F,Q,re,ae),Se.scissor(D.copy(Y).multiplyScalar(te).round())},this.getScissorTest=function(){return le},this.setScissorTest=function(F){Se.setScissorTest(le=F)},this.setOpaqueSort=function(F){L=F},this.setTransparentSort=function(F){V=F},this.getClearColor=function(F){return F.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(F=!0,Q=!0,re=!0){let ae=0;if(F){let $=!1;if(P!==null){const Be=P.texture.format;$=Be===d6||Be===h6||Be===u6}if($){const Be=P.texture.type,Ve=Be===ys||Be===$a||Be===Hc||Be===el||Be===a6||Be===l6,Je=Re.getClearColor(),Qe=Re.getClearAlpha(),ot=Je.r,rt=Je.g,it=Je.b;Ve?(m[0]=ot,m[1]=rt,m[2]=it,m[3]=Qe,G.clearBufferuiv(G.COLOR,0,m)):(v[0]=ot,v[1]=rt,v[2]=it,v[3]=Qe,G.clearBufferiv(G.COLOR,0,v))}else ae|=G.COLOR_BUFFER_BIT}Q&&(ae|=G.DEPTH_BUFFER_BIT),re&&(ae|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ge,!1),t.removeEventListener("webglcontextrestored",ge,!1),t.removeEventListener("webglcontextcreationerror",ye,!1),$e.dispose(),be.dispose(),De.dispose(),at.dispose(),z.dispose(),xe.dispose(),yt.dispose(),wt.dispose(),_e.dispose(),j.dispose(),j.removeEventListener("sessionstart",zi),j.removeEventListener("sessionend",Hi),xs.stop()};function Ge(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const F=Ce.autoReset,Q=ft.enabled,re=ft.autoUpdate,ae=ft.needsUpdate,$=ft.type;rn(),Ce.autoReset=F,ft.enabled=Q,ft.autoUpdate=re,ft.needsUpdate=ae,ft.type=$}function ye(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Ie(F){const Q=F.target;Q.removeEventListener("dispose",Ie),ut(Q)}function ut(F){bt(F),De.remove(F)}function bt(F){const Q=De.get(F).programs;Q!==void 0&&(Q.forEach(function(re){_e.releaseProgram(re)}),F.isShaderMaterial&&_e.releaseShaderCache(F))}this.renderBufferDirect=function(F,Q,re,ae,$,Be){Q===null&&(Q=Ze);const Ve=$.isMesh&&$.matrixWorld.determinant()<0,Je=T0(F,Q,re,ae,$);Se.setMaterial(ae,Ve);let Qe=re.index,ot=1;if(ae.wireframe===!0){if(Qe=se.getWireframeAttribute(re),Qe===void 0)return;ot=2}const rt=re.drawRange,it=re.attributes.position;let Bt=rt.start*ot,on=(rt.start+rt.count)*ot;Be!==null&&(Bt=Math.max(Bt,Be.start*ot),on=Math.min(on,(Be.start+Be.count)*ot)),Qe!==null?(Bt=Math.max(Bt,0),on=Math.min(on,Qe.count)):it!=null&&(Bt=Math.max(Bt,0),on=Math.min(on,it.count));const jt=on-Bt;if(jt<0||jt===1/0)return;yt.setup($,ae,Je,re,Qe);let wn,Et=Mt;if(Qe!==null&&(wn=I.get(Qe),Et=ct,Et.setIndex(wn)),$.isMesh)ae.wireframe===!0?(Se.setLineWidth(ae.wireframeLinewidth*je()),Et.setMode(G.LINES)):Et.setMode(G.TRIANGLES);else if($.isLine){let Le=ae.linewidth;Le===void 0&&(Le=1),Se.setLineWidth(Le*je()),$.isLineSegments?Et.setMode(G.LINES):$.isLineLoop?Et.setMode(G.LINE_LOOP):Et.setMode(G.LINE_STRIP)}else $.isPoints?Et.setMode(G.POINTS):$.isSprite&&Et.setMode(G.TRIANGLES);if($.isBatchedMesh)$._multiDrawInstances!==null?Et.renderMultiDrawInstances($._multiDrawStarts,$._multiDrawCounts,$._multiDrawCount,$._multiDrawInstances):Et.renderMultiDraw($._multiDrawStarts,$._multiDrawCounts,$._multiDrawCount);else if($.isInstancedMesh)Et.renderInstances(Bt,jt,$.count);else if(re.isInstancedBufferGeometry){const Le=re._maxInstanceCount!==void 0?re._maxInstanceCount:1/0,gt=Math.min(re.instanceCount,Le);Et.renderInstances(Bt,jt,gt)}else Et.render(Bt,jt)};function sn(F,Q,re){F.transparent===!0&&F.side===Er&&F.forceSinglePass===!1?(F.side=Ei,F.needsUpdate=!0,$r(F,Q,re),F.side=Yr,F.needsUpdate=!0,$r(F,Q,re),F.side=Er):$r(F,Q,re)}this.compile=function(F,Q,re=null){re===null&&(re=F),y=be.get(re),y.init(Q),x.push(y),re.traverseVisible(function($){$.isLight&&$.layers.test(Q.layers)&&(y.pushLight($),$.castShadow&&y.pushShadow($))}),F!==re&&F.traverseVisible(function($){$.isLight&&$.layers.test(Q.layers)&&(y.pushLight($),$.castShadow&&y.pushShadow($))}),y.setupLights();const ae=new Set;return F.traverse(function($){const Be=$.material;if(Be)if(Array.isArray(Be))for(let Ve=0;Ve<Be.length;Ve++){const Je=Be[Ve];sn(Je,re,$),ae.add(Je)}else sn(Be,re,$),ae.add(Be)}),x.pop(),y=null,ae},this.compileAsync=function(F,Q,re=null){const ae=this.compile(F,Q,re);return new Promise($=>{function Be(){if(ae.forEach(function(Ve){De.get(Ve).currentProgram.isReady()&&ae.delete(Ve)}),ae.size===0){$(F);return}setTimeout(Be,10)}he.get("KHR_parallel_shader_compile")!==null?Be():setTimeout(Be,10)})};let En=null;function Ht(F){En&&En(F)}function zi(){xs.stop()}function Hi(){xs.start()}const xs=new Oq;xs.setAnimationLoop(Ht),typeof self<"u"&&xs.setContext(self),this.setAnimationLoop=function(F){En=F,j.setAnimationLoop(F),F===null?xs.stop():xs.start()},j.addEventListener("sessionstart",zi),j.addEventListener("sessionend",Hi),this.render=function(F,Q){if(Q!==void 0&&Q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;if(F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),Q.parent===null&&Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),j.enabled===!0&&j.isPresenting===!0&&(j.cameraAutoUpdate===!0&&j.updateCamera(Q),Q=j.getCamera()),F.isScene===!0&&F.onBeforeRender(S,F,Q,P),y=be.get(F,x.length),y.init(Q),x.push(y),Ae.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),qe.setFromProjectionMatrix(Ae),fe=this.localClippingEnabled,ee=Ue.init(this.clippingPlanes,fe),q=$e.get(F,g.length),q.init(),g.push(q),j.enabled===!0&&j.isPresenting===!0){const Be=S.xr.getDepthSensingMesh();Be!==null&&uu(Be,Q,-1/0,S.sortObjects)}uu(F,Q,0,S.sortObjects),q.finish(),S.sortObjects===!0&&q.sort(L,V),lt=j.enabled===!1||j.isPresenting===!1||j.hasDepthSensing()===!1,lt&&Re.addToRenderList(q,F),this.info.render.frame++,ee===!0&&Ue.beginShadows();const re=y.state.shadowsArray;ft.render(re,F,Q),ee===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset();const ae=q.opaque,$=q.transmissive;if(y.setupLights(),Q.isArrayCamera){const Be=Q.cameras;if($.length>0)for(let Ve=0,Je=Be.length;Ve<Je;Ve++){const Qe=Be[Ve];hu(ae,$,F,Qe)}lt&&Re.render(F);for(let Ve=0,Je=Be.length;Ve<Je;Ve++){const Qe=Be[Ve];Ad(q,F,Qe,Qe.viewport)}}else $.length>0&&hu(ae,$,F,Q),lt&&Re.render(F),Ad(q,F,Q);P!==null&&(Ne.updateMultisampleRenderTarget(P),Ne.updateRenderTargetMipmap(P)),F.isScene===!0&&F.onAfterRender(S,F,Q),yt.resetDefaultState(),B=-1,b=null,x.pop(),x.length>0?(y=x[x.length-1],ee===!0&&Ue.setGlobalState(S.clippingPlanes,y.state.camera)):y=null,g.pop(),g.length>0?q=g[g.length-1]:q=null};function uu(F,Q,re,ae){if(F.visible===!1)return;if(F.layers.test(Q.layers)){if(F.isGroup)re=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(Q);else if(F.isLight)y.pushLight(F),F.castShadow&&y.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||qe.intersectsSprite(F)){ae&&ve.setFromMatrixPosition(F.matrixWorld).applyMatrix4(Ae);const Ve=xe.update(F),Je=F.material;Je.visible&&q.push(F,Ve,Je,re,ve.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||qe.intersectsObject(F))){const Ve=xe.update(F),Je=F.material;if(ae&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),ve.copy(F.boundingSphere.center)):(Ve.boundingSphere===null&&Ve.computeBoundingSphere(),ve.copy(Ve.boundingSphere.center)),ve.applyMatrix4(F.matrixWorld).applyMatrix4(Ae)),Array.isArray(Je)){const Qe=Ve.groups;for(let ot=0,rt=Qe.length;ot<rt;ot++){const it=Qe[ot],Bt=Je[it.materialIndex];Bt&&Bt.visible&&q.push(F,Ve,Bt,re,ve.z,it)}}else Je.visible&&q.push(F,Ve,Je,re,ve.z,null)}}const Be=F.children;for(let Ve=0,Je=Be.length;Ve<Je;Ve++)uu(Be[Ve],Q,re,ae)}function Ad(F,Q,re,ae){const $=F.opaque,Be=F.transmissive,Ve=F.transparent;y.setupLightsView(re),ee===!0&&Ue.setGlobalState(S.clippingPlanes,re),ae&&Se.viewport(T.copy(ae)),$.length>0&&no($,Q,re),Be.length>0&&no(Be,Q,re),Ve.length>0&&no(Ve,Q,re),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function hu(F,Q,re,ae){if((re.isScene===!0?re.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[ae.id]===void 0&&(y.state.transmissionRenderTarget[ae.id]=new Ni(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")||he.has("EXT_color_buffer_float")?ul:ys,minFilter:Cr,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Gt.workingColorSpace}));const Be=y.state.transmissionRenderTarget[ae.id],Ve=ae.viewport||T;Be.setSize(Ve.z,Ve.w);const Je=S.getRenderTarget();S.setRenderTarget(Be),S.getClearColor(O),J=S.getClearAlpha(),J<1&&S.setClearColor(16777215,.5),lt?Re.render(re):S.clear();const Qe=S.toneMapping;S.toneMapping=_s;const ot=ae.viewport;if(ae.viewport!==void 0&&(ae.viewport=void 0),y.setupLightsView(ae),ee===!0&&Ue.setGlobalState(S.clippingPlanes,ae),no(F,re,ae),Ne.updateMultisampleRenderTarget(Be),Ne.updateRenderTargetMipmap(Be),he.has("WEBGL_multisampled_render_to_texture")===!1){let rt=!1;for(let it=0,Bt=Q.length;it<Bt;it++){const on=Q[it],jt=on.object,wn=on.geometry,Et=on.material,Le=on.group;if(Et.side===Er&&jt.layers.test(ae.layers)){const gt=Et.side;Et.side=Ei,Et.needsUpdate=!0,Sd(jt,re,ae,wn,Et,Le),Et.side=gt,Et.needsUpdate=!0,rt=!0}}rt===!0&&(Ne.updateMultisampleRenderTarget(Be),Ne.updateRenderTargetMipmap(Be))}S.setRenderTarget(Je),S.setClearColor(O,J),ot!==void 0&&(ae.viewport=ot),S.toneMapping=Qe}function no(F,Q,re){const ae=Q.isScene===!0?Q.overrideMaterial:null;for(let $=0,Be=F.length;$<Be;$++){const Ve=F[$],Je=Ve.object,Qe=Ve.geometry,ot=ae===null?Ve.material:ae,rt=Ve.group;Je.layers.test(re.layers)&&Sd(Je,Q,re,Qe,ot,rt)}}function Sd(F,Q,re,ae,$,Be){F.onBeforeRender(S,Q,re,ae,$,Be),F.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),$.onBeforeRender(S,Q,re,ae,F,Be),$.transparent===!0&&$.side===Er&&$.forceSinglePass===!1?($.side=Ei,$.needsUpdate=!0,S.renderBufferDirect(re,Q,ae,$,F,Be),$.side=Yr,$.needsUpdate=!0,S.renderBufferDirect(re,Q,ae,$,F,Be),$.side=Er):S.renderBufferDirect(re,Q,ae,$,F,Be),F.onAfterRender(S,Q,re,ae,$,Be)}function $r(F,Q,re){Q.isScene!==!0&&(Q=Ze);const ae=De.get(F),$=y.state.lights,Be=y.state.shadowsArray,Ve=$.state.version,Je=_e.getParameters(F,$.state,Be,Q,re),Qe=_e.getProgramCacheKey(Je);let ot=ae.programs;ae.environment=F.isMeshStandardMaterial?Q.environment:null,ae.fog=Q.fog,ae.envMap=(F.isMeshStandardMaterial?z:at).get(F.envMap||ae.environment),ae.envMapRotation=ae.environment!==null&&F.envMap===null?Q.environmentRotation:F.envMapRotation,ot===void 0&&(F.addEventListener("dispose",Ie),ot=new Map,ae.programs=ot);let rt=ot.get(Qe);if(rt!==void 0){if(ae.currentProgram===rt&&ae.lightsStateVersion===Ve)return Ed(F,Je),rt}else Je.uniforms=_e.getUniforms(F),F.onBuild(re,Je,S),F.onBeforeCompile(Je,S),rt=_e.acquireProgram(Je,Qe),ot.set(Qe,rt),ae.uniforms=Je.uniforms;const it=ae.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(it.clippingPlanes=Ue.uniform),Ed(F,Je),ae.needsLights=P0(F),ae.lightsStateVersion=Ve,ae.needsLights&&(it.ambientLightColor.value=$.state.ambient,it.lightProbe.value=$.state.probe,it.directionalLights.value=$.state.directional,it.directionalLightShadows.value=$.state.directionalShadow,it.spotLights.value=$.state.spot,it.spotLightShadows.value=$.state.spotShadow,it.rectAreaLights.value=$.state.rectArea,it.ltc_1.value=$.state.rectAreaLTC1,it.ltc_2.value=$.state.rectAreaLTC2,it.pointLights.value=$.state.point,it.pointLightShadows.value=$.state.pointShadow,it.hemisphereLights.value=$.state.hemi,it.directionalShadowMap.value=$.state.directionalShadowMap,it.directionalShadowMatrix.value=$.state.directionalShadowMatrix,it.spotShadowMap.value=$.state.spotShadowMap,it.spotLightMatrix.value=$.state.spotLightMatrix,it.spotLightMap.value=$.state.spotLightMap,it.pointShadowMap.value=$.state.pointShadowMap,it.pointShadowMatrix.value=$.state.pointShadowMatrix),ae.currentProgram=rt,ae.uniformsList=null,rt}function Md(F){if(F.uniformsList===null){const Q=F.currentProgram.getUniforms();F.uniformsList=np.seqWithValue(Q.seq,F.uniforms)}return F.uniformsList}function Ed(F,Q){const re=De.get(F);re.outputColorSpace=Q.outputColorSpace,re.batching=Q.batching,re.batchingColor=Q.batchingColor,re.instancing=Q.instancing,re.instancingColor=Q.instancingColor,re.instancingMorph=Q.instancingMorph,re.skinning=Q.skinning,re.morphTargets=Q.morphTargets,re.morphNormals=Q.morphNormals,re.morphColors=Q.morphColors,re.morphTargetsCount=Q.morphTargetsCount,re.numClippingPlanes=Q.numClippingPlanes,re.numIntersection=Q.numClipIntersection,re.vertexAlphas=Q.vertexAlphas,re.vertexTangents=Q.vertexTangents,re.toneMapping=Q.toneMapping}function T0(F,Q,re,ae,$){Q.isScene!==!0&&(Q=Ze),Ne.resetTextureUnits();const Be=Q.fog,Ve=ae.isMeshStandardMaterial?Q.environment:null,Je=P===null?S.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:eo,Qe=(ae.isMeshStandardMaterial?z:at).get(ae.envMap||Ve),ot=ae.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,rt=!!re.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),it=!!re.morphAttributes.position,Bt=!!re.morphAttributes.normal,on=!!re.morphAttributes.color;let jt=_s;ae.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(jt=S.toneMapping);const wn=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,Et=wn!==void 0?wn.length:0,Le=De.get(ae),gt=y.state.lights;if(ee===!0&&(fe===!0||F!==b)){const gi=F===b&&ae.id===B;Ue.setState(ae,F,gi)}let Ct=!1;ae.version===Le.__version?(Le.needsLights&&Le.lightsStateVersion!==gt.state.version||Le.outputColorSpace!==Je||$.isBatchedMesh&&Le.batching===!1||!$.isBatchedMesh&&Le.batching===!0||$.isBatchedMesh&&Le.batchingColor===!0&&$.colorTexture===null||$.isBatchedMesh&&Le.batchingColor===!1&&$.colorTexture!==null||$.isInstancedMesh&&Le.instancing===!1||!$.isInstancedMesh&&Le.instancing===!0||$.isSkinnedMesh&&Le.skinning===!1||!$.isSkinnedMesh&&Le.skinning===!0||$.isInstancedMesh&&Le.instancingColor===!0&&$.instanceColor===null||$.isInstancedMesh&&Le.instancingColor===!1&&$.instanceColor!==null||$.isInstancedMesh&&Le.instancingMorph===!0&&$.morphTexture===null||$.isInstancedMesh&&Le.instancingMorph===!1&&$.morphTexture!==null||Le.envMap!==Qe||ae.fog===!0&&Le.fog!==Be||Le.numClippingPlanes!==void 0&&(Le.numClippingPlanes!==Ue.numPlanes||Le.numIntersection!==Ue.numIntersection)||Le.vertexAlphas!==ot||Le.vertexTangents!==rt||Le.morphTargets!==it||Le.morphNormals!==Bt||Le.morphColors!==on||Le.toneMapping!==jt||Le.morphTargetsCount!==Et)&&(Ct=!0):(Ct=!0,Le.__version=ae.version);let Yt=Le.currentProgram;Ct===!0&&(Yt=$r(ae,Q,$));let Bn=!1,mi=!1,es=!1;const Dt=Yt.getUniforms(),Gi=Le.uniforms;if(Se.useProgram(Yt.program)&&(Bn=!0,mi=!0,es=!0),ae.id!==B&&(B=ae.id,mi=!0),Bn||b!==F){Dt.setValue(G,"projectionMatrix",F.projectionMatrix),Dt.setValue(G,"viewMatrix",F.matrixWorldInverse);const gi=Dt.map.cameraPosition;gi!==void 0&&gi.setValue(G,ve.setFromMatrixPosition(F.matrixWorld)),we.logarithmicDepthBuffer&&Dt.setValue(G,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&Dt.setValue(G,"isOrthographic",F.isOrthographicCamera===!0),b!==F&&(b=F,mi=!0,es=!0)}if($.isSkinnedMesh){Dt.setOptional(G,$,"bindMatrix"),Dt.setOptional(G,$,"bindMatrixInverse");const gi=$.skeleton;gi&&(gi.boneTexture===null&&gi.computeBoneTexture(),Dt.setValue(G,"boneTexture",gi.boneTexture,Ne))}$.isBatchedMesh&&(Dt.setOptional(G,$,"batchingTexture"),Dt.setValue(G,"batchingTexture",$._matricesTexture,Ne),Dt.setOptional(G,$,"batchingColorTexture"),$._colorsTexture!==null&&Dt.setValue(G,"batchingColorTexture",$._colorsTexture,Ne));const gl=re.morphAttributes;if((gl.position!==void 0||gl.normal!==void 0||gl.color!==void 0)&&Ye.update($,re,Yt),(mi||Le.receiveShadow!==$.receiveShadow)&&(Le.receiveShadow=$.receiveShadow,Dt.setValue(G,"receiveShadow",$.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(Gi.envMap.value=Qe,Gi.flipEnvMap.value=Qe.isCubeTexture&&Qe.isRenderTargetTexture===!1?-1:1),ae.isMeshStandardMaterial&&ae.envMap===null&&Q.environment!==null&&(Gi.envMapIntensity.value=Q.environmentIntensity),mi&&(Dt.setValue(G,"toneMappingExposure",S.toneMappingExposure),Le.needsLights&&R0(Gi,es),Be&&ae.fog===!0&&Me.refreshFogUniforms(Gi,Be),Me.refreshMaterialUniforms(Gi,ae,te,W,y.state.transmissionRenderTarget[F.id]),np.upload(G,Md(Le),Gi,Ne)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(np.upload(G,Md(Le),Gi,Ne),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&Dt.setValue(G,"center",$.center),Dt.setValue(G,"modelViewMatrix",$.modelViewMatrix),Dt.setValue(G,"normalMatrix",$.normalMatrix),Dt.setValue(G,"modelMatrix",$.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const gi=ae.uniformsGroups;for(let io=0,wd=gi.length;io<wd;io++){const Ti=gi[io];wt.update(Ti,Yt),wt.bind(Ti,Yt)}}return Yt}function R0(F,Q){F.ambientLightColor.needsUpdate=Q,F.lightProbe.needsUpdate=Q,F.directionalLights.needsUpdate=Q,F.directionalLightShadows.needsUpdate=Q,F.pointLights.needsUpdate=Q,F.pointLightShadows.needsUpdate=Q,F.spotLights.needsUpdate=Q,F.spotLightShadows.needsUpdate=Q,F.rectAreaLights.needsUpdate=Q,F.hemisphereLights.needsUpdate=Q}function P0(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(F,Q,re){De.get(F.texture).__webglTexture=Q,De.get(F.depthTexture).__webglTexture=re;const ae=De.get(F);ae.__hasExternalTextures=!0,ae.__autoAllocateDepthBuffer=re===void 0,ae.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(F,Q){const re=De.get(F);re.__webglFramebuffer=Q,re.__useDefaultFramebuffer=Q===void 0},this.setRenderTarget=function(F,Q=0,re=0){P=F,R=Q,C=re;let ae=!0,$=null,Be=!1,Ve=!1;if(F){const Qe=De.get(F);Qe.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(G.FRAMEBUFFER,null),ae=!1):Qe.__webglFramebuffer===void 0?Ne.setupRenderTarget(F):Qe.__hasExternalTextures&&Ne.rebindTextures(F,De.get(F.texture).__webglTexture,De.get(F.depthTexture).__webglTexture);const ot=F.texture;(ot.isData3DTexture||ot.isDataArrayTexture||ot.isCompressedArrayTexture)&&(Ve=!0);const rt=De.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(rt[Q])?$=rt[Q][re]:$=rt[Q],Be=!0):F.samples>0&&Ne.useMultisampledRTT(F)===!1?$=De.get(F).__webglMultisampledFramebuffer:Array.isArray(rt)?$=rt[re]:$=rt,T.copy(F.viewport),D.copy(F.scissor),N=F.scissorTest}else T.copy(H).multiplyScalar(te).floor(),D.copy(Y).multiplyScalar(te).floor(),N=le;if(Se.bindFramebuffer(G.FRAMEBUFFER,$)&&ae&&Se.drawBuffers(F,$),Se.viewport(T),Se.scissor(D),Se.setScissorTest(N),Be){const Qe=De.get(F.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Qe.__webglTexture,re)}else if(Ve){const Qe=De.get(F.texture),ot=Q||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,Qe.__webglTexture,re||0,ot)}B=-1},this.readRenderTargetPixels=function(F,Q,re,ae,$,Be,Ve){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Je=De.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ve!==void 0&&(Je=Je[Ve]),Je){Se.bindFramebuffer(G.FRAMEBUFFER,Je);try{const Qe=F.texture,ot=Qe.format,rt=Qe.type;if(!we.textureFormatReadable(ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!we.textureTypeReadable(rt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Q>=0&&Q<=F.width-ae&&re>=0&&re<=F.height-$&&G.readPixels(Q,re,ae,$,ze.convert(ot),ze.convert(rt),Be)}finally{const Qe=P!==null?De.get(P).__webglFramebuffer:null;Se.bindFramebuffer(G.FRAMEBUFFER,Qe)}}},this.readRenderTargetPixelsAsync=async function(F,Q,re,ae,$,Be,Ve){if(!(F&&F.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Je=De.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ve!==void 0&&(Je=Je[Ve]),Je){Se.bindFramebuffer(G.FRAMEBUFFER,Je);try{const Qe=F.texture,ot=Qe.format,rt=Qe.type;if(!we.textureFormatReadable(ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!we.textureTypeReadable(rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Q>=0&&Q<=F.width-ae&&re>=0&&re<=F.height-$){const it=G.createBuffer();G.bindBuffer(G.PIXEL_PACK_BUFFER,it),G.bufferData(G.PIXEL_PACK_BUFFER,Be.byteLength,G.STREAM_READ),G.readPixels(Q,re,ae,$,ze.convert(ot),ze.convert(rt),0),G.flush();const Bt=G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);await XC(G,Bt,4);try{G.bindBuffer(G.PIXEL_PACK_BUFFER,it),G.getBufferSubData(G.PIXEL_PACK_BUFFER,0,Be)}finally{G.deleteBuffer(it),G.deleteSync(Bt)}return Be}}finally{const Qe=P!==null?De.get(P).__webglFramebuffer:null;Se.bindFramebuffer(G.FRAMEBUFFER,Qe)}}},this.copyFramebufferToTexture=function(F,Q=null,re=0){F.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Q=arguments[0]||null,F=arguments[1]);const ae=Math.pow(2,-re),$=Math.floor(F.image.width*ae),Be=Math.floor(F.image.height*ae),Ve=Q!==null?Q.x:0,Je=Q!==null?Q.y:0;Ne.setTexture2D(F,0),G.copyTexSubImage2D(G.TEXTURE_2D,re,0,0,Ve,Je,$,Be),Se.unbindTexture()},this.copyTextureToTexture=function(F,Q,re=null,ae=null,$=0){F.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),ae=arguments[0]||null,F=arguments[1],Q=arguments[2],$=arguments[3]||0,re=null);let Be,Ve,Je,Qe,ot,rt;re!==null?(Be=re.max.x-re.min.x,Ve=re.max.y-re.min.y,Je=re.min.x,Qe=re.min.y):(Be=F.image.width,Ve=F.image.height,Je=0,Qe=0),ae!==null?(ot=ae.x,rt=ae.y):(ot=0,rt=0);const it=ze.convert(Q.format),Bt=ze.convert(Q.type);Ne.setTexture2D(Q,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Q.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Q.unpackAlignment);const on=G.getParameter(G.UNPACK_ROW_LENGTH),jt=G.getParameter(G.UNPACK_IMAGE_HEIGHT),wn=G.getParameter(G.UNPACK_SKIP_PIXELS),Et=G.getParameter(G.UNPACK_SKIP_ROWS),Le=G.getParameter(G.UNPACK_SKIP_IMAGES),gt=F.isCompressedTexture?F.mipmaps[$]:F.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,gt.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,gt.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Je),G.pixelStorei(G.UNPACK_SKIP_ROWS,Qe),F.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,$,ot,rt,Be,Ve,it,Bt,gt.data):F.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,$,ot,rt,gt.width,gt.height,it,gt.data):G.texSubImage2D(G.TEXTURE_2D,$,ot,rt,it,Bt,gt),G.pixelStorei(G.UNPACK_ROW_LENGTH,on),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,jt),G.pixelStorei(G.UNPACK_SKIP_PIXELS,wn),G.pixelStorei(G.UNPACK_SKIP_ROWS,Et),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Le),$===0&&Q.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),Se.unbindTexture()},this.copyTextureToTexture3D=function(F,Q,re=null,ae=null,$=0){F.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),re=arguments[0]||null,ae=arguments[1]||null,F=arguments[2],Q=arguments[3],$=arguments[4]||0);let Be,Ve,Je,Qe,ot,rt,it,Bt,on;const jt=F.isCompressedTexture?F.mipmaps[$]:F.image;re!==null?(Be=re.max.x-re.min.x,Ve=re.max.y-re.min.y,Je=re.max.z-re.min.z,Qe=re.min.x,ot=re.min.y,rt=re.min.z):(Be=jt.width,Ve=jt.height,Je=jt.depth,Qe=0,ot=0,rt=0),ae!==null?(it=ae.x,Bt=ae.y,on=ae.z):(it=0,Bt=0,on=0);const wn=ze.convert(Q.format),Et=ze.convert(Q.type);let Le;if(Q.isData3DTexture)Ne.setTexture3D(Q,0),Le=G.TEXTURE_3D;else if(Q.isDataArrayTexture||Q.isCompressedArrayTexture)Ne.setTexture2DArray(Q,0),Le=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Q.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Q.unpackAlignment);const gt=G.getParameter(G.UNPACK_ROW_LENGTH),Ct=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Yt=G.getParameter(G.UNPACK_SKIP_PIXELS),Bn=G.getParameter(G.UNPACK_SKIP_ROWS),mi=G.getParameter(G.UNPACK_SKIP_IMAGES);G.pixelStorei(G.UNPACK_ROW_LENGTH,jt.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,jt.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Qe),G.pixelStorei(G.UNPACK_SKIP_ROWS,ot),G.pixelStorei(G.UNPACK_SKIP_IMAGES,rt),F.isDataTexture||F.isData3DTexture?G.texSubImage3D(Le,$,it,Bt,on,Be,Ve,Je,wn,Et,jt.data):Q.isCompressedArrayTexture?G.compressedTexSubImage3D(Le,$,it,Bt,on,Be,Ve,Je,wn,jt.data):G.texSubImage3D(Le,$,it,Bt,on,Be,Ve,Je,wn,Et,jt),G.pixelStorei(G.UNPACK_ROW_LENGTH,gt),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Ct),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Yt),G.pixelStorei(G.UNPACK_SKIP_ROWS,Bn),G.pixelStorei(G.UNPACK_SKIP_IMAGES,mi),$===0&&Q.generateMipmaps&&G.generateMipmap(Le),Se.unbindTexture()},this.initRenderTarget=function(F){De.get(F).__webglFramebuffer===void 0&&Ne.setupRenderTarget(F)},this.initTexture=function(F){F.isCubeTexture?Ne.setTextureCube(F,0):F.isData3DTexture?Ne.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Ne.setTexture2DArray(F,0):Ne.setTexture2D(F,0),Se.unbindTexture()},this.resetState=function(){R=0,C=0,P=null,Se.reset(),yt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===t0?"display-p3":"srgb",t.unpackColorSpace=Gt.workingColorSpace===hd?"display-p3":"srgb"}}class s0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=t}clone(){return new s0(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class o0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=t,this.far=i}clone(){return new o0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Zh extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new or,this.environmentIntensity=1,this.environmentRotation=new or,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class pd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=rr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return v6("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const yi=new U;class jo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)yi.fromBufferAttribute(this,t),yi.applyMatrix4(e),this.setXYZ(t,yi.x,yi.y,yi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)yi.fromBufferAttribute(this,t),yi.applyNormalMatrix(e),this.setXYZ(t,yi.x,yi.y,yi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)yi.fromBufferAttribute(this,t),yi.transformDirection(e),this.setXYZ(t,yi.x,yi.y,yi.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ai(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=vt(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ai(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ai(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ai(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ai(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Pt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new jo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class E6 extends bn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xl;const Gu=new U,Jl=new U,jl=new U,Yl=new pe,Vu=new pe,Jq=new tt,r1=new U,Wu=new U,s1=new U,I7=new pe,B2=new pe,L7=new pe;class jq extends Lt{constructor(e=new E6){if(super(),this.isSprite=!0,this.type="Sprite",Xl===void 0){Xl=new dt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new pd(t,5);Xl.setIndex([0,1,2,0,2,3]),Xl.setAttribute("position",new jo(i,3,0,!1)),Xl.setAttribute("uv",new jo(i,2,3,!1))}this.geometry=Xl,this.material=e,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Jl.setFromMatrixScale(this.matrixWorld),Jq.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Jl.multiplyScalar(-jl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;o1(r1.set(-.5,-.5,0),jl,o,Jl,r,s),o1(Wu.set(.5,-.5,0),jl,o,Jl,r,s),o1(s1.set(.5,.5,0),jl,o,Jl,r,s),I7.set(0,0),B2.set(1,0),L7.set(1,1);let a=e.ray.intersectTriangle(r1,Wu,s1,!1,Gu);if(a===null&&(o1(Wu.set(-.5,.5,0),jl,o,Jl,r,s),B2.set(0,1),a=e.ray.intersectTriangle(r1,s1,Wu,!1,Gu),a===null))return;const l=e.ray.origin.distanceTo(Gu);l<e.near||l>e.far||t.push({distance:l,point:Gu.clone(),uv:Zi.getInterpolation(Gu,r1,Wu,s1,I7,B2,L7,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function o1(n,e,t,i,r,s){Yl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Vu.x=s*Yl.x-r*Yl.y,Vu.y=r*Yl.x+s*Yl.y):Vu.copy(Yl),n.copy(e),n.x+=Vu.x,n.y+=Vu.y,n.applyMatrix4(Jq)}const a1=new U,D7=new U;class Yq extends Lt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){a1.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(a1);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){a1.setFromMatrixPosition(e.matrixWorld),D7.setFromMatrixPosition(this.matrixWorld);const i=a1.distanceTo(D7)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const F7=new U,U7=new zt,O7=new zt,$B=new U,N7=new tt,l1=new U,I2=new Wn,k7=new tt,L2=new eu;class w6 extends xn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=p4,this.bindMatrix=new tt,this.bindMatrixInverse=new tt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,l1),this.boundingBox.expandByPoint(l1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Wn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,l1),this.boundingSphere.expandByPoint(l1)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),I2.copy(this.boundingSphere),I2.applyMatrix4(r),e.ray.intersectsSphere(I2)!==!1&&(k7.copy(r).invert(),L2.copy(e.ray).applyMatrix4(k7),!(this.boundingBox!==null&&L2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,L2)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===p4?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===sq?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;U7.fromBufferAttribute(r.attributes.skinIndex,e),O7.fromBufferAttribute(r.attributes.skinWeight,e),F7.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=O7.getComponent(s);if(o!==0){const a=U7.getComponent(s);N7.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector($B.copy(F7).applyMatrix4(N7),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class a0 extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ws extends nn{constructor(e=null,t=1,i=1,r,s,o,a,l,h=Mn,d=Mn,f,p){super(null,o,a,l,h,d,r,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const z7=new tt,eI=new tt;class md{constructor(e=[],t=[]){this.uuid=rr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new tt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:eI;z7.multiplyMatrices(a,t[s]),z7.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new md(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ws(t,e,e,Si,tr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new a0),this.bones.push(o),this.boneInverses.push(new tt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class nl extends Pt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Kl=new tt,H7=new tt,c1=[],G7=new Qn,tI=new tt,Xu=new xn,Ju=new Wn;class C6 extends xn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new nl(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,tI)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Qn),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Kl),G7.copy(e.boundingBox).applyMatrix4(Kl),this.boundingBox.union(G7)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Wn),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Kl),Ju.copy(e.boundingSphere).applyMatrix4(Kl),this.boundingSphere.union(Ju)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Xu.geometry=this.geometry,Xu.material=this.material,Xu.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ju.copy(this.boundingSphere),Ju.applyMatrix4(i),e.ray.intersectsSphere(Ju)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Kl),H7.multiplyMatrices(i,Kl),Xu.matrixWorld=H7,Xu.raycast(e,c1);for(let o=0,a=c1.length;o<a;o++){const l=c1[o];l.instanceId=s,l.object=this,t.push(l)}c1.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new nl(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ws(new Float32Array(r*this.count),r,this.count,c6,tr));const s=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function nI(n,e){return n.z-e.z}function iI(n,e){return e.z-n.z}class rI{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Ql="batchId",xo=new tt,D2=new tt,sI=new tt,oI=new Fe(1,1,1),V7=new tt,F2=new fd,u1=new Qn,_a=new Wn,ju=new U,W7=new U,aI=new U,U2=new rI,ci=new xn,h1=[];function lI(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class Kq extends xn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new dt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Ws(t,e,e,Si,tr);this._matricesTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Ws(t,e,e,Si,tr);i.colorSpace=Gt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:h,itemSize:d,normalized:f}=l,p=new h.constructor(i*d),m=new Pt(p,d,f);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Pt(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(Ql,new Pt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Ql))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Ql}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===Ql)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qn);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,xo),this.getBoundingBoxAt(r,u1).applyMatrix4(xo),t.union(u1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wn);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,xo),this.getBoundingSphereAt(r,_a).applyMatrix4(xo),t.union(_a))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const h=e.getIndex(),d=h!==null;if(d&&(i===-1?r.indexCount=h.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data,q=this._colorsTexture;f.push(!0),p.push(!0);const y=this._geometryCount;this._geometryCount++,sI.toArray(v,y*16),m.needsUpdate=!0,q!==null&&(oI.toArray(q.image.data,y*4),q.needsUpdate=!0),o.push(r),a.push({start:d?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Qn,sphereInitialized:!1,sphere:new Wn});const g=this.geometry.getAttribute(Ql);for(let x=0;x<r.vertexCount;x++)g.setX(r.vertexStart+x,y);return g.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,h=a.vertexCount;for(const m in i.attributes){if(m===Ql)continue;const v=t.getAttribute(m),q=i.getAttribute(m);lI(v,q,l);const y=v.itemSize;for(let g=v.count,x=h;g<x;g++){const S=l+g;for(let M=0;M<y;M++)q.setComponent(S,M,0)}q.needsUpdate=!0,q.addUpdateRange(l*y,h*y)}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,q=a.indexCount;v<q;v++)s.setX(m+v,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const d=this._bounds[e];t.boundingBox!==null?(d.box.copy(t.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,t.boundingSphere!==null?(d.sphere.copy(t.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const f=this._drawRanges[e],p=t.getAttribute("position");return f.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,h=this._drawRanges[e];for(let d=h.start,f=h.start+h.count;d<f;d++){let p=d;a&&(p=a.getX(p)),s.expandByPoint(ju.fromBufferAttribute(l,p))}r.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,u1),u1.getCenter(s.center);const a=o.index,l=o.attributes.position,h=this._drawRanges[e];let d=0;for(let f=h.start,p=h.start+h.count;f<p;f++){let m=f;a&&(m=a.getX(m)),ju.fromBufferAttribute(l,m),d=Math.max(d,s.center.distanceToSquared(ju))}s.radius=Math.sqrt(d),r.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._active,r=this._colorsTexture,s=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*4),r.needsUpdate=!0,this)}getColorAt(e,t){const i=this._active,r=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*4)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;ci.material=this.material,ci.geometry.index=l.index,ci.geometry.attributes=l.attributes,ci.geometry.boundingBox===null&&(ci.geometry.boundingBox=new Qn),ci.geometry.boundingSphere===null&&(ci.geometry.boundingSphere=new Wn);for(let h=0;h<o;h++){if(!i[h]||!r[h])continue;const d=s[h];ci.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(h,ci.matrixWorld).premultiply(a),this.getBoundingBoxAt(h,ci.geometry.boundingBox),this.getBoundingSphereAt(h,ci.geometry.boundingSphere),ci.raycast(e,h1);for(let f=0,p=h1.length;f<p;f++){const m=h1[f];m.object=this,m.batchId=h,t.push(m)}h1.length=0}ci.material=null,ci.geometry.index=null,ci.geometry.attributes={},ci.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,h=this._visibility,d=this._multiDrawStarts,f=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(V7.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),F2.setFromProjectionMatrix(V7,e.coordinateSystem));let v=0;if(this.sortObjects){D2.copy(this.matrixWorld).invert(),ju.setFromMatrixPosition(i.matrixWorld).applyMatrix4(D2),W7.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(D2);for(let g=0,x=h.length;g<x;g++)if(h[g]&&l[g]){this.getMatrixAt(g,xo),this.getBoundingSphereAt(g,_a).applyMatrix4(xo);let S=!1;if(m&&(S=!F2.intersectsSphere(_a)),!S){const M=aI.subVectors(_a.center,ju).dot(W7);U2.push(p[g],M)}}const q=U2.list,y=this.customSort;y===null?q.sort(s.transparent?iI:nI):y.call(this,q,i);for(let g=0,x=q.length;g<x;g++){const S=q[g];d[v]=S.start*a,f[v]=S.count,v++}U2.reset()}else for(let q=0,y=h.length;q<y;q++)if(h[q]&&l[q]){let g=!1;if(m&&(this.getMatrixAt(q,xo),this.getBoundingSphereAt(q,_a).applyMatrix4(xo),g=!F2.intersectsSphere(_a)),!g){const x=p[q];d[v]=x.start*a,f[v]=x.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class pi extends bn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bp=new U,Bp=new U,X7=new tt,Yu=new eu,d1=new Wn,O2=new U,J7=new U;class Zs extends Lt{constructor(e=new dt,t=new pi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)bp.fromBufferAttribute(t,r-1),Bp.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=bp.distanceTo(Bp);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),d1.copy(i.boundingSphere),d1.applyMatrix4(r),d1.radius+=s,e.ray.intersectsSphere(d1)===!1)return;X7.copy(r).invert(),Yu.copy(e.ray).applyMatrix4(X7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=this.isLineSegments?2:1,d=i.index,p=i.attributes.position;if(d!==null){const m=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let q=m,y=v-1;q<y;q+=h){const g=d.getX(q),x=d.getX(q+1),S=f1(this,e,Yu,l,g,x);S&&t.push(S)}if(this.isLineLoop){const q=d.getX(v-1),y=d.getX(m),g=f1(this,e,Yu,l,q,y);g&&t.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let q=m,y=v-1;q<y;q+=h){const g=f1(this,e,Yu,l,q,q+1);g&&t.push(g)}if(this.isLineLoop){const q=f1(this,e,Yu,l,v-1,m);q&&t.push(q)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function f1(n,e,t,i,r,s){const o=n.geometry.attributes.position;if(bp.fromBufferAttribute(o,r),Bp.fromBufferAttribute(o,s),t.distanceSqToSegment(bp,Bp,O2,J7)>i)return;O2.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(O2);if(!(l<e.near||l>e.far))return{distance:l,point:J7.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,object:n}}const j7=new U,Y7=new U;class Kr extends Zs{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)j7.fromBufferAttribute(t,r),Y7.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+j7.distanceTo(Y7);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class T6 extends Zs{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class l0 extends bn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const K7=new tt,W4=new eu,p1=new Wn,m1=new U;class R6 extends Lt{constructor(e=new dt,t=new l0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),p1.copy(i.boundingSphere),p1.applyMatrix4(r),p1.radius+=s,e.ray.intersectsSphere(p1)===!1)return;K7.copy(r).invert(),W4.copy(e.ray).applyMatrix4(K7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=i.index,f=i.attributes.position;if(h!==null){const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,q=m;v<q;v++){const y=h.getX(v);m1.fromBufferAttribute(f,y),Q7(m1,y,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=p,q=m;v<q;v++)m1.fromBufferAttribute(f,v),Q7(m1,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Q7(n,e,t,i,r,s,o){const a=W4.distanceSqToPoint(n);if(a<t){const l=new U;W4.closestPointToPoint(n,l),l.applyMatrix4(i);const h=r.ray.origin.distanceTo(l);if(h<r.near||h>r.far)return;s.push({distance:h,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class cI extends nn{constructor(e,t,i,r,s,o,a,l,h){super(e,t,i,r,s,o,a,l,h),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Jt,this.magFilter=s!==void 0?s:Jt,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class uI extends nn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Mn,this.minFilter=Mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class c0 extends nn{constructor(e,t,i,r,s,o,a,l,h,d,f,p){super(null,o,a,l,h,d,r,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class hI extends c0{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=er,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dI extends c0{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Qs),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class fI extends nn{constructor(e,t,i,r,s,o,a,l,h){super(e,t,i,r,s,o,a,l,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Qr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,h;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),h=i[r]-o,h<0)a=r+1;else if(h>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new U);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new U,r=[],s=[],o=[],a=new U,l=new tt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new U)}s[0]=new U,o[0]=new U;let h=Number.MAX_VALUE;const d=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=h&&(h=d,i.set(1,0,0)),f<=h&&(h=f,i.set(0,1,0)),p<=h&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(vn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(vn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class u0 extends Qr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new pe){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),h=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=h-this.aY;l=p*d-m*f+this.aX,h=p*f+m*d+this.aY}return i.set(l,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Qq extends u0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function P6(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,h){r(o,a,h*(a-s),h*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,h,d,f){let p=(o-s)/h-(a-s)/(h+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+f)+(l-a)/f;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const g1=new U,N2=new P6,k2=new P6,z2=new P6;class Zq extends Qr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new U){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let h,d;this.closed||a>0?h=r[(a-1)%s]:(g1.subVectors(r[0],r[1]).add(r[0]),h=g1);const f=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(g1.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=g1),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(h.distanceToSquared(f),m),q=Math.pow(f.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(d),m);q<1e-4&&(q=1),v<1e-4&&(v=q),y<1e-4&&(y=q),N2.initNonuniformCatmullRom(h.x,f.x,p.x,d.x,v,q,y),k2.initNonuniformCatmullRom(h.y,f.y,p.y,d.y,v,q,y),z2.initNonuniformCatmullRom(h.z,f.z,p.z,d.z,v,q,y)}else this.curveType==="catmullrom"&&(N2.initCatmullRom(h.x,f.x,p.x,d.x,this.tension),k2.initCatmullRom(h.y,f.y,p.y,d.y,this.tension),z2.initCatmullRom(h.z,f.z,p.z,d.z,this.tension));return i.set(N2.calc(l),k2.calc(l),z2.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new U().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Z7(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function pI(n,e){const t=1-n;return t*t*e}function mI(n,e){return 2*(1-n)*n*e}function gI(n,e){return n*n*e}function Ah(n,e,t,i){return pI(n,e)+mI(n,t)+gI(n,i)}function _I(n,e){const t=1-n;return t*t*t*e}function vI(n,e){const t=1-n;return 3*t*t*n*e}function yI(n,e){return 3*(1-n)*n*n*e}function xI(n,e){return n*n*n*e}function Sh(n,e,t,i,r){return _I(n,e)+vI(n,t)+yI(n,i)+xI(n,r)}class b6 extends Qr{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Sh(e,r.x,s.x,o.x,a.x),Sh(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $q extends Qr{constructor(e=new U,t=new U,i=new U,r=new U){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new U){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Sh(e,r.x,s.x,o.x,a.x),Sh(e,r.y,s.y,o.y,a.y),Sh(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class B6 extends Qr{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eA extends Qr{constructor(e=new U,t=new U){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new U){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new U){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I6 extends Qr{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Ah(e,r.x,s.x,o.x),Ah(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class L6 extends Qr{constructor(e=new U,t=new U,i=new U){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new U){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Ah(e,r.x,s.x,o.x),Ah(e,r.y,s.y,o.y),Ah(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D6 extends Qr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],h=r[o],d=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(Z7(a,l.x,h.x,d.x,f.x),Z7(a,l.y,h.y,d.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var Ip=Object.freeze({__proto__:null,ArcCurve:Qq,CatmullRomCurve3:Zq,CubicBezierCurve:b6,CubicBezierCurve3:$q,EllipseCurve:u0,LineCurve:B6,LineCurve3:eA,QuadraticBezierCurve:I6,QuadraticBezierCurve3:L6,SplineCurve:D6});class tA extends Qr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ip[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),h=l===0?0:1-o/l;return a.getPointAt(h,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let h=0;h<l.length;h++){const d=l[h];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Ip[r.type]().fromJSON(r))}return this}}class $h extends tA{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new B6(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new I6(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new b6(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new D6(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+h,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const h=new u0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const f=h.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(h);const d=h.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gd extends dt{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=vn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],h=[],d=1/t,f=new U,p=new pe,m=new U,v=new U,q=new U;let y=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-y,m.z=g*0,q.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(q.x,q.y,q.z);break;default:y=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=q.x,m.y+=q.y,m.z+=q.z,m.normalize(),l.push(m.x,m.y,m.z),q.copy(v)}for(let x=0;x<=t;x++){const S=i+x*d*r,M=Math.sin(S),R=Math.cos(S);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*M,f.y=e[C].y,f.z=e[C].x*R,o.push(f.x,f.y,f.z),p.x=x/t,p.y=C/(e.length-1),a.push(p.x,p.y);const P=l[3*C+0]*M,B=l[3*C+1],b=l[3*C+0]*R;h.push(P,B,b)}}for(let x=0;x<t;x++)for(let S=0;S<e.length-1;S++){const M=S+x*e.length,R=M,C=M+e.length,P=M+e.length+1,B=M+1;s.push(R,C,B),s.push(P,B,C)}this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("uv",new Ke(a,2)),this.setAttribute("normal",new Ke(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.points,e.segments,e.phiStart,e.phiLength)}}class h0 extends gd{constructor(e=1,t=1,i=4,r=8){const s=new $h;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new h0(e.radius,e.length,e.capSegments,e.radialSegments)}}class d0 extends dt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],h=new U,d=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=i+f/t*r;h.x=e*Math.cos(m),h.y=e*Math.sin(m),o.push(h.x,h.y,h.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("normal",new Ke(a,3)),this.setAttribute("uv",new Ke(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ru extends dt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const h=this;r=Math.floor(r),s=Math.floor(s);const d=[],f=[],p=[],m=[];let v=0;const q=[],y=i/2;let g=0;x(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new Ke(f,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2));function x(){const M=new U,R=new U;let C=0;const P=(t-e)/i;for(let B=0;B<=s;B++){const b=[],T=B/s,D=T*(t-e)+e;for(let N=0;N<=r;N++){const O=N/r,J=O*l+a,X=Math.sin(J),W=Math.cos(J);R.x=D*X,R.y=-T*i+y,R.z=D*W,f.push(R.x,R.y,R.z),M.set(X,P,W).normalize(),p.push(M.x,M.y,M.z),m.push(O,1-T),b.push(v++)}q.push(b)}for(let B=0;B<r;B++)for(let b=0;b<s;b++){const T=q[b][B],D=q[b+1][B],N=q[b+1][B+1],O=q[b][B+1];d.push(T,D,O),d.push(D,N,O),C+=6}h.addGroup(g,C,0),g+=C}function S(M){const R=v,C=new pe,P=new U;let B=0;const b=M===!0?e:t,T=M===!0?1:-1;for(let N=1;N<=r;N++)f.push(0,y*T,0),p.push(0,T,0),m.push(.5,.5),v++;const D=v;for(let N=0;N<=r;N++){const J=N/r*l+a,X=Math.cos(J),W=Math.sin(J);P.x=b*W,P.y=y*T,P.z=b*X,f.push(P.x,P.y,P.z),p.push(0,T,0),C.x=X*.5+.5,C.y=W*.5*T+.5,m.push(C.x,C.y),v++}for(let N=0;N<r;N++){const O=R+N,J=D+N;M===!0?d.push(J,J+1,O):d.push(J+1,J,O),B+=3}h.addGroup(g,B,M===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ru(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class f0 extends ru{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new f0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ea extends dt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),h(i),d(),this.setAttribute("position",new Ke(s,3)),this.setAttribute("normal",new Ke(s.slice(),3)),this.setAttribute("uv",new Ke(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const S=new U,M=new U,R=new U;for(let C=0;C<t.length;C+=3)m(t[C+0],S),m(t[C+1],M),m(t[C+2],R),l(S,M,R,x)}function l(x,S,M,R){const C=R+1,P=[];for(let B=0;B<=C;B++){P[B]=[];const b=x.clone().lerp(M,B/C),T=S.clone().lerp(M,B/C),D=C-B;for(let N=0;N<=D;N++)N===0&&B===C?P[B][N]=b:P[B][N]=b.clone().lerp(T,N/D)}for(let B=0;B<C;B++)for(let b=0;b<2*(C-B)-1;b++){const T=Math.floor(b/2);b%2===0?(p(P[B][T+1]),p(P[B+1][T]),p(P[B][T])):(p(P[B][T+1]),p(P[B+1][T+1]),p(P[B+1][T]))}}function h(x){const S=new U;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(x),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function d(){const x=new U;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const M=y(x)/2/Math.PI+.5,R=g(x)/Math.PI+.5;o.push(M,1-R)}v(),f()}function f(){for(let x=0;x<o.length;x+=6){const S=o[x+0],M=o[x+2],R=o[x+4],C=Math.max(S,M,R),P=Math.min(S,M,R);C>.9&&P<.1&&(S<.2&&(o[x+0]+=1),M<.2&&(o[x+2]+=1),R<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,S){const M=x*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const x=new U,S=new U,M=new U,R=new U,C=new pe,P=new pe,B=new pe;for(let b=0,T=0;b<s.length;b+=9,T+=6){x.set(s[b+0],s[b+1],s[b+2]),S.set(s[b+3],s[b+4],s[b+5]),M.set(s[b+6],s[b+7],s[b+8]),C.set(o[T+0],o[T+1]),P.set(o[T+2],o[T+3]),B.set(o[T+4],o[T+5]),R.copy(x).add(S).add(M).divideScalar(3);const D=y(R);q(C,T+0,x,D),q(P,T+2,S,D),q(B,T+4,M,D)}}function q(x,S,M,R){R<0&&x.x===1&&(o[S]=x.x-1),M.x===0&&M.z===0&&(o[S]=R/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ea(e.vertices,e.indices,e.radius,e.details)}}class p0 extends ea{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new p0(e.radius,e.detail)}}const _1=new U,v1=new U,H2=new U,y1=new Zi;class nA extends dt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Wa*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,h=[0,0,0],d=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(h[0]=o.getX(v),h[1]=o.getX(v+1),h[2]=o.getX(v+2)):(h[0]=v,h[1]=v+1,h[2]=v+2);const{a:q,b:y,c:g}=y1;if(q.fromBufferAttribute(a,h[0]),y.fromBufferAttribute(a,h[1]),g.fromBufferAttribute(a,h[2]),y1.getNormal(H2),f[0]=`${Math.round(q.x*r)},${Math.round(q.y*r)},${Math.round(q.z*r)}`,f[1]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const S=(x+1)%3,M=f[x],R=f[S],C=y1[d[x]],P=y1[d[S]],B=`${M}_${R}`,b=`${R}_${M}`;b in p&&p[b]?(H2.dot(p[b].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),p[b]=null):B in p||(p[B]={index0:h[x],index1:h[S],normal:H2.clone()})}}for(const v in p)if(p[v]){const{index0:q,index1:y}=p[v];_1.fromBufferAttribute(a,q),v1.fromBufferAttribute(a,y),m.push(_1.x,_1.y,_1.z),m.push(v1.x,v1.y,v1.z)}this.setAttribute("position",new Ke(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ja extends $h{constructor(e){super(e),this.uuid=rr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new $h().fromJSON(r))}return this}}const qI={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=iA(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,h,d,f,p,m;if(i&&(s=wI(n,e,s,t)),n.length>80*t){a=h=n[0],l=d=n[1];for(let v=t;v<r;v+=t)f=n[v],p=n[v+1],f<a&&(a=f),p<l&&(l=p),f>h&&(h=f),p>d&&(d=p);m=Math.max(h-a,d-l),m=m!==0?32767/m:0}return ed(s,o,t,a,l,m,0),o}};function iA(n,e,t,i,r){let s,o;if(r===UI(n,e,t,i)>0)for(s=e;s<t;s+=i)o=$7(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=$7(s,n[s],n[s+1],o);return o&&m0(o,o.next)&&(nd(o),o=o.next),o}function il(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(m0(t,t.next)||dn(t.prev,t,t.next)===0)){if(nd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ed(n,e,t,i,r,s,o){if(!n)return;!o&&s&&bI(n,i,r,s);let a=n,l,h;for(;n.prev!==n.next;){if(l=n.prev,h=n.next,s?SI(n,i,r,s):AI(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(h.i/t|0),nd(n),n=h.next,a=h.next;continue}if(n=h,n===a){o?o===1?(n=MI(il(n),e,t),ed(n,e,t,i,r,s,2)):o===2&&EI(n,e,t,i,r,s):ed(il(n),e,t,i,r,s,1);break}}}function AI(n){const e=n.prev,t=n,i=n.next;if(dn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,h=i.y,d=r<s?r<o?r:o:s<o?s:o,f=a<l?a<h?a:h:l<h?l:h,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>h?a:h:l>h?l:h;let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=f&&v.y<=m&&Ac(r,a,s,l,o,h,v.x,v.y)&&dn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function SI(n,e,t,i){const r=n.prev,s=n,o=n.next;if(dn(r,s,o)>=0)return!1;const a=r.x,l=s.x,h=o.x,d=r.y,f=s.y,p=o.y,m=a<l?a<h?a:h:l<h?l:h,v=d<f?d<p?d:p:f<p?f:p,q=a>l?a>h?a:h:l>h?l:h,y=d>f?d>p?d:p:f>p?f:p,g=X4(m,v,e,t,i),x=X4(q,y,e,t,i);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=g&&M&&M.z<=x;){if(S.x>=m&&S.x<=q&&S.y>=v&&S.y<=y&&S!==r&&S!==o&&Ac(a,d,l,f,h,p,S.x,S.y)&&dn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=q&&M.y>=v&&M.y<=y&&M!==r&&M!==o&&Ac(a,d,l,f,h,p,M.x,M.y)&&dn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=q&&S.y>=v&&S.y<=y&&S!==r&&S!==o&&Ac(a,d,l,f,h,p,S.x,S.y)&&dn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=q&&M.y>=v&&M.y<=y&&M!==r&&M!==o&&Ac(a,d,l,f,h,p,M.x,M.y)&&dn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function MI(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!m0(r,s)&&rA(r,i,i.next,s)&&td(r,s)&&td(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),nd(i),nd(i.next),i=n=s),i=i.next}while(i!==n);return il(i)}function EI(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&LI(o,a)){let l=sA(o,a);o=il(o,o.next),l=il(l,l.next),ed(o,e,t,i,r,s,0),ed(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function wI(n,e,t,i){const r=[];let s,o,a,l,h;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,h=iA(n,a,l,i,!1),h===h.next&&(h.steiner=!0),r.push(II(h));for(r.sort(CI),s=0;s<r.length;s++)t=TI(r[s],t);return t}function CI(n,e){return n.x-e.x}function TI(n,e){const t=RI(n,e);if(!t)return e;const i=sA(t,n);return il(i,i.next),il(t,t.next)}function RI(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,h=r.y;let d=1/0,f;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Ac(o<h?s:i,o,l,h,o<h?i:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),td(t,n)&&(f<d||f===d&&(t.x>r.x||t.x===r.x&&PI(r,t)))&&(r=t,d=f)),t=t.next;while(t!==a);return r}function PI(n,e){return dn(n.prev,n,e.prev)<0&&dn(e.next,n,n.next)<0}function bI(n,e,t,i){let r=n;do r.z===0&&(r.z=X4(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,BI(r)}function BI(n){let e,t,i,r,s,o,a,l,h=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<h&&(a++,i=i.nextZ,!!i);e++);for(l=h;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,h*=2}while(o>1);return n}function X4(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function II(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Ac(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function LI(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!DI(n,e)&&(td(n,e)&&td(e,n)&&FI(n,e)&&(dn(n.prev,n,e.prev)||dn(n,e.prev,e))||m0(n,e)&&dn(n.prev,n,n.next)>0&&dn(e.prev,e,e.next)>0)}function dn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function m0(n,e){return n.x===e.x&&n.y===e.y}function rA(n,e,t,i){const r=q1(dn(n,e,t)),s=q1(dn(n,e,i)),o=q1(dn(t,i,n)),a=q1(dn(t,i,e));return!!(r!==s&&o!==a||r===0&&x1(n,t,e)||s===0&&x1(n,i,e)||o===0&&x1(t,n,i)||a===0&&x1(t,e,i))}function x1(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function q1(n){return n>0?1:n<0?-1:0}function DI(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&rA(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function td(n,e){return dn(n.prev,n,n.next)<0?dn(n,e,n.next)>=0&&dn(n,n.prev,e)>=0:dn(n,e,n.prev)<0||dn(n,n.next,e)<0}function FI(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function sA(n,e){const t=new J4(n.i,n.x,n.y),i=new J4(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function $7(n,e,t,i){const r=new J4(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function nd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function J4(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function UI(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class vs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return vs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];e_(e),t_(i,e);let o=e.length;t.forEach(e_);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,t_(i,t[l]);const a=qI.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function e_(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function t_(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class _d extends dt{constructor(e=new Ja([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const h=e[a];o(h)}this.setAttribute("position",new Ke(r,3)),this.setAttribute("uv",new Ke(s,2)),this.computeVertexNormals();function o(a){const l=[],h=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,q=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:OI;let S,M=!1,R,C,P,B;g&&(S=g.getSpacedPoints(d),M=!0,p=!1,R=g.computeFrenetFrames(d,!1),C=new U,P=new U,B=new U),p||(y=0,m=0,v=0,q=0);const b=a.extractPoints(h);let T=b.shape;const D=b.holes;if(!vs.isClockWise(T)){T=T.reverse();for(let me=0,he=D.length;me<he;me++){const we=D[me];vs.isClockWise(we)&&(D[me]=we.reverse())}}const O=vs.triangulateShape(T,D),J=T;for(let me=0,he=D.length;me<he;me++){const we=D[me];T=T.concat(we)}function X(me,he,we){return he||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().addScaledVector(he,we)}const W=T.length,te=O.length;function L(me,he,we){let Se,Ce,De;const Ne=me.x-he.x,at=me.y-he.y,z=we.x-me.x,I=we.y-me.y,se=Ne*Ne+at*at,xe=Ne*I-at*z;if(Math.abs(xe)>Number.EPSILON){const _e=Math.sqrt(se),Me=Math.sqrt(z*z+I*I),$e=he.x-at/_e,be=he.y+Ne/_e,Ue=we.x-I/Me,ft=we.y+z/Me,Re=((Ue-$e)*I-(ft-be)*z)/(Ne*I-at*z);Se=$e+Ne*Re-me.x,Ce=be+at*Re-me.y;const Ye=Se*Se+Ce*Ce;if(Ye<=2)return new pe(Se,Ce);De=Math.sqrt(Ye/2)}else{let _e=!1;Ne>Number.EPSILON?z>Number.EPSILON&&(_e=!0):Ne<-Number.EPSILON?z<-Number.EPSILON&&(_e=!0):Math.sign(at)===Math.sign(I)&&(_e=!0),_e?(Se=-at,Ce=Ne,De=Math.sqrt(se)):(Se=Ne,Ce=at,De=Math.sqrt(se/2))}return new pe(Se/De,Ce/De)}const V=[];for(let me=0,he=J.length,we=he-1,Se=me+1;me<he;me++,we++,Se++)we===he&&(we=0),Se===he&&(Se=0),V[me]=L(J[me],J[we],J[Se]);const H=[];let Y,le=V.concat();for(let me=0,he=D.length;me<he;me++){const we=D[me];Y=[];for(let Se=0,Ce=we.length,De=Ce-1,Ne=Se+1;Se<Ce;Se++,De++,Ne++)De===Ce&&(De=0),Ne===Ce&&(Ne=0),Y[Se]=L(we[Se],we[De],we[Ne]);H.push(Y),le=le.concat(Y)}for(let me=0;me<y;me++){const he=me/y,we=m*Math.cos(he*Math.PI/2),Se=v*Math.sin(he*Math.PI/2)+q;for(let Ce=0,De=J.length;Ce<De;Ce++){const Ne=X(J[Ce],V[Ce],Se);ve(Ne.x,Ne.y,-we)}for(let Ce=0,De=D.length;Ce<De;Ce++){const Ne=D[Ce];Y=H[Ce];for(let at=0,z=Ne.length;at<z;at++){const I=X(Ne[at],Y[at],Se);ve(I.x,I.y,-we)}}}const qe=v+q;for(let me=0;me<W;me++){const he=p?X(T[me],le[me],qe):T[me];M?(P.copy(R.normals[0]).multiplyScalar(he.x),C.copy(R.binormals[0]).multiplyScalar(he.y),B.copy(S[0]).add(P).add(C),ve(B.x,B.y,B.z)):ve(he.x,he.y,0)}for(let me=1;me<=d;me++)for(let he=0;he<W;he++){const we=p?X(T[he],le[he],qe):T[he];M?(P.copy(R.normals[me]).multiplyScalar(we.x),C.copy(R.binormals[me]).multiplyScalar(we.y),B.copy(S[me]).add(P).add(C),ve(B.x,B.y,B.z)):ve(we.x,we.y,f/d*me)}for(let me=y-1;me>=0;me--){const he=me/y,we=m*Math.cos(he*Math.PI/2),Se=v*Math.sin(he*Math.PI/2)+q;for(let Ce=0,De=J.length;Ce<De;Ce++){const Ne=X(J[Ce],V[Ce],Se);ve(Ne.x,Ne.y,f+we)}for(let Ce=0,De=D.length;Ce<De;Ce++){const Ne=D[Ce];Y=H[Ce];for(let at=0,z=Ne.length;at<z;at++){const I=X(Ne[at],Y[at],Se);M?ve(I.x,I.y+S[d-1].y,S[d-1].x+we):ve(I.x,I.y,f+we)}}}ee(),fe();function ee(){const me=r.length/3;if(p){let he=0,we=W*he;for(let Se=0;Se<te;Se++){const Ce=O[Se];Ze(Ce[2]+we,Ce[1]+we,Ce[0]+we)}he=d+y*2,we=W*he;for(let Se=0;Se<te;Se++){const Ce=O[Se];Ze(Ce[0]+we,Ce[1]+we,Ce[2]+we)}}else{for(let he=0;he<te;he++){const we=O[he];Ze(we[2],we[1],we[0])}for(let he=0;he<te;he++){const we=O[he];Ze(we[0]+W*d,we[1]+W*d,we[2]+W*d)}}i.addGroup(me,r.length/3-me,0)}function fe(){const me=r.length/3;let he=0;Ae(J,he),he+=J.length;for(let we=0,Se=D.length;we<Se;we++){const Ce=D[we];Ae(Ce,he),he+=Ce.length}i.addGroup(me,r.length/3-me,1)}function Ae(me,he){let we=me.length;for(;--we>=0;){const Se=we;let Ce=we-1;Ce<0&&(Ce=me.length-1);for(let De=0,Ne=d+y*2;De<Ne;De++){const at=W*De,z=W*(De+1),I=he+Se+at,se=he+Ce+at,xe=he+Ce+z,_e=he+Se+z;lt(I,se,xe,_e)}}}function ve(me,he,we){l.push(me),l.push(he),l.push(we)}function Ze(me,he,we){je(me),je(he),je(we);const Se=r.length/3,Ce=x.generateTopUV(i,r,Se-3,Se-2,Se-1);G(Ce[0]),G(Ce[1]),G(Ce[2])}function lt(me,he,we,Se){je(me),je(he),je(Se),je(he),je(we),je(Se);const Ce=r.length/3,De=x.generateSideWallUV(i,r,Ce-6,Ce-3,Ce-2,Ce-1);G(De[0]),G(De[1]),G(De[3]),G(De[1]),G(De[2]),G(De[3])}function je(me){r.push(l[me*3+0]),r.push(l[me*3+1]),r.push(l[me*3+2])}function G(me){s.push(me.x),s.push(me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return NI(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Ip[r.type]().fromJSON(r)),new _d(i,e.options)}}const OI={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],h=e[r*3],d=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(h,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],h=e[i*3],d=e[i*3+1],f=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],q=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-h)?[new pe(o,1-l),new pe(h,1-f),new pe(p,1-v),new pe(q,1-g)]:[new pe(a,1-l),new pe(d,1-f),new pe(m,1-v),new pe(y,1-g)]}};function NI(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class g0 extends ea{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new g0(e.radius,e.detail)}}class vd extends ea{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vd(e.radius,e.detail)}}class _0 extends dt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],h=[],d=[];let f=e;const p=(t-e)/r,m=new U,v=new pe;for(let q=0;q<=r;q++){for(let y=0;y<=i;y++){const g=s+y/i*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}f+=p}for(let q=0;q<r;q++){const y=q*(i+1);for(let g=0;g<i;g++){const x=g+y,S=x,M=x+i+1,R=x+i+2,C=x+1;a.push(S,M,C),a.push(M,R,C)}}this.setIndex(a),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(h,3)),this.setAttribute("uv",new Ke(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class v0 extends dt{constructor(e=new Ja([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)h(e);else for(let d=0;d<e.length;d++)h(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(s,3)),this.setAttribute("uv",new Ke(o,2));function h(d){const f=r.length/3,p=d.extractPoints(t);let m=p.shape;const v=p.holes;vs.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const x=v[y];vs.isClockWise(x)===!0&&(v[y]=x.reverse())}const q=vs.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const x=v[y];m=m.concat(x)}for(let y=0,g=m.length;y<g;y++){const x=m[y];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,g=q.length;y<g;y++){const x=q[y],S=x[0]+f,M=x[1]+f,R=x[2]+f;i.push(S,M,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return kI(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new v0(i,e.curveSegments)}}function kI(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class yd extends dt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let h=0;const d=[],f=new U,p=new U,m=[],v=[],q=[],y=[];for(let g=0;g<=i;g++){const x=[],S=g/i;let M=0;g===0&&o===0?M=.5/t:g===i&&l===Math.PI&&(M=-.5/t);for(let R=0;R<=t;R++){const C=R/t;f.x=-e*Math.cos(r+C*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(r+C*s)*Math.sin(o+S*a),v.push(f.x,f.y,f.z),p.copy(f).normalize(),q.push(p.x,p.y,p.z),y.push(C+M,1-S),x.push(h++)}d.push(x)}for(let g=0;g<i;g++)for(let x=0;x<t;x++){const S=d[g][x+1],M=d[g][x],R=d[g+1][x],C=d[g+1][x+1];(g!==0||o>0)&&m.push(S,M,C),(g!==i-1||l<Math.PI)&&m.push(M,R,C)}this.setIndex(m),this.setAttribute("position",new Ke(v,3)),this.setAttribute("normal",new Ke(q,3)),this.setAttribute("uv",new Ke(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class y0 extends ea{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new y0(e.radius,e.detail)}}class x0 extends dt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],h=[],d=new U,f=new U,p=new U;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const q=v/r*s,y=m/i*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(q),f.y=(e+t*Math.cos(y))*Math.sin(q),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),d.x=e*Math.cos(q),d.y=e*Math.sin(q),p.subVectors(f,d).normalize(),l.push(p.x,p.y,p.z),h.push(v/r),h.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const q=(r+1)*m+v-1,y=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,x=(r+1)*m+v;o.push(q,y,x),o.push(y,g,x)}this.setIndex(o),this.setAttribute("position",new Ke(a,3)),this.setAttribute("normal",new Ke(l,3)),this.setAttribute("uv",new Ke(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class q0 extends dt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],h=[],d=[],f=new U,p=new U,m=new U,v=new U,q=new U,y=new U,g=new U;for(let S=0;S<=i;++S){const M=S/i*s*Math.PI*2;x(M,s,o,e,m),x(M+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),q.crossVectors(y,g),g.crossVectors(q,y),q.normalize(),g.normalize();for(let R=0;R<=r;++R){const C=R/r*Math.PI*2,P=-t*Math.cos(C),B=t*Math.sin(C);f.x=m.x+(P*g.x+B*q.x),f.y=m.y+(P*g.y+B*q.y),f.z=m.z+(P*g.z+B*q.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),h.push(p.x,p.y,p.z),d.push(S/i),d.push(R/r)}}for(let S=1;S<=i;S++)for(let M=1;M<=r;M++){const R=(r+1)*(S-1)+(M-1),C=(r+1)*S+(M-1),P=(r+1)*S+M,B=(r+1)*(S-1)+M;a.push(R,C,B),a.push(C,P,B)}this.setIndex(a),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(h,3)),this.setAttribute("uv",new Ke(d,2));function x(S,M,R,C,P){const B=Math.cos(S),b=Math.sin(S),T=R/M*S,D=Math.cos(T);P.x=C*(2+D)*.5*B,P.y=C*(2+D)*b*.5,P.z=C*Math.sin(T)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class A0 extends dt{constructor(e=new L6(new U(-1,-1,0),new U(-1,1,0),new U(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new U,l=new U,h=new pe;let d=new U;const f=[],p=[],m=[],v=[];q(),this.setIndex(v),this.setAttribute("position",new Ke(f,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2));function q(){for(let S=0;S<t;S++)y(S);y(s===!1?t:0),x(),g()}function y(S){d=e.getPointAt(S/t,d);const M=o.normals[S],R=o.binormals[S];for(let C=0;C<=r;C++){const P=C/r*Math.PI*2,B=Math.sin(P),b=-Math.cos(P);l.x=b*M.x+B*R.x,l.y=b*M.y+B*R.y,l.z=b*M.z+B*R.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let M=1;M<=r;M++){const R=(r+1)*(S-1)+(M-1),C=(r+1)*S+(M-1),P=(r+1)*S+M,B=(r+1)*(S-1)+M;v.push(R,C,B),v.push(C,P,B)}}function x(){for(let S=0;S<=t;S++)for(let M=0;M<=r;M++)h.x=S/t,h.y=M/r,m.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new A0(new Ip[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class oA extends dt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new U,s=new U;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let h=0,d=l.length;h<d;++h){const f=l[h],p=f.start,m=f.count;for(let v=p,q=p+m;v<q;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),x=a.getX(v+(y+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),n_(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let h=0;h<3;h++){const d=3*a+h,f=3*a+(h+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,f),n_(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ke(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function n_(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var i_=Object.freeze({__proto__:null,BoxGeometry:hl,CapsuleGeometry:h0,CircleGeometry:d0,ConeGeometry:f0,CylinderGeometry:ru,DodecahedronGeometry:p0,EdgesGeometry:nA,ExtrudeGeometry:_d,IcosahedronGeometry:g0,LatheGeometry:gd,OctahedronGeometry:vd,PlaneGeometry:nu,PolyhedronGeometry:ea,RingGeometry:_0,ShapeGeometry:v0,SphereGeometry:yd,TetrahedronGeometry:y0,TorusGeometry:x0,TorusKnotGeometry:q0,TubeGeometry:A0,WireframeGeometry:oA});class aA extends bn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class lA extends br{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class su extends bn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new or,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Br extends su{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cA extends bn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new or,this.combine=ud,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uA extends bn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hA extends bn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dA extends bn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new or,this.combine=ud,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fA extends bn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pA extends pi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Na(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function mA(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gA(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function j4(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function F6(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function zI(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const h=s.tracks[l],d=h.getValueSize(),f=[],p=[];for(let m=0;m<h.times.length;++m){const v=h.times[m]*r;if(!(v<t||v>=i)){f.push(h.times[m]);for(let q=0;q<d;++q)p.push(h.values[m*d+q])}}f.length!==0&&(h.times=Na(f,h.times.constructor),h.values=Na(p,h.values.constructor),o.push(h))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function HI(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const h=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(h===void 0)continue;let d=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let p=0;const m=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let q;if(s<=a.times[0]){const g=d,x=f-d;q=a.values.slice(g,x)}else if(s>=a.times[v]){const g=v*f+d,x=g+f-d;q=a.values.slice(g,x)}else{const g=a.createInterpolant(),x=d,S=f-d;g.evaluate(s),q=g.resultBuffer.slice(x,S)}l==="quaternion"&&new Vn().fromArray(q).normalize().conjugate().toArray(q);const y=h.times.length;for(let g=0;g<y;++g){const x=g*m+p;if(l==="quaternion")Vn.multiplyQuaternionsFlat(h.values,x,q,0,h.values,x);else{const S=m-p*2;for(let M=0;M<S;++M)h.values[x+M]-=q[M]}}}return n.blendMode=f6,n}const GI={convertArray:Na,isTypedArray:mA,getKeyframeOrder:gA,sortedArray:j4,flattenJSON:F6,subclip:zI,makeClipAdditive:HI};class ou{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _A extends ou{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fa,endingEnd:Fa}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ua:s=e,a=2*t-i;break;case Wh:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ua:o=e,l=2*i-t;break;case Wh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const h=(i-t)*.5,d=this.valueSize;this._weightPrev=h/(t-a),this._weightNext=h/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,h=l-a,d=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),q=v*v,y=q*v,g=-p*y+2*p*q-p*v,x=(1+p)*y+(-1.5-2*p)*q+(-.5+p)*v+1,S=(-1-m)*y+(1.5+m)*q+.5*v,M=m*y-m*q;for(let R=0;R!==a;++R)s[R]=g*o[d+R]+x*o[h+R]+S*o[l+R]+M*o[f+R];return s}}class U6 extends ou{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,h=l-a,d=(i-t)/(r-t),f=1-d;for(let p=0;p!==a;++p)s[p]=o[h+p]*f+o[l+p]*d;return s}}class vA extends ou{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Na(t,this.TimeBufferType),this.values=Na(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Na(e.times,Array),values:Na(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new vA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new U6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _A(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gc:t=this.InterpolantFactoryMethodDiscrete;break;case Vc:t=this.InterpolantFactoryMethodLinear;break;case tp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gc;case this.InterpolantFactoryMethodLinear:return Vc;case this.InterpolantFactoryMethodSmooth:return tp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&mA(r))for(let a=0,l=r.length;a!==l;++a){const h=r[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===tp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const h=e[a],d=e[a+1];if(h!==d&&(a!==1||h!==e[0]))if(r)l=!0;else{const f=a*i,p=f-i,m=f+i;for(let v=0;v!==i;++v){const q=t[f+v];if(q!==t[p+v]||q!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,h=0;h!==i;++h)t[l+h]=t[a+h];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Zr.prototype.TimeBufferType=Float32Array;Zr.prototype.ValueBufferType=Float32Array;Zr.prototype.DefaultInterpolation=Vc;class dl extends Zr{constructor(e,t,i){super(e,t,i)}}dl.prototype.ValueTypeName="bool";dl.prototype.ValueBufferType=Array;dl.prototype.DefaultInterpolation=Gc;dl.prototype.InterpolantFactoryMethodLinear=void 0;dl.prototype.InterpolantFactoryMethodSmooth=void 0;class O6 extends Zr{}O6.prototype.ValueTypeName="color";class rl extends Zr{}rl.prototype.ValueTypeName="number";class yA extends ou{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let h=e*a;for(let d=h+a;h!==d;h+=4)Vn.slerpFlat(s,0,o,h-a,o,h,l);return s}}class sl extends Zr{InterpolantFactoryMethodLinear(e){return new yA(this.times,this.values,this.getValueSize(),e)}}sl.prototype.ValueTypeName="quaternion";sl.prototype.InterpolantFactoryMethodSmooth=void 0;class fl extends Zr{constructor(e,t,i){super(e,t,i)}}fl.prototype.ValueTypeName="string";fl.prototype.ValueBufferType=Array;fl.prototype.DefaultInterpolation=Gc;fl.prototype.InterpolantFactoryMethodLinear=void 0;fl.prototype.InterpolantFactoryMethodSmooth=void 0;class ol extends Zr{}ol.prototype.ValueTypeName="vector";class Jc{constructor(e="",t=-1,i=[],r=e0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=rr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(WI(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Zr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],h=[];l.push((a+s-1)%s,a,(a+1)%s),h.push(0,1,0);const d=gA(l);l=j4(l,1,d),h=j4(h,1,d),!r&&l[0]===0&&(l.push(s),h.push(h[0])),o.push(new rl(".morphTargetInfluences["+t[a].name+"]",l,h).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const h=e[a],d=h.name.match(s);if(d&&d.length>1){const f=d[1];let p=r[f];p||(r[f]=p=[]),p.push(h)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,p,m,v,q){if(m.length!==0){const y=[],g=[];F6(m,y,g,v),y.length!==0&&q.push(new f(p,y,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const h=e.hierarchy||[];for(let f=0;f<h.length;f++){const p=h[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let q=0;q<p[v].morphTargets.length;q++)m[p[v].morphTargets[q]]=-1;for(const q in m){const y=[],g=[];for(let x=0;x!==p[v].morphTargets.length;++x){const S=p[v];y.push(S.time),g.push(S.morphTarget===q?1:0)}r.push(new rl(".morphTargetInfluence["+q+"]",y,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";i(ol,m+".position",p,"pos",r),i(sl,m+".quaternion",p,"rot",r),i(ol,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function VI(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return rl;case"vector":case"vector2":case"vector3":case"vector4":return ol;case"color":return O6;case"quaternion":return sl;case"bool":case"boolean":return dl;case"string":return fl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function WI(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=VI(n.type);if(n.times===void 0){const t=[],i=[];F6(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Gs={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class N6{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return h.push(d,f),this},this.removeHandler=function(d){const f=h.indexOf(d);return f!==-1&&h.splice(f,2),this},this.getHandler=function(d){for(let f=0,p=h.length;f<p;f+=2){const m=h[f],v=h[f+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null}}}const Sc=new N6;class $n{constructor(e){this.manager=e!==void 0?e:Sc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}$n.DEFAULT_MATERIAL_NAME="__DEFAULT";const Bs={};class XI extends Error{constructor(e,t){super(e),this.response=t}}class ki extends $n{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Gs.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Bs[e]!==void 0){Bs[e].push({onLoad:t,onProgress:i,onError:r});return}Bs[e]=[],Bs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const d=Bs[e],f=h.body.getReader(),p=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let q=0;const y=new ReadableStream({start(g){x();function x(){f.read().then(({done:S,value:M})=>{if(S)g.close();else{q+=M.byteLength;const R=new ProgressEvent("progress",{lengthComputable:v,loaded:q,total:m});for(let C=0,P=d.length;C<P;C++){const B=d[C];B.onProgress&&B.onProgress(R)}g.enqueue(M),x()}},S=>{g.error(S)})}}});return new Response(y)}else throw new XI(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(l){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return h.json();default:if(a===void 0)return h.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return h.arrayBuffer().then(v=>m.decode(v))}}}).then(h=>{Gs.add(e,h);const d=Bs[e];delete Bs[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onLoad&&m.onLoad(h)}}).catch(h=>{const d=Bs[e];if(d===void 0)throw this.manager.itemError(e),h;delete Bs[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onError&&m.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class JI extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ki(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Jc.parse(e[i]);t.push(r)}return t}}class jI extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new c0,l=new ki(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let h=0;function d(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},h+=1,h===6&&(m.mipmapCount===1&&(a.minFilter=Jt),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)d(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let q=0;q<p.mipmapCount;q++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+q]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Jt),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class id extends $n{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Gs.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Qh("img");function l(){d(),Gs.add(e,this),t&&t(this),s.manager.itemEnd(e)}function h(f){d(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",h,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class YI extends $n{constructor(e){super(e)}load(e,t,i,r){const s=new dd;s.colorSpace=Ar;const o=new id(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(h){o.load(e[h],function(d){s.images[h]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let h=0;h<e.length;++h)l(h);return s}}class KI extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ws,a=new ki(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let h;try{h=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:er,o.wrapT=h.wrapT!==void 0?h.wrapT:er,o.magFilter=h.magFilter!==void 0?h.magFilter:Jt,o.minFilter=h.minFilter!==void 0?h.minFilter:Jt,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=Cr),h.mipmapCount===1&&(o.minFilter=Jt),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,t&&t(o,h)},i,r),o}}class k6 extends $n{constructor(e){super(e)}load(e,t,i,r){const s=new nn,o=new id(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ta extends Lt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class xA extends ta{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const G2=new tt,r_=new U,s_=new U;class z6{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fd,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;r_.setFromMatrixPosition(e.matrixWorld),t.position.copy(r_),s_.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(s_),t.updateMatrixWorld(),G2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(G2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class QI extends z6{constructor(){super(new yn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Wc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class H6 extends ta{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new QI}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const o_=new tt,Ku=new U,V2=new U;class ZI extends z6{constructor(){super(new yn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new U(1,0,0),new U(-1,0,0),new U(0,0,1),new U(0,0,-1),new U(0,1,0),new U(0,-1,0)],this._cubeUps=[new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,0,1),new U(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ku.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ku),V2.copy(i.position),V2.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(V2),i.updateMatrixWorld(),r.makeTranslation(-Ku.x,-Ku.y,-Ku.z),o_.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o_)}}class G6 extends ta{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new ZI}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class $I extends z6{constructor(){super(new $o(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class V6 extends ta{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new $I}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qA extends ta{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class AA extends ta{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class SA{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new U)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class MA extends ta{constructor(e=new SA,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class S0 extends $n{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new ki(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=S0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Fe().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new U().fromArray(o.value);break;case"v4":r.uniforms[s].value=new zt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new _t().fromArray(o.value);break;case"m4":r.uniforms[s].value=new tt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:aA,SpriteMaterial:E6,RawShaderMaterial:lA,ShaderMaterial:br,PointsMaterial:l0,MeshPhysicalMaterial:Br,MeshStandardMaterial:su,MeshPhongMaterial:cA,MeshToonMaterial:uA,MeshNormalMaterial:hA,MeshLambertMaterial:dA,MeshDepthMaterial:S6,MeshDistanceMaterial:M6,MeshBasicMaterial:nr,MeshMatcapMaterial:fA,LineDashedMaterial:pA,LineBasicMaterial:pi,Material:bn};return new t[e]}}class Ho{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class EA extends dt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class wA extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ki(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),x=xc(y.type,g),S=new pd(x,y.stride);return S.uuid=y.uuid,t[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new EA:new dt,a=e.data.index;if(a!==void 0){const m=xc(a.type,a.array);o.setIndex(new Pt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let q;if(v.isInterleavedBufferAttribute){const y=r(e.data,v.data);q=new jo(y,v.itemSize,v.offset,v.normalized)}else{const y=xc(v.type,v.array),g=v.isInstancedBufferAttribute?nl:Pt;q=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(q.name=v.name),v.usage!==void 0&&q.setUsage(v.usage),o.setAttribute(m,q)}const h=e.data.morphAttributes;if(h)for(const m in h){const v=h[m],q=[];for(let y=0,g=v.length;y<g;y++){const x=v[y];let S;if(x.isInterleavedBufferAttribute){const M=r(e.data,x.data);S=new jo(M,x.itemSize,x.offset,x.normalized)}else{const M=xc(x.type,x.array);S=new Pt(M,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),q.push(S)}o.morphAttributes[m]=q}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const q=f[m];o.addGroup(q.start,q.count,q.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new U;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Wn(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class eL extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Ho.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ki(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let h=null;try{h=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(h,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ho.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new ki(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(h)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),h=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,d),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),h=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,h),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Ja().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new md().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new wA;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in i_?a=i_[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new S0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Jc.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const h=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(d)}else return l.data?{data:xc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new N6(t);s=new id(l),s.setCrossOrigin(this.crossOrigin);for(let h=0,d=e.length;h<d;h++){const f=e[h],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,q=p.length;v<q;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Ws(g.data,g.width,g.height)))}r[f.uuid]=new Oa(m)}else{const m=a(f.url);r[f.uuid]=new Oa(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:xc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new id(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],h=l.url;if(Array.isArray(h)){const d=[];for(let f=0,p=h.length;f<p;f++){const m=h[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Ws(v.data,v.width,v.height)))}i[l.uuid]=new Oa(d)}else{const d=await s(l.url);i[l.uuid]=new Oa(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],h=l.data;let d;Array.isArray(h)?(d=new dd,h.length===6&&(d.needsUpdate=!0)):(h&&h.data?d=new Ws:d=new nn,h&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,tL)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],a_),d.wrapT=i(a.wrap[1],a_)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,l_)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,l_)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,q=p.length;v<q;v++){const y=p[v];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(i[y])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function h(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,f;switch(e.type){case"Scene":o=new Zh,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=h(e.background)),e.environment!==void 0&&(o.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new o0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new s0(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new yn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new $o(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qA(e.color,e.intensity);break;case"DirectionalLight":o=new V6(e.color,e.intensity);break;case"PointLight":o=new G6(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new AA(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new H6(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new xA(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new MA().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),f=l(e.material),o=new w6(d,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),f=l(e.material),o=new xn(d,f);break;case"InstancedMesh":d=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new C6(d,f,p),o.instanceMatrix=new nl(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new nl(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),f=l(e.material),o=new Kq(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(q=>{const y=new Qn;y.min.fromArray(q.boxMin),y.max.fromArray(q.boxMax);const g=new Wn;return g.radius=q.sphereRadius,g.center.fromArray(q.sphereCenter),{boxInitialized:q.boxInitialized,box:y,sphereInitialized:q.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=h(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=h(e.colorsTexture.uuid));break;case"LOD":o=new Yq;break;case"Line":o=new Zs(a(e.geometry),l(e.material));break;case"LineLoop":o=new T6(a(e.geometry),l(e.material));break;case"LineSegments":o=new Kr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new R6(a(e.geometry),l(e.material));break;case"Sprite":o=new jq(l(e.material));break;case"Group":o=new Hs;break;case"Bone":o=new a0;break;default:o=new Lt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],q=o.getObjectByProperty("uuid",v.object);q!==void 0&&o.addLevel(q,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const tL={UVMapping:Zp,CubeReflectionMapping:Qs,CubeRefractionMapping:Xo,EquirectangularReflectionMapping:Gh,EquirectangularRefractionMapping:Vh,CubeUVReflectionMapping:$c},a_={RepeatWrapping:Jo,ClampToEdgeWrapping:er,MirroredRepeatWrapping:zc},l_={NearestFilter:Mn,NearestMipmapNearestFilter:$p,NearestMipmapLinearFilter:Da,LinearFilter:Jt,LinearMipmapNearestFilter:bc,LinearMipmapLinearFilter:Cr};class CA extends $n{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Gs.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(h=>{t&&t(h),s.manager.itemEnd(e)}).catch(h=>{r&&r(h)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){return Gs.add(e,h),t&&t(h),s.manager.itemEnd(e),h}).catch(function(h){r&&r(h),Gs.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Gs.add(e,l),s.manager.itemStart(e)}}let A1;class W6{static getContext(){return A1===void 0&&(A1=new(window.AudioContext||window.webkitAudioContext)),A1}static setContext(e){A1=e}}class nL extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ki(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const h=l.slice(0);W6.getContext().decodeAudioData(h,function(f){t(f)}).catch(a)}catch(h){a(h)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const c_=new tt,u_=new tt,va=new tt;class iL{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,va.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Wa*t.fov*.5)/t.zoom;let a,l;u_.elements[12]=-r,c_.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,va.elements[0]=2*t.near/(l-a),va.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(va),a=-o*t.aspect-s,l=o*t.aspect-s,va.elements[0]=2*t.near/(l-a),va.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(va)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(u_),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(c_)}}class X6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=h_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=h_();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function h_(){return(typeof performance>"u"?Date:performance).now()}const ya=new U,d_=new Vn,rL=new U,xa=new U;class sL extends Lt{constructor(){super(),this.type="AudioListener",this.context=W6.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new X6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ya,d_,rL),xa.set(0,0,-1).applyQuaternion(d_),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ya.x,r),t.positionY.linearRampToValueAtTime(ya.y,r),t.positionZ.linearRampToValueAtTime(ya.z,r),t.forwardX.linearRampToValueAtTime(xa.x,r),t.forwardY.linearRampToValueAtTime(xa.y,r),t.forwardZ.linearRampToValueAtTime(xa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ya.x,ya.y,ya.z),t.setOrientation(xa.x,xa.y,xa.z,i.x,i.y,i.z)}}let TA=class extends Lt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const qa=new U,f_=new Vn,oL=new U,Aa=new U;class aL extends TA{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(qa,f_,oL),Aa.set(0,0,1).applyQuaternion(f_);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(qa.x,i),t.positionY.linearRampToValueAtTime(qa.y,i),t.positionZ.linearRampToValueAtTime(qa.z,i),t.orientationX.linearRampToValueAtTime(Aa.x,i),t.orientationY.linearRampToValueAtTime(Aa.y,i),t.orientationZ.linearRampToValueAtTime(Aa.z,i)}else t.setPosition(qa.x,qa.y,qa.z),t.setOrientation(Aa.x,Aa.y,Aa.z)}}class lL{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class RA{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,h=t+t;l!==h;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Vn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Vn.multiplyQuaternionsFlat(e,o,e,t,e,i),Vn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const J6="\\[\\]\\.:\\/",cL=new RegExp("["+J6+"]","g"),j6="[^"+J6+"]",uL="[^"+J6.replace("\\.","")+"]",hL=/((?:WC+[\/:])*)/.source.replace("WC",j6),dL=/(WCOD+)?/.source.replace("WCOD",uL),fL=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",j6),pL=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",j6),mL=new RegExp("^"+hL+dL+fL+pL+"$"),gL=["material","materials","bones","map"];class _L{constructor(e,t,i){const r=i||It.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class It{constructor(e,t,i){this.path=t,this.parsedPath=i||It.parseTrackName(t),this.node=It.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new It.Composite(e,t,i):new It(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cL,"")}static parseTrackName(e){const t=mL.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);gL.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=It.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===h){h=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[r];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}It.Composite=_L;It.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};It.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};It.prototype.GetterByBindingType=[It.prototype._getValue_direct,It.prototype._getValue_array,It.prototype._getValue_arrayElement,It.prototype._getValue_toArray];It.prototype.SetterByBindingTypeAndVersioning=[[It.prototype._setValue_direct,It.prototype._setValue_direct_setNeedsUpdate,It.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[It.prototype._setValue_array,It.prototype._setValue_array_setNeedsUpdate,It.prototype._setValue_array_setMatrixWorldNeedsUpdate],[It.prototype._setValue_arrayElement,It.prototype._setValue_arrayElement_setNeedsUpdate,It.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[It.prototype._setValue_fromArray,It.prototype._setValue_fromArray_setNeedsUpdate,It.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class vL{constructor(){this.isAnimationObjectGroup=!0,this.uuid=rr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,h=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const p=arguments[d],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let q=0,y=o;q!==y;++q)s[q].push(new It(p,i[q],r[q]))}else if(v<h){a=e[v];const q=--h,y=e[q];t[y.uuid]=v,e[v]=y,t[m]=q,e[q]=p;for(let g=0,x=o;g!==x;++g){const S=s[g],M=S[q];let R=S[v];S[v]=M,R===void 0&&(R=new It(p,i[g],r[g])),S[q]=R}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],h=l.uuid,d=t[h];if(d!==void 0&&d>=s){const f=s++,p=e[f];t[p.uuid]=d,e[d]=p,t[h]=f,e[f]=l;for(let m=0,v=r;m!==v;++m){const q=i[m],y=q[f],g=q[d];q[d]=y,q[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const h=arguments[a],d=h.uuid,f=t[d];if(f!==void 0)if(delete t[d],f<s){const p=--s,m=e[p],v=--o,q=e[v];t[m.uuid]=f,e[f]=m,t[q.uuid]=p,e[p]=q,e.pop();for(let y=0,g=r;y!==g;++y){const x=i[y],S=x[p],M=x[v];x[f]=S,x[p]=M,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,q=r;v!==q;++v){const y=i[v];y[f]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,h=l.length,d=this.nCachedObjects_,f=new Array(h);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(f);for(let p=d,m=l.length;p!==m;++p){const v=l[p];f[p]=new It(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],h=e[a];t[h]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class PA{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Fa,endingEnd:Fa};for(let h=0;h!==o;++h){const d=s[h].createInterpolant(null);a[h]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gq,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,h=a.sampleValues;return l[0]=s,l[1]=s+i,h[0]=e/o,h[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case f6:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),h[d].accumulateAdditive(a);break;case e0:default:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),h[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===_q;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===mq){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ua,r.endingEnd=Ua):(e?r.endingStart=this.zeroSlopeAtStart?Ua:Fa:r.endingStart=Wh,t?r.endingEnd=this.zeroSlopeAtEnd?Ua:Fa:r.endingEnd=Wh)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const yL=new Float32Array(1);class xL extends to{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,h=this._bindingsByRootAndName;let d=h[l];d===void 0&&(d={},h[l]=d);for(let f=0;f!==s;++f){const p=r[f],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const q=t&&t._propertyBindings[f].binding.parsedPath;v=new RA(It.create(i,m,q),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,h=l[l.length-1],d=e._byClipCacheIndex;h._byClipCacheIndex=d,l[d]=h,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],h=e._cacheIndex;l._cacheIndex=h,t[h]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new U6(new Float32Array(2),new Float32Array(2),1,yL),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Jc.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=e0),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;h=l.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const d=new PA(this,o,t,i);return this._bindAction(d,h),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Jc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let h=0;h!==l;++h)a[h].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const h=o[a];this._deactivateAction(h);const d=h._cacheIndex,f=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,f._cacheIndex=d,t[d]=f,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class ui{constructor(e){this.value=e}clone(){return new ui(this.value.clone===void 0?this.value:this.value.clone())}}let qL=0;class AL extends to{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:qL++}),this.name="",this.usage=Yh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class SL extends pd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ML{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const p_=new tt;class M0{constructor(e,t,i=0,r=1/0){this.ray=new eu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Xa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return p_.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(p_),this}intersectObject(e,t=!0,i=[]){return Y4(e,this,i,t),i.sort(m_),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Y4(e[r],this,i,t);return i.sort(m_),i}}function m_(n,e){return n.distance-e.distance}function Y4(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)Y4(s[o],e,t,!0)}}class bA{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class EL{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const g_=new pe;class wL{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=g_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,g_).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const __=new U,S1=new U;class CL{constructor(e=new U,t=new U){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){__.subVectors(e,this.start),S1.subVectors(this.end,this.start);const i=S1.dot(S1);let s=S1.dot(__)/i;return t&&(s=vn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const v_=new U;class TL extends Lt{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new dt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const h=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ke(r,3));const s=new pi({fog:!1,toneMapped:!1});this.cone=new Kr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),v_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(v_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const qo=new U,M1=new tt,W2=new tt;class RL extends Kr{constructor(e){const t=BA(e),i=new dt,r=[],s=[],o=new Fe(0,0,1),a=new Fe(0,1,0);for(let h=0;h<t.length;h++){const d=t[h];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ke(r,3)),i.setAttribute("color",new Ke(s,3));const l=new pi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");W2.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(M1.multiplyMatrices(W2,a.matrixWorld),qo.setFromMatrixPosition(M1),r.setXYZ(o,qo.x,qo.y,qo.z),M1.multiplyMatrices(W2,a.parent.matrixWorld),qo.setFromMatrixPosition(M1),r.setXYZ(o+1,qo.x,qo.y,qo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BA(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,BA(n.children[t]));return e}class PL extends xn{constructor(e,t,i){const r=new yd(t,4,2),s=new nr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bL=new U,y_=new Fe,x_=new Fe;class BL extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new vd(t);r.rotateY(Math.PI*.5),this.material=new nr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Pt(o,3)),this.add(new xn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");y_.copy(this.light.color),x_.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?y_:x_;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bL.setFromMatrixPosition(this.light.matrixWorld).negate())}}class IL extends Kr{constructor(e=10,t=10,i=4473924,r=8947848){i=new Fe(i),r=new Fe(r);const s=t/2,o=e/t,a=e/2,l=[],h=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const q=p===s?i:r;q.toArray(h,m),m+=3,q.toArray(h,m),m+=3,q.toArray(h,m),m+=3,q.toArray(h,m),m+=3}const d=new dt;d.setAttribute("position",new Ke(l,3)),d.setAttribute("color",new Ke(h,3));const f=new pi({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class LL extends Kr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Fe(s),o=new Fe(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const q=f&1?s:o;l.push(q.r,q.g,q.b),l.push(q.r,q.g,q.b)}for(let f=0;f<i;f++){const p=f&1?s:o,m=e-e/i*f;for(let v=0;v<r;v++){let q=v/r*(Math.PI*2),y=Math.sin(q)*m,g=Math.cos(q)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),q=(v+1)/r*(Math.PI*2),y=Math.sin(q)*m,g=Math.cos(q)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const h=new dt;h.setAttribute("position",new Ke(a,3)),h.setAttribute("color",new Ke(l,3));const d=new pi({vertexColors:!0,toneMapped:!1});super(h,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const q_=new U,E1=new U,A_=new U;class DL extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new dt;r.setAttribute("position",new Ke([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new pi({fog:!1,toneMapped:!1});this.lightPlane=new Zs(r,s),this.add(this.lightPlane),r=new dt,r.setAttribute("position",new Ke([0,0,0,0,0,1],3)),this.targetLine=new Zs(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),q_.setFromMatrixPosition(this.light.matrixWorld),E1.setFromMatrixPosition(this.light.target.matrixWorld),A_.subVectors(E1,q_),this.lightPlane.lookAt(E1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(E1),this.targetLine.scale.z=A_.length()}}const w1=new U,gn=new tu;class FL extends Kr{constructor(e){const t=new dt,i=new pi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,q){l(v),l(q)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ke(r,3)),t.setAttribute("color",new Ke(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new Fe(16755200),d=new Fe(16711680),f=new Fe(43775),p=new Fe(16777215),m=new Fe(3355443);this.setColors(h,d,f,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;gn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),An("c",t,e,gn,0,0,-1),An("t",t,e,gn,0,0,1),An("n1",t,e,gn,-i,-r,-1),An("n2",t,e,gn,i,-r,-1),An("n3",t,e,gn,-i,r,-1),An("n4",t,e,gn,i,r,-1),An("f1",t,e,gn,-i,-r,1),An("f2",t,e,gn,i,-r,1),An("f3",t,e,gn,-i,r,1),An("f4",t,e,gn,i,r,1),An("u1",t,e,gn,i*.7,r*1.1,-1),An("u2",t,e,gn,-i*.7,r*1.1,-1),An("u3",t,e,gn,0,r*2,-1),An("cf1",t,e,gn,-i,0,1),An("cf2",t,e,gn,i,0,1),An("cf3",t,e,gn,0,-r,1),An("cf4",t,e,gn,0,r,1),An("cn1",t,e,gn,-i,0,-1),An("cn2",t,e,gn,i,0,-1),An("cn3",t,e,gn,0,-r,-1),An("cn4",t,e,gn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function An(n,e,t,i,r,s,o){w1.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let h=0,d=a.length;h<d;h++)l.setXYZ(a[h],w1.x,w1.y,w1.z)}}const C1=new Qn;class UL extends Kr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new dt;s.setIndex(new Pt(i,1)),s.setAttribute("position",new Pt(r,3)),super(s,new pi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&C1.setFromObject(this.object),C1.isEmpty())return;const t=C1.min,i=C1.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class OL extends Kr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new dt;s.setIndex(new Pt(i,1)),s.setAttribute("position",new Ke(r,3)),super(s,new pi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class NL extends Zs{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new dt;o.setAttribute("position",new Ke(s,3)),o.computeBoundingSphere(),super(o,new pi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new dt;l.setAttribute("position",new Ke(a,3)),l.computeBoundingSphere(),this.add(new xn(l,new nr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const S_=new U;let T1,X2;class kL extends Lt{constructor(e=new U(0,0,1),t=new U(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",T1===void 0&&(T1=new dt,T1.setAttribute("position",new Ke([0,0,0,0,1,0],3)),X2=new ru(0,.5,1,5,1),X2.translate(0,-.5,0)),this.position.copy(t),this.line=new Zs(T1,new pi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new xn(X2,new nr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{S_.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(S_,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zL extends Kr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new dt;r.setAttribute("position",new Ke(t,3)),r.setAttribute("color",new Ke(i,3));const s=new pi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Fe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class IA{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new $h,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let S=0,M=g.length;S<M;S++){const R=g[S],C=new Ja;C.curves=R.curves,x.push(C)}return x}function i(g,x){const S=x.length;let M=!1;for(let R=S-1,C=0;C<S;R=C++){let P=x[R],B=x[C],b=B.x-P.x,T=B.y-P.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(P=x[C],b=-b,B=x[R],T=-T),g.y<P.y||g.y>B.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const D=T*(g.x-P.x)-b*(g.y-P.y);if(D===0)return!0;if(D<0)continue;M=!M}}else{if(g.y!==P.y)continue;if(B.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=B.x)return!0}}return M}const r=vs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const h=[];if(s.length===1)return a=s[0],l=new Ja,l.curves=a.curves,h.push(l),h;let d=!r(s[0].getPoints());d=e?!d:d;const f=[],p=[];let m=[],v=0,q;p[v]=void 0,m[v]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],q=a.getPoints(),o=r(q),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new Ja,p:q},p[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:q[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,x=0;for(let S=0,M=p.length;S<M;S++)f[S]=[];for(let S=0,M=p.length;S<M;S++){const R=m[S];for(let C=0;C<R.length;C++){const P=R[C];let B=!0;for(let b=0;b<p.length;b++)i(P.p,p[b].p)&&(S!==b&&x++,B?(B=!1,f[b].push(P)):g=!0);B&&f[S].push(P)}}x>0&&g===!1&&(m=f)}let y;for(let g=0,x=p.length;g<x;g++){l=p[g].s,h.push(l),y=m[g];for(let S=0,M=y.length;S<M;S++)l.holes.push(y[S].h)}return h}}class HL extends Ni{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Zc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Zc);const GL=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:s6,AddEquation:To,AddOperation:Zx,AdditiveAnimationBlendMode:f6,AdditiveBlending:h4,AgXToneMapping:iq,AlphaFormat:cq,AlwaysCompare:Tq,AlwaysDepth:Wx,AlwaysStencilFunc:z4,AmbientLight:qA,AnimationAction:PA,AnimationClip:Jc,AnimationLoader:JI,AnimationMixer:xL,AnimationObjectGroup:vL,AnimationUtils:GI,ArcCurve:Qq,ArrayCamera:Wq,ArrowHelper:kL,AttachedBindMode:p4,Audio:TA,AudioAnalyser:lL,AudioContext:W6,AudioListener:sL,AudioLoader:nL,AxesHelper:zL,BackSide:Ei,BasicDepthPacking:yq,BasicShadowMap:Ex,BatchedMesh:Kq,Bone:a0,BooleanKeyframeTrack:dl,Box2:wL,Box3:Qn,Box3Helper:OL,BoxGeometry:hl,BoxHelper:UL,BufferAttribute:Pt,BufferGeometry:dt,BufferGeometryLoader:wA,ByteType:oq,Cache:Gs,Camera:tu,CameraHelper:FL,CanvasTexture:fI,CapsuleGeometry:h0,CatmullRomCurve3:Zq,CineonToneMapping:tq,CircleGeometry:d0,ClampToEdgeWrapping:er,Clock:X6,Color:Fe,ColorKeyframeTrack:O6,ColorManagement:Gt,CompressedArrayTexture:hI,CompressedCubeTexture:dI,CompressedTexture:c0,CompressedTextureLoader:jI,ConeGeometry:f0,ConstantAlphaFactor:Hx,ConstantColorFactor:kx,CubeCamera:Fq,CubeReflectionMapping:Qs,CubeRefractionMapping:Xo,CubeTexture:dd,CubeTextureLoader:YI,CubeUVReflectionMapping:$c,CubicBezierCurve:b6,CubicBezierCurve3:$q,CubicInterpolant:_A,CullFaceBack:u4,CullFaceFront:Mx,CullFaceFrontBack:tC,CullFaceNone:Sx,Curve:Qr,CurvePath:tA,CustomBlending:wx,CustomToneMapping:nq,CylinderGeometry:ru,Cylindrical:EL,Data3DTexture:y6,DataArrayTexture:n0,DataTexture:Ws,DataTextureLoader:KI,DataUtils:aT,DecrementStencilOp:cC,DecrementWrapStencilOp:hC,DefaultLoadingManager:Sc,DepthFormat:zo,DepthStencilFormat:tl,DepthTexture:i0,DetachedBindMode:sq,DirectionalLight:V6,DirectionalLightHelper:DL,DiscreteInterpolant:vA,DisplayP3ColorSpace:t0,DodecahedronGeometry:p0,DoubleSide:Er,DstAlphaFactor:Dx,DstColorFactor:Ux,DynamicCopyUsage:wC,DynamicDrawUsage:xC,DynamicReadUsage:SC,EdgesGeometry:nA,EllipseCurve:u0,EqualCompare:Mq,EqualDepth:Jx,EqualStencilFunc:mC,EquirectangularReflectionMapping:Gh,EquirectangularRefractionMapping:Vh,Euler:or,EventDispatcher:to,ExtrudeGeometry:_d,FileLoader:ki,Float16BufferAttribute:fT,Float32BufferAttribute:Ke,FloatType:tr,Fog:o0,FogExp2:s0,FramebufferTexture:uI,FrontSide:Yr,Frustum:fd,GLBufferAttribute:ML,GLSL1:TC,GLSL3:H4,GreaterCompare:Eq,GreaterDepth:Yx,GreaterEqualCompare:Cq,GreaterEqualDepth:jx,GreaterEqualStencilFunc:yC,GreaterStencilFunc:_C,GridHelper:IL,Group:Hs,HalfFloatType:ul,HemisphereLight:xA,HemisphereLightHelper:BL,IcosahedronGeometry:g0,ImageBitmapLoader:CA,ImageLoader:id,ImageUtils:bq,IncrementStencilOp:lC,IncrementWrapStencilOp:uC,InstancedBufferAttribute:nl,InstancedBufferGeometry:EA,InstancedInterleavedBuffer:SL,InstancedMesh:C6,Int16BufferAttribute:hT,Int32BufferAttribute:dT,Int8BufferAttribute:lT,IntType:o6,InterleavedBuffer:pd,InterleavedBufferAttribute:jo,Interpolant:ou,InterpolateDiscrete:Gc,InterpolateLinear:Vc,InterpolateSmooth:tp,InvertStencilOp:dC,KeepStencilOp:Ta,KeyframeTrack:Zr,LOD:Yq,LatheGeometry:gd,Layers:Xa,LessCompare:Sq,LessDepth:Xx,LessEqualCompare:m6,LessEqualDepth:Hh,LessEqualStencilFunc:gC,LessStencilFunc:pC,Light:ta,LightProbe:MA,Line:Zs,Line3:CL,LineBasicMaterial:pi,LineCurve:B6,LineCurve3:eA,LineDashedMaterial:pA,LineLoop:T6,LineSegments:Kr,LinearDisplayP3ColorSpace:hd,LinearFilter:Jt,LinearInterpolant:U6,LinearMipMapLinearFilter:sC,LinearMipMapNearestFilter:rC,LinearMipmapLinearFilter:Cr,LinearMipmapNearestFilter:bc,LinearSRGBColorSpace:eo,LinearToneMapping:$x,LinearTransfer:Xh,Loader:$n,LoaderUtils:Ho,LoadingManager:N6,LoopOnce:mq,LoopPingPong:_q,LoopRepeat:gq,LuminanceAlphaFormat:dq,LuminanceFormat:hq,MOUSE:$w,Material:bn,MaterialLoader:S0,MathUtils:_6,Matrix3:_t,Matrix4:tt,MaxEquation:Px,Mesh:xn,MeshBasicMaterial:nr,MeshDepthMaterial:S6,MeshDistanceMaterial:M6,MeshLambertMaterial:dA,MeshMatcapMaterial:fA,MeshNormalMaterial:hA,MeshPhongMaterial:cA,MeshPhysicalMaterial:Br,MeshStandardMaterial:su,MeshToonMaterial:uA,MinEquation:Rx,MirroredRepeatWrapping:zc,MixOperation:Qx,MultiplyBlending:f4,MultiplyOperation:ud,NearestFilter:Mn,NearestMipMapLinearFilter:iC,NearestMipMapNearestFilter:nC,NearestMipmapLinearFilter:Da,NearestMipmapNearestFilter:$p,NeutralToneMapping:rq,NeverCompare:Aq,NeverDepth:Vx,NeverStencilFunc:fC,NoBlending:gs,NoColorSpace:Os,NoToneMapping:_s,NormalAnimationBlendMode:e0,NormalBlending:Va,NotEqualCompare:wq,NotEqualDepth:Kx,NotEqualStencilFunc:vC,NumberKeyframeTrack:rl,Object3D:Lt,ObjectLoader:eL,ObjectSpaceNormalMap:qq,OctahedronGeometry:vd,OneFactor:Bx,OneMinusConstantAlphaFactor:Gx,OneMinusConstantColorFactor:zx,OneMinusDstAlphaFactor:Fx,OneMinusDstColorFactor:Ox,OneMinusSrcAlphaFactor:Rp,OneMinusSrcColorFactor:Lx,OrthographicCamera:$o,P3Primaries:jh,PCFShadowMap:Qp,PCFSoftShadowMap:xh,PMREMGenerator:G4,Path:$h,PerspectiveCamera:yn,Plane:Us,PlaneGeometry:nu,PlaneHelper:NL,PointLight:G6,PointLightHelper:PL,Points:R6,PointsMaterial:l0,PolarGridHelper:LL,PolyhedronGeometry:ea,PositionalAudio:aL,PropertyBinding:It,PropertyMixer:RA,QuadraticBezierCurve:I6,QuadraticBezierCurve3:L6,Quaternion:Vn,QuaternionKeyframeTrack:sl,QuaternionLinearInterpolant:yA,RED_GREEN_RGTC2_Format:N4,RED_RGTC1_Format:pq,REVISION:Zc,RGBADepthPacking:xq,RGBAFormat:Si,RGBAIntegerFormat:d6,RGBA_ASTC_10x10_Format:I4,RGBA_ASTC_10x5_Format:P4,RGBA_ASTC_10x6_Format:b4,RGBA_ASTC_10x8_Format:B4,RGBA_ASTC_12x10_Format:L4,RGBA_ASTC_12x12_Format:D4,RGBA_ASTC_4x4_Format:A4,RGBA_ASTC_5x4_Format:S4,RGBA_ASTC_5x5_Format:M4,RGBA_ASTC_6x5_Format:E4,RGBA_ASTC_6x6_Format:w4,RGBA_ASTC_8x5_Format:C4,RGBA_ASTC_8x6_Format:T4,RGBA_ASTC_8x8_Format:R4,RGBA_BPTC_Format:ep,RGBA_ETC2_EAC_Format:q4,RGBA_PVRTC_2BPPV1_Format:v4,RGBA_PVRTC_4BPPV1_Format:_4,RGBA_S3TC_DXT1_Format:Q1,RGBA_S3TC_DXT3_Format:Z1,RGBA_S3TC_DXT5_Format:$1,RGBFormat:uq,RGB_BPTC_SIGNED_Format:F4,RGB_BPTC_UNSIGNED_Format:U4,RGB_ETC1_Format:y4,RGB_ETC2_Format:x4,RGB_PVRTC_2BPPV1_Format:g4,RGB_PVRTC_4BPPV1_Format:m4,RGB_S3TC_DXT1_Format:K1,RGFormat:fq,RGIntegerFormat:h6,RawShaderMaterial:lA,Ray:eu,Raycaster:M0,Rec709Primaries:Jh,RectAreaLight:AA,RedFormat:c6,RedIntegerFormat:u6,ReinhardToneMapping:eq,RenderTarget:Bq,RepeatWrapping:Jo,ReplaceStencilOp:aC,ReverseSubtractEquation:Tx,RingGeometry:_0,SIGNED_RED_GREEN_RGTC2_Format:k4,SIGNED_RED_RGTC1_Format:O4,SRGBColorSpace:Ar,SRGBTransfer:Qt,Scene:Zh,ShaderChunk:qt,ShaderLib:Wr,ShaderMaterial:br,ShadowMaterial:aA,Shape:Ja,ShapeGeometry:v0,ShapePath:IA,ShapeUtils:vs,ShortType:aq,Skeleton:md,SkeletonHelper:RL,SkinnedMesh:w6,Source:Oa,Sphere:Wn,SphereGeometry:yd,Spherical:bA,SphericalHarmonics3:SA,SplineCurve:D6,SpotLight:H6,SpotLightHelper:TL,Sprite:jq,SpriteMaterial:E6,SrcAlphaFactor:Tp,SrcAlphaSaturateFactor:Nx,SrcColorFactor:Ix,StaticCopyUsage:EC,StaticDrawUsage:Yh,StaticReadUsage:AC,StereoCamera:iL,StreamCopyUsage:CC,StreamDrawUsage:qC,StreamReadUsage:MC,StringKeyframeTrack:fl,SubtractEquation:Cx,SubtractiveBlending:d4,TOUCH:eC,TangentSpaceNormalMap:Zo,TetrahedronGeometry:y0,Texture:nn,TextureLoader:k6,TorusGeometry:x0,TorusKnotGeometry:q0,Triangle:Zi,TriangleFanDrawMode:Pp,TriangleStripDrawMode:p6,TrianglesDrawMode:vq,TubeGeometry:A0,UVMapping:Zp,Uint16BufferAttribute:x6,Uint32BufferAttribute:q6,Uint8BufferAttribute:cT,Uint8ClampedBufferAttribute:uT,Uniform:ui,UniformsGroup:AL,UniformsLib:Oe,UniformsUtils:Dq,UnsignedByteType:ys,UnsignedInt248Type:el,UnsignedInt5999Type:lq,UnsignedIntType:$a,UnsignedShort4444Type:a6,UnsignedShort5551Type:l6,UnsignedShortType:Hc,VSMShadowMap:zr,Vector2:pe,Vector3:U,Vector4:zt,VectorKeyframeTrack:ol,VideoTexture:cI,WebGL3DRenderTarget:QC,WebGLArrayRenderTarget:KC,WebGLCoordinateSystem:fs,WebGLCubeRenderTarget:Uq,WebGLMultipleRenderTargets:HL,WebGLRenderTarget:Ni,WebGLRenderer:Xq,WebGLUtils:Vq,WebGPUCoordinateSystem:Kh,WireframeGeometry:oA,WrapAroundEnding:Wh,ZeroCurvatureEnding:Fa,ZeroFactor:bx,ZeroSlopeEnding:Ua,ZeroStencilOp:oC,createCanvasElement:Pq},Symbol.toStringTag,{value:"Module"}));var LA={exports:{}},pl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */pl.ConcurrentRoot=1;pl.ContinuousEventPriority=4;pl.DefaultEventPriority=16;pl.DiscreteEventPriority=1;pl.IdleEventPriority=536870912;pl.LegacyRoot=0;LA.exports=pl;var Mc=LA.exports;function VL(n){let e;const t=new Set,i=(h,d)=>{const f=typeof h=="function"?h(e):h;if(f!==e){const p=e;e=d?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},r=()=>e,s=(h,d=r,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!f(p,v)){const q=p;h(p=v,q)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(h,d,f)=>d||f?s(h,d,f):(t.add(h),()=>t.delete(h)),destroy:()=>t.clear()};return e=n(i,r,l),l}const WL=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),M_=WL?oe.useEffect:oe.useLayoutEffect;function E0(n){const e=typeof n=="function"?VL(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=oe.useReducer(y=>y+1,0),o=e.getState(),a=oe.useRef(o),l=oe.useRef(i),h=oe.useRef(r),d=oe.useRef(!1),f=oe.useRef();f.current===void 0&&(f.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||h.current!==r||d.current)&&(p=i(o),m=!r(f.current,p)),M_(()=>{m&&(f.current=p),a.current=o,l.current=i,h.current=r,d.current=!1});const v=oe.useRef(o);M_(()=>{const y=()=>{try{const x=e.getState(),S=l.current(x);h.current(f.current,S)||(a.current=x,f.current=S,s())}catch{d.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const q=m?p:f.current;return oe.useDebugValue(q),q};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const XL=Object.freeze(Object.defineProperty({__proto__:null,default:E0},Symbol.toStringTag,{value:"Module"}));var DA={exports:{}},J2={exports:{}},j2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function JL(){return E_||(E_=1,function(n){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var Y=H-1>>>1,le=L[Y];if(0<r(le,V))L[Y]=V,L[H]=le,H=Y;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var Y=0,le=L.length,qe=le>>>1;Y<qe;){var ee=2*(Y+1)-1,fe=L[ee],Ae=ee+1,ve=L[Ae];if(0>r(fe,H))Ae<le&&0>r(ve,fe)?(L[Y]=ve,L[Ae]=H,Y=Ae):(L[Y]=fe,L[ee]=H,Y=ee);else if(Ae<le&&0>r(ve,H))L[Y]=ve,L[Ae]=H,Y=Ae;else break e}}return V}function r(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],h=[],d=1,f=null,p=3,m=!1,v=!1,q=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=t(h);V!==null;){if(V.callback===null)i(h);else if(V.startTime<=L)i(h),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(h)}}function M(L){if(q=!1,S(L),!v)if(t(l)!==null)v=!0,W(R);else{var V=t(h);V!==null&&te(M,V.startTime-L)}}function R(L,V){v=!1,q&&(q=!1,g(B),B=-1),m=!0;var H=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||L&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var le=Y(f.expirationTime<=V);V=n.unstable_now(),typeof le=="function"?f.callback=le:f===t(l)&&i(l),S(V)}else i(l);f=t(l)}if(f!==null)var qe=!0;else{var ee=t(h);ee!==null&&te(M,ee.startTime-V),qe=!1}return qe}finally{f=null,p=H,m=!1}}var C=!1,P=null,B=-1,b=5,T=-1;function D(){return!(n.unstable_now()-T<b)}function N(){if(P!==null){var L=n.unstable_now();T=L;var V=!0;try{V=P(!0,L)}finally{V?O():(C=!1,P=null)}}else C=!1}var O;if(typeof x=="function")O=function(){x(N)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=N,O=function(){X.postMessage(null)}}else O=function(){y(N,0)};function W(L){P=L,C||(C=!0,O())}function te(L,V){B=y(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,W(R))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return V()}finally{p=H}},n.unstable_scheduleCallback=function(L,V,H){var Y=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=H+le,L={id:d++,callback:V,priorityLevel:L,startTime:H,expirationTime:le,sortIndex:-1},H>Y?(L.sortIndex=H,e(h,L),t(l)===null&&L===t(h)&&(q?(g(B),B=-1):q=!0,te(M,H-Y))):(L.sortIndex=le,e(l,L),v||m||(v=!0,W(R))),L},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(L){var V=p;return function(){var H=p;p=V;try{return L.apply(this,arguments)}finally{p=H}}}}(j2)),j2}var w_;function jL(){return w_||(w_=1,J2.exports=JL()),J2.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL=function(e){var t={},i=oe,r=jL(),s=Object.assign;function o(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,_=1;_<arguments.length;_++)u+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.iterator;function C(c){return c===null||typeof c!="object"?null:(c=R&&c[R]||c["@@iterator"],typeof c=="function"?c:null)}function P(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case h:return"Portal";case p:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case q:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return u=c.displayName||null,u!==null?u:P(c.type)||"Memo";case S:u=c._payload,c=c._init;try{return P(c(u))}catch{}}return null}function B(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(u);case 8:return u===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function b(c){var u=c,_=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,u.flags&4098&&(_=u.return),c=u.return;while(c)}return u.tag===3?_:null}function T(c){if(b(c)!==c)throw Error(o(188))}function D(c){var u=c.alternate;if(!u){if(u=b(c),u===null)throw Error(o(188));return u!==c?null:c}for(var _=c,A=u;;){var E=_.return;if(E===null)break;var w=E.alternate;if(w===null){if(A=E.return,A!==null){_=A;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===_)return T(E),c;if(w===A)return T(E),u;w=w.sibling}throw Error(o(188))}if(_.return!==A.return)_=E,A=w;else{for(var k=!1,K=E.child;K;){if(K===_){k=!0,_=E,A=w;break}if(K===A){k=!0,A=E,_=w;break}K=K.sibling}if(!k){for(K=w.child;K;){if(K===_){k=!0,_=w,A=E;break}if(K===A){k=!0,A=w,_=E;break}K=K.sibling}if(!k)throw Error(o(189))}}if(_.alternate!==A)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?c:u}function N(c){return c=D(c),c!==null?O(c):null}function O(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=O(c);if(u!==null)return u;c=c.sibling}return null}function J(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var u=J(c);if(u!==null)return u}c=c.sibling}return null}var X=Array.isArray,W=e.getPublicInstance,te=e.getRootHostContext,L=e.getChildHostContext,V=e.prepareForCommit,H=e.resetAfterCommit,Y=e.createInstance,le=e.appendInitialChild,qe=e.finalizeInitialChildren,ee=e.prepareUpdate,fe=e.shouldSetTextContent,Ae=e.createTextInstance,ve=e.scheduleTimeout,Ze=e.cancelTimeout,lt=e.noTimeout,je=e.isPrimaryRenderer,G=e.supportsMutation,me=e.supportsPersistence,he=e.supportsHydration,we=e.getInstanceFromNode,Se=e.preparePortalMount,Ce=e.getCurrentEventPriority,De=e.detachDeletedInstance,Ne=e.supportsMicrotasks,at=e.scheduleMicrotask,z=e.supportsTestSelectors,I=e.findFiberRoot,se=e.getBoundingRect,xe=e.getTextContent,_e=e.isHiddenSubtree,Me=e.matchAccessibilityRole,$e=e.setFocusIfFocusable,be=e.setupIntersectionObserver,Ue=e.appendChild,ft=e.appendChildToContainer,Re=e.commitTextUpdate,Ye=e.commitMount,Mt=e.commitUpdate,ct=e.insertBefore,ze=e.insertInContainerBefore,yt=e.removeChild,wt=e.removeChildFromContainer,rn=e.resetTextContent,j=e.hideInstance,Ge=e.hideTextInstance,ge=e.unhideInstance,ye=e.unhideTextInstance,Ie=e.clearContainer,ut=e.cloneInstance,bt=e.createContainerChildSet,sn=e.appendChildToContainerChildSet,En=e.finalizeContainerChildren,Ht=e.replaceContainerChildren,zi=e.cloneHiddenInstance,Hi=e.cloneHiddenTextInstance,xs=e.canHydrateInstance,uu=e.canHydrateTextInstance,Ad=e.canHydrateSuspenseInstance,hu=e.isSuspenseInstancePending,no=e.isSuspenseInstanceFallback,Sd=e.registerSuspenseInstanceRetry,$r=e.getNextHydratableSibling,Md=e.getFirstHydratableChild,Ed=e.getFirstHydratableChildWithinContainer,T0=e.getFirstHydratableChildWithinSuspenseInstance,R0=e.hydrateInstance,P0=e.hydrateTextInstance,F=e.hydrateSuspenseInstance,Q=e.getNextHydratableInstanceAfterSuspenseInstance,re=e.commitHydratedContainer,ae=e.commitHydratedSuspenseInstance,$=e.clearSuspenseBoundary,Be=e.clearSuspenseBoundaryFromContainer,Ve=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance,ot;function rt(c){if(ot===void 0)try{throw Error()}catch(_){var u=_.stack.trim().match(/\n( *(at )?)/);ot=u&&u[1]||""}return`
`+ot+c}var it=!1;function Bt(c,u){if(!c||it)return"";it=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Pe){var A=Pe}Reflect.construct(c,[],u)}else{try{u.call()}catch(Pe){A=Pe}c.call(u.prototype)}else{try{throw Error()}catch(Pe){A=Pe}c()}}catch(Pe){if(Pe&&A&&typeof Pe.stack=="string"){for(var E=Pe.stack.split(`
`),w=A.stack.split(`
`),k=E.length-1,K=w.length-1;1<=k&&0<=K&&E[k]!==w[K];)K--;for(;1<=k&&0<=K;k--,K--)if(E[k]!==w[K]){if(k!==1||K!==1)do if(k--,K--,0>K||E[k]!==w[K]){var ue=`
`+E[k].replace(" at new "," at ");return c.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",c.displayName)),ue}while(1<=k&&0<=K);break}}}finally{it=!1,Error.prepareStackTrace=_}return(c=c?c.displayName||c.name:"")?rt(c):""}var on=Object.prototype.hasOwnProperty,jt=[],wn=-1;function Et(c){return{current:c}}function Le(c){0>wn||(c.current=jt[wn],jt[wn]=null,wn--)}function gt(c,u){wn++,jt[wn]=c.current,c.current=u}var Ct={},Yt=Et(Ct),Bn=Et(!1),mi=Ct;function es(c,u){var _=c.type.contextTypes;if(!_)return Ct;var A=c.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===u)return A.__reactInternalMemoizedMaskedChildContext;var E={},w;for(w in _)E[w]=u[w];return A&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=E),E}function Dt(c){return c=c.childContextTypes,c!=null}function Gi(){Le(Bn),Le(Yt)}function gl(c,u,_){if(Yt.current!==Ct)throw Error(o(168));gt(Yt,u),gt(Bn,_)}function gi(c,u,_){var A=c.stateNode;if(u=u.childContextTypes,typeof A.getChildContext!="function")return _;A=A.getChildContext();for(var E in A)if(!(E in u))throw Error(o(108,B(c)||"Unknown",E));return s({},_,A)}function io(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ct,mi=Yt.current,gt(Yt,c),gt(Bn,Bn.current),!0}function wd(c,u,_){var A=c.stateNode;if(!A)throw Error(o(169));_?(c=gi(c,u,mi),A.__reactInternalMemoizedMergedChildContext=c,Le(Bn),Le(Yt),gt(Yt,c)):Le(Bn),gt(Bn,_)}var Ti=Math.clz32?Math.clz32:NS,US=Math.log,OS=Math.LN2;function NS(c){return c>>>=0,c===0?32:31-(US(c)/OS|0)|0}var Cd=64,Td=4194304;function du(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Rd(c,u){var _=c.pendingLanes;if(_===0)return 0;var A=0,E=c.suspendedLanes,w=c.pingedLanes,k=_&268435455;if(k!==0){var K=k&~E;K!==0?A=du(K):(w&=k,w!==0&&(A=du(w)))}else k=_&~E,k!==0?A=du(k):w!==0&&(A=du(w));if(A===0)return 0;if(u!==0&&u!==A&&!(u&E)&&(E=A&-A,w=u&-u,E>=w||E===16&&(w&4194240)!==0))return u;if(A&4&&(A|=_&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=A;0<u;)_=31-Ti(u),E=1<<_,A|=c[_],u&=~E;return A}function kS(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zS(c,u){for(var _=c.suspendedLanes,A=c.pingedLanes,E=c.expirationTimes,w=c.pendingLanes;0<w;){var k=31-Ti(w),K=1<<k,ue=E[k];ue===-1?(!(K&_)||K&A)&&(E[k]=kS(K,u)):ue<=u&&(c.expiredLanes|=K),w&=~K}}function b0(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function B0(c){for(var u=[],_=0;31>_;_++)u.push(c);return u}function fu(c,u,_){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Ti(u),c[u]=_}function HS(c,u){var _=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var A=c.eventTimes;for(c=c.expirationTimes;0<_;){var E=31-Ti(_),w=1<<E;u[E]=0,A[E]=-1,c[E]=-1,_&=~w}}function I0(c,u){var _=c.entangledLanes|=u;for(c=c.entanglements;_;){var A=31-Ti(_),E=1<<A;E&u|c[A]&u&&(c[A]|=u),_&=~E}}var Ut=0;function og(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var L0=r.unstable_scheduleCallback,ag=r.unstable_cancelCallback,GS=r.unstable_shouldYield,VS=r.unstable_requestPaint,On=r.unstable_now,D0=r.unstable_ImmediatePriority,WS=r.unstable_UserBlockingPriority,F0=r.unstable_NormalPriority,XS=r.unstable_IdlePriority,Pd=null,ts=null;function JS(c){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Pd,c,void 0,(c.current.flags&128)===128)}catch{}}function jS(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var ns=typeof Object.is=="function"?Object.is:jS,qs=null,bd=!1,U0=!1;function lg(c){qs===null?qs=[c]:qs.push(c)}function YS(c){bd=!0,lg(c)}function is(){if(!U0&&qs!==null){U0=!0;var c=0,u=Ut;try{var _=qs;for(Ut=1;c<_.length;c++){var A=_[c];do A=A(!0);while(A!==null)}qs=null,bd=!1}catch(E){throw qs!==null&&(qs=qs.slice(c+1)),L0(D0,is),E}finally{Ut=u,U0=!1}}return null}var KS=a.ReactCurrentBatchConfig;function Bd(c,u){if(ns(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var _=Object.keys(c),A=Object.keys(u);if(_.length!==A.length)return!1;for(A=0;A<_.length;A++){var E=_[A];if(!on.call(u,E)||!ns(c[E],u[E]))return!1}return!0}function QS(c){switch(c.tag){case 5:return rt(c.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 2:case 15:return c=Bt(c.type,!1),c;case 11:return c=Bt(c.type.render,!1),c;case 1:return c=Bt(c.type,!0),c;default:return""}}function Ir(c,u){if(c&&c.defaultProps){u=s({},u),c=c.defaultProps;for(var _ in c)u[_]===void 0&&(u[_]=c[_]);return u}return u}var Id=Et(null),Ld=null,_l=null,O0=null;function N0(){O0=_l=Ld=null}function cg(c,u,_){je?(gt(Id,u._currentValue),u._currentValue=_):(gt(Id,u._currentValue2),u._currentValue2=_)}function k0(c){var u=Id.current;Le(Id),je?c._currentValue=u:c._currentValue2=u}function z0(c,u,_){for(;c!==null;){var A=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,A!==null&&(A.childLanes|=u)):A!==null&&(A.childLanes&u)!==u&&(A.childLanes|=u),c===_)break;c=c.return}}function vl(c,u){Ld=c,O0=_l=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&u&&(Xi=!0),c.firstContext=null)}function ur(c){var u=je?c._currentValue:c._currentValue2;if(O0!==c)if(c={context:c,memoizedValue:u,next:null},_l===null){if(Ld===null)throw Error(o(308));_l=c,Ld.dependencies={lanes:0,firstContext:c}}else _l=_l.next=c;return u}var rs=null,ro=!1;function H0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function As(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function so(c,u){var _=c.updateQueue;_!==null&&(_=_.shared,Cn!==null&&c.mode&1&&!(St&2)?(c=_.interleaved,c===null?(u.next=u,rs===null?rs=[_]:rs.push(_)):(u.next=c.next,c.next=u),_.interleaved=u):(c=_.pending,c===null?u.next=u:(u.next=c.next,c.next=u),_.pending=u))}function Dd(c,u,_){if(u=u.updateQueue,u!==null&&(u=u.shared,(_&4194240)!==0)){var A=u.lanes;A&=c.pendingLanes,_|=A,u.lanes=_,I0(c,_)}}function hg(c,u){var _=c.updateQueue,A=c.alternate;if(A!==null&&(A=A.updateQueue,_===A)){var E=null,w=null;if(_=_.firstBaseUpdate,_!==null){do{var k={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};w===null?E=w=k:w=w.next=k,_=_.next}while(_!==null);w===null?E=w=u:w=w.next=u}else E=w=u;_={baseState:A.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:A.shared,effects:A.effects},c.updateQueue=_;return}c=_.lastBaseUpdate,c===null?_.firstBaseUpdate=u:c.next=u,_.lastBaseUpdate=u}function Fd(c,u,_,A){var E=c.updateQueue;ro=!1;var w=E.firstBaseUpdate,k=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var ue=K,Pe=ue.next;ue.next=null,k===null?w=Pe:k.next=Pe,k=ue;var Xe=c.alternate;Xe!==null&&(Xe=Xe.updateQueue,K=Xe.lastBaseUpdate,K!==k&&(K===null?Xe.firstBaseUpdate=Pe:K.next=Pe,Xe.lastBaseUpdate=ue))}if(w!==null){var pt=E.baseState;k=0,Xe=Pe=ue=null,K=w;do{var st=K.lane,Xt=K.eventTime;if((A&st)===st){Xe!==null&&(Xe=Xe.next={eventTime:Xt,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var nt=c,ri=K;switch(st=u,Xt=_,ri.tag){case 1:if(nt=ri.payload,typeof nt=="function"){pt=nt.call(Xt,pt,st);break e}pt=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=ri.payload,st=typeof nt=="function"?nt.call(Xt,pt,st):nt,st==null)break e;pt=s({},pt,st);break e;case 2:ro=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,st=E.effects,st===null?E.effects=[K]:st.push(K))}else Xt={eventTime:Xt,lane:st,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Xe===null?(Pe=Xe=Xt,ue=pt):Xe=Xe.next=Xt,k|=st;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;st=K,K=st.next,st.next=null,E.lastBaseUpdate=st,E.shared.pending=null}}while(!0);if(Xe===null&&(ue=pt),E.baseState=ue,E.firstBaseUpdate=Pe,E.lastBaseUpdate=Xe,u=E.shared.interleaved,u!==null){E=u;do k|=E.lane,E=E.next;while(E!==u)}else w===null&&(E.shared.lanes=0);Cl|=k,c.lanes=k,c.memoizedState=pt}}function dg(c,u,_){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var A=c[u],E=A.callback;if(E!==null){if(A.callback=null,A=_,typeof E!="function")throw Error(o(191,E));E.call(A)}}}var fg=new i.Component().refs;function G0(c,u,_,A){u=c.memoizedState,_=_(A,u),_=_==null?u:s({},u,_),c.memoizedState=_,c.lanes===0&&(c.updateQueue.baseState=_)}var Ud={isMounted:function(c){return(c=c._reactInternals)?b(c)===c:!1},enqueueSetState:function(c,u,_){c=c._reactInternals;var A=vi(),E=lo(c),w=As(A,E);w.payload=u,_!=null&&(w.callback=_),so(c,w),u=mr(c,E,A),u!==null&&Dd(u,c,E)},enqueueReplaceState:function(c,u,_){c=c._reactInternals;var A=vi(),E=lo(c),w=As(A,E);w.tag=1,w.payload=u,_!=null&&(w.callback=_),so(c,w),u=mr(c,E,A),u!==null&&Dd(u,c,E)},enqueueForceUpdate:function(c,u){c=c._reactInternals;var _=vi(),A=lo(c),E=As(_,A);E.tag=2,u!=null&&(E.callback=u),so(c,E),u=mr(c,A,_),u!==null&&Dd(u,c,A)}};function pg(c,u,_,A,E,w,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(A,w,k):u.prototype&&u.prototype.isPureReactComponent?!Bd(_,A)||!Bd(E,w):!0}function mg(c,u,_){var A=!1,E=Ct,w=u.contextType;return typeof w=="object"&&w!==null?w=ur(w):(E=Dt(u)?mi:Yt.current,A=u.contextTypes,w=(A=A!=null)?es(c,E):Ct),u=new u(_,w),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ud,c.stateNode=u,u._reactInternals=c,A&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=w),u}function gg(c,u,_,A){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(_,A),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(_,A),u.state!==c&&Ud.enqueueReplaceState(u,u.state,null)}function V0(c,u,_,A){var E=c.stateNode;E.props=_,E.state=c.memoizedState,E.refs=fg,H0(c);var w=u.contextType;typeof w=="object"&&w!==null?E.context=ur(w):(w=Dt(u)?mi:Yt.current,E.context=es(c,w)),E.state=c.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(G0(c,u,w,_),E.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(u=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),u!==E.state&&Ud.enqueueReplaceState(E,E.state,null),Fd(c,_,E,A),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}var yl=[],xl=0,Od=null,Nd=0,hr=[],dr=0,na=null,Ss=1,Ms="";function ia(c,u){yl[xl++]=Nd,yl[xl++]=Od,Od=c,Nd=u}function _g(c,u,_){hr[dr++]=Ss,hr[dr++]=Ms,hr[dr++]=na,na=c;var A=Ss;c=Ms;var E=32-Ti(A)-1;A&=~(1<<E),_+=1;var w=32-Ti(u)+E;if(30<w){var k=E-E%5;w=(A&(1<<k)-1).toString(32),A>>=k,E-=k,Ss=1<<32-Ti(u)+E|_<<E|A,Ms=w+c}else Ss=1<<w|_<<E|A,Ms=c}function W0(c){c.return!==null&&(ia(c,1),_g(c,1,0))}function X0(c){for(;c===Od;)Od=yl[--xl],yl[xl]=null,Nd=yl[--xl],yl[xl]=null;for(;c===na;)na=hr[--dr],hr[dr]=null,Ms=hr[--dr],hr[dr]=null,Ss=hr[--dr],hr[dr]=null}var Vi=null,Wi=null,an=!1,pu=!1,Lr=null;function vg(c,u){var _=gr(5,null,null,0);_.elementType="DELETED",_.stateNode=u,_.return=c,u=c.deletions,u===null?(c.deletions=[_],c.flags|=16):u.push(_)}function yg(c,u){switch(c.tag){case 5:return u=xs(u,c.type,c.pendingProps),u!==null?(c.stateNode=u,Vi=c,Wi=Md(u),!0):!1;case 6:return u=uu(u,c.pendingProps),u!==null?(c.stateNode=u,Vi=c,Wi=null,!0):!1;case 13:if(u=Ad(u),u!==null){var _=na!==null?{id:Ss,overflow:Ms}:null;return c.memoizedState={dehydrated:u,treeContext:_,retryLane:1073741824},_=gr(18,null,null,0),_.stateNode=u,_.return=c,c.child=_,Vi=c,Wi=null,!0}return!1;default:return!1}}function J0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function j0(c){if(an){var u=Wi;if(u){var _=u;if(!yg(c,u)){if(J0(c))throw Error(o(418));u=$r(_);var A=Vi;u&&yg(c,u)?vg(A,_):(c.flags=c.flags&-4097|2,an=!1,Vi=c)}}else{if(J0(c))throw Error(o(418));c.flags=c.flags&-4097|2,an=!1,Vi=c}}}function xg(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Vi=c}function mu(c){if(!he||c!==Vi)return!1;if(!an)return xg(c),an=!0,!1;if(c.tag!==3&&(c.tag!==5||Ve(c.type)&&!fe(c.type,c.memoizedProps))){var u=Wi;if(u){if(J0(c)){for(c=Wi;c;)c=$r(c);throw Error(o(418))}for(;u;)vg(c,u),u=$r(u)}}if(xg(c),c.tag===13){if(!he)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Wi=Q(c)}else Wi=Vi?$r(c.stateNode):null;return!0}function ql(){he&&(Wi=Vi=null,pu=an=!1)}function Y0(c){Lr===null?Lr=[c]:Lr.push(c)}function gu(c,u,_){if(c=_.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var A=_.stateNode}if(!A)throw Error(o(147,c));var E=A,w=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===w?u.ref:(u=function(k){var K=E.refs;K===fg&&(K=E.refs={}),k===null?delete K[w]:K[w]=k},u._stringRef=w,u)}if(typeof c!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,c))}return c}function kd(c,u){throw c=Object.prototype.toString.call(u),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function qg(c){var u=c._init;return u(c._payload)}function Ag(c){function u(ie,Z){if(c){var ce=ie.deletions;ce===null?(ie.deletions=[Z],ie.flags|=16):ce.push(Z)}}function _(ie,Z){if(!c)return null;for(;Z!==null;)u(ie,Z),Z=Z.sibling;return null}function A(ie,Z){for(ie=new Map;Z!==null;)Z.key!==null?ie.set(Z.key,Z):ie.set(Z.index,Z),Z=Z.sibling;return ie}function E(ie,Z){return ie=uo(ie,Z),ie.index=0,ie.sibling=null,ie}function w(ie,Z,ce){return ie.index=ce,c?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<Z?(ie.flags|=2,Z):ce):(ie.flags|=2,Z)):(ie.flags|=1048576,Z)}function k(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function K(ie,Z,ce,He){return Z===null||Z.tag!==6?(Z=Bm(ce,ie.mode,He),Z.return=ie,Z):(Z=E(Z,ce),Z.return=ie,Z)}function ue(ie,Z,ce,He){var et=ce.type;return et===d?Xe(ie,Z,ce.props.children,He,ce.key):Z!==null&&(Z.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===S&&qg(et)===Z.type)?(He=E(Z,ce.props),He.ref=gu(ie,Z,ce),He.return=ie,He):(He=vf(ce.type,ce.key,ce.props,null,ie.mode,He),He.ref=gu(ie,Z,ce),He.return=ie,He)}function Pe(ie,Z,ce,He){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=Im(ce,ie.mode,He),Z.return=ie,Z):(Z=E(Z,ce.children||[]),Z.return=ie,Z)}function Xe(ie,Z,ce,He,et){return Z===null||Z.tag!==7?(Z=ua(ce,ie.mode,He,et),Z.return=ie,Z):(Z=E(Z,ce),Z.return=ie,Z)}function pt(ie,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Bm(""+Z,ie.mode,ce),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return ce=vf(Z.type,Z.key,Z.props,null,ie.mode,ce),ce.ref=gu(ie,null,Z),ce.return=ie,ce;case h:return Z=Im(Z,ie.mode,ce),Z.return=ie,Z;case S:var He=Z._init;return pt(ie,He(Z._payload),ce)}if(X(Z)||C(Z))return Z=ua(Z,ie.mode,ce,null),Z.return=ie,Z;kd(ie,Z)}return null}function st(ie,Z,ce,He){var et=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return et!==null?null:K(ie,Z,""+ce,He);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===et?ue(ie,Z,ce,He):null;case h:return ce.key===et?Pe(ie,Z,ce,He):null;case S:return et=ce._init,st(ie,Z,et(ce._payload),He)}if(X(ce)||C(ce))return et!==null?null:Xe(ie,Z,ce,He,null);kd(ie,ce)}return null}function Xt(ie,Z,ce,He,et){if(typeof He=="string"&&He!==""||typeof He=="number")return ie=ie.get(ce)||null,K(Z,ie,""+He,et);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case l:return ie=ie.get(He.key===null?ce:He.key)||null,ue(Z,ie,He,et);case h:return ie=ie.get(He.key===null?ce:He.key)||null,Pe(Z,ie,He,et);case S:var At=He._init;return Xt(ie,Z,ce,At(He._payload),et)}if(X(He)||C(He))return ie=ie.get(ce)||null,Xe(Z,ie,He,et,null);kd(Z,He)}return null}function nt(ie,Z,ce,He){for(var et=null,At=null,mt=Z,Ot=Z=0,kn=null;mt!==null&&Ot<ce.length;Ot++){mt.index>Ot?(kn=mt,mt=null):kn=mt.sibling;var Nt=st(ie,mt,ce[Ot],He);if(Nt===null){mt===null&&(mt=kn);break}c&&mt&&Nt.alternate===null&&u(ie,mt),Z=w(Nt,Z,Ot),At===null?et=Nt:At.sibling=Nt,At=Nt,mt=kn}if(Ot===ce.length)return _(ie,mt),an&&ia(ie,Ot),et;if(mt===null){for(;Ot<ce.length;Ot++)mt=pt(ie,ce[Ot],He),mt!==null&&(Z=w(mt,Z,Ot),At===null?et=mt:At.sibling=mt,At=mt);return an&&ia(ie,Ot),et}for(mt=A(ie,mt);Ot<ce.length;Ot++)kn=Xt(mt,ie,Ot,ce[Ot],He),kn!==null&&(c&&kn.alternate!==null&&mt.delete(kn.key===null?Ot:kn.key),Z=w(kn,Z,Ot),At===null?et=kn:At.sibling=kn,At=kn);return c&&mt.forEach(function(ho){return u(ie,ho)}),an&&ia(ie,Ot),et}function ri(ie,Z,ce,He){var et=C(ce);if(typeof et!="function")throw Error(o(150));if(ce=et.call(ce),ce==null)throw Error(o(151));for(var At=et=null,mt=Z,Ot=Z=0,kn=null,Nt=ce.next();mt!==null&&!Nt.done;Ot++,Nt=ce.next()){mt.index>Ot?(kn=mt,mt=null):kn=mt.sibling;var ho=st(ie,mt,Nt.value,He);if(ho===null){mt===null&&(mt=kn);break}c&&mt&&ho.alternate===null&&u(ie,mt),Z=w(ho,Z,Ot),At===null?et=ho:At.sibling=ho,At=ho,mt=kn}if(Nt.done)return _(ie,mt),an&&ia(ie,Ot),et;if(mt===null){for(;!Nt.done;Ot++,Nt=ce.next())Nt=pt(ie,Nt.value,He),Nt!==null&&(Z=w(Nt,Z,Ot),At===null?et=Nt:At.sibling=Nt,At=Nt);return an&&ia(ie,Ot),et}for(mt=A(ie,mt);!Nt.done;Ot++,Nt=ce.next())Nt=Xt(mt,ie,Ot,Nt.value,He),Nt!==null&&(c&&Nt.alternate!==null&&mt.delete(Nt.key===null?Ot:Nt.key),Z=w(Nt,Z,Ot),At===null?et=Nt:At.sibling=Nt,At=Nt);return c&&mt.forEach(function(CM){return u(ie,CM)}),an&&ia(ie,Ot),et}function _r(ie,Z,ce,He){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var et=ce.key,At=Z;At!==null;){if(At.key===et){if(et=ce.type,et===d){if(At.tag===7){_(ie,At.sibling),Z=E(At,ce.props.children),Z.return=ie,ie=Z;break e}}else if(At.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===S&&qg(et)===At.type){_(ie,At.sibling),Z=E(At,ce.props),Z.ref=gu(ie,At,ce),Z.return=ie,ie=Z;break e}_(ie,At);break}else u(ie,At);At=At.sibling}ce.type===d?(Z=ua(ce.props.children,ie.mode,He,ce.key),Z.return=ie,ie=Z):(He=vf(ce.type,ce.key,ce.props,null,ie.mode,He),He.ref=gu(ie,Z,ce),He.return=ie,ie=He)}return k(ie);case h:e:{for(At=ce.key;Z!==null;){if(Z.key===At)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){_(ie,Z.sibling),Z=E(Z,ce.children||[]),Z.return=ie,ie=Z;break e}else{_(ie,Z);break}else u(ie,Z);Z=Z.sibling}Z=Im(ce,ie.mode,He),Z.return=ie,ie=Z}return k(ie);case S:return At=ce._init,_r(ie,Z,At(ce._payload),He)}if(X(ce))return nt(ie,Z,ce,He);if(C(ce))return ri(ie,Z,ce,He);kd(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,Z!==null&&Z.tag===6?(_(ie,Z.sibling),Z=E(Z,ce),Z.return=ie,ie=Z):(_(ie,Z),Z=Bm(ce,ie.mode,He),Z.return=ie,ie=Z),k(ie)):_(ie,Z)}return _r}var Al=Ag(!0),Sg=Ag(!1),_u={},fr=Et(_u),vu=Et(_u),Sl=Et(_u);function ss(c){if(c===_u)throw Error(o(174));return c}function K0(c,u){gt(Sl,u),gt(vu,c),gt(fr,_u),c=te(u),Le(fr),gt(fr,c)}function Ml(){Le(fr),Le(vu),Le(Sl)}function Mg(c){var u=ss(Sl.current),_=ss(fr.current);u=L(_,c.type,u),_!==u&&(gt(vu,c),gt(fr,u))}function Q0(c){vu.current===c&&(Le(fr),Le(vu))}var cn=Et(0);function zd(c){for(var u=c;u!==null;){if(u.tag===13){var _=u.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||hu(_)||no(_)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Z0=[];function $0(){for(var c=0;c<Z0.length;c++){var u=Z0[c];je?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Z0.length=0}var Hd=a.ReactCurrentDispatcher,pr=a.ReactCurrentBatchConfig,El=0,mn=null,ti=null,Nn=null,Gd=!1,yu=!1,xu=0,ZS=0;function ni(){throw Error(o(321))}function em(c,u){if(u===null)return!1;for(var _=0;_<u.length&&_<c.length;_++)if(!ns(c[_],u[_]))return!1;return!0}function tm(c,u,_,A,E,w){if(El=w,mn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Hd.current=c===null||c.memoizedState===null?nM:iM,c=_(A,E),yu){w=0;do{if(yu=!1,xu=0,25<=w)throw Error(o(301));w+=1,Nn=ti=null,u.updateQueue=null,Hd.current=rM,c=_(A,E)}while(yu)}if(Hd.current=jd,u=ti!==null&&ti.next!==null,El=0,Nn=ti=mn=null,Gd=!1,u)throw Error(o(300));return c}function nm(){var c=xu!==0;return xu=0,c}function Es(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?mn.memoizedState=Nn=c:Nn=Nn.next=c,Nn}function os(){if(ti===null){var c=mn.alternate;c=c!==null?c.memoizedState:null}else c=ti.next;var u=Nn===null?mn.memoizedState:Nn.next;if(u!==null)Nn=u,ti=c;else{if(c===null)throw Error(o(310));ti=c,c={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},Nn===null?mn.memoizedState=Nn=c:Nn=Nn.next=c}return Nn}function ra(c,u){return typeof u=="function"?u(c):u}function Vd(c){var u=os(),_=u.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=c;var A=ti,E=A.baseQueue,w=_.pending;if(w!==null){if(E!==null){var k=E.next;E.next=w.next,w.next=k}A.baseQueue=E=w,_.pending=null}if(E!==null){w=E.next,A=A.baseState;var K=k=null,ue=null,Pe=w;do{var Xe=Pe.lane;if((El&Xe)===Xe)ue!==null&&(ue=ue.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),A=Pe.hasEagerState?Pe.eagerState:c(A,Pe.action);else{var pt={lane:Xe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};ue===null?(K=ue=pt,k=A):ue=ue.next=pt,mn.lanes|=Xe,Cl|=Xe}Pe=Pe.next}while(Pe!==null&&Pe!==w);ue===null?k=A:ue.next=K,ns(A,u.memoizedState)||(Xi=!0),u.memoizedState=A,u.baseState=k,u.baseQueue=ue,_.lastRenderedState=A}if(c=_.interleaved,c!==null){E=c;do w=E.lane,mn.lanes|=w,Cl|=w,E=E.next;while(E!==c)}else E===null&&(_.lanes=0);return[u.memoizedState,_.dispatch]}function Wd(c){var u=os(),_=u.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=c;var A=_.dispatch,E=_.pending,w=u.memoizedState;if(E!==null){_.pending=null;var k=E=E.next;do w=c(w,k.action),k=k.next;while(k!==E);ns(w,u.memoizedState)||(Xi=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),_.lastRenderedState=w}return[w,A]}function Eg(){}function wg(c,u){var _=mn,A=os(),E=u(),w=!ns(A.memoizedState,E);if(w&&(A.memoizedState=E,Xi=!0),A=A.queue,Au(Rg.bind(null,_,A,c),[c]),A.getSnapshot!==u||w||Nn!==null&&Nn.memoizedState.tag&1){if(_.flags|=2048,qu(9,Tg.bind(null,_,A,E,u),void 0,null),Cn===null)throw Error(o(349));El&30||Cg(_,u,E)}return E}function Cg(c,u,_){c.flags|=16384,c={getSnapshot:u,value:_},u=mn.updateQueue,u===null?(u={lastEffect:null,stores:null},mn.updateQueue=u,u.stores=[c]):(_=u.stores,_===null?u.stores=[c]:_.push(c))}function Tg(c,u,_,A){u.value=_,u.getSnapshot=A,Pg(u)&&mr(c,1,-1)}function Rg(c,u,_){return _(function(){Pg(u)&&mr(c,1,-1)})}function Pg(c){var u=c.getSnapshot;c=c.value;try{var _=u();return!ns(c,_)}catch{return!0}}function im(c){var u=Es();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:c},u.queue=c,c=c.dispatch=tM.bind(null,mn,c),[u.memoizedState,c]}function qu(c,u,_,A){return c={tag:c,create:u,destroy:_,deps:A,next:null},u=mn.updateQueue,u===null?(u={lastEffect:null,stores:null},mn.updateQueue=u,u.lastEffect=c.next=c):(_=u.lastEffect,_===null?u.lastEffect=c.next=c:(A=_.next,_.next=c,c.next=A,u.lastEffect=c)),c}function bg(){return os().memoizedState}function Xd(c,u,_,A){var E=Es();mn.flags|=c,E.memoizedState=qu(1|u,_,void 0,A===void 0?null:A)}function Jd(c,u,_,A){var E=os();A=A===void 0?null:A;var w=void 0;if(ti!==null){var k=ti.memoizedState;if(w=k.destroy,A!==null&&em(A,k.deps)){E.memoizedState=qu(u,_,w,A);return}}mn.flags|=c,E.memoizedState=qu(1|u,_,w,A)}function rm(c,u){return Xd(8390656,8,c,u)}function Au(c,u){return Jd(2048,8,c,u)}function Bg(c,u){return Jd(4,2,c,u)}function Ig(c,u){return Jd(4,4,c,u)}function Lg(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Dg(c,u,_){return _=_!=null?_.concat([c]):null,Jd(4,4,Lg.bind(null,u,c),_)}function sm(){}function Fg(c,u){var _=os();u=u===void 0?null:u;var A=_.memoizedState;return A!==null&&u!==null&&em(u,A[1])?A[0]:(_.memoizedState=[c,u],c)}function Ug(c,u){var _=os();u=u===void 0?null:u;var A=_.memoizedState;return A!==null&&u!==null&&em(u,A[1])?A[0]:(c=c(),_.memoizedState=[c,u],c)}function $S(c,u){var _=Ut;Ut=_!==0&&4>_?_:4,c(!0);var A=pr.transition;pr.transition={};try{c(!1),u()}finally{Ut=_,pr.transition=A}}function Og(){return os().memoizedState}function eM(c,u,_){var A=lo(c);_={lane:A,action:_,hasEagerState:!1,eagerState:null,next:null},Ng(c)?kg(u,_):(zg(c,u,_),_=vi(),c=mr(c,A,_),c!==null&&Hg(c,u,A))}function tM(c,u,_){var A=lo(c),E={lane:A,action:_,hasEagerState:!1,eagerState:null,next:null};if(Ng(c))kg(u,E);else{zg(c,u,E);var w=c.alternate;if(c.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var k=u.lastRenderedState,K=w(k,_);if(E.hasEagerState=!0,E.eagerState=K,ns(K,k))return}catch{}finally{}_=vi(),c=mr(c,A,_),c!==null&&Hg(c,u,A)}}function Ng(c){var u=c.alternate;return c===mn||u!==null&&u===mn}function kg(c,u){yu=Gd=!0;var _=c.pending;_===null?u.next=u:(u.next=_.next,_.next=u),c.pending=u}function zg(c,u,_){Cn!==null&&c.mode&1&&!(St&2)?(c=u.interleaved,c===null?(_.next=_,rs===null?rs=[u]:rs.push(u)):(_.next=c.next,c.next=_),u.interleaved=_):(c=u.pending,c===null?_.next=_:(_.next=c.next,c.next=_),u.pending=_)}function Hg(c,u,_){if(_&4194240){var A=u.lanes;A&=c.pendingLanes,_|=A,u.lanes=_,I0(c,_)}}var jd={readContext:ur,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},nM={readContext:ur,useCallback:function(c,u){return Es().memoizedState=[c,u===void 0?null:u],c},useContext:ur,useEffect:rm,useImperativeHandle:function(c,u,_){return _=_!=null?_.concat([c]):null,Xd(4194308,4,Lg.bind(null,u,c),_)},useLayoutEffect:function(c,u){return Xd(4194308,4,c,u)},useInsertionEffect:function(c,u){return Xd(4,2,c,u)},useMemo:function(c,u){var _=Es();return u=u===void 0?null:u,c=c(),_.memoizedState=[c,u],c},useReducer:function(c,u,_){var A=Es();return u=_!==void 0?_(u):u,A.memoizedState=A.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},A.queue=c,c=c.dispatch=eM.bind(null,mn,c),[A.memoizedState,c]},useRef:function(c){var u=Es();return c={current:c},u.memoizedState=c},useState:im,useDebugValue:sm,useDeferredValue:function(c){var u=im(c),_=u[0],A=u[1];return rm(function(){var E=pr.transition;pr.transition={};try{A(c)}finally{pr.transition=E}},[c]),_},useTransition:function(){var c=im(!1),u=c[0];return c=$S.bind(null,c[1]),Es().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,_){var A=mn,E=Es();if(an){if(_===void 0)throw Error(o(407));_=_()}else{if(_=u(),Cn===null)throw Error(o(349));El&30||Cg(A,u,_)}E.memoizedState=_;var w={value:_,getSnapshot:u};return E.queue=w,rm(Rg.bind(null,A,w,c),[c]),A.flags|=2048,qu(9,Tg.bind(null,A,w,_,u),void 0,null),_},useId:function(){var c=Es(),u=Cn.identifierPrefix;if(an){var _=Ms,A=Ss;_=(A&~(1<<32-Ti(A)-1)).toString(32)+_,u=":"+u+"R"+_,_=xu++,0<_&&(u+="H"+_.toString(32)),u+=":"}else _=ZS++,u=":"+u+"r"+_.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},iM={readContext:ur,useCallback:Fg,useContext:ur,useEffect:Au,useImperativeHandle:Dg,useInsertionEffect:Bg,useLayoutEffect:Ig,useMemo:Ug,useReducer:Vd,useRef:bg,useState:function(){return Vd(ra)},useDebugValue:sm,useDeferredValue:function(c){var u=Vd(ra),_=u[0],A=u[1];return Au(function(){var E=pr.transition;pr.transition={};try{A(c)}finally{pr.transition=E}},[c]),_},useTransition:function(){var c=Vd(ra)[0],u=os().memoizedState;return[c,u]},useMutableSource:Eg,useSyncExternalStore:wg,useId:Og,unstable_isNewReconciler:!1},rM={readContext:ur,useCallback:Fg,useContext:ur,useEffect:Au,useImperativeHandle:Dg,useInsertionEffect:Bg,useLayoutEffect:Ig,useMemo:Ug,useReducer:Wd,useRef:bg,useState:function(){return Wd(ra)},useDebugValue:sm,useDeferredValue:function(c){var u=Wd(ra),_=u[0],A=u[1];return Au(function(){var E=pr.transition;pr.transition={};try{A(c)}finally{pr.transition=E}},[c]),_},useTransition:function(){var c=Wd(ra)[0],u=os().memoizedState;return[c,u]},useMutableSource:Eg,useSyncExternalStore:wg,useId:Og,unstable_isNewReconciler:!1};function om(c,u){try{var _="",A=u;do _+=QS(A),A=A.return;while(A);var E=_}catch(w){E=`
Error generating stack: `+w.message+`
`+w.stack}return{value:c,source:u,stack:E}}function am(c,u){try{console.error(u.value)}catch(_){setTimeout(function(){throw _})}}var sM=typeof WeakMap=="function"?WeakMap:Map;function Gg(c,u,_){_=As(-1,_),_.tag=3,_.payload={element:null};var A=u.value;return _.callback=function(){hf||(hf=!0,Em=A),am(c,u)},_}function Vg(c,u,_){_=As(-1,_),_.tag=3;var A=c.type.getDerivedStateFromError;if(typeof A=="function"){var E=u.value;_.payload=function(){return A(E)},_.callback=function(){am(c,u)}}var w=c.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(_.callback=function(){am(c,u),typeof A!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})}),_}function Wg(c,u,_){var A=c.pingCache;if(A===null){A=c.pingCache=new sM;var E=new Set;A.set(u,E)}else E=A.get(u),E===void 0&&(E=new Set,A.set(u,E));E.has(_)||(E.add(_),c=yM.bind(null,c,u,_),u.then(c,c))}function Xg(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Jg(c,u,_,A,E){return c.mode&1?(c.flags|=65536,c.lanes=E,c):(c===u?c.flags|=65536:(c.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(u=As(-1,1),u.tag=2,so(_,u))),_.lanes|=1),c)}function as(c){c.flags|=4}function jg(c,u){if(c!==null&&c.child===u.child)return!0;if(u.flags&16)return!1;for(c=u.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Su,Mu,Yd,Kd;if(G)Su=function(c,u){for(var _=u.child;_!==null;){if(_.tag===5||_.tag===6)le(c,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Mu=function(){},Yd=function(c,u,_,A,E){if(c=c.memoizedProps,c!==A){var w=u.stateNode,k=ss(fr.current);_=ee(w,_,c,A,E,k),(u.updateQueue=_)&&as(u)}},Kd=function(c,u,_,A){_!==A&&as(u)};else if(me){Su=function(c,u,_,A){for(var E=u.child;E!==null;){if(E.tag===5){var w=E.stateNode;_&&A&&(w=zi(w,E.type,E.memoizedProps,E)),le(c,w)}else if(E.tag===6)w=E.stateNode,_&&A&&(w=Hi(w,E.memoizedProps,E)),le(c,w);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)w=E.child,w!==null&&(w.return=E),Su(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var Yg=function(c,u,_,A){for(var E=u.child;E!==null;){if(E.tag===5){var w=E.stateNode;_&&A&&(w=zi(w,E.type,E.memoizedProps,E)),sn(c,w)}else if(E.tag===6)w=E.stateNode,_&&A&&(w=Hi(w,E.memoizedProps,E)),sn(c,w);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)w=E.child,w!==null&&(w.return=E),Yg(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Mu=function(c,u){var _=u.stateNode;if(!jg(c,u)){c=_.containerInfo;var A=bt(c);Yg(A,u,!1,!1),_.pendingChildren=A,as(u),En(c,A)}},Yd=function(c,u,_,A,E){var w=c.stateNode,k=c.memoizedProps;if((c=jg(c,u))&&k===A)u.stateNode=w;else{var K=u.stateNode,ue=ss(fr.current),Pe=null;k!==A&&(Pe=ee(K,_,k,A,E,ue)),c&&Pe===null?u.stateNode=w:(w=ut(w,Pe,_,k,A,u,c,K),qe(w,_,A,E,ue)&&as(u),u.stateNode=w,c?as(u):Su(w,u,!1,!1))}},Kd=function(c,u,_,A){_!==A?(c=ss(Sl.current),_=ss(fr.current),u.stateNode=Ae(A,c,_,u),as(u)):u.stateNode=c.stateNode}}else Mu=function(){},Yd=function(){},Kd=function(){};function Eu(c,u){if(!an)switch(c.tailMode){case"hidden":u=c.tail;for(var _=null;u!==null;)u.alternate!==null&&(_=u),u=u.sibling;_===null?c.tail=null:_.sibling=null;break;case"collapsed":_=c.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:A.sibling=null}}function ii(c){var u=c.alternate!==null&&c.alternate.child===c.child,_=0,A=0;if(u)for(var E=c.child;E!==null;)_|=E.lanes|E.childLanes,A|=E.subtreeFlags&14680064,A|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)_|=E.lanes|E.childLanes,A|=E.subtreeFlags,A|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=A,c.childLanes=_,u}function oM(c,u,_){var A=u.pendingProps;switch(X0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(u),null;case 1:return Dt(u.type)&&Gi(),ii(u),null;case 3:return A=u.stateNode,Ml(),Le(Bn),Le(Yt),$0(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(c===null||c.child===null)&&(mu(u)?as(u):c===null||c.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Lr!==null&&(Tm(Lr),Lr=null))),Mu(c,u),ii(u),null;case 5:Q0(u),_=ss(Sl.current);var E=u.type;if(c!==null&&u.stateNode!=null)Yd(c,u,E,A,_),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!A){if(u.stateNode===null)throw Error(o(166));return ii(u),null}if(c=ss(fr.current),mu(u)){if(!he)throw Error(o(175));c=R0(u.stateNode,u.type,u.memoizedProps,_,c,u,!pu),u.updateQueue=c,c!==null&&as(u)}else{var w=Y(E,A,_,c,u);Su(w,u,!1,!1),u.stateNode=w,qe(w,E,A,_,c)&&as(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ii(u),null;case 6:if(c&&u.stateNode!=null)Kd(c,u,c.memoizedProps,A);else{if(typeof A!="string"&&u.stateNode===null)throw Error(o(166));if(c=ss(Sl.current),_=ss(fr.current),mu(u)){if(!he)throw Error(o(176));if(c=u.stateNode,A=u.memoizedProps,(_=P0(c,A,u,!pu))&&(E=Vi,E!==null))switch(w=(E.mode&1)!==0,E.tag){case 3:Je(E.stateNode.containerInfo,c,A,w);break;case 5:Qe(E.type,E.memoizedProps,E.stateNode,c,A,w)}_&&as(u)}else u.stateNode=Ae(A,c,_,u)}return ii(u),null;case 13:if(Le(cn),A=u.memoizedState,an&&Wi!==null&&u.mode&1&&!(u.flags&128)){for(c=Wi;c;)c=$r(c);return ql(),u.flags|=98560,u}if(A!==null&&A.dehydrated!==null){if(A=mu(u),c===null){if(!A)throw Error(o(318));if(!he)throw Error(o(344));if(c=u.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));F(c,u)}else ql(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;return ii(u),null}return Lr!==null&&(Tm(Lr),Lr=null),u.flags&128?(u.lanes=_,u):(A=A!==null,_=!1,c===null?mu(u):_=c.memoizedState!==null,A&&!_&&(u.child.flags|=8192,u.mode&1&&(c===null||cn.current&1?In===0&&(In=3):Pm())),u.updateQueue!==null&&(u.flags|=4),ii(u),null);case 4:return Ml(),Mu(c,u),c===null&&Se(u.stateNode.containerInfo),ii(u),null;case 10:return k0(u.type._context),ii(u),null;case 17:return Dt(u.type)&&Gi(),ii(u),null;case 19:if(Le(cn),E=u.memoizedState,E===null)return ii(u),null;if(A=(u.flags&128)!==0,w=E.rendering,w===null)if(A)Eu(E,!1);else{if(In!==0||c!==null&&c.flags&128)for(c=u.child;c!==null;){if(w=zd(c),w!==null){for(u.flags|=128,Eu(E,!1),c=w.updateQueue,c!==null&&(u.updateQueue=c,u.flags|=4),u.subtreeFlags=0,c=_,A=u.child;A!==null;)_=A,E=c,_.flags&=14680066,w=_.alternate,w===null?(_.childLanes=0,_.lanes=E,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=w.childLanes,_.lanes=w.lanes,_.child=w.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=w.memoizedProps,_.memoizedState=w.memoizedState,_.updateQueue=w.updateQueue,_.type=w.type,E=w.dependencies,_.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),A=A.sibling;return gt(cn,cn.current&1|2),u.child}c=c.sibling}E.tail!==null&&On()>Mm&&(u.flags|=128,A=!0,Eu(E,!1),u.lanes=4194304)}else{if(!A)if(c=zd(w),c!==null){if(u.flags|=128,A=!0,c=c.updateQueue,c!==null&&(u.updateQueue=c,u.flags|=4),Eu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!an)return ii(u),null}else 2*On()-E.renderingStartTime>Mm&&_!==1073741824&&(u.flags|=128,A=!0,Eu(E,!1),u.lanes=4194304);E.isBackwards?(w.sibling=u.child,u.child=w):(c=E.last,c!==null?c.sibling=w:u.child=w,E.last=w)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=On(),u.sibling=null,c=cn.current,gt(cn,A?c&1|2:c&1),u):(ii(u),null);case 22:case 23:return Rm(),A=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==A&&(u.flags|=8192),A&&u.mode&1?Ji&1073741824&&(ii(u),G&&u.subtreeFlags&6&&(u.flags|=8192)):ii(u),null;case 24:return null;case 25:return null}throw Error(o(156,u.tag))}var aM=a.ReactCurrentOwner,Xi=!1;function _i(c,u,_,A){u.child=c===null?Sg(u,null,_,A):Al(u,c.child,_,A)}function Kg(c,u,_,A,E){_=_.render;var w=u.ref;return vl(u,E),A=tm(c,u,_,A,w,E),_=nm(),c!==null&&!Xi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~E,ws(c,u,E)):(an&&_&&W0(u),u.flags|=1,_i(c,u,A,E),u.child)}function Qg(c,u,_,A,E){if(c===null){var w=_.type;return typeof w=="function"&&!bm(w)&&w.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(u.tag=15,u.type=w,Zg(c,u,w,A,E)):(c=vf(_.type,null,A,u,u.mode,E),c.ref=u.ref,c.return=u,u.child=c)}if(w=c.child,!(c.lanes&E)){var k=w.memoizedProps;if(_=_.compare,_=_!==null?_:Bd,_(k,A)&&c.ref===u.ref)return ws(c,u,E)}return u.flags|=1,c=uo(w,A),c.ref=u.ref,c.return=u,u.child=c}function Zg(c,u,_,A,E){if(c!==null&&Bd(c.memoizedProps,A)&&c.ref===u.ref)if(Xi=!1,(c.lanes&E)!==0)c.flags&131072&&(Xi=!0);else return u.lanes=c.lanes,ws(c,u,E);return lm(c,u,_,A,E)}function $g(c,u,_){var A=u.pendingProps,E=A.children,w=c!==null?c.memoizedState:null;if(A.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null},gt(wl,Ji),Ji|=_;else if(_&1073741824)u.memoizedState={baseLanes:0,cachePool:null},A=w!==null?w.baseLanes:_,gt(wl,Ji),Ji|=A;else return c=w!==null?w.baseLanes|_:_,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null},u.updateQueue=null,gt(wl,Ji),Ji|=c,null;else w!==null?(A=w.baseLanes|_,u.memoizedState=null):A=_,gt(wl,Ji),Ji|=A;return _i(c,u,E,_),u.child}function e8(c,u){var _=u.ref;(c===null&&_!==null||c!==null&&c.ref!==_)&&(u.flags|=512,u.flags|=2097152)}function lm(c,u,_,A,E){var w=Dt(_)?mi:Yt.current;return w=es(u,w),vl(u,E),_=tm(c,u,_,A,w,E),A=nm(),c!==null&&!Xi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~E,ws(c,u,E)):(an&&A&&W0(u),u.flags|=1,_i(c,u,_,E),u.child)}function t8(c,u,_,A,E){if(Dt(_)){var w=!0;io(u)}else w=!1;if(vl(u,E),u.stateNode===null)c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),mg(u,_,A),V0(u,_,A,E),A=!0;else if(c===null){var k=u.stateNode,K=u.memoizedProps;k.props=K;var ue=k.context,Pe=_.contextType;typeof Pe=="object"&&Pe!==null?Pe=ur(Pe):(Pe=Dt(_)?mi:Yt.current,Pe=es(u,Pe));var Xe=_.getDerivedStateFromProps,pt=typeof Xe=="function"||typeof k.getSnapshotBeforeUpdate=="function";pt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(K!==A||ue!==Pe)&&gg(u,k,A,Pe),ro=!1;var st=u.memoizedState;k.state=st,Fd(u,A,k,E),ue=u.memoizedState,K!==A||st!==ue||Bn.current||ro?(typeof Xe=="function"&&(G0(u,_,Xe,A),ue=u.memoizedState),(K=ro||pg(u,_,K,A,st,ue,Pe))?(pt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=A,u.memoizedState=ue),k.props=A,k.state=ue,k.context=Pe,A=K):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),A=!1)}else{k=u.stateNode,ug(c,u),K=u.memoizedProps,Pe=u.type===u.elementType?K:Ir(u.type,K),k.props=Pe,pt=u.pendingProps,st=k.context,ue=_.contextType,typeof ue=="object"&&ue!==null?ue=ur(ue):(ue=Dt(_)?mi:Yt.current,ue=es(u,ue));var Xt=_.getDerivedStateFromProps;(Xe=typeof Xt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(K!==pt||st!==ue)&&gg(u,k,A,ue),ro=!1,st=u.memoizedState,k.state=st,Fd(u,A,k,E);var nt=u.memoizedState;K!==pt||st!==nt||Bn.current||ro?(typeof Xt=="function"&&(G0(u,_,Xt,A),nt=u.memoizedState),(Pe=ro||pg(u,_,Pe,A,st,nt,ue)||!1)?(Xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(A,nt,ue),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(A,nt,ue)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||K===c.memoizedProps&&st===c.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&st===c.memoizedState||(u.flags|=1024),u.memoizedProps=A,u.memoizedState=nt),k.props=A,k.state=nt,k.context=ue,A=Pe):(typeof k.componentDidUpdate!="function"||K===c.memoizedProps&&st===c.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&st===c.memoizedState||(u.flags|=1024),A=!1)}return cm(c,u,_,A,w,E)}function cm(c,u,_,A,E,w){e8(c,u);var k=(u.flags&128)!==0;if(!A&&!k)return E&&wd(u,_,!1),ws(c,u,w);A=u.stateNode,aM.current=u;var K=k&&typeof _.getDerivedStateFromError!="function"?null:A.render();return u.flags|=1,c!==null&&k?(u.child=Al(u,c.child,null,w),u.child=Al(u,null,K,w)):_i(c,u,K,w),u.memoizedState=A.state,E&&wd(u,_,!0),u.child}function n8(c){var u=c.stateNode;u.pendingContext?gl(c,u.pendingContext,u.pendingContext!==u.context):u.context&&gl(c,u.context,!1),K0(c,u.containerInfo)}function i8(c,u,_,A,E){return ql(),Y0(E),u.flags|=256,_i(c,u,_,A),u.child}var Qd={dehydrated:null,treeContext:null,retryLane:0};function Zd(c){return{baseLanes:c,cachePool:null}}function r8(c,u,_){var A=u.pendingProps,E=cn.current,w=!1,k=(u.flags&128)!==0,K;if((K=k)||(K=c!==null&&c.memoizedState===null?!1:(E&2)!==0),K?(w=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),gt(cn,E&1),c===null)return j0(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(u.mode&1?no(c)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(E=A.children,c=A.fallback,w?(A=u.mode,w=u.child,E={mode:"hidden",children:E},!(A&1)&&w!==null?(w.childLanes=0,w.pendingProps=E):w=yf(E,A,0,null),c=ua(c,A,_,null),w.return=u,c.return=u,w.sibling=c,u.child=w,u.child.memoizedState=Zd(_),u.memoizedState=Qd,c):um(u,E));if(E=c.memoizedState,E!==null){if(K=E.dehydrated,K!==null){if(k)return u.flags&256?(u.flags&=-257,$d(c,u,_,Error(o(422)))):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(w=A.fallback,E=u.mode,A=yf({mode:"visible",children:A.children},E,0,null),w=ua(w,E,_,null),w.flags|=2,A.return=u,w.return=u,A.sibling=w,u.child=A,u.mode&1&&Al(u,c.child,null,_),u.child.memoizedState=Zd(_),u.memoizedState=Qd,w);if(!(u.mode&1))u=$d(c,u,_,null);else if(no(K))u=$d(c,u,_,Error(o(419)));else if(A=(_&c.childLanes)!==0,Xi||A){if(A=Cn,A!==null){switch(_&-_){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}A=w&(A.suspendedLanes|_)?0:w,A!==0&&A!==E.retryLane&&(E.retryLane=A,mr(c,A,-1))}Pm(),u=$d(c,u,_,Error(o(421)))}else hu(K)?(u.flags|=128,u.child=c.child,u=xM.bind(null,c),Sd(K,u),u=null):(_=E.treeContext,he&&(Wi=T0(K),Vi=u,an=!0,Lr=null,pu=!1,_!==null&&(hr[dr++]=Ss,hr[dr++]=Ms,hr[dr++]=na,Ss=_.id,Ms=_.overflow,na=u)),u=um(u,u.pendingProps.children),u.flags|=4096);return u}return w?(A=o8(c,u,A.children,A.fallback,_),w=u.child,E=c.child.memoizedState,w.memoizedState=E===null?Zd(_):{baseLanes:E.baseLanes|_,cachePool:null},w.childLanes=c.childLanes&~_,u.memoizedState=Qd,A):(_=s8(c,u,A.children,_),u.memoizedState=null,_)}return w?(A=o8(c,u,A.children,A.fallback,_),w=u.child,E=c.child.memoizedState,w.memoizedState=E===null?Zd(_):{baseLanes:E.baseLanes|_,cachePool:null},w.childLanes=c.childLanes&~_,u.memoizedState=Qd,A):(_=s8(c,u,A.children,_),u.memoizedState=null,_)}function um(c,u){return u=yf({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function s8(c,u,_,A){var E=c.child;return c=E.sibling,_=uo(E,{mode:"visible",children:_}),!(u.mode&1)&&(_.lanes=A),_.return=u,_.sibling=null,c!==null&&(A=u.deletions,A===null?(u.deletions=[c],u.flags|=16):A.push(c)),u.child=_}function o8(c,u,_,A,E){var w=u.mode;c=c.child;var k=c.sibling,K={mode:"hidden",children:_};return!(w&1)&&u.child!==c?(_=u.child,_.childLanes=0,_.pendingProps=K,u.deletions=null):(_=uo(c,K),_.subtreeFlags=c.subtreeFlags&14680064),k!==null?A=uo(k,A):(A=ua(A,w,E,null),A.flags|=2),A.return=u,_.return=u,_.sibling=A,u.child=_,A}function $d(c,u,_,A){return A!==null&&Y0(A),Al(u,c.child,null,_),c=um(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function a8(c,u,_){c.lanes|=u;var A=c.alternate;A!==null&&(A.lanes|=u),z0(c.return,u,_)}function hm(c,u,_,A,E){var w=c.memoizedState;w===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:A,tail:_,tailMode:E}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=A,w.tail=_,w.tailMode=E)}function l8(c,u,_){var A=u.pendingProps,E=A.revealOrder,w=A.tail;if(_i(c,u,A.children,_),A=cn.current,A&2)A=A&1|2,u.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&a8(c,_,u);else if(c.tag===19)a8(c,_,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}A&=1}if(gt(cn,A),!(u.mode&1))u.memoizedState=null;else switch(E){case"forwards":for(_=u.child,E=null;_!==null;)c=_.alternate,c!==null&&zd(c)===null&&(E=_),_=_.sibling;_=E,_===null?(E=u.child,u.child=null):(E=_.sibling,_.sibling=null),hm(u,!1,E,_,w);break;case"backwards":for(_=null,E=u.child,u.child=null;E!==null;){if(c=E.alternate,c!==null&&zd(c)===null){u.child=E;break}c=E.sibling,E.sibling=_,_=E,E=c}hm(u,!0,_,null,w);break;case"together":hm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ws(c,u,_){if(c!==null&&(u.dependencies=c.dependencies),Cl|=u.lanes,!(_&u.childLanes))return null;if(c!==null&&u.child!==c.child)throw Error(o(153));if(u.child!==null){for(c=u.child,_=uo(c,c.pendingProps),u.child=_,_.return=u;c.sibling!==null;)c=c.sibling,_=_.sibling=uo(c,c.pendingProps),_.return=u;_.sibling=null}return u.child}function lM(c,u,_){switch(u.tag){case 3:n8(u),ql();break;case 5:Mg(u);break;case 1:Dt(u.type)&&io(u);break;case 4:K0(u,u.stateNode.containerInfo);break;case 10:cg(u,u.type._context,u.memoizedProps.value);break;case 13:var A=u.memoizedState;if(A!==null)return A.dehydrated!==null?(gt(cn,cn.current&1),u.flags|=128,null):_&u.child.childLanes?r8(c,u,_):(gt(cn,cn.current&1),c=ws(c,u,_),c!==null?c.sibling:null);gt(cn,cn.current&1);break;case 19:if(A=(_&u.childLanes)!==0,c.flags&128){if(A)return l8(c,u,_);u.flags|=128}var E=u.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),gt(cn,cn.current),A)break;return null;case 22:case 23:return u.lanes=0,$g(c,u,_)}return ws(c,u,_)}function cM(c,u){switch(X0(u),u.tag){case 1:return Dt(u.type)&&Gi(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Ml(),Le(Bn),Le(Yt),$0(),c=u.flags,c&65536&&!(c&128)?(u.flags=c&-65537|128,u):null;case 5:return Q0(u),null;case 13:if(Le(cn),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(o(340));ql()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Le(cn),null;case 4:return Ml(),null;case 10:return k0(u.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var ef=!1,sa=!1,uM=typeof WeakSet=="function"?WeakSet:Set,ke=null;function tf(c,u){var _=c.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(A){bi(c,u,A)}else _.current=null}function dm(c,u,_){try{_()}catch(A){bi(c,u,A)}}var c8=!1;function hM(c,u){for(V(c.containerInfo),ke=u;ke!==null;)if(c=ke,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,ke=u;else for(;ke!==null;){c=ke;try{var _=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var A=_.memoizedProps,E=_.memoizedState,w=c.stateNode,k=w.getSnapshotBeforeUpdate(c.elementType===c.type?A:Ir(c.type,A),E);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:G&&Ie(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(K){bi(c,c.return,K)}if(u=c.sibling,u!==null){u.return=c.return,ke=u;break}ke=c.return}return _=c8,c8=!1,_}function oa(c,u,_){var A=u.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var E=A=A.next;do{if((E.tag&c)===c){var w=E.destroy;E.destroy=void 0,w!==void 0&&dm(u,_,w)}E=E.next}while(E!==A)}}function wu(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var _=u=u.next;do{if((_.tag&c)===c){var A=_.create;_.destroy=A()}_=_.next}while(_!==u)}}function fm(c){var u=c.ref;if(u!==null){var _=c.stateNode;switch(c.tag){case 5:c=W(_);break;default:c=_}typeof u=="function"?u(c):u.current=c}}function u8(c,u,_){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Pd,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:if(c=u.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var A=c=c.next;do{var E=A,w=E.destroy;E=E.tag,w!==void 0&&(E&2||E&4)&&dm(u,_,w),A=A.next}while(A!==c)}break;case 1:if(tf(u,_),c=u.stateNode,typeof c.componentWillUnmount=="function")try{c.props=u.memoizedProps,c.state=u.memoizedState,c.componentWillUnmount()}catch(k){bi(u,_,k)}break;case 5:tf(u,_);break;case 4:G?g8(c,u,_):me&&me&&(u=u.stateNode.containerInfo,_=bt(u),Ht(u,_))}}function h8(c,u,_){for(var A=u;;)if(u8(c,A,_),A.child===null||G&&A.tag===4){if(A===u)break;for(;A.sibling===null;){if(A.return===null||A.return===u)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function d8(c){var u=c.alternate;u!==null&&(c.alternate=null,d8(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&De(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function f8(c){return c.tag===5||c.tag===3||c.tag===4}function p8(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||f8(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function m8(c){if(G){e:{for(var u=c.return;u!==null;){if(f8(u))break e;u=u.return}throw Error(o(160))}var _=u;switch(_.tag){case 5:u=_.stateNode,_.flags&32&&(rn(u),_.flags&=-33),_=p8(c),mm(c,_,u);break;case 3:case 4:u=_.stateNode.containerInfo,_=p8(c),pm(c,_,u);break;default:throw Error(o(161))}}}function pm(c,u,_){var A=c.tag;if(A===5||A===6)c=c.stateNode,u?ze(_,c,u):ft(_,c);else if(A!==4&&(c=c.child,c!==null))for(pm(c,u,_),c=c.sibling;c!==null;)pm(c,u,_),c=c.sibling}function mm(c,u,_){var A=c.tag;if(A===5||A===6)c=c.stateNode,u?ct(_,c,u):Ue(_,c);else if(A!==4&&(c=c.child,c!==null))for(mm(c,u,_),c=c.sibling;c!==null;)mm(c,u,_),c=c.sibling}function g8(c,u,_){for(var A=u,E=!1,w,k;;){if(!E){E=A.return;e:for(;;){if(E===null)throw Error(o(160));switch(w=E.stateNode,E.tag){case 5:k=!1;break e;case 3:w=w.containerInfo,k=!0;break e;case 4:w=w.containerInfo,k=!0;break e}E=E.return}E=!0}if(A.tag===5||A.tag===6)h8(c,A,_),k?wt(w,A.stateNode):yt(w,A.stateNode);else if(A.tag===18)k?Be(w,A.stateNode):$(w,A.stateNode);else if(A.tag===4){if(A.child!==null){w=A.stateNode.containerInfo,k=!0,A.child.return=A,A=A.child;continue}}else if(u8(c,A,_),A.child!==null){A.child.return=A,A=A.child;continue}if(A===u)break;for(;A.sibling===null;){if(A.return===null||A.return===u)return;A=A.return,A.tag===4&&(E=!1)}A.sibling.return=A.return,A=A.sibling}}function gm(c,u){if(G){switch(u.tag){case 0:case 11:case 14:case 15:oa(3,u,u.return),wu(3,u),oa(5,u,u.return);return;case 1:return;case 5:var _=u.stateNode;if(_!=null){var A=u.memoizedProps;c=c!==null?c.memoizedProps:A;var E=u.type,w=u.updateQueue;u.updateQueue=null,w!==null&&Mt(_,w,E,c,A,u)}return;case 6:if(u.stateNode===null)throw Error(o(162));_=u.memoizedProps,Re(u.stateNode,c!==null?c.memoizedProps:_,_);return;case 3:he&&c!==null&&c.memoizedState.isDehydrated&&re(u.stateNode.containerInfo);return;case 12:return;case 13:nf(u);return;case 19:nf(u);return;case 17:return}throw Error(o(163))}switch(u.tag){case 0:case 11:case 14:case 15:oa(3,u,u.return),wu(3,u),oa(5,u,u.return);return;case 12:return;case 13:nf(u);return;case 19:nf(u);return;case 3:he&&c!==null&&c.memoizedState.isDehydrated&&re(u.stateNode.containerInfo);break;case 22:case 23:return}e:if(me){switch(u.tag){case 1:case 5:case 6:break e;case 3:case 4:u=u.stateNode,Ht(u.containerInfo,u.pendingChildren);break e}throw Error(o(163))}}function nf(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var _=c.stateNode;_===null&&(_=c.stateNode=new uM),u.forEach(function(A){var E=qM.bind(null,c,A);_.has(A)||(_.add(A),A.then(E,E))})}}function dM(c,u){for(ke=u;ke!==null;){u=ke;var _=u.deletions;if(_!==null)for(var A=0;A<_.length;A++){var E=_[A];try{var w=c;G?g8(w,E,u):h8(w,E,u);var k=E.alternate;k!==null&&(k.return=null),E.return=null}catch(et){bi(E,u,et)}}if(_=u.child,u.subtreeFlags&12854&&_!==null)_.return=u,ke=_;else for(;ke!==null;){u=ke;try{var K=u.flags;if(K&32&&G&&rn(u.stateNode),K&512){var ue=u.alternate;if(ue!==null){var Pe=ue.ref;Pe!==null&&(typeof Pe=="function"?Pe(null):Pe.current=null)}}if(K&8192)switch(u.tag){case 13:if(u.memoizedState!==null){var Xe=u.alternate;(Xe===null||Xe.memoizedState===null)&&(Sm=On())}break;case 22:var pt=u.memoizedState!==null,st=u.alternate,Xt=st!==null&&st.memoizedState!==null;if(_=u,G){e:if(A=_,E=pt,w=null,G)for(var nt=A;;){if(nt.tag===5){if(w===null){w=nt;var ri=nt.stateNode;E?j(ri):ge(nt.stateNode,nt.memoizedProps)}}else if(nt.tag===6){if(w===null){var _r=nt.stateNode;E?Ge(_r):ye(_r,nt.memoizedProps)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===A)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===A)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===A)break e;w===nt&&(w=null),nt=nt.return}w===nt&&(w=null),nt.sibling.return=nt.return,nt=nt.sibling}}if(pt&&!Xt&&_.mode&1){ke=_;for(var ie=_.child;ie!==null;){for(_=ke=ie;ke!==null;){A=ke;var Z=A.child;switch(A.tag){case 0:case 11:case 14:case 15:oa(4,A,A.return);break;case 1:tf(A,A.return);var ce=A.stateNode;if(typeof ce.componentWillUnmount=="function"){var He=A.return;try{ce.props=A.memoizedProps,ce.state=A.memoizedState,ce.componentWillUnmount()}catch(et){bi(A,He,et)}}break;case 5:tf(A,A.return);break;case 22:if(A.memoizedState!==null){y8(_);continue}}Z!==null?(Z.return=A,ke=Z):y8(_)}ie=ie.sibling}}}switch(K&4102){case 2:m8(u),u.flags&=-3;break;case 6:m8(u),u.flags&=-3,gm(u.alternate,u);break;case 4096:u.flags&=-4097;break;case 4100:u.flags&=-4097,gm(u.alternate,u);break;case 4:gm(u.alternate,u)}}catch(et){bi(u,u.return,et)}if(_=u.sibling,_!==null){_.return=u.return,ke=_;break}ke=u.return}}}function fM(c,u,_){ke=c,_8(c)}function _8(c,u,_){for(var A=(c.mode&1)!==0;ke!==null;){var E=ke,w=E.child;if(E.tag===22&&A){var k=E.memoizedState!==null||ef;if(!k){var K=E.alternate,ue=K!==null&&K.memoizedState!==null||sa;K=ef;var Pe=sa;if(ef=k,(sa=ue)&&!Pe)for(ke=E;ke!==null;)k=ke,ue=k.child,k.tag===22&&k.memoizedState!==null?x8(E):ue!==null?(ue.return=k,ke=ue):x8(E);for(;w!==null;)ke=w,_8(w),w=w.sibling;ke=E,ef=K,sa=Pe}v8(c)}else E.subtreeFlags&8772&&w!==null?(w.return=E,ke=w):v8(c)}}function v8(c){for(;ke!==null;){var u=ke;if(u.flags&8772){var _=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:sa||wu(5,u);break;case 1:var A=u.stateNode;if(u.flags&4&&!sa)if(_===null)A.componentDidMount();else{var E=u.elementType===u.type?_.memoizedProps:Ir(u.type,_.memoizedProps);A.componentDidUpdate(E,_.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var w=u.updateQueue;w!==null&&dg(u,w,A);break;case 3:var k=u.updateQueue;if(k!==null){if(_=null,u.child!==null)switch(u.child.tag){case 5:_=W(u.child.stateNode);break;case 1:_=u.child.stateNode}dg(u,k,_)}break;case 5:var K=u.stateNode;_===null&&u.flags&4&&Ye(K,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(he&&u.memoizedState===null){var ue=u.alternate;if(ue!==null){var Pe=ue.memoizedState;if(Pe!==null){var Xe=Pe.dehydrated;Xe!==null&&ae(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sa||u.flags&512&&fm(u)}catch(pt){bi(u,u.return,pt)}}if(u===c){ke=null;break}if(_=u.sibling,_!==null){_.return=u.return,ke=_;break}ke=u.return}}function y8(c){for(;ke!==null;){var u=ke;if(u===c){ke=null;break}var _=u.sibling;if(_!==null){_.return=u.return,ke=_;break}ke=u.return}}function x8(c){for(;ke!==null;){var u=ke;try{switch(u.tag){case 0:case 11:case 15:var _=u.return;try{wu(4,u)}catch(ue){bi(u,_,ue)}break;case 1:var A=u.stateNode;if(typeof A.componentDidMount=="function"){var E=u.return;try{A.componentDidMount()}catch(ue){bi(u,E,ue)}}var w=u.return;try{fm(u)}catch(ue){bi(u,w,ue)}break;case 5:var k=u.return;try{fm(u)}catch(ue){bi(u,k,ue)}}}catch(ue){bi(u,u.return,ue)}if(u===c){ke=null;break}var K=u.sibling;if(K!==null){K.return=u.return,ke=K;break}ke=u.return}}var rf=0,sf=1,of=2,af=3,lf=4;if(typeof Symbol=="function"&&Symbol.for){var Cu=Symbol.for;rf=Cu("selector.component"),sf=Cu("selector.has_pseudo_class"),of=Cu("selector.role"),af=Cu("selector.test_id"),lf=Cu("selector.text")}function _m(c){var u=we(c);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if(c=I(c),c===null)throw Error(o(362));return c.stateNode.current}function vm(c,u){switch(u.$$typeof){case rf:if(c.type===u.value)return!0;break;case sf:e:{u=u.value,c=[c,0];for(var _=0;_<c.length;){var A=c[_++],E=c[_++],w=u[E];if(A.tag!==5||!_e(A)){for(;w!=null&&vm(A,w);)E++,w=u[E];if(E===u.length){u=!0;break e}else for(A=A.child;A!==null;)c.push(A,E),A=A.sibling}}u=!1}return u;case of:if(c.tag===5&&Me(c.stateNode,u.value))return!0;break;case lf:if((c.tag===5||c.tag===6)&&(c=xe(c),c!==null&&0<=c.indexOf(u.value)))return!0;break;case af:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ym(c){switch(c.$$typeof){case rf:return"<"+(P(c.value)||"Unknown")+">";case sf:return":has("+(ym(c)||"")+")";case of:return'[role="'+c.value+'"]';case lf:return'"'+c.value+'"';case af:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function q8(c,u){var _=[];c=[c,0];for(var A=0;A<c.length;){var E=c[A++],w=c[A++],k=u[w];if(E.tag!==5||!_e(E)){for(;k!=null&&vm(E,k);)w++,k=u[w];if(w===u.length)_.push(E);else for(E=E.child;E!==null;)c.push(E,w),E=E.sibling}}return _}function xm(c,u){if(!z)throw Error(o(363));c=_m(c),c=q8(c,u),u=[],c=Array.from(c);for(var _=0;_<c.length;){var A=c[_++];if(A.tag===5)_e(A)||u.push(A.stateNode);else for(A=A.child;A!==null;)c.push(A),A=A.sibling}return u}var pM=Math.ceil,cf=a.ReactCurrentDispatcher,qm=a.ReactCurrentOwner,qn=a.ReactCurrentBatchConfig,St=0,Cn=null,Tn=null,Xn=0,Ji=0,wl=Et(0),In=0,Tu=null,Cl=0,uf=0,Am=0,Ru=null,Ri=null,Sm=0,Mm=1/0;function Tl(){Mm=On()+500}var hf=!1,Em=null,oo=null,df=!1,ao=null,ff=0,Pu=0,wm=null,pf=-1,mf=0;function vi(){return St&6?On():pf!==-1?pf:pf=On()}function lo(c){return c.mode&1?St&2&&Xn!==0?Xn&-Xn:KS.transition!==null?(mf===0&&(c=Cd,Cd<<=1,!(Cd&4194240)&&(Cd=64),mf=c),mf):(c=Ut,c!==0?c:Ce()):1}function mr(c,u,_){if(50<Pu)throw Pu=0,wm=null,Error(o(185));var A=gf(c,u);return A===null?null:(fu(A,u,_),(!(St&2)||A!==Cn)&&(A===Cn&&(!(St&2)&&(uf|=u),In===4&&co(A,Xn)),Pi(A,_),u===1&&St===0&&!(c.mode&1)&&(Tl(),bd&&is())),A)}function gf(c,u){c.lanes|=u;var _=c.alternate;for(_!==null&&(_.lanes|=u),_=c,c=c.return;c!==null;)c.childLanes|=u,_=c.alternate,_!==null&&(_.childLanes|=u),_=c,c=c.return;return _.tag===3?_.stateNode:null}function Pi(c,u){var _=c.callbackNode;zS(c,u);var A=Rd(c,c===Cn?Xn:0);if(A===0)_!==null&&ag(_),c.callbackNode=null,c.callbackPriority=0;else if(u=A&-A,c.callbackPriority!==u){if(_!=null&&ag(_),u===1)c.tag===0?YS(S8.bind(null,c)):lg(S8.bind(null,c)),Ne?at(function(){St===0&&is()}):L0(D0,is),_=null;else{switch(og(A)){case 1:_=D0;break;case 4:_=WS;break;case 16:_=F0;break;case 536870912:_=XS;break;default:_=F0}_=B8(_,A8.bind(null,c))}c.callbackPriority=u,c.callbackNode=_}}function A8(c,u){if(pf=-1,mf=0,St&6)throw Error(o(327));var _=c.callbackNode;if(ca()&&c.callbackNode!==_)return null;var A=Rd(c,c===Cn?Xn:0);if(A===0)return null;if(A&30||A&c.expiredLanes||u)u=_f(c,A);else{u=A;var E=St;St|=2;var w=w8();(Cn!==c||Xn!==u)&&(Tl(),aa(c,u));do try{_M();break}catch(K){E8(c,K)}while(!0);N0(),cf.current=w,St=E,Tn!==null?u=0:(Cn=null,Xn=0,u=In)}if(u!==0){if(u===2&&(E=b0(c),E!==0&&(A=E,u=Cm(c,E))),u===1)throw _=Tu,aa(c,0),co(c,A),Pi(c,On()),_;if(u===6)co(c,A);else{if(E=c.current.alternate,!(A&30)&&!mM(E)&&(u=_f(c,A),u===2&&(w=b0(c),w!==0&&(A=w,u=Cm(c,w))),u===1))throw _=Tu,aa(c,0),co(c,A),Pi(c,On()),_;switch(c.finishedWork=E,c.finishedLanes=A,u){case 0:case 1:throw Error(o(345));case 2:la(c,Ri);break;case 3:if(co(c,A),(A&130023424)===A&&(u=Sm+500-On(),10<u)){if(Rd(c,0)!==0)break;if(E=c.suspendedLanes,(E&A)!==A){vi(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=ve(la.bind(null,c,Ri),u);break}la(c,Ri);break;case 4:if(co(c,A),(A&4194240)===A)break;for(u=c.eventTimes,E=-1;0<A;){var k=31-Ti(A);w=1<<k,k=u[k],k>E&&(E=k),A&=~w}if(A=E,A=On()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*pM(A/1960))-A,10<A){c.timeoutHandle=ve(la.bind(null,c,Ri),A);break}la(c,Ri);break;case 5:la(c,Ri);break;default:throw Error(o(329))}}}return Pi(c,On()),c.callbackNode===_?A8.bind(null,c):null}function Cm(c,u){var _=Ru;return c.current.memoizedState.isDehydrated&&(aa(c,u).flags|=256),c=_f(c,u),c!==2&&(u=Ri,Ri=_,u!==null&&Tm(u)),c}function Tm(c){Ri===null?Ri=c:Ri.push.apply(Ri,c)}function mM(c){for(var u=c;;){if(u.flags&16384){var _=u.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var A=0;A<_.length;A++){var E=_[A],w=E.getSnapshot;E=E.value;try{if(!ns(w(),E))return!1}catch{return!1}}}if(_=u.child,u.subtreeFlags&16384&&_!==null)_.return=u,u=_;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function co(c,u){for(u&=~Am,u&=~uf,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var _=31-Ti(u),A=1<<_;c[_]=-1,u&=~A}}function S8(c){if(St&6)throw Error(o(327));ca();var u=Rd(c,0);if(!(u&1))return Pi(c,On()),null;var _=_f(c,u);if(c.tag!==0&&_===2){var A=b0(c);A!==0&&(u=A,_=Cm(c,A))}if(_===1)throw _=Tu,aa(c,0),co(c,u),Pi(c,On()),_;if(_===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,la(c,Ri),Pi(c,On()),null}function M8(c){ao!==null&&ao.tag===0&&!(St&6)&&ca();var u=St;St|=1;var _=qn.transition,A=Ut;try{if(qn.transition=null,Ut=1,c)return c()}finally{Ut=A,qn.transition=_,St=u,!(St&6)&&is()}}function Rm(){Ji=wl.current,Le(wl)}function aa(c,u){c.finishedWork=null,c.finishedLanes=0;var _=c.timeoutHandle;if(_!==lt&&(c.timeoutHandle=lt,Ze(_)),Tn!==null)for(_=Tn.return;_!==null;){var A=_;switch(X0(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Gi();break;case 3:Ml(),Le(Bn),Le(Yt),$0();break;case 5:Q0(A);break;case 4:Ml();break;case 13:Le(cn);break;case 19:Le(cn);break;case 10:k0(A.type._context);break;case 22:case 23:Rm()}_=_.return}if(Cn=c,Tn=c=uo(c.current,null),Xn=Ji=u,In=0,Tu=null,Am=uf=Cl=0,Ri=Ru=null,rs!==null){for(u=0;u<rs.length;u++)if(_=rs[u],A=_.interleaved,A!==null){_.interleaved=null;var E=A.next,w=_.pending;if(w!==null){var k=w.next;w.next=E,A.next=k}_.pending=A}rs=null}return c}function E8(c,u){do{var _=Tn;try{if(N0(),Hd.current=jd,Gd){for(var A=mn.memoizedState;A!==null;){var E=A.queue;E!==null&&(E.pending=null),A=A.next}Gd=!1}if(El=0,Nn=ti=mn=null,yu=!1,xu=0,qm.current=null,_===null||_.return===null){In=1,Tu=u,Tn=null;break}e:{var w=c,k=_.return,K=_,ue=u;if(u=Xn,K.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Pe=ue,Xe=K,pt=Xe.tag;if(!(Xe.mode&1)&&(pt===0||pt===11||pt===15)){var st=Xe.alternate;st?(Xe.updateQueue=st.updateQueue,Xe.memoizedState=st.memoizedState,Xe.lanes=st.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var Xt=Xg(k);if(Xt!==null){Xt.flags&=-257,Jg(Xt,k,K,w,u),Xt.mode&1&&Wg(w,Pe,u),u=Xt,ue=Pe;var nt=u.updateQueue;if(nt===null){var ri=new Set;ri.add(ue),u.updateQueue=ri}else nt.add(ue);break e}else{if(!(u&1)){Wg(w,Pe,u),Pm();break e}ue=Error(o(426))}}else if(an&&K.mode&1){var _r=Xg(k);if(_r!==null){!(_r.flags&65536)&&(_r.flags|=256),Jg(_r,k,K,w,u),Y0(ue);break e}}w=ue,In!==4&&(In=2),Ru===null?Ru=[w]:Ru.push(w),ue=om(ue,K),K=k;do{switch(K.tag){case 3:K.flags|=65536,u&=-u,K.lanes|=u;var ie=Gg(K,ue,u);hg(K,ie);break e;case 1:w=ue;var Z=K.type,ce=K.stateNode;if(!(K.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(oo===null||!oo.has(ce)))){K.flags|=65536,u&=-u,K.lanes|=u;var He=Vg(K,w,u);hg(K,He);break e}}K=K.return}while(K!==null)}T8(_)}catch(et){u=et,Tn===_&&_!==null&&(Tn=_=_.return);continue}break}while(!0)}function w8(){var c=cf.current;return cf.current=jd,c===null?jd:c}function Pm(){(In===0||In===3||In===2)&&(In=4),Cn===null||!(Cl&268435455)&&!(uf&268435455)||co(Cn,Xn)}function _f(c,u){var _=St;St|=2;var A=w8();Cn===c&&Xn===u||aa(c,u);do try{gM();break}catch(E){E8(c,E)}while(!0);if(N0(),St=_,cf.current=A,Tn!==null)throw Error(o(261));return Cn=null,Xn=0,In}function gM(){for(;Tn!==null;)C8(Tn)}function _M(){for(;Tn!==null&&!GS();)C8(Tn)}function C8(c){var u=b8(c.alternate,c,Ji);c.memoizedProps=c.pendingProps,u===null?T8(c):Tn=u,qm.current=null}function T8(c){var u=c;do{var _=u.alternate;if(c=u.return,u.flags&32768){if(_=cM(_,u),_!==null){_.flags&=32767,Tn=_;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{In=6,Tn=null;return}}else if(_=oM(_,u,Ji),_!==null){Tn=_;return}if(u=u.sibling,u!==null){Tn=u;return}Tn=u=c}while(u!==null);In===0&&(In=5)}function la(c,u){var _=Ut,A=qn.transition;try{qn.transition=null,Ut=1,vM(c,u,_)}finally{qn.transition=A,Ut=_}return null}function vM(c,u,_){do ca();while(ao!==null);if(St&6)throw Error(o(327));var A=c.finishedWork,E=c.finishedLanes;if(A===null)return null;if(c.finishedWork=null,c.finishedLanes=0,A===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var w=A.lanes|A.childLanes;if(HS(c,w),c===Cn&&(Tn=Cn=null,Xn=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||df||(df=!0,B8(F0,function(){return ca(),null})),w=(A.flags&15990)!==0,A.subtreeFlags&15990||w){w=qn.transition,qn.transition=null;var k=Ut;Ut=1;var K=St;St|=4,qm.current=null,hM(c,A),dM(c,A),H(c.containerInfo),c.current=A,fM(A),VS(),St=K,Ut=k,qn.transition=w}else c.current=A;if(df&&(df=!1,ao=c,ff=E),w=c.pendingLanes,w===0&&(oo=null),JS(A.stateNode),Pi(c,On()),u!==null)for(_=c.onRecoverableError,A=0;A<u.length;A++)_(u[A]);if(hf)throw hf=!1,c=Em,Em=null,c;return ff&1&&c.tag!==0&&ca(),w=c.pendingLanes,w&1?c===wm?Pu++:(Pu=0,wm=c):Pu=0,is(),null}function ca(){if(ao!==null){var c=og(ff),u=qn.transition,_=Ut;try{if(qn.transition=null,Ut=16>c?16:c,ao===null)var A=!1;else{if(c=ao,ao=null,ff=0,St&6)throw Error(o(331));var E=St;for(St|=4,ke=c.current;ke!==null;){var w=ke,k=w.child;if(ke.flags&16){var K=w.deletions;if(K!==null){for(var ue=0;ue<K.length;ue++){var Pe=K[ue];for(ke=Pe;ke!==null;){var Xe=ke;switch(Xe.tag){case 0:case 11:case 15:oa(8,Xe,w)}var pt=Xe.child;if(pt!==null)pt.return=Xe,ke=pt;else for(;ke!==null;){Xe=ke;var st=Xe.sibling,Xt=Xe.return;if(d8(Xe),Xe===Pe){ke=null;break}if(st!==null){st.return=Xt,ke=st;break}ke=Xt}}}var nt=w.alternate;if(nt!==null){var ri=nt.child;if(ri!==null){nt.child=null;do{var _r=ri.sibling;ri.sibling=null,ri=_r}while(ri!==null)}}ke=w}}if(w.subtreeFlags&2064&&k!==null)k.return=w,ke=k;else e:for(;ke!==null;){if(w=ke,w.flags&2048)switch(w.tag){case 0:case 11:case 15:oa(9,w,w.return)}var ie=w.sibling;if(ie!==null){ie.return=w.return,ke=ie;break e}ke=w.return}}var Z=c.current;for(ke=Z;ke!==null;){k=ke;var ce=k.child;if(k.subtreeFlags&2064&&ce!==null)ce.return=k,ke=ce;else e:for(k=Z;ke!==null;){if(K=ke,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:wu(9,K)}}catch(et){bi(K,K.return,et)}if(K===k){ke=null;break e}var He=K.sibling;if(He!==null){He.return=K.return,ke=He;break e}ke=K.return}}if(St=E,is(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Pd,c)}catch{}A=!0}return A}finally{Ut=_,qn.transition=u}}return!1}function R8(c,u,_){u=om(_,u),u=Gg(c,u,1),so(c,u),u=vi(),c=gf(c,1),c!==null&&(fu(c,1,u),Pi(c,u))}function bi(c,u,_){if(c.tag===3)R8(c,c,_);else for(;u!==null;){if(u.tag===3){R8(u,c,_);break}else if(u.tag===1){var A=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(oo===null||!oo.has(A))){c=om(_,c),c=Vg(u,c,1),so(u,c),c=vi(),u=gf(u,1),u!==null&&(fu(u,1,c),Pi(u,c));break}}u=u.return}}function yM(c,u,_){var A=c.pingCache;A!==null&&A.delete(u),u=vi(),c.pingedLanes|=c.suspendedLanes&_,Cn===c&&(Xn&_)===_&&(In===4||In===3&&(Xn&130023424)===Xn&&500>On()-Sm?aa(c,0):Am|=_),Pi(c,u)}function P8(c,u){u===0&&(c.mode&1?(u=Td,Td<<=1,!(Td&130023424)&&(Td=4194304)):u=1);var _=vi();c=gf(c,u),c!==null&&(fu(c,u,_),Pi(c,_))}function xM(c){var u=c.memoizedState,_=0;u!==null&&(_=u.retryLane),P8(c,_)}function qM(c,u){var _=0;switch(c.tag){case 13:var A=c.stateNode,E=c.memoizedState;E!==null&&(_=E.retryLane);break;case 19:A=c.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(u),P8(c,_)}var b8;b8=function(c,u,_){if(c!==null)if(c.memoizedProps!==u.pendingProps||Bn.current)Xi=!0;else{if(!(c.lanes&_)&&!(u.flags&128))return Xi=!1,lM(c,u,_);Xi=!!(c.flags&131072)}else Xi=!1,an&&u.flags&1048576&&_g(u,Nd,u.index);switch(u.lanes=0,u.tag){case 2:var A=u.type;c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),c=u.pendingProps;var E=es(u,Yt.current);vl(u,_),E=tm(null,u,A,c,E,_);var w=nm();return u.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Dt(A)?(w=!0,io(u)):w=!1,u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,H0(u),E.updater=Ud,u.stateNode=E,E._reactInternals=u,V0(u,A,c,_),u=cm(null,u,A,!0,w,_)):(u.tag=0,an&&w&&W0(u),_i(null,u,E,_),u=u.child),u;case 16:A=u.elementType;e:{switch(c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),c=u.pendingProps,E=A._init,A=E(A._payload),u.type=A,E=u.tag=SM(A),c=Ir(A,c),E){case 0:u=lm(null,u,A,c,_);break e;case 1:u=t8(null,u,A,c,_);break e;case 11:u=Kg(null,u,A,c,_);break e;case 14:u=Qg(null,u,A,Ir(A.type,c),_);break e}throw Error(o(306,A,""))}return u;case 0:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Ir(A,E),lm(c,u,A,E,_);case 1:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Ir(A,E),t8(c,u,A,E,_);case 3:e:{if(n8(u),c===null)throw Error(o(387));A=u.pendingProps,w=u.memoizedState,E=w.element,ug(c,u),Fd(u,A,null,_);var k=u.memoizedState;if(A=k.element,he&&w.isDehydrated)if(w={element:A,isDehydrated:!1,cache:k.cache,transitions:k.transitions},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){E=Error(o(423)),u=i8(c,u,A,_,E);break e}else if(A!==E){E=Error(o(424)),u=i8(c,u,A,_,E);break e}else for(he&&(Wi=Ed(u.stateNode.containerInfo),Vi=u,an=!0,Lr=null,pu=!1),_=Sg(u,null,A,_),u.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(ql(),A===E){u=ws(c,u,_);break e}_i(c,u,A,_)}u=u.child}return u;case 5:return Mg(u),c===null&&j0(u),A=u.type,E=u.pendingProps,w=c!==null?c.memoizedProps:null,k=E.children,fe(A,E)?k=null:w!==null&&fe(A,w)&&(u.flags|=32),e8(c,u),_i(c,u,k,_),u.child;case 6:return c===null&&j0(u),null;case 13:return r8(c,u,_);case 4:return K0(u,u.stateNode.containerInfo),A=u.pendingProps,c===null?u.child=Al(u,null,A,_):_i(c,u,A,_),u.child;case 11:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Ir(A,E),Kg(c,u,A,E,_);case 7:return _i(c,u,u.pendingProps,_),u.child;case 8:return _i(c,u,u.pendingProps.children,_),u.child;case 12:return _i(c,u,u.pendingProps.children,_),u.child;case 10:e:{if(A=u.type._context,E=u.pendingProps,w=u.memoizedProps,k=E.value,cg(u,A,k),w!==null)if(ns(w.value,k)){if(w.children===E.children&&!Bn.current){u=ws(c,u,_);break e}}else for(w=u.child,w!==null&&(w.return=u);w!==null;){var K=w.dependencies;if(K!==null){k=w.child;for(var ue=K.firstContext;ue!==null;){if(ue.context===A){if(w.tag===1){ue=As(-1,_&-_),ue.tag=2;var Pe=w.updateQueue;if(Pe!==null){Pe=Pe.shared;var Xe=Pe.pending;Xe===null?ue.next=ue:(ue.next=Xe.next,Xe.next=ue),Pe.pending=ue}}w.lanes|=_,ue=w.alternate,ue!==null&&(ue.lanes|=_),z0(w.return,_,u),K.lanes|=_;break}ue=ue.next}}else if(w.tag===10)k=w.type===u.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(o(341));k.lanes|=_,K=k.alternate,K!==null&&(K.lanes|=_),z0(k,_,u),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===u){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}_i(c,u,E.children,_),u=u.child}return u;case 9:return E=u.type,A=u.pendingProps.children,vl(u,_),E=ur(E),A=A(E),u.flags|=1,_i(c,u,A,_),u.child;case 14:return A=u.type,E=Ir(A,u.pendingProps),E=Ir(A.type,E),Qg(c,u,A,E,_);case 15:return Zg(c,u,u.type,u.pendingProps,_);case 17:return A=u.type,E=u.pendingProps,E=u.elementType===A?E:Ir(A,E),c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,Dt(A)?(c=!0,io(u)):c=!1,vl(u,_),mg(u,A,E),V0(u,A,E,_),cm(null,u,A,!0,c,_);case 19:return l8(c,u,_);case 22:return $g(c,u,_)}throw Error(o(156,u.tag))};function B8(c,u){return L0(c,u)}function AM(c,u,_,A){this.tag=c,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(c,u,_,A){return new AM(c,u,_,A)}function bm(c){return c=c.prototype,!(!c||!c.isReactComponent)}function SM(c){if(typeof c=="function")return bm(c)?1:0;if(c!=null){if(c=c.$$typeof,c===q)return 11;if(c===x)return 14}return 2}function uo(c,u){var _=c.alternate;return _===null?(_=gr(c.tag,u,c.key,c.mode),_.elementType=c.elementType,_.type=c.type,_.stateNode=c.stateNode,_.alternate=c,c.alternate=_):(_.pendingProps=u,_.type=c.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=c.flags&14680064,_.childLanes=c.childLanes,_.lanes=c.lanes,_.child=c.child,_.memoizedProps=c.memoizedProps,_.memoizedState=c.memoizedState,_.updateQueue=c.updateQueue,u=c.dependencies,_.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},_.sibling=c.sibling,_.index=c.index,_.ref=c.ref,_}function vf(c,u,_,A,E,w){var k=2;if(A=c,typeof c=="function")bm(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case d:return ua(_.children,E,w,u);case f:k=8,E|=8;break;case p:return c=gr(12,_,u,E|2),c.elementType=p,c.lanes=w,c;case y:return c=gr(13,_,u,E),c.elementType=y,c.lanes=w,c;case g:return c=gr(19,_,u,E),c.elementType=g,c.lanes=w,c;case M:return yf(_,E,w,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:k=10;break e;case v:k=9;break e;case q:k=11;break e;case x:k=14;break e;case S:k=16,A=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return u=gr(k,_,u,E),u.elementType=c,u.type=A,u.lanes=w,u}function ua(c,u,_,A){return c=gr(7,c,A,u),c.lanes=_,c}function yf(c,u,_,A){return c=gr(22,c,A,u),c.elementType=M,c.lanes=_,c.stateNode={},c}function Bm(c,u,_){return c=gr(6,c,null,u),c.lanes=_,c}function Im(c,u,_){return u=gr(4,c.children!==null?c.children:[],c.key,u),u.lanes=_,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function MM(c,u,_,A,E){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=lt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=B0(0),this.expirationTimes=B0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B0(0),this.identifierPrefix=A,this.onRecoverableError=E,he&&(this.mutableSourceEagerHydrationData=null)}function I8(c,u,_,A,E,w,k,K,ue){return c=new MM(c,u,_,K,ue),u===1?(u=1,w===!0&&(u|=8)):u=0,w=gr(3,null,null,u),c.current=w,w.stateNode=c,w.memoizedState={element:A,isDehydrated:_,cache:null,transitions:null},H0(w),c}function L8(c){if(!c)return Ct;c=c._reactInternals;e:{if(b(c)!==c||c.tag!==1)throw Error(o(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Dt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(c.tag===1){var _=c.type;if(Dt(_))return gi(c,_,u)}return u}function D8(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=N(u),c===null?null:c.stateNode}function F8(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var _=c.retryLane;c.retryLane=_!==0&&_<u?_:u}}function Lm(c,u){F8(c,u),(c=c.alternate)&&F8(c,u)}function EM(c){return c=N(c),c===null?null:c.stateNode}function wM(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var u=vi();mr(c,134217728,u),Lm(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var u=vi(),_=lo(c);mr(c,_,u),Lm(c,_)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var _=du(u.pendingLanes);_!==0&&(I0(u,_|1),Pi(u,On()),!(St&6)&&(Tl(),is()))}break;case 13:var A=vi();M8(function(){return mr(c,1,A)}),Lm(c,1)}},t.batchedUpdates=function(c,u){var _=St;St|=1;try{return c(u)}finally{St=_,St===0&&(Tl(),bd&&is())}},t.createComponentSelector=function(c){return{$$typeof:rf,value:c}},t.createContainer=function(c,u,_,A,E,w,k){return I8(c,u,!1,null,_,A,E,w,k)},t.createHasPseudoClassSelector=function(c){return{$$typeof:sf,value:c}},t.createHydrationContainer=function(c,u,_,A,E,w,k,K,ue){return c=I8(_,A,!0,c,E,w,k,K,ue),c.context=L8(null),_=c.current,A=vi(),E=lo(_),w=As(A,E),w.callback=u??null,so(_,w),c.current.lanes=E,fu(c,E,A),Pi(c,A),c},t.createPortal=function(c,u,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:A==null?null:""+A,children:c,containerInfo:u,implementation:_}},t.createRoleSelector=function(c){return{$$typeof:of,value:c}},t.createTestNameSelector=function(c){return{$$typeof:af,value:c}},t.createTextSelector=function(c){return{$$typeof:lf,value:c}},t.deferredUpdates=function(c){var u=Ut,_=qn.transition;try{return qn.transition=null,Ut=16,c()}finally{Ut=u,qn.transition=_}},t.discreteUpdates=function(c,u,_,A,E){var w=Ut,k=qn.transition;try{return qn.transition=null,Ut=1,c(u,_,A,E)}finally{Ut=w,qn.transition=k,St===0&&Tl()}},t.findAllNodes=xm,t.findBoundingRects=function(c,u){if(!z)throw Error(o(363));u=xm(c,u),c=[];for(var _=0;_<u.length;_++)c.push(se(u[_]));for(u=c.length-1;0<u;u--){_=c[u];for(var A=_.x,E=A+_.width,w=_.y,k=w+_.height,K=u-1;0<=K;K--)if(u!==K){var ue=c[K],Pe=ue.x,Xe=Pe+ue.width,pt=ue.y,st=pt+ue.height;if(A>=Pe&&w>=pt&&E<=Xe&&k<=st){c.splice(u,1);break}else if(A!==Pe||_.width!==ue.width||st<w||pt>k){if(!(w!==pt||_.height!==ue.height||Xe<A||Pe>E)){Pe>A&&(ue.width+=Pe-A,ue.x=A),Xe<E&&(ue.width=E-Pe),c.splice(u,1);break}}else{pt>w&&(ue.height+=pt-w,ue.y=w),st<k&&(ue.height=k-pt),c.splice(u,1);break}}}return c},t.findHostInstance=D8,t.findHostInstanceWithNoPortals=function(c){return c=D(c),c=c!==null?J(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return D8(c)},t.flushControlled=function(c){var u=St;St|=1;var _=qn.transition,A=Ut;try{qn.transition=null,Ut=1,c()}finally{Ut=A,qn.transition=_,St=u,St===0&&(Tl(),is())}},t.flushPassiveEffects=ca,t.flushSync=M8,t.focusWithin=function(c,u){if(!z)throw Error(o(363));for(c=_m(c),u=q8(c,u),u=Array.from(u),c=0;c<u.length;){var _=u[c++];if(!_e(_)){if(_.tag===5&&$e(_.stateNode))return!0;for(_=_.child;_!==null;)u.push(_),_=_.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ut},t.getFindAllNodesFailureDescription=function(c,u){if(!z)throw Error(o(363));var _=0,A=[];c=[_m(c),0];for(var E=0;E<c.length;){var w=c[E++],k=c[E++],K=u[k];if((w.tag!==5||!_e(w))&&(vm(w,K)&&(A.push(ym(K)),k++,k>_&&(_=k)),k<u.length))for(w=w.child;w!==null;)c.push(w,k),w=w.sibling}if(_<u.length){for(c=[];_<u.length;_++)c.push(ym(u[_]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return W(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:EM,findFiberByHostInstance:c.findFiberByHostInstance||wM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)c=!0;else{try{Pd=u.inject(c),ts=u}catch{}c=!!u.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,u,_,A){if(!z)throw Error(o(363));c=xm(c,u);var E=be(c,_,A).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(c,u){var _=u._getVersion;_=_(u._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[u,_]:c.mutableSourceEagerHydrationData.push(u,_)},t.runWithPriority=function(c,u){var _=Ut;try{return Ut=c,u()}finally{Ut=_}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,u,_,A){var E=u.current,w=vi(),k=lo(E);return _=L8(_),u.context===null?u.context=_:u.pendingContext=_,u=As(w,k),u.payload={element:c},A=A===void 0?null:A,A!==null&&(u.callback=A),so(E,u),c=mr(E,k,w),c!==null&&Dd(c,E,k),k},t};DA.exports=YL;var KL=DA.exports;const QL=c5(KL);var FA={exports:{}},UA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var Y=H-1>>>1,le=L[Y];if(0<r(le,V))L[Y]=V,L[H]=le,H=Y;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var Y=0,le=L.length,qe=le>>>1;Y<qe;){var ee=2*(Y+1)-1,fe=L[ee],Ae=ee+1,ve=L[Ae];if(0>r(fe,H))Ae<le&&0>r(ve,fe)?(L[Y]=ve,L[Ae]=H,Y=Ae):(L[Y]=fe,L[ee]=H,Y=ee);else if(Ae<le&&0>r(ve,H))L[Y]=ve,L[Ae]=H,Y=Ae;else break e}}return V}function r(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],h=[],d=1,f=null,p=3,m=!1,v=!1,q=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=t(h);V!==null;){if(V.callback===null)i(h);else if(V.startTime<=L)i(h),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(h)}}function M(L){if(q=!1,S(L),!v)if(t(l)!==null)v=!0,W(R);else{var V=t(h);V!==null&&te(M,V.startTime-L)}}function R(L,V){v=!1,q&&(q=!1,g(B),B=-1),m=!0;var H=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||L&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var le=Y(f.expirationTime<=V);V=n.unstable_now(),typeof le=="function"?f.callback=le:f===t(l)&&i(l),S(V)}else i(l);f=t(l)}if(f!==null)var qe=!0;else{var ee=t(h);ee!==null&&te(M,ee.startTime-V),qe=!1}return qe}finally{f=null,p=H,m=!1}}var C=!1,P=null,B=-1,b=5,T=-1;function D(){return!(n.unstable_now()-T<b)}function N(){if(P!==null){var L=n.unstable_now();T=L;var V=!0;try{V=P(!0,L)}finally{V?O():(C=!1,P=null)}}else C=!1}var O;if(typeof x=="function")O=function(){x(N)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=N,O=function(){X.postMessage(null)}}else O=function(){y(N,0)};function W(L){P=L,C||(C=!0,O())}function te(L,V){B=y(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,W(R))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return V()}finally{p=H}},n.unstable_scheduleCallback=function(L,V,H){var Y=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=H+le,L={id:d++,callback:V,priorityLevel:L,startTime:H,expirationTime:le,sortIndex:-1},H>Y?(L.sortIndex=H,e(h,L),t(l)===null&&L===t(h)&&(q?(g(B),B=-1):q=!0,te(M,H-Y))):(L.sortIndex=le,e(l,L),v||m||(v=!0,W(R))),L},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(L){var V=p;return function(){var H=p;p=V;try{return L.apply(this,arguments)}finally{p=H}}}})(UA);FA.exports=UA;var C_=FA.exports;const ZL=n=>typeof n=="object"&&typeof n.then=="function",ka=[];function OA(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function NA(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ka)if(OA(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ka.indexOf(r);s!==-1&&ka.splice(s,1)},promise:(ZL(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ka.push(r),!t)throw r.promise}const $L=(n,e,t)=>NA(n,e,!1,t),eD=(n,e,t)=>void NA(n,e,!0,t),tD=n=>{if(n===void 0||n.length===0)ka.splice(0,ka.length);else{const e=ka.find(t=>OA(n,t.keys,t.equal));e&&e.remove()}};var nD=Object.freeze({__proto__:null});const Y6={},au=n=>void Object.assign(Y6,n);function iD(n,e){function t(d,{args:f=[],attach:p,...m},v){let q=`${d[0].toUpperCase()}${d.slice(1)}`,y;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=sc(g,{type:d,root:v,attach:p,primitive:!0})}else{const g=Y6[q];if(!g)throw new Error(`R3F: ${q} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=sc(new g(...f),{type:d,root:v,attach:p,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof dt?y.__r3f.attach="geometry":y instanceof bn&&(y.__r3f.attach="material")),q!=="inject"&&Q2(y,m),y}function i(d,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?K2(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),p=!0),p||(v=d.__r3f)==null||v.objects.push(f),f.__r3f||sc(f,{}),f.__r3f.parent=d,Q4(f),oc(f)}}function r(d,f,p){let m=!1;if(f){var v,q;if((v=f.__r3f)!=null&&v.attach)K2(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const y=d.children.filter(x=>x!==f),g=y.indexOf(p);d.children=[...y.slice(0,g),f,...y.slice(g)],m=!0}m||(q=d.__r3f)==null||q.objects.push(f),f.__r3f||sc(f,{}),f.__r3f.parent=d,Q4(f),oc(f)}}function s(d,f,p=!1){d&&[...d].forEach(m=>o(f,m,p))}function o(d,f,p){if(f){var m,v,q;if(f.__r3f&&(f.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==f)),(v=f.__r3f)!=null&&v.attach)B_(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var y;d.remove(f),(y=f.__r3f)!=null&&y.root&&cD(ip(f),f)}const x=(q=f.__r3f)==null?void 0:q.primitive,S=!x&&(p===void 0?f.dispose!==null:p);if(!x){var g;s((g=f.__r3f)==null?void 0:g.objects,f,S),s(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?C_.unstable_scheduleCallback(C_.unstable_IdlePriority,M):M()}oc(d)}}function a(d,f,p,m){var v;const q=(v=d.__r3f)==null?void 0:v.parent;if(!q)return;const y=t(f,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&i(y,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>i(y,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(q,d),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),i(q,y),y.raycast&&y.__r3f.eventCount&&ip(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:QL({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,f))},removeChildFromContainer:(d,f)=>{f&&o(d.getState().scene,f)},insertInContainerBefore:(d,f,p)=>{if(!f||!p)return;const m=d.getState().scene;m.__r3f&&r(m,f,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,p,m){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:g,...x}=m,{args:S=[],children:M,...R}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,B)=>P!==S[B]))return[!0];const C=JA(d,x,R,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[f,p],m,v,q,y){f?a(d,m,q,y):Q2(d,p)},commitMount(d,f,p,m){var v;const q=(v=d.__r3f)!=null?v:{};d.raycast&&q.handlers&&q.eventCount&&ip(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>sc(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:p,parent:m}=(f=d.__r3f)!=null?f:{};p&&m&&B_(m,d,p),d.isObject3D&&(d.visible=!1),oc(d)},unhideInstance(d,f){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&K2(v,d,m),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),oc(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Mc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Zt.fun(performance.now)?performance.now:Zt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Zt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Zt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Q2}}var T_,R_;const Y2=n=>"colorSpace"in n||"outputColorSpace"in n,kA=()=>{var n;return(n=Y6.ColorManagement)!=null?n:null},zA=n=>n&&n.isOrthographicCamera,rD=n=>n&&n.hasOwnProperty("current"),lu=typeof window<"u"&&((T_=window.document)!=null&&T_.createElement||((R_=window.navigator)==null?void 0:R_.product)==="ReactNative")?oe.useLayoutEffect:oe.useEffect;function HA(n){const e=oe.useRef(n);return lu(()=>void(e.current=n),[n]),e}function sD({set:n}){return lu(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class GA extends oe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}GA.getDerivedStateFromError=()=>({error:!0});const VA="__default",P_=new Map,oD=n=>n&&!!n.memoized&&!!n.changes;function WA(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const rc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function ip(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Zt={obj:n=>n===Object(n)&&!Zt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Zt.str(n)||Zt.num(n)||Zt.boo(n))return n===e;const s=Zt.obj(n);if(s&&i==="reference")return n===e;const o=Zt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Zt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Zt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function K6(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function XA(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function sc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function K4(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const b_=/-\d+$/;function K2(n,e,t){if(Zt.str(t)){if(b_.test(t)){const s=t.replace(b_,""),{target:o,key:a}=K4(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=K4(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function B_(n,e,t){var i,r;if(Zt.str(t)){const{target:s,key:o}=K4(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function JA(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},h=!1){const d=n.__r3f,f=Object.entries(r),p=[];if(h){const v=Object.keys(l);for(let q=0;q<v.length;q++)r.hasOwnProperty(v[q])||f.unshift([v[q],VA+"remove"])}f.forEach(([v,q])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||Zt.equ(q,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,q,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,q,!1,g]);for(const x in r){const S=r[x];x.startsWith(`${v}-`)&&p.push([x,S,!1,x.split("-")])}});const m={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:p}}const aD=typeof process<"u"&&!1;function Q2(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=oD(e)?e:JA(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let d=0;d<a.length;d++){let[f,p,m,v]=a[d];if(Y2(n)){const x="srgb",S="srgb-linear";f==="encoding"?(f="colorSpace",p=p===3001?x:S):f==="outputEncoding"&&(f="outputColorSpace",p=p===3001?x:S)}let q=n,y=q[f];if(v.length&&(y=v.reduce((g,x)=>g[x],n),!(y&&y.set))){const[g,...x]=v.reverse();q=x.reverse().reduce((S,M)=>S[M],n),f=g}if(p===VA+"remove")if(q.constructor){let g=P_.get(q.constructor);g||(g=new q.constructor,P_.set(q.constructor,g)),p=g[f]}else p=0;if(m&&i)p?i.handlers[f]=p:delete i.handlers[f],i.eventCount=Object.keys(i.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Xa)){if(Array.isArray(p))y.fromArray?y.fromArray(p):y.set(...p);else if(y.copy&&p&&p.constructor&&(aD?y.constructor.name===p.constructor.name:y.constructor===p.constructor))y.copy(p);else if(p!==void 0){const g=y instanceof Fe;!g&&y.setScalar?y.setScalar(p):y instanceof Xa&&p instanceof Xa?y.mask=p.mask:y.set(p),!kA()&&s&&!s.linear&&g&&y.convertSRGBToLinear()}}else if(q[f]=p,q[f]instanceof nn&&q[f].format===Si&&q[f].type===ys&&s){const g=q[f];Y2(g)&&Y2(s.gl)?g.colorSpace=s.gl.outputColorSpace:g.encoding=s.gl.outputEncoding}oc(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const d=ip(n).getState().internal,f=d.interaction.indexOf(n);f>-1&&d.interaction.splice(f,1),i.eventCount&&d.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&Q4(n),n}function oc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function Q4(n){n.onUpdate==null||n.onUpdate(n)}function jA(n,e){n.manual||(zA(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function R1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function lD(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Mc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Mc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Mc.ContinuousEventPriority;default:return Mc.DefaultEventPriority}}function YA(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function cD(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{YA(t.capturedMap,e,i,r)})}function KA(n){function e(l){const{internal:h}=n.getState(),d=l.offsetX-h.initialClick[0],f=l.offsetY-h.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function t(l){return l.filter(h=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=h.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function i(l,h){const d=n.getState(),f=new Set,p=[],m=h?h(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const x=rc(m[g]);x&&(x.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(g){const x=rc(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var S;x.events.compute==null||x.events.compute(l,x,(S=x.previousRoot)==null?void 0:S.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let q=m.flatMap(v).sort((g,x)=>{const S=rc(g.object),M=rc(x.object);return!S||!M?g.distance-x.distance:M.events.priority-S.events.priority||g.distance-x.distance}).filter(g=>{const x=R1(g);return f.has(x)?!1:(f.add(x),!0)});d.events.filter&&(q=d.events.filter(q,d));for(const g of q){let x=g.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())f.has(R1(g.intersection))||p.push(g.intersection);return p}function r(l,h,d,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const q=rc(v.object)||p,{raycaster:y,pointer:g,camera:x,internal:S}=q,M=new U(g.x,g.y,0).unproject(x),R=T=>{var D,N;return(D=(N=S.capturedMap.get(T))==null?void 0:N.has(v.eventObject))!=null?D:!1},C=T=>{const D={intersection:v,target:h.target};S.capturedMap.has(T)?S.capturedMap.get(T).set(v.eventObject,D):S.capturedMap.set(T,new Map([[v.eventObject,D]])),h.target.setPointerCapture(T)},P=T=>{const D=S.capturedMap.get(T);D&&YA(S.capturedMap,v.eventObject,D,T)};let B={};for(let T in h){let D=h[T];typeof D!="function"&&(B[T]=D)}let b={...v,...B,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:y.ray,camera:x,stopPropagation(){const T="pointerId"in h&&S.capturedMap.get(h.pointerId);if((!T||T.has(v.eventObject))&&(b.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(D=>D.eventObject===v.eventObject))){const D=l.slice(0,l.indexOf(v));s([...D,v])}},target:{hasPointerCapture:R,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:R,setPointerCapture:C,releasePointerCapture:P},nativeEvent:h};if(f(b),m.stopped===!0)break}}return l}function s(l){const{internal:h}=n.getState();for(const d of h.hovered.values())if(!l.length||!l.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(h.hovered.delete(R1(d)),p!=null&&p.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,h){for(let d=0;d<h.length;d++){const f=h[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return h=>{const{internal:d}=n.getState();"pointerId"in h&&d.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(h.pointerId)&&(d.capturedMap.delete(h.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=i(d,m?t:void 0),g=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=y.map(S=>S.eventObject)),v&&!y.length&&g<=2&&(o(d,p.interaction),f&&f(d)),m&&s(y);function x(S){const M=S.eventObject,R=M.__r3f,C=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=R1(S),B=p.hovered.get(P);B?B.stopped&&S.stopPropagation():(p.hovered.set(P,S),C.onPointerOver==null||C.onPointerOver(S),C.onPointerEnter==null||C.onPointerEnter(S))}C.onPointerMove==null||C.onPointerMove(S)}else{const P=C[l];P?(!v||p.initialHits.includes(M))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),P(S)):v&&p.initialHits.includes(M)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(y,d,g,x)}}return{handlePointer:a}}const uD=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],QA=n=>!!(n!=null&&n.render),w0=oe.createContext(null),hD=(n,e)=>{const t=E0((a,l)=>{const h=new U,d=new U,f=new U;function p(g=l().camera,x=d,S=l().size){const{width:M,height:R,top:C,left:P}=S,B=M/R;x instanceof U?f.copy(x):f.set(...x);const b=g.getWorldPosition(h).distanceTo(f);if(zA(g))return{width:M/g.zoom,height:R/g.zoom,top:C,left:P,factor:1,distance:b,aspect:B};{const T=g.fov*Math.PI/180,D=2*Math.tan(T/2)*b,N=D*(M/R);return{width:N,height:D,top:C,left:P,factor:M/N,distance:b,aspect:B}}}let m;const v=g=>a(x=>({performance:{...x.performance,current:g}})),q=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new X6,pointer:q,mouse:q,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,S,M,R)=>{const C=l().camera,P={width:g,height:x,top:M||0,left:R||0,updateStyle:S};a(B=>({size:P,viewport:{...B.viewport,...p(C,d,P)}}))},setDpr:g=>a(x=>{const S=WA(g);return{viewport:{...x.viewport,dpr:S,initialDpr:x.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:oe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,S)=>{const M=l().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:g,priority:x,store:S}),M.subscribers=M.subscribers.sort((R,C)=>R.priority-C.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(x>0?1:0),R.subscribers=R.subscribers.filter(C=>C.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:h,gl:d,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||h.dpr!==s){var p;r=l,s=h.dpr,jA(a,l),d.setPixelRatio(h.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function Q6(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let P1,ZA=new Set,$A=new Set,eS=new Set;const dD=n=>Q6(n,ZA),fD=n=>Q6(n,$A),pD=n=>Q6(n,eS);function Z2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ac(n,e){switch(n){case"before":return Z2(ZA,e);case"after":return Z2($A,e);case"tail":return Z2(eS,e)}}let $2,e3;function t3(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),$2=e.internal.subscribers,P1=0;P1<$2.length;P1++)e3=$2[P1],e3.ref.current(e3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function mD(n){let e=!1,t=!1,i,r,s;function o(h){r=requestAnimationFrame(o),e=!0,i=0,ac("before",h),t=!0;for(const f of n.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=t3(h,s))}if(t=!1,ac("after",h),i===0)return ac("tail",h),e=!1,cancelAnimationFrame(r)}function a(h,d=1){var f;if(!h)return n.forEach(p=>a(p.store.getState(),d));(f=h.gl.xr)!=null&&f.isPresenting||!h.internal.active||h.frameloop==="never"||(d>1?h.internal.frames=Math.min(60,h.internal.frames+d):t?h.internal.frames=2:h.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(h,d=!0,f,p){if(d&&ac("before",h),f)t3(h,f,p);else for(const m of n.values())t3(h,m.store.getState());d&&ac("after",h)}return{loop:o,invalidate:a,advance:l}}function gD(n){const e=oe.useRef(null);return lu(()=>void(e.current=n.current.__r3f),[n]),e}function C0(){const n=oe.useContext(w0);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function jn(n=t=>t,e){return C0()(n,e)}function xd(n,e=0){const t=C0(),i=t.getState().internal.subscribe,r=HA(n);return lu(()=>i(r,e,t),[e,i,t]),null}function _D(n){return oe.useMemo(()=>K6(n),[n])}const I_=new WeakMap;function tS(n,e){return function(t,...i){let r=I_.get(t);return r||(r=new t,I_.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,K6(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function ml(n,e,t,i){const r=Array.isArray(e)?e:[e],s=$L(tS(t,i),[n,...r],{equal:Zt.equ});return Array.isArray(e)?s:s[0]}ml.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return eD(tS(t),[n,...i])};ml.clear=function(n,e){const t=Array.isArray(e)?e:[e];return tD([n,...t])};const al=new Map,{invalidate:Z4,advance:$4}=mD(al),{reconciler:jc,applyProps:Pa}=iD(al,lD),Zl={objects:"shallow",strict:!1},vD=(n,e)=>{const t=typeof n=="function"?n(e):n;return QA(t)?t:new Xq({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function yD(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Z6(n){const e=al.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||hD(Z4,$4),o=t||jc.createContainer(s,Mc.ConcurrentRoot,null,!1,null,"",r,null);e||al.set(n,{fiber:o,store:s});let a,l=!1,h;return{configure(d={}){let{gl:f,size:p,scene:m,events:v,onCreated:q,shadows:y=!1,linear:g=!1,flat:x=!1,legacy:S=!1,orthographic:M=!1,frameloop:R="always",dpr:C=[1,2],performance:P,raycaster:B,camera:b,onPointerMissed:T}=d,D=s.getState(),N=D.gl;D.gl||D.set({gl:N=vD(f,n)});let O=D.raycaster;O||D.set({raycaster:O=new M0});const{params:J,...X}=B||{};if(Zt.equ(X,O,Zl)||Pa(O,{...X}),Zt.equ(J,O.params,Zl)||Pa(O,{params:{...O.params,...J}}),!D.camera||D.camera===h&&!Zt.equ(h,b,Zl)){h=b;const H=b instanceof tu,Y=H?b:M?new $o(0,0,0,0,.1,1e3):new yn(75,0,.1,1e3);H||(Y.position.z=5,b&&(Pa(Y,b),("aspect"in b||"left"in b||"right"in b||"bottom"in b||"top"in b)&&(Y.manual=!0,Y.updateProjectionMatrix())),!D.camera&&!(b!=null&&b.rotation)&&Y.lookAt(0,0,0)),D.set({camera:Y}),O.camera=Y}if(!D.scene){let H;m instanceof Zh?H=m:(H=new Zh,m&&Pa(H,m)),D.set({scene:sc(H)})}if(!D.xr){var W;const H=(qe,ee)=>{const fe=s.getState();fe.frameloop!=="never"&&$4(qe,!0,fe,ee)},Y=()=>{const qe=s.getState();qe.gl.xr.enabled=qe.gl.xr.isPresenting,qe.gl.xr.setAnimationLoop(qe.gl.xr.isPresenting?H:null),qe.gl.xr.isPresenting||Z4(qe)},le={connect(){const qe=s.getState().gl;qe.xr.addEventListener("sessionstart",Y),qe.xr.addEventListener("sessionend",Y)},disconnect(){const qe=s.getState().gl;qe.xr.removeEventListener("sessionstart",Y),qe.xr.removeEventListener("sessionend",Y)}};typeof((W=N.xr)==null?void 0:W.addEventListener)=="function"&&le.connect(),D.set({xr:le})}if(N.shadowMap){const H=N.shadowMap.enabled,Y=N.shadowMap.type;if(N.shadowMap.enabled=!!y,Zt.boo(y))N.shadowMap.type=xh;else if(Zt.str(y)){var te;const le={basic:Ex,percentage:Qp,soft:xh,variance:zr};N.shadowMap.type=(te=le[y])!=null?te:xh}else Zt.obj(y)&&Object.assign(N.shadowMap,y);(H!==N.shadowMap.enabled||Y!==N.shadowMap.type)&&(N.shadowMap.needsUpdate=!0)}const L=kA();L&&("enabled"in L?L.enabled=!S:"legacyMode"in L&&(L.legacyMode=S)),l||Pa(N,{outputEncoding:g?3e3:3001,toneMapping:x?_s:s6}),D.legacy!==S&&D.set(()=>({legacy:S})),D.linear!==g&&D.set(()=>({linear:g})),D.flat!==x&&D.set(()=>({flat:x})),f&&!Zt.fun(f)&&!QA(f)&&!Zt.equ(f,N,Zl)&&Pa(N,f),v&&!D.events.handlers&&D.set({events:v(s)});const V=yD(n,p);return Zt.equ(V,D.size,Zl)||D.setSize(V.width,V.height,V.updateStyle,V.top,V.left),C&&D.viewport.dpr!==WA(C)&&D.setDpr(C),D.frameloop!==R&&D.setFrameloop(R),D.onPointerMissed||D.set({onPointerMissed:T}),P&&!Zt.equ(P,D.performance,Zl)&&D.set(H=>({performance:{...H.performance,...P}})),a=q,l=!0,this},render(d){return l||this.configure(),jc.updateContainer(ne.jsx(qD,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){$6(n)}}}function xD(n,e,t){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const i=Z6(e);return i.configure(t),i.render(n)}function qD({store:n,children:e,onCreated:t,rootElement:i}){return lu(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ne.jsx(w0.Provider,{value:n,children:e})}function $6(n,e){const t=al.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),jc.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),XA(r),al.delete(n),e&&e(n)}catch{}},500)})}}function AD(n,e,t){return ne.jsx(SD,{children:n,container:e,state:t},e.uuid)}function SD({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=C0(),[a]=oe.useState(()=>new M0),[l]=oe.useState(()=>new pe),h=oe.useCallback((f,p)=>{const m={...f};Object.keys(f).forEach(q=>{(uD.includes(q)||f[q]!==p[q]&&p[q])&&delete m[q]});let v;if(p&&r){const q=p.camera;v=f.viewport.getCurrentViewport(q,new U,r),q!==f.camera&&jA(q,r)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...p==null?void 0:p.events,...i},size:{...f.size,...r},viewport:{...f.viewport,...v},...s}},[n]),[d]=oe.useState(()=>{const f=o.getState();return E0((m,v)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...i},size:{...f.size,...r},...s,set:m,get:v,setEvents:q=>m(y=>({...y,events:{...y.events,...q}}))}))});return oe.useEffect(()=>{const f=o.subscribe(p=>d.setState(m=>h(p,m)));return()=>{f()}},[h]),oe.useEffect(()=>{d.setState(f=>h(o.getState(),f))},[h]),oe.useEffect(()=>()=>{d.destroy()},[]),ne.jsx(ne.Fragment,{children:jc.createPortal(ne.jsx(w0.Provider,{value:d,children:e}),d,null)})}jc.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:oe.version});const MD=oe.unstable_act;function e5(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var h=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return h.clear=function(){i&&(clearTimeout(i),i=null)},h.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},h}e5.debounce=e5;var ED=e5;const L_=c5(ED);function wD(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=oe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=oe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),h=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,f=oe.useRef(!1);oe.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=oe.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:S,top:M,width:R,height:C,bottom:P,right:B,x:b,y:T}=l.current.element.getBoundingClientRect(),D={left:S,top:M,width:R,height:C,bottom:P,right:B,x:b,y:T};l.current.element instanceof HTMLElement&&r&&(D.height=l.current.element.offsetHeight,D.width=l.current.element.offsetWidth),Object.freeze(D),f.current&&!PD(l.current.lastBounds,D)&&a(l.current.lastBounds=D)};return[x,d?L_(x,d):x,h?L_(x,h):x]},[a,r,h,d]);function q(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(q(),l.current.element=x,l.current.scrollContainers=nS(x),y())};return TD(v,!!t),CD(m),oe.useEffect(()=>{q(),y()},[t,v,m]),oe.useEffect(()=>q,[]),[g,o,p]}function CD(n){oe.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function TD(n,e){oe.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function nS(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...nS(n.parentElement)]}const RD=["x","y","top","bottom","left","right","width","height"],PD=(n,e)=>RD.every(t=>n[t]===e[t]);var bD=Object.defineProperty,BD=Object.defineProperties,ID=Object.getOwnPropertyDescriptors,D_=Object.getOwnPropertySymbols,LD=Object.prototype.hasOwnProperty,DD=Object.prototype.propertyIsEnumerable,F_=(n,e,t)=>e in n?bD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U_=(n,e)=>{for(var t in e||(e={}))LD.call(e,t)&&F_(n,t,e[t]);if(D_)for(var t of D_(e))DD.call(e,t)&&F_(n,t,e[t]);return n},FD=(n,e)=>BD(n,ID(e)),O_,N_;typeof window<"u"&&((O_=window.document)!=null&&O_.createElement||((N_=window.navigator)==null?void 0:N_.product)==="ReactNative")?oe.useLayoutEffect:oe.useEffect;function iS(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=iS(i,e,t);if(r)return r;i=i.sibling}}function rS(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const k_=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=k_;return}return k_.apply(this,arguments)};const eg=rS(oe.createContext(null));class sS extends oe.Component{render(){return oe.createElement(eg.Provider,{value:this._reactInternals},this.props.children)}}function UD(){const n=oe.useContext(eg);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=oe.useId();return oe.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=iS(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function OD(){const n=UD(),[e]=oe.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==eg&&!e.has(r)&&e.set(r,oe.useContext(rS(r)))}t=t.return}return e}function ND(){const n=OD();return oe.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>oe.createElement(e,null,oe.createElement(t.Provider,FD(U_({},i),{value:n.get(t)}))),e=>oe.createElement(sS,U_({},e))),[n])}const n3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function oS(n){const{handlePointer:e}=KA(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(n3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,h]=n3[o];t.addEventListener(l,a,{passive:h})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=n3[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const kD=oe.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=oS,eventSource:a,eventPrefix:l,shadows:h,linear:d,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:q,performance:y,raycaster:g,camera:x,scene:S,onPointerMissed:M,onCreated:R,...C},P){oe.useMemo(()=>au(GL),[]);const B=ND(),[b,T]=wD({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=oe.useRef(null),N=oe.useRef(null);oe.useImperativeHandle(P,()=>D.current);const O=HA(M),[J,X]=oe.useState(!1),[W,te]=oe.useState(!1);if(J)throw J;if(W)throw W;const L=oe.useRef(null);lu(()=>{const H=D.current;T.width>0&&T.height>0&&H&&(L.current||(L.current=Z6(H)),L.current.configure({gl:s,events:o,shadows:h,linear:d,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:q,performance:y,raycaster:g,camera:x,scene:S,size:T,onPointerMissed:(...Y)=>O.current==null?void 0:O.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(a?rD(a)?a.current:a:N.current),l&&Y.setEvents({compute:(le,qe)=>{const ee=le[l+"X"],fe=le[l+"Y"];qe.pointer.set(ee/qe.size.width*2-1,-(fe/qe.size.height)*2+1),qe.raycaster.setFromCamera(qe.pointer,qe.camera)}}),R==null||R(Y)}}),L.current.render(ne.jsx(B,{children:ne.jsx(GA,{set:te,children:ne.jsx(oe.Suspense,{fallback:ne.jsx(sD,{set:X}),children:e})})})))}),oe.useEffect(()=>{const H=D.current;if(H)return()=>$6(H)},[]);const V=a?"none":"auto";return ne.jsx("div",{ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...r},...C,children:ne.jsx("div",{ref:b,style:{width:"100%",height:"100%"},children:ne.jsx("canvas",{ref:D,style:{display:"block"},children:t})})})}),aS=oe.forwardRef(function(e,t){return ne.jsx(sS,{children:ne.jsx(kD,{...e,ref:t})})});function rd(){return rd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rd.apply(null,arguments)}const qd=new U,tg=new U,zD=new U,z_=new pe;function HD(n,e,t){const i=qd.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function GD(n,e){const t=qd.setFromMatrixPosition(n.matrixWorld),i=tg.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(zD);return r.angleTo(s)>Math.PI/2}function VD(n,e,t,i){const r=qd.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),z_.set(s.x,s.y),t.setFromCamera(z_,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function WD(n,e){if(e instanceof $o)return e.zoom;if(e instanceof yn){const t=qd.setFromMatrixPosition(n.matrixWorld),i=tg.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function XD(n,e,t){if(e instanceof yn||e instanceof $o){const i=qd.setFromMatrixPosition(n.matrixWorld),r=tg.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const t5=n=>Math.abs(n)<1e-10?0:n;function lS(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=t5(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const JD=(n=>e=>lS(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),jD=(n=>(e,t)=>lS(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function YD(n){return n&&typeof n=="object"&&"current"in n}const ng=oe.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:h=!1,transform:d=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:v,material:q,geometry:y,zIndexRange:g=[16777271,0],calculatePosition:x=HD,as:S="div",wrapperClass:M,pointerEvents:R="auto",...C},P)=>{const{gl:B,camera:b,scene:T,size:D,raycaster:N,events:O,viewport:J}=jn(),[X]=oe.useState(()=>document.createElement(S)),W=oe.useRef(),te=oe.useRef(null),L=oe.useRef(0),V=oe.useRef([0,0]),H=oe.useRef(null),Y=oe.useRef(null),le=(a==null?void 0:a.current)||O.connected||B.domElement.parentNode,qe=oe.useRef(null),ee=oe.useRef(!1),fe=oe.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&YD(f[0]),[f]);oe.useLayoutEffect(()=>{const je=B.domElement;f&&f==="blending"?(je.style.zIndex=`${Math.floor(g[0]/2)}`,je.style.position="absolute",je.style.pointerEvents="none"):(je.style.zIndex=null,je.style.position=null,je.style.pointerEvents=null)},[f]),oe.useLayoutEffect(()=>{if(te.current){const je=W.current=Ax(X);if(T.updateMatrixWorld(),d)X.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const G=x(te.current,b,D);X.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${G[0]}px,${G[1]}px,0);transform-origin:0 0;`}return le&&(r?le.prepend(X):le.appendChild(X)),()=>{le&&le.removeChild(X),je.unmount()}}},[le,d]),oe.useLayoutEffect(()=>{M&&(X.className=M)},[M]);const Ae=oe.useMemo(()=>d?{position:"absolute",top:0,left:0,width:D.width,height:D.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-D.height/2,left:-D.width/2,width:D.width,height:D.height},...t},[t,s,o,D,d]),ve=oe.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);oe.useLayoutEffect(()=>{if(ee.current=!1,d){var je;(je=W.current)==null||je.render(oe.createElement("div",{ref:H,style:Ae},oe.createElement("div",{ref:Y,style:ve},oe.createElement("div",{ref:P,className:i,style:t,children:n}))))}else{var G;(G=W.current)==null||G.render(oe.createElement("div",{ref:P,style:Ae,className:i,children:n}))}});const Ze=oe.useRef(!0);xd(je=>{if(te.current){b.updateMatrixWorld(),te.current.updateWorldMatrix(!0,!1);const G=d?V.current:x(te.current,b,D);if(d||Math.abs(L.current-b.zoom)>e||Math.abs(V.current[0]-G[0])>e||Math.abs(V.current[1]-G[1])>e){const me=GD(te.current,b);let he=!1;fe&&(Array.isArray(f)?he=f.map(De=>De.current):f!=="blending"&&(he=[T]));const we=Ze.current;if(he){const De=VD(te.current,b,N,he);Ze.current=De&&!me}else Ze.current=!me;we!==Ze.current&&(p?p(!Ze.current):X.style.display=Ze.current?"block":"none");const Se=Math.floor(g[0]/2),Ce=f?fe?[g[0],Se]:[Se-1,0]:g;if(X.style.zIndex=`${XD(te.current,b,Ce)}`,d){const[De,Ne]=[D.width/2,D.height/2],at=b.projectionMatrix.elements[5]*Ne,{isOrthographicCamera:z,top:I,left:se,bottom:xe,right:_e}=b,Me=JD(b.matrixWorldInverse),$e=z?`scale(${at})translate(${t5(-(_e+se)/2)}px,${t5((I+xe)/2)}px)`:`translateZ(${at}px)`;let be=te.current.matrixWorld;h&&(be=b.matrixWorldInverse.clone().transpose().copyPosition(be).scale(te.current.scale),be.elements[3]=be.elements[7]=be.elements[11]=0,be.elements[15]=1),X.style.width=D.width+"px",X.style.height=D.height+"px",X.style.perspective=z?"":`${at}px`,H.current&&Y.current&&(H.current.style.transform=`${$e}${Me}translate(${De}px,${Ne}px)`,Y.current.style.transform=jD(be,1/((l||10)/400)))}else{const De=l===void 0?1:WD(te.current,b)*l;X.style.transform=`translate3d(${G[0]}px,${G[1]}px,0) scale(${De})`}V.current=G,L.current=b.zoom}}if(!fe&&qe.current&&!ee.current)if(d){if(H.current){const G=H.current.children[0];if(G!=null&&G.clientWidth&&G!=null&&G.clientHeight){const{isOrthographicCamera:me}=b;if(me||y)C.scale&&(Array.isArray(C.scale)?C.scale instanceof U?qe.current.scale.copy(C.scale.clone().divideScalar(1)):qe.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):qe.current.scale.setScalar(1/C.scale));else{const he=(l||10)/400,we=G.clientWidth*he,Se=G.clientHeight*he;qe.current.scale.set(we,Se,1)}ee.current=!0}}}else{const G=X.children[0];if(G!=null&&G.clientWidth&&G!=null&&G.clientHeight){const me=1/J.factor,he=G.clientWidth*me,we=G.clientHeight*me;qe.current.scale.set(he,we,1),ee.current=!0}qe.current.lookAt(je.camera.position)}});const lt=oe.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return oe.createElement("group",rd({},C,{ref:te}),f&&!fe&&oe.createElement("mesh",{castShadow:m,receiveShadow:v,ref:qe},y||oe.createElement("planeGeometry",null),q||oe.createElement("shaderMaterial",{side:Er,vertexShader:lt.vertexShader,fragmentShader:lt.fragmentShader})))});function ig(n,e="pointer",t="auto",i=document.body){oe.useEffect(()=>{if(n)return i.style.cursor=e,()=>void(i.style.cursor=t)},[n])}let Qu=0;const KD=E0(n=>(Sc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Qu)/(i-Qu)*100})},Sc.onLoad=()=>{n({active:!1})},Sc.onError=e=>n(t=>({errors:[...t.errors,e]})),Sc.onProgress=(e,t,i)=>{t===i&&(Qu=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Qu)/(i-Qu)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function H_(n,e){if(e===vq)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Pp||e===p6){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===Pp)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const QD=parseInt(Zc.replace(/\D+/g,""));function Lp(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const za="srgb",Xs="srgb-linear",G_=3001,ZD=3e3;class rg extends $n{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new iF(t)}),this.register(function(t){return new rF(t)}),this.register(function(t){return new fF(t)}),this.register(function(t){return new pF(t)}),this.register(function(t){return new mF(t)}),this.register(function(t){return new oF(t)}),this.register(function(t){return new aF(t)}),this.register(function(t){return new lF(t)}),this.register(function(t){return new cF(t)}),this.register(function(t){return new nF(t)}),this.register(function(t){return new uF(t)}),this.register(function(t){return new sF(t)}),this.register(function(t){return new dF(t)}),this.register(function(t){return new hF(t)}),this.register(function(t){return new eF(t)}),this.register(function(t){return new gF(t)}),this.register(function(t){return new _F(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const h=Ho.extractUrlBase(e);o=Ho.resolveURL(h,this.path)}else o=Ho.extractUrlBase(e);this.manager.itemStart(e);const a=function(h){r?r(h):console.error(h),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ki(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{s.parse(h,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Lp(new Uint8Array(e.slice(0,4)))===cS){try{o[Tt.KHR_BINARY_GLTF]=new vF(e)}catch(d){r&&r(d);return}s=JSON.parse(o[Tt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Lp(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new bF(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const d=this.pluginCallbacks[h](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let h=0;h<s.extensionsUsed.length;++h){const d=s.extensionsUsed[h],f=s.extensionsRequired||[];switch(d){case Tt.KHR_MATERIALS_UNLIT:o[d]=new tF;break;case Tt.KHR_DRACO_MESH_COMPRESSION:o[d]=new yF(s,this.dracoLoader);break;case Tt.KHR_TEXTURE_TRANSFORM:o[d]=new xF;break;case Tt.KHR_MESH_QUANTIZATION:o[d]=new qF;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function $D(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Tt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class eF{constructor(e){this.parser=e,this.name=Tt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let h;const d=new Fe(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Xs);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":h=new V6(d),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new G6(d),h.distance=f;break;case"spot":h=new H6(d),h.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,h.angle=l.spot.outerConeAngle,h.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return h.position.set(0,0,0),h.decay=2,Ds(h,l),l.intensity!==void 0&&(h.intensity=l.intensity),h.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(h),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class tF{constructor(){this.name=Tt.KHR_MATERIALS_UNLIT}getMaterialType(){return nr}extendParams(e,t,i){const r=[];e.color=new Fe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Xs),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,za))}return Promise.all(r)}}class nF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class iF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class rF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class sF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class oF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Fe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Xs)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,za)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class aF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class lF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Fe().setRGB(a[0],a[1],a[2],Xs),Promise.all(s)}}class cF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class uF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Fe().setRGB(a[0],a[1],a[2],Xs),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,za)),Promise.all(s)}}class hF{constructor(e){this.parser=e,this.name=Tt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class dF{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class fF{constructor(e){this.parser=e,this.name=Tt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class pF{constructor(e){this.parser=e,this.name=Tt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const h=i.options.manager.getHandler(a.uri);h!==null&&(l=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class mF{constructor(e){this.parser=e,this.name=Tt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const h=i.options.manager.getHandler(a.uri);h!==null&&(l=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class gF{constructor(e){this.name=Tt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,h=r.byteLength||0,d=r.count,f=r.byteStride,p=new Uint8Array(a,l,h);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,f,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*f);return o.decodeGltfBuffer(new Uint8Array(m),d,f,p,r.mode,r.filter),m})})}else return null}}class _F{constructor(e){this.name=Tt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const h of r.primitives)if(h.mode!==qr.TRIANGLES&&h.mode!==qr.TRIANGLE_STRIP&&h.mode!==qr.TRIANGLE_FAN&&h.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const h in o)a.push(this.parser.getDependency("accessor",o[h]).then(d=>(l[h]=d,l[h])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(h=>{const d=h.pop(),f=d.isGroup?d.children:[d],p=h[0].count,m=[];for(const v of f){const q=new tt,y=new U,g=new Vn,x=new U(1,1,1),S=new C6(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&x.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,q.compose(y,g,x));for(const M in l)if(M==="_COLOR_0"){const R=l[M];S.instanceColor=new nl(R.array,R.itemSize,R.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);Lt.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),m.push(S)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const cS="glTF",Zu=12,V_={JSON:1313821514,BIN:5130562};class vF{constructor(e){this.name=Tt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Zu);if(this.header={magic:Lp(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==cS)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Zu,r=new DataView(e,Zu);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===V_.JSON){const l=new Uint8Array(e,Zu+s,o);this.content=Lp(l)}else if(a===V_.BIN){const l=Zu+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class yF{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Tt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},h={};for(const d in o){const f=n5[d]||d.toLowerCase();a[f]=o[d]}for(const d in e.attributes){const f=n5[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=Ic[p.componentType];h[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(f,p){r.decodeDracoFile(d,function(m){for(const v in m.attributes){const q=m.attributes[v],y=l[v];y!==void 0&&(q.normalized=y)}f(m)},a,h,Xs,p)})})}}class xF{constructor(){this.name=Tt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class qF{constructor(){this.name=Tt.KHR_MESH_QUANTIZATION}}class uS extends ou{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,h=a*3,d=r-t,f=(i-t)/d,p=f*f,m=p*f,v=e*h,q=v-h,y=-2*m+3*p,g=m-p,x=1-y,S=g-p+f;for(let M=0;M!==a;M++){const R=o[q+M+a],C=o[q+M+l]*d,P=o[v+M+a],B=o[v+M]*d;s[M]=x*R+S*C+y*P+g*B}return s}}const AF=new Vn;class SF extends uS{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return AF.fromArray(s).normalize().toArray(s),s}}const qr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ic={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},W_={9728:Mn,9729:Jt,9984:$p,9985:bc,9986:Da,9987:Cr},X_={33071:er,33648:zc,10497:Jo},i3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},n5={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...QD>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ao={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},MF={CUBICSPLINE:void 0,LINEAR:Vc,STEP:Gc},r3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function EF(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new su({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Yr})),n.DefaultMaterial}function Sa(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Ds(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function wF(n,e,t){let i=!1,r=!1,s=!1;for(let h=0,d=e.length;h<d;h++){const f=e[h];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let h=0,d=e.length;h<d;h++){const f=e[h];if(i){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(r){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(h){const d=h[0],f=h[1],p=h[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function CF(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function TF(n){let e;const t=n.extensions&&n.extensions[Tt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+s3(t.attributes):e=n.indices+":"+s3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+s3(n.targets[i]);return e}function s3(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function i5(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function RF(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const PF=new tt;class bF{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new $D,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new k6(this.options.manager):this.textureLoader=new CA(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ki(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return Sa(s,a,r),Ds(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[h,d]of o.children.entries())s(d,a.children[h])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Tt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Ho.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=i3[r.type],a=Ic[r.componentType],l=r.normalized===!0,h=new a(r.count*o);return Promise.resolve(new Pt(h,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=i3[r.type],h=Ic[r.componentType],d=h.BYTES_PER_ELEMENT,f=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let q,y;if(m&&m!==f){const g=Math.floor(p/m),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=t.cache.get(x);S||(q=new h(a,g*m,r.count*m/d),S=new pd(q,m/d),t.cache.add(x,S)),y=new jo(S,l,p%m/d,v)}else a===null?q=new h(r.count*l):q=new h(a,p,r.count*l),y=new Pt(q,l,v);if(r.sparse!==void 0){const g=i3.SCALAR,x=Ic[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,R=new x(o[1],S,r.sparse.count*g),C=new h(o[2],M,r.sparse.count*l);a!==null&&(y=new Pt(y.array.slice(),y.itemSize,y.normalized));for(let P=0,B=R.length;P<B;P++){const b=R[P];if(y.setX(b,C[P*l]),l>=2&&y.setY(b,C[P*l+1]),l>=3&&y.setZ(b,C[P*l+2]),l>=4&&y.setW(b,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const h=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=W_[p.magFilter]||Jt,d.minFilter=W_[p.minFilter]||Cr,d.wrapS=X_[p.wrapS]||Jo,d.wrapT=X_[p.wrapT]||Jo,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=h,h}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",h=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(f){h=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(q){const y=new nn(q);y.needsUpdate=!0,p(y)}),t.load(Ho.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return h===!0&&a.revokeObjectURL(l),Ds(f,o),f.userData.mimeType=o.mimeType||RF(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Tt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Tt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Tt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===G_?za:Xs),"colorSpace"in o?o.colorSpace=r:o.encoding=r===za?G_:ZD),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new l0,bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new pi,bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return su}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},h=[];if(l[Tt.KHR_MATERIALS_UNLIT]){const f=r[Tt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),h.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Fe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Xs),a.opacity=p[3]}f.baseColorTexture!==void 0&&h.push(t.assignTexture(a,"map",f.baseColorTexture,za)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),h.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Er);const d=s.alphaMode||r3.OPAQUE;if(d===r3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===r3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==nr&&(h.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==nr&&(h.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==nr){const f=s.emissiveFactor;a.emissive=new Fe().setRGB(f[0],f[1],f[2],Xs)}return s.emissiveTexture!==void 0&&o!==nr&&h.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,za)),Promise.all(h).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Ds(f,s),t.associations.set(f,{materials:e}),s.extensions&&Sa(r,f,s),f})}createUniqueName(e){const t=It.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Tt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return J_(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const h=e[a],d=TF(h),f=r[d];if(f)o.push(f.promise);else{let p;h.extensions&&h.extensions[Tt.KHR_DRACO_MESH_COMPRESSION]?p=s(h):p=J_(new dt,h,t),r[d]={primitive:h,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,h=o.length;l<h;l++){const d=o[l].material===void 0?EF(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const h=l.slice(0,l.length-1),d=l[l.length-1],f=[];for(let m=0,v=d.length;m<v;m++){const q=d[m],y=o[m];let g;const x=h[m];if(y.mode===qr.TRIANGLES||y.mode===qr.TRIANGLE_STRIP||y.mode===qr.TRIANGLE_FAN||y.mode===void 0)g=s.isSkinnedMesh===!0?new w6(q,x):new xn(q,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),y.mode===qr.TRIANGLE_STRIP?g.geometry=H_(g.geometry,p6):y.mode===qr.TRIANGLE_FAN&&(g.geometry=H_(g.geometry,Pp));else if(y.mode===qr.LINES)g=new Kr(q,x);else if(y.mode===qr.LINE_STRIP)g=new Zs(q,x);else if(y.mode===qr.LINE_LOOP)g=new T6(q,x);else if(y.mode===qr.POINTS)g=new R6(q,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(g.geometry.morphAttributes).length>0&&CF(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Ds(g,s),y.extensions&&Sa(r,g,y),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Sa(r,f[0],s),f[0];const p=new Hs;s.extensions&&Sa(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=f.length;m<v;m++)p.add(f[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new yn(_6.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new $o(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Ds(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let h=0,d=o.length;h<d;h++){const f=o[h];if(f){a.push(f);const p=new tt;s!==null&&p.fromArray(s.array,h*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}return new md(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],h=[],d=[];for(let f=0,p=r.channels.length;f<p;f++){const m=r.channels[f],v=r.samplers[m.sampler],q=m.target,y=q.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,x=r.parameters!==void 0?r.parameters[v.output]:v.output;q.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",x)),h.push(v),d.push(q))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(h),Promise.all(d)]).then(function(f){const p=f[0],m=f[1],v=f[2],q=f[3],y=f[4],g=[];for(let x=0,S=p.length;x<S;x++){const M=p[x],R=m[x],C=v[x],P=q[x],B=y[x];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const b=i._createAnimationTracks(M,R,C,P,B);if(b)for(let T=0;T<b.length;T++)g.push(b[T])}return new Jc(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,h=r.weights.length;l<h;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let h=0,d=a.length;h<d;h++)o.push(i.getDependency("node",a[h]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(h){const d=h[0],f=h[1],p=h[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,PF)});for(let m=0,v=f.length;m<v;m++)d.add(f[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(h){return r._getNodeRef(r.cameraCache,s.camera,h)})),r._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){a.push(h)}),this.nodeCache[e]=Promise.all(a).then(function(h){let d;if(s.isBone===!0?d=new a0:h.length>1?d=new Hs:h.length===1?d=h[0]:d=new Lt,d!==h[0])for(let f=0,p=h.length;f<p;f++)d.add(h[f]);if(s.name&&(d.userData.name=s.name,d.name=o),Ds(d,s),s.extensions&&Sa(i,d,s),s.matrix!==void 0){const f=new tt;f.fromArray(s.matrix),d.applyMatrix4(f)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Hs;i.name&&(s.name=r.createUniqueName(i.name)),Ds(s,i),i.extensions&&Sa(t,s,i);const o=i.nodes||[],a=[];for(let l=0,h=o.length;l<h;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,f=l.length;d<f;d++)s.add(l[d]);const h=d=>{const f=new Map;for(const[p,m]of r.associations)(p instanceof bn||p instanceof nn)&&f.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&f.set(p,m)}),f};return r.associations=h(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Ao[s.path]===Ao.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let h;switch(Ao[s.path]){case Ao.weights:h=rl;break;case Ao.rotation:h=sl;break;case Ao.position:case Ao.scale:h=ol;break;default:switch(i.itemSize){case 1:h=rl;break;case 2:case 3:default:h=ol;break}break}const d=r.interpolation!==void 0?MF[r.interpolation]:Vc,f=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new h(l[p]+"."+Ao[s.path],t.array,f,d);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=i5(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof sl?SF:uS;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function BF(n,e,t){const i=e.attributes,r=new Qn;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,h=a.max;if(l!==void 0&&h!==void 0){if(r.set(new U(l[0],l[1],l[2]),new U(h[0],h[1],h[2])),a.normalized){const d=i5(Ic[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new U,l=new U;for(let h=0,d=s.length;h<d;h++){const f=s[h];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const q=i5(Ic[p.componentType]);l.multiplyScalar(q)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Wn;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function J_(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=n5[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Ds(n,e),BF(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?wF(n,e.targets,t):n})}const o3=new WeakMap;class IF extends $n{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new ki(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const h=t.attributeTypes[l];h.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=h.name)}const i=JSON.stringify(t);if(o3.has(e)){const l=o3.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((h,d)=>{r._callbacks[s]={resolve:h,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),o3.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new dt;e.index&&t.setIndex(new Pt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Pt(o,a))}return t}_loadLibrary(e,t){const i=new ki(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=LF.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function LF(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,h=a.taskConfig;e.then(d=>{const f=d.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,p,m,h),q=v.attributes.map(y=>y.array.buffer);v.index&&q.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},q)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,h){const d=h.attributeIDs,f=h.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const q={index:null,attributes:[]};for(const y in d){const g=self[f[y]];let x,S;if(h.useUniqueIDs)S=d[y],x=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[d[y]]),S===-1)continue;x=a.GetAttribute(p,S)}q.attributes.push(r(o,a,p,y,g,x))}return v===o.TRIANGULAR_MESH&&(q.index=i(o,a,p)),o.destroy(p),q}function i(o,a,l){const d=l.num_faces()*3,f=d*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,h,d,f){const p=f.num_components(),v=l.num_points()*p,q=v*d.BYTES_PER_ELEMENT,y=s(o,d),g=o._malloc(q);a.GetAttributeDataArrayForAllPoints(l,f,y,q,g);const x=new d(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:h,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let b1;const a3=()=>{if(b1)return b1;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const q=f.charCodeAt(v);p[v]=q>96?q-71:q>64?q-65:q>47?q+4:q>46?63:62}let m=0;for(let v=0;v<f.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(f,p,m,v,q,y){const g=s.exports.sbrk,x=m+3&-4,S=g(x*v),M=g(q.length),R=new Uint8Array(s.exports.memory.buffer);R.set(q,M);const C=f(S,m,v,M,q.length);if(C===0&&y&&y(S,x,v),p.set(R.subarray(S,S+m*v)),g(S-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return b1={ready:o,supported:!0,decodeVertexBuffer(f,p,m,v,q){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,v,s.exports[h[q]])},decodeIndexBuffer(f,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,v)},decodeIndexSequence(f,p,m,v){l(s.exports.meshopt_decodeIndexSequence,f,p,m,v)},decodeGltfBuffer(f,p,m,v,q,y){l(s.exports[d[q]],f,p,m,v,s.exports[h[y]])}},b1},DF=()=>parseInt(Zc.replace(/\D+/g,"")),FF=DF();let B1=null,hS="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function dS(n,e,t){return i=>{t&&t(i),n&&(B1||(B1=new IF),B1.setDecoderPath(typeof n=="string"?n:hS),i.setDRACOLoader(B1)),e&&i.setMeshoptDecoder(typeof a3=="function"?a3():a3)}}function ei(n,e=!0,t=!0,i){return ml(rg,n,dS(e,t,i))}ei.preload=(n,e=!0,t=!0,i)=>ml.preload(rg,n,dS(e,t,i));ei.clear=n=>ml.clear(rg,n);ei.setDecoderPath=n=>{hS=n};/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const un={LEFT:1,RIGHT:2,MIDDLE:4},de=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),$l={NONE:0,IN:1,OUT:-1};function Ma(n){return n.isPerspectiveCamera}function So(n){return n.isOrthographicCamera}const ec=Math.PI*2,j_=Math.PI/2,fS=1e-5,$u=Math.PI/180;function Nr(n,e,t){return Math.max(e,Math.min(t,n))}function Kt(n,e=fS){return Math.abs(n)<e}function Vt(n,e,t=fS){return Kt(n-e,t)}function Y_(n,e){return Math.round(n/e)*e}function eh(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function th(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function I1(n,e,t,i,r=1/0,s){i=Math.max(1e-4,i);const o=2/i,a=o*s,l=1/(1+a+.48*a*a+.235*a*a*a);let h=n-e;const d=e,f=r*i;h=Nr(h,-f,f),e=n-h;const p=(t.value+o*h)*s;t.value=(t.value-o*p)*l;let m=e+(h+p)*l;return d-n>0==m>d&&(m=d,t.value=(m-d)/s),m}function K_(n,e,t,i,r=1/0,s,o){i=Math.max(1e-4,i);const a=2/i,l=a*s,h=1/(1+l+.48*l*l+.235*l*l*l);let d=e.x,f=e.y,p=e.z,m=n.x-d,v=n.y-f,q=n.z-p;const y=d,g=f,x=p,S=r*i,M=S*S,R=m*m+v*v+q*q;if(R>M){const X=Math.sqrt(R);m=m/X*S,v=v/X*S,q=q/X*S}d=n.x-m,f=n.y-v,p=n.z-q;const C=(t.x+a*m)*s,P=(t.y+a*v)*s,B=(t.z+a*q)*s;t.x=(t.x-a*C)*h,t.y=(t.y-a*P)*h,t.z=(t.z-a*B)*h,o.x=d+(m+C)*h,o.y=f+(v+P)*h,o.z=p+(q+B)*h;const b=y-n.x,T=g-n.y,D=x-n.z,N=o.x-y,O=o.y-g,J=o.z-x;return b*N+T*O+D*J>0&&(o.x=y,o.y=g,o.z=x,t.x=(o.x-y)/s,t.y=(o.y-g)/s,t.z=(o.z-x)/s),o}function l3(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function c3(n,e){return So(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class UF{constructor(){this._listeners={}}addEventListener(e,t){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e)}}}var u3;const OF="2.8.4",L1=1/8,NF=/Mac/.test((u3=globalThis==null?void 0:globalThis.navigator)===null||u3===void 0?void 0:u3.platform);let ht,Q_,D1,h3,Bi,xt,kt,tc,nh,cs,us,Ea,Z_,$_,yr,ih,nc,ev,d3,tv,f3,p3,F1,m3=class r5 extends UF{static install(e){ht=e.THREE,Q_=Object.freeze(new ht.Vector3(0,0,0)),D1=Object.freeze(new ht.Vector3(0,1,0)),h3=Object.freeze(new ht.Vector3(0,0,1)),Bi=new ht.Vector2,xt=new ht.Vector3,kt=new ht.Vector3,tc=new ht.Vector3,nh=new ht.Vector3,cs=new ht.Vector3,us=new ht.Vector3,Ea=new ht.Vector3,Z_=new ht.Vector3,$_=new ht.Vector3,yr=new ht.Spherical,ih=new ht.Spherical,nc=new ht.Box3,ev=new ht.Box3,d3=new ht.Sphere,tv=new ht.Quaternion,f3=new ht.Quaternion,p3=new ht.Matrix4,F1=new ht.Raycaster}static get ACTION(){return de}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=de.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=$l.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new ht.Vector3,this._focalOffsetVelocity=new ht.Vector3,this._zoomVelocity={value:0},this._truckInternal=(g,x,S)=>{let M,R;if(Ma(this._camera)){const C=xt.copy(this._camera.position).sub(this._target),P=this._camera.getEffectiveFOV()*$u,B=C.length()*Math.tan(P*.5);M=this.truckSpeed*g*B/this._elementRect.height,R=this.truckSpeed*x*B/this._elementRect.height}else if(So(this._camera)){const C=this._camera;M=g*(C.right-C.left)/C.zoom/this._elementRect.width,R=x*(C.top-C.bottom)/C.zoom/this._elementRect.height}else return;this.verticalDragToForward?(S?this.setFocalOffset(this._focalOffsetEnd.x+M,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(M,0,!0),this.forward(-R,!0)):S?this.setFocalOffset(this._focalOffsetEnd.x+M,this._focalOffsetEnd.y+R,this._focalOffsetEnd.z,!0):this.truck(M,R,!0)},this._rotateInternal=(g,x)=>{const S=ec*this.azimuthRotateSpeed*g/this._elementRect.height,M=ec*this.polarRotateSpeed*x/this._elementRect.height;this.rotate(S,M,!0)},this._dollyInternal=(g,x,S)=>{const M=Math.pow(.95,-g*this.dollySpeed),R=this._sphericalEnd.radius,C=this._sphericalEnd.radius*M,P=Nr(C,this.minDistance,this.maxDistance),B=P-C;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(C,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(B,!0),this._dollyToNoClamp(P,!0)):this._dollyToNoClamp(P,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?C:P)-R,this._dollyControlCoord.set(x,S)),this._lastDollyDirection=Math.sign(-g)},this._zoomInternal=(g,x,S)=>{const M=Math.pow(.95,g*this.dollySpeed),R=this._zoom,C=this._zoom*M;this.zoomTo(C,!0),this.dollyToCursor&&(this._changedZoom+=C-R,this._dollyControlCoord.set(x,S))},typeof ht>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new ht.Quaternion().setFromUnitVectors(this._camera.up,D1),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=de.NONE,this._target=new ht.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new ht.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new ht.Spherical().setFromVector3(xt.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new ht.Vector3,new ht.Vector3,new ht.Vector3,new ht.Vector3],this._updateNearPlaneCorners(),this._boundary=new ht.Box3(new ht.Vector3(-1/0,-1/0,-1/0),new ht.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new ht.Vector2,this.mouseButtons={left:de.ROTATE,middle:de.DOLLY,right:de.TRUCK,wheel:Ma(this._camera)?de.DOLLY:So(this._camera)?de.ZOOM:de.NONE},this.touches={one:de.TOUCH_ROTATE,two:Ma(this._camera)?de.TOUCH_DOLLY_TRUCK:So(this._camera)?de.TOUCH_ZOOM_TRUCK:de.NONE,three:de.TOUCH_TRUCK};const i=new ht.Vector2,r=new ht.Vector2,s=new ht.Vector2,o=g=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),R=g.clientX/M.width,C=g.clientY/M.height;if(R<this._interactiveArea.left||R>this._interactiveArea.right||C<this._interactiveArea.top||C>this._interactiveArea.bottom)return}const x=g.pointerType!=="mouse"?null:(g.buttons&un.LEFT)===un.LEFT?un.LEFT:(g.buttons&un.MIDDLE)===un.MIDDLE?un.MIDDLE:(g.buttons&un.RIGHT)===un.RIGHT?un.RIGHT:null;if(x!==null){const M=this._findPointerByMouseButton(x);M&&this._disposePointer(M)}if((g.buttons&un.LEFT)===un.LEFT&&this._lockedPointer)return;const S={pointerId:g.pointerId,clientX:g.clientX,clientY:g.clientY,deltaX:0,deltaY:0,mouseButton:x};this._activePointers.push(S),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),this._isDragging=!0,p(g)},a=g=>{g.cancelable&&g.preventDefault();const x=g.pointerId,S=this._lockedPointer||this._findPointerById(x);if(S){if(S.clientX=g.clientX,S.clientY=g.clientY,S.deltaX=g.movementX,S.deltaY=g.movementY,this._state=0,g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(g.buttons&un.LEFT)===un.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(g.buttons&un.MIDDLE)===un.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(g.buttons&un.RIGHT)===un.RIGHT&&(this._state=this._state|this.mouseButtons.right);m()}},l=g=>{const x=this._findPointerById(g.pointerId);if(!(x&&x===this._lockedPointer)){if(x&&this._disposePointer(x),g.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=de.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=de.NONE;v()}};let h=-1;const d=g=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===de.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const C=this._domElement.getBoundingClientRect(),P=g.clientX/C.width,B=g.clientY/C.height;if(P<this._interactiveArea.left||P>this._interactiveArea.right||B<this._interactiveArea.top||B>this._interactiveArea.bottom)return}if(g.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===de.ROTATE||this.mouseButtons.wheel===de.TRUCK){const C=performance.now();h-C<1e3&&this._getClientRect(this._elementRect),h=C}const x=NF?-1:-3,S=g.deltaMode===1?g.deltaY/x:g.deltaY/(x*10),M=this.dollyToCursor?(g.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,R=this.dollyToCursor?(g.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case de.ROTATE:{this._rotateInternal(g.deltaX,g.deltaY),this._isUserControllingRotate=!0;break}case de.TRUCK:{this._truckInternal(g.deltaX,g.deltaY,!1),this._isUserControllingTruck=!0;break}case de.OFFSET:{this._truckInternal(g.deltaX,g.deltaY,!0),this._isUserControllingOffset=!0;break}case de.DOLLY:{this._dollyInternal(-S,M,R),this._isUserControllingDolly=!0;break}case de.ZOOM:{this._zoomInternal(-S,M,R),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},f=g=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===r5.ACTION.NONE){const x=g instanceof PointerEvent?g.pointerId:0,S=this._findPointerById(x);S&&this._disposePointer(S),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l);return}g.preventDefault()}},p=g=>{if(!this._enabled)return;if(l3(this._activePointers,Bi),this._getClientRect(this._elementRect),i.copy(Bi),r.copy(Bi),this._activePointers.length>=2){const S=Bi.x-this._activePointers[1].clientX,M=Bi.y-this._activePointers[1].clientY,R=Math.sqrt(S*S+M*M);s.set(0,R);const C=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,P=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(C,P)}if(this._state=0,!g)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in g&&g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(g.buttons&un.LEFT)===un.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&un.MIDDLE)===un.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&un.RIGHT)===un.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&de.ROTATE)===de.ROTATE||(this._state&de.TOUCH_ROTATE)===de.TOUCH_ROTATE||(this._state&de.TOUCH_DOLLY_ROTATE)===de.TOUCH_DOLLY_ROTATE||(this._state&de.TOUCH_ZOOM_ROTATE)===de.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&de.TRUCK)===de.TRUCK||(this._state&de.TOUCH_TRUCK)===de.TOUCH_TRUCK||(this._state&de.TOUCH_DOLLY_TRUCK)===de.TOUCH_DOLLY_TRUCK||(this._state&de.TOUCH_ZOOM_TRUCK)===de.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&de.DOLLY)===de.DOLLY||(this._state&de.TOUCH_DOLLY)===de.TOUCH_DOLLY||(this._state&de.TOUCH_DOLLY_TRUCK)===de.TOUCH_DOLLY_TRUCK||(this._state&de.TOUCH_DOLLY_OFFSET)===de.TOUCH_DOLLY_OFFSET||(this._state&de.TOUCH_DOLLY_ROTATE)===de.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&de.ZOOM)===de.ZOOM||(this._state&de.TOUCH_ZOOM)===de.TOUCH_ZOOM||(this._state&de.TOUCH_ZOOM_TRUCK)===de.TOUCH_ZOOM_TRUCK||(this._state&de.TOUCH_ZOOM_OFFSET)===de.TOUCH_ZOOM_OFFSET||(this._state&de.TOUCH_ZOOM_ROTATE)===de.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&de.OFFSET)===de.OFFSET||(this._state&de.TOUCH_OFFSET)===de.TOUCH_OFFSET||(this._state&de.TOUCH_DOLLY_OFFSET)===de.TOUCH_DOLLY_OFFSET||(this._state&de.TOUCH_ZOOM_OFFSET)===de.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},m=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,l3(this._activePointers,Bi);const x=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,S=x?-x.deltaX:r.x-Bi.x,M=x?-x.deltaY:r.y-Bi.y;if(r.copy(Bi),((this._state&de.ROTATE)===de.ROTATE||(this._state&de.TOUCH_ROTATE)===de.TOUCH_ROTATE||(this._state&de.TOUCH_DOLLY_ROTATE)===de.TOUCH_DOLLY_ROTATE||(this._state&de.TOUCH_ZOOM_ROTATE)===de.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(S,M),this._isUserControllingRotate=!0),(this._state&de.DOLLY)===de.DOLLY||(this._state&de.ZOOM)===de.ZOOM){const R=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,C=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0,P=this.dollyDragInverted?-1:1;(this._state&de.DOLLY)===de.DOLLY?(this._dollyInternal(P*M*L1,R,C),this._isUserControllingDolly=!0):(this._zoomInternal(P*M*L1,R,C),this._isUserControllingZoom=!0)}if((this._state&de.TOUCH_DOLLY)===de.TOUCH_DOLLY||(this._state&de.TOUCH_ZOOM)===de.TOUCH_ZOOM||(this._state&de.TOUCH_DOLLY_TRUCK)===de.TOUCH_DOLLY_TRUCK||(this._state&de.TOUCH_ZOOM_TRUCK)===de.TOUCH_ZOOM_TRUCK||(this._state&de.TOUCH_DOLLY_OFFSET)===de.TOUCH_DOLLY_OFFSET||(this._state&de.TOUCH_ZOOM_OFFSET)===de.TOUCH_ZOOM_OFFSET||(this._state&de.TOUCH_DOLLY_ROTATE)===de.TOUCH_DOLLY_ROTATE||(this._state&de.TOUCH_ZOOM_ROTATE)===de.TOUCH_ZOOM_ROTATE){const R=Bi.x-this._activePointers[1].clientX,C=Bi.y-this._activePointers[1].clientY,P=Math.sqrt(R*R+C*C),B=s.y-P;s.set(0,P);const b=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&de.TOUCH_DOLLY)===de.TOUCH_DOLLY||(this._state&de.TOUCH_DOLLY_ROTATE)===de.TOUCH_DOLLY_ROTATE||(this._state&de.TOUCH_DOLLY_TRUCK)===de.TOUCH_DOLLY_TRUCK||(this._state&de.TOUCH_DOLLY_OFFSET)===de.TOUCH_DOLLY_OFFSET?(this._dollyInternal(B*L1,b,T),this._isUserControllingDolly=!0):(this._zoomInternal(B*L1,b,T),this._isUserControllingZoom=!0)}((this._state&de.TRUCK)===de.TRUCK||(this._state&de.TOUCH_TRUCK)===de.TOUCH_TRUCK||(this._state&de.TOUCH_DOLLY_TRUCK)===de.TOUCH_DOLLY_TRUCK||(this._state&de.TOUCH_ZOOM_TRUCK)===de.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(S,M,!1),this._isUserControllingTruck=!0),((this._state&de.OFFSET)===de.OFFSET||(this._state&de.TOUCH_OFFSET)===de.TOUCH_OFFSET||(this._state&de.TOUCH_DOLLY_OFFSET)===de.TOUCH_DOLLY_OFFSET||(this._state&de.TOUCH_ZOOM_OFFSET)===de.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(S,M,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},v=()=>{l3(this._activePointers,Bi),r.copy(Bi),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",q),this._domElement.ownerDocument.addEventListener("pointerlockerror",y),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),p())},this.unlockPointer=()=>{var g,x,S;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(g=this._domElement)===null||g===void 0||g.ownerDocument.exitPointerLock(),(x=this._domElement)===null||x===void 0||x.ownerDocument.removeEventListener("pointerlockchange",q),(S=this._domElement)===null||S===void 0||S.ownerDocument.removeEventListener("pointerlockerror",y),this.cancel()};const q=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},y=()=>{this.unlockPointer()};this._addAllEventListeners=g=>{this._domElement=g,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),this._domElement.addEventListener("pointercancel",l),this._domElement.addEventListener("wheel",d,{passive:!1}),this._domElement.addEventListener("contextmenu",f)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("pointercancel",l),this._domElement.removeEventListener("wheel",d,{passive:!1}),this._domElement.removeEventListener("contextmenu",f),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.removeEventListener("pointerlockchange",q),this._domElement.ownerDocument.removeEventListener("pointerlockerror",y))},this.cancel=()=>{this._state!==de.NONE&&(this._state=de.NONE,this._activePointers.length=0,v())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Nr(e.width,0,1),this._interactiveArea.height=Nr(e.height,0,1),this._interactiveArea.x=Nr(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Nr(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,i=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,i)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,i=!1){this._isUserControllingRotate=!1;const r=Nr(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=Nr(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!i||Vt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Vt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=$l.NONE,this._changedDolly=0,this._dollyToNoClamp(Nr(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=Vt(o,this._spherical.radius);if(!(i>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const s=!t||Vt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(nh).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const i=!t||Vt(this._target.x,this._targetEnd.x,this.restThreshold)&&Vt(this._target.y,this._targetEnd.y,this.restThreshold)&&Vt(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=Nr(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const i=!t||Vt(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(e,t,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,i)}truck(e,t,i=!1){this._camera.updateMatrix(),cs.setFromMatrixColumn(this._camera.matrix,0),us.setFromMatrixColumn(this._camera.matrix,1),cs.multiplyScalar(e),us.multiplyScalar(-t);const r=xt.copy(cs).add(us),s=kt.copy(this._targetEnd).add(r);return this.moveTo(s.x,s.y,s.z,i)}forward(e,t=!1){xt.setFromMatrixColumn(this._camera.matrix,0),xt.crossVectors(this._camera.up,xt),xt.multiplyScalar(e);const i=kt.copy(this._targetEnd).add(xt);return this.moveTo(i.x,i.y,i.z,t)}elevate(e,t=!1){return xt.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+xt.x,this._targetEnd.y+xt.y,this._targetEnd.z+xt.z,t)}moveTo(e,t,i,r=!1){this._isUserControllingTruck=!1;const s=xt.set(e,t,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const o=!r||Vt(this._target.x,this._targetEnd.x,this.restThreshold)&&Vt(this._target.y,this._targetEnd.y,this.restThreshold)&&Vt(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,i,r=!1){const a=xt.set(e,t,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(a.x,a.y,a.z,r)}fitToBox(e,t,{cover:i=!1,paddingLeft:r=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const l=[],h=e.isBox3?nc.copy(e):nc.setFromObject(e);h.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const d=Y_(this._sphericalEnd.theta,j_),f=Y_(this._sphericalEnd.phi,j_);l.push(this.rotateTo(d,f,t));const p=xt.setFromSpherical(this._sphericalEnd).normalize(),m=tv.setFromUnitVectors(p,h3),v=Vt(Math.abs(p.y),1);v&&m.multiply(f3.setFromAxisAngle(D1,d)),m.multiply(this._yAxisUpSpaceInverse);const q=ev.makeEmpty();kt.copy(h.min).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.min).setX(h.max.x).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.min).setY(h.max.y).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.max).setZ(h.min.z).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.min).setZ(h.max.z).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.max).setY(h.min.y).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.max).setX(h.min.x).applyQuaternion(m),q.expandByPoint(kt),kt.copy(h.max).applyQuaternion(m),q.expandByPoint(kt),q.min.x-=r,q.min.y-=o,q.max.x+=s,q.max.y+=a,m.setFromUnitVectors(h3,p),v&&m.premultiply(f3.invert()),m.premultiply(this._yAxisUpSpace);const y=q.getSize(xt),g=q.getCenter(kt).applyQuaternion(m);if(Ma(this._camera)){const x=this.getDistanceToFitBox(y.x,y.y,y.z,i);l.push(this.moveTo(g.x,g.y,g.z,t)),l.push(this.dollyTo(x,t)),l.push(this.setFocalOffset(0,0,0,t))}else if(So(this._camera)){const x=this._camera,S=x.right-x.left,M=x.top-x.bottom,R=i?Math.max(S/y.x,M/y.y):Math.min(S/y.x,M/y.y);l.push(this.moveTo(g.x,g.y,g.z,t)),l.push(this.zoomTo(R,t)),l.push(this.setFocalOffset(0,0,0,t))}return Promise.all(l)}fitToSphere(e,t){const i=[],s="isSphere"in e?d3.copy(e):r5.createBoundingSphere(e,d3);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,t)),Ma(this._camera)){const o=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(o,t))}else if(So(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*s.radius,h=Math.min(o/l,a/l);i.push(this.zoomTo(h,t))}return i.push(this.setFocalOffset(0,0,0,t)),Promise.all(i)}setLookAt(e,t,i,r,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=$l.NONE,this._changedDolly=0;const l=kt.set(r,s,o),h=xt.set(e,t,i);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(h.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const d=!a||Vt(this._target.x,this._targetEnd.x,this.restThreshold)&&Vt(this._target.y,this._targetEnd.y,this.restThreshold)&&Vt(this._target.z,this._targetEnd.z,this.restThreshold)&&Vt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Vt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Vt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerpLookAt(e,t,i,r,s,o,a,l,h,d,f,p,m,v=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=$l.NONE,this._changedDolly=0;const q=xt.set(r,s,o),y=kt.set(e,t,i);yr.setFromVector3(y.sub(q).applyQuaternion(this._yAxisUpSpace));const g=tc.set(d,f,p),x=kt.set(a,l,h);ih.setFromVector3(x.sub(g).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(q.lerp(g,m));const S=ih.theta-yr.theta,M=ih.phi-yr.phi,R=ih.radius-yr.radius;this._sphericalEnd.set(yr.radius+R*m,yr.phi+M*m,yr.theta+S*m),this.normalizeRotations(),this._needsUpdate=!0,v||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const C=!v||Vt(this._target.x,this._targetEnd.x,this.restThreshold)&&Vt(this._target.y,this._targetEnd.y,this.restThreshold)&&Vt(this._target.z,this._targetEnd.z,this.restThreshold)&&Vt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Vt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Vt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(C)}setPosition(e,t,i,r=!1){return this.setLookAt(e,t,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,i,r=!1){const s=this.getPosition(xt),o=this.setLookAt(s.x,s.y,s.z,e,t,i,r);return this._sphericalEnd.phi=Nr(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,i,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const s=!r||Vt(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Vt(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Vt(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,i){this._camera.updateMatrixWorld(),cs.setFromMatrixColumn(this._camera.matrixWorldInverse,0),us.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Ea.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=xt.set(e,t,i),s=r.distanceTo(this._camera.position),o=r.sub(this._camera.position);cs.multiplyScalar(o.x),us.multiplyScalar(o.y),Ea.multiplyScalar(o.z),xt.copy(cs).add(us).add(Ea),xt.z=xt.z+s,this.dollyTo(s,!1),this.setFocalOffset(-xt.x,xt.y,-xt.z,!1),this.moveTo(e,t,i,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,i,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new ht.Vector4,typeof e=="number"?this._viewport.set(e,t,i,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,i,r=!1){if(c3(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,o=this._camera.getEffectiveFOV()*$u,a=this._camera.aspect;return((r?s>a:s<a)?t:e/a)*.5/Math.tan(o*.5)+i*.5}getDistanceToFitSphere(e){if(c3(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*$u,i=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:i;return e/Math.sin(r*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new ht.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new ht.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new ht.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new ht.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%ec,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=ec),this._spherical.theta+=ec*Math.round((this._sphericalEnd.theta-this._spherical.theta)/ec)}reset(e=!1){if(!Vt(this._camera.up.x,this._cameraUp0.x)||!Vt(this._camera.up.y,this._cameraUp0.y)||!Vt(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const i=this.getPosition(xt);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,D1),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=xt.subVectors(this._target,this._camera.position).normalize(),t=kt.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const i=this.getPosition(xt);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,s=Z_.subVectors(this._targetEnd,this._target),o=$_.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(Kt(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=I1(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,e),this._needsUpdate=!0}if(Kt(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=I1(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,e),this._needsUpdate=!0}if(Kt(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=I1(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,e),this._needsUpdate=!0}if(Kt(s.x)&&Kt(s.y)&&Kt(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;K_(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Kt(o.x)&&Kt(o.y)&&Kt(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;K_(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Kt(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=I1(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor){if(Ma(this._camera)&&this._changedDolly!==0){const f=this._spherical.radius-this._lastDistance,p=this._camera,m=this._getCameraDirection(nh),v=xt.copy(m).cross(p.up).normalize();v.lengthSq()===0&&(v.x=1);const q=kt.crossVectors(v,m),y=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*$u*.5),x=(this._sphericalEnd.radius-f-this._sphericalEnd.radius)/this._sphericalEnd.radius,S=tc.copy(this._targetEnd).add(v.multiplyScalar(this._dollyControlCoord.x*y*p.aspect)).add(q.multiplyScalar(this._dollyControlCoord.y*y)),M=xt.copy(this._targetEnd).lerp(S,x),R=this._lastDollyDirection===$l.IN&&this._spherical.radius<=this.minDistance,C=this._lastDollyDirection===$l.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(R||C)){this._sphericalEnd.radius-=f,this._spherical.radius-=f;const B=kt.copy(m).multiplyScalar(-f);M.add(B)}this._boundary.clampPoint(M,M);const P=kt.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(P),this._changedDolly-=f,Kt(this._changedDolly)&&(this._changedDolly=0)}else if(So(this._camera)&&this._changedZoom!==0){const f=this._zoom-this._lastZoom,p=this._camera,m=xt.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.near+p.far)/(p.near-p.far)).unproject(p),v=kt.set(0,0,-1).applyQuaternion(p.quaternion),q=tc.copy(m).add(v.multiplyScalar(-m.dot(p.up))),g=-(this._zoom-f-this._zoom)/this._zoom,x=this._getCameraDirection(nh),S=this._targetEnd.dot(x),M=xt.copy(this._targetEnd).lerp(q,g),R=M.dot(x),C=x.multiplyScalar(R-S);M.sub(C),this._boundary.clampPoint(M,M);const P=kt.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(P),this._changedZoom-=f,Kt(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const l=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,l),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Kt(this._focalOffset.x)||!Kt(this._focalOffset.y)||!Kt(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),cs.setFromMatrixColumn(this._camera.matrix,0),us.setFromMatrixColumn(this._camera.matrix,1),Ea.setFromMatrixColumn(this._camera.matrix,2),cs.multiplyScalar(this._focalOffset.x),us.multiplyScalar(-this._focalOffset.y),Ea.multiplyScalar(this._focalOffset.z),xt.copy(cs).add(us).add(Ea),this._camera.position.add(xt)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),xt.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),Kt(t,this.restThreshold)&&Kt(i,this.restThreshold)&&Kt(r,this.restThreshold)&&Kt(s.x,this.restThreshold)&&Kt(s.y,this.restThreshold)&&Kt(s.z,this.restThreshold)&&Kt(o.x,this.restThreshold)&&Kt(o.y,this.restThreshold)&&Kt(o.z,this.restThreshold)&&Kt(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:eh(this.maxDistance),minZoom:this.minZoom,maxZoom:eh(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:eh(this.maxPolarAngle),minAzimuthAngle:eh(this.minAzimuthAngle),maxAzimuthAngle:eh(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:xt.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const i=JSON.parse(e);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=th(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=th(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=th(i.maxPolarAngle),this.minAzimuthAngle=th(i.minAzimuthAngle),this.maxAzimuthAngle=th(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this.verticalDragToForward=i.verticalDragToForward,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],t),yr.setFromVector3(xt.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(yr.theta,yr.phi,t),this.dollyTo(yr.radius,t),this.zoomTo(i.zoom,t),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",OF),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,i){const r=t.lengthSq();if(r===0)return e;const s=kt.copy(t).add(e),a=this._boundary.clampPoint(s,tc).sub(s),l=a.lengthSq();if(l===0)return e.add(t);if(l===r)return e;if(i===0)return e.add(t).add(a);{const h=1+i*l/t.dot(a);return e.add(kt.copy(t).multiplyScalar(h)).add(a.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(Ma(this._camera)){const e=this._camera,t=e.near,i=e.getEffectiveFOV()*$u,r=Math.tan(i*.5)*t,s=r*e.aspect;this._nearPlaneCorners[0].set(-s,-r,0),this._nearPlaneCorners[1].set(s,-r,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(-s,r,0)}else if(So(this._camera)){const e=this._camera,t=1/e.zoom,i=e.left*t,r=e.right*t,s=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(i,s,0),this._nearPlaneCorners[1].set(r,s,0),this._nearPlaneCorners[2].set(r,o,0),this._nearPlaneCorners[3].set(i,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||c3(this._camera,"_collisionTest"))return e;const i=this._getTargetDirection(nh);p3.lookAt(Q_,i,this._camera.up);for(let r=0;r<4;r++){const s=kt.copy(this._nearPlaneCorners[r]);s.applyMatrix4(p3);const o=tc.addVectors(this._target,s);F1.set(o,i),F1.far=this._spherical.radius+1;const a=F1.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const i=()=>{this.removeEventListener("rest",i),t()};this.addEventListener("rest",i)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new ht.Sphere){const i=t,r=i.center;nc.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&nc.expandByObject(o)}),nc.getCenter(r);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,l=a.geometry.clone();l.applyMatrix4(a.matrixWorld);const d=l.attributes.position;for(let f=0,p=d.count;f<p;f++)xt.fromBufferAttribute(d,f),s=Math.max(s,r.distanceToSquared(xt))}),i.radius=Math.sqrt(s),i}};const kF=oe.forwardRef((n,e)=>{oe.useMemo(()=>{const R={Box3:Qn,MathUtils:{clamp:_6.clamp},Matrix4:tt,Quaternion:Vn,Raycaster:M0,Sphere:Wn,Spherical:bA,Vector2:pe,Vector3:U,Vector4:zt};m3.install({THREE:R}),au({CameraControlsImpl:m3})},[]);const{camera:t,domElement:i,makeDefault:r,onStart:s,onEnd:o,onChange:a,regress:l,...h}=n,d=jn(R=>R.camera),f=jn(R=>R.gl),p=jn(R=>R.invalidate),m=jn(R=>R.events),v=jn(R=>R.setEvents),q=jn(R=>R.set),y=jn(R=>R.get),g=jn(R=>R.performance),x=t||d,S=i||m.connected||f.domElement,M=oe.useMemo(()=>new m3(x),[x]);return xd((R,C)=>{M.enabled&&M.update(C)},-1),oe.useEffect(()=>(M.connect(S),()=>void M.disconnect()),[S,M]),oe.useEffect(()=>{const R=B=>{p(),l&&g.regress(),a&&a(B)},C=B=>{s&&s(B)},P=B=>{o&&o(B)};return M.addEventListener("update",R),M.addEventListener("controlstart",C),M.addEventListener("controlend",P),M.addEventListener("control",R),M.addEventListener("transitionstart",R),M.addEventListener("wake",R),()=>{M.removeEventListener("update",R),M.removeEventListener("controlstart",C),M.removeEventListener("controlend",P),M.removeEventListener("control",R),M.removeEventListener("transitionstart",R),M.removeEventListener("wake",R)}},[M,s,o,p,v,l,a]),oe.useEffect(()=>{if(r){const R=y().controls;return q({controls:M}),()=>q({controls:R})}},[r,M]),oe.createElement("primitive",rd({ref:e,object:M},h))});class zF extends br{constructor(e=new pe){super({uniforms:{inputBuffer:new ui(null),depthBuffer:new ui(null),resolution:new ui(new pe),texelSize:new ui(new pe),halfTexelSize:new ui(new pe),kernel:new ui(0),scale:new ui(1),cameraNear:new ui(0),cameraFar:new ui(1),minDepthThreshold:new ui(0),maxDepthThreshold:new ui(1),depthScale:new ui(0),depthToBlurRatioBias:new ui(.25)},fragmentShader:`#include <common>
        #include <dithering_pars_fragment>      
        uniform sampler2D inputBuffer;
        uniform sampler2D depthBuffer;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          float depthFactor = 0.0;
          
          #ifdef USE_DEPTH
            vec4 depth = texture2D(depthBuffer, vUv);
            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
            depthFactor *= depthScale;
            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));
          #endif
          
          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));
          gl_FragColor = sum * 0.25 ;

          #include <dithering_fragment>
          #include <tonemapping_fragment>
          #include <${FF>=154?"colorspace_fragment":"encodings_fragment"}>
        }`,vertexShader:`uniform vec2 texelSize;
        uniform vec2 halfTexelSize;
        uniform float kernel;
        uniform float scale;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          vec2 uv = position.xy * 0.5 + 0.5;
          vUv = uv;

          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;
          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);
          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);
          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);
          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);

          gl_Position = vec4(position.xy, 1.0, 1.0);
        }`,blending:gs,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(e.x,e.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setResolution(e){this.uniforms.resolution.value.copy(e)}}class HF{constructor({gl:e,resolution:t,width:i=500,height:r=500,minDepthThreshold:s=0,maxDepthThreshold:o=1,depthScale:a=0,depthToBlurRatioBias:l=.25}){this.renderToScreen=!1,this.renderTargetA=new Ni(t,t,{minFilter:Jt,magFilter:Jt,stencilBuffer:!1,depthBuffer:!1,type:ul}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new zF,this.convolutionMaterial.setTexelSize(1/i,1/r),this.convolutionMaterial.setResolution(new pe(i,r)),this.scene=new Zh,this.camera=new tu,this.convolutionMaterial.uniforms.minDepthThreshold.value=s,this.convolutionMaterial.uniforms.maxDepthThreshold.value=o,this.convolutionMaterial.uniforms.depthScale.value=a,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=l,this.convolutionMaterial.defines.USE_DEPTH=a>0;const h=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),d=new Float32Array([0,0,2,0,0,2]),f=new dt;f.setAttribute("position",new Pt(h,3)),f.setAttribute("uv",new Pt(d,2)),this.screen=new xn(f,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(e,t,i){const r=this.scene,s=this.camera,o=this.renderTargetA,a=this.renderTargetB;let l=this.convolutionMaterial,h=l.uniforms;h.depthBuffer.value=t.depthTexture;const d=l.kernel;let f=t,p,m,v;for(m=0,v=d.length-1;m<v;++m)p=m&1?a:o,h.kernel.value=d[m],h.inputBuffer.value=f.texture,e.setRenderTarget(p),e.render(r,s),f=p;h.kernel.value=d[m],h.inputBuffer.value=f.texture,e.setRenderTarget(this.renderToScreen?null:i),e.render(r,s)}}let GF=class extends su{constructor(e={}){super(e),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(e)}onBeforeCompile(e){var t;(t=e.defines)!=null&&t.USE_UV||(e.defines.USE_UV=""),e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader=`
        uniform mat4 textureMatrix;
        varying vec4 my_vUv;
      ${e.vertexShader}`,e.vertexShader=e.vertexShader.replace("#include <project_vertex>",`#include <project_vertex>
        my_vUv = textureMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`),e.fragmentShader=`
        uniform sampler2D tDiffuse;
        uniform sampler2D tDiffuseBlur;
        uniform sampler2D tDepth;
        uniform sampler2D distortionMap;
        uniform float distortion;
        uniform float cameraNear;
			  uniform float cameraFar;
        uniform bool hasBlur;
        uniform float mixBlur;
        uniform float mirror;
        uniform float mixStrength;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float mixContrast;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec4 my_vUv;
        ${e.fragmentShader}`,e.fragmentShader=e.fragmentShader.replace("#include <emissivemap_fragment>",`#include <emissivemap_fragment>

      float distortionFactor = 0.0;
      #ifdef USE_DISTORTION
        distortionFactor = texture2D(distortionMap, vUv).r * distortion;
      #endif

      vec4 new_vUv = my_vUv;
      new_vUv.x += distortionFactor;
      new_vUv.y += distortionFactor;

      vec4 base = texture2DProj(tDiffuse, new_vUv);
      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);

      vec4 merge = base;

      #ifdef USE_NORMALMAP
        vec2 normal_uv = vec2(0.0);
        vec4 normalColor = texture2D(normalMap, vUv * normalScale);
        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );
        vec3 coord = new_vUv.xyz / new_vUv.w;
        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;
        vec4 base_normal = texture2D(tDiffuse, normal_uv);
        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);
        merge = base_normal;
        blur = blur_normal;
      #endif

      float depthFactor = 0.0001;
      float blurFactor = 0.0;

      #ifdef USE_DEPTH
        vec4 depth = texture2DProj(tDepth, new_vUv);
        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
        depthFactor *= depthScale;
        depthFactor = max(0.0001, min(1.0, depthFactor));

        #ifdef USE_BLUR
          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);
          merge = merge * min(1.0, depthFactor + 0.5);
        #else
          merge = merge * depthFactor;
        #endif

      #endif

      float reflectorRoughnessFactor = roughness;
      #ifdef USE_ROUGHNESSMAP
        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );
        reflectorRoughnessFactor *= reflectorTexelRoughness.g;
      #endif

      #ifdef USE_BLUR
        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);
        merge = mix(merge, blur, blurFactor);
      #endif

      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);
      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;
      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;
      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;

      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);
      `)}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(e){this._tDiffuse.value=e}get tDepth(){return this._tDepth.value}set tDepth(e){this._tDepth.value=e}get distortionMap(){return this._distortionMap.value}set distortionMap(e){this._distortionMap.value=e}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(e){this._tDiffuseBlur.value=e}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(e){this._textureMatrix.value=e}get hasBlur(){return this._hasBlur.value}set hasBlur(e){this._hasBlur.value=e}get mirror(){return this._mirror.value}set mirror(e){this._mirror.value=e}get mixBlur(){return this._mixBlur.value}set mixBlur(e){this._mixBlur.value=e}get mixStrength(){return this._blurStrength.value}set mixStrength(e){this._blurStrength.value=e}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(e){this._minDepthThreshold.value=e}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(e){this._maxDepthThreshold.value=e}get depthScale(){return this._depthScale.value}set depthScale(e){this._depthScale.value=e}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(e){this._depthToBlurRatioBias.value=e}get distortion(){return this._distortion.value}set distortion(e){this._distortion.value=e}get mixContrast(){return this._mixContrast.value}set mixContrast(e){this._mixContrast.value=e}};const VF=oe.forwardRef(({mixBlur:n=0,mixStrength:e=1,resolution:t=256,blur:i=[0,0],minDepthThreshold:r=.9,maxDepthThreshold:s=1,depthScale:o=0,depthToBlurRatioBias:a=.25,mirror:l=0,distortion:h=1,mixContrast:d=1,distortionMap:f,reflectorOffset:p=0,...m},v)=>{au({MeshReflectorMaterialImpl:GF});const q=jn(({gl:Y})=>Y),y=jn(({camera:Y})=>Y),g=jn(({scene:Y})=>Y);i=Array.isArray(i)?i:[i,i];const x=i[0]+i[1]>0,S=oe.useRef(null);oe.useImperativeHandle(v,()=>S.current,[]);const[M]=oe.useState(()=>new Us),[R]=oe.useState(()=>new U),[C]=oe.useState(()=>new U),[P]=oe.useState(()=>new U),[B]=oe.useState(()=>new tt),[b]=oe.useState(()=>new U(0,0,-1)),[T]=oe.useState(()=>new zt),[D]=oe.useState(()=>new U),[N]=oe.useState(()=>new U),[O]=oe.useState(()=>new zt),[J]=oe.useState(()=>new tt),[X]=oe.useState(()=>new yn),W=oe.useCallback(()=>{var Y;const le=S.current.parent||((Y=S.current)==null?void 0:Y.__r3f.parent);if(!le||(C.setFromMatrixPosition(le.matrixWorld),P.setFromMatrixPosition(y.matrixWorld),B.extractRotation(le.matrixWorld),R.set(0,0,1),R.applyMatrix4(B),C.addScaledVector(R,p),D.subVectors(C,P),D.dot(R)>0))return;D.reflect(R).negate(),D.add(C),B.extractRotation(y.matrixWorld),b.set(0,0,-1),b.applyMatrix4(B),b.add(P),N.subVectors(C,b),N.reflect(R).negate(),N.add(C),X.position.copy(D),X.up.set(0,1,0),X.up.applyMatrix4(B),X.up.reflect(R),X.lookAt(N),X.far=y.far,X.updateMatrixWorld(),X.projectionMatrix.copy(y.projectionMatrix),J.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),J.multiply(X.projectionMatrix),J.multiply(X.matrixWorldInverse),J.multiply(le.matrixWorld),M.setFromNormalAndCoplanarPoint(R,C),M.applyMatrix4(X.matrixWorldInverse),T.set(M.normal.x,M.normal.y,M.normal.z,M.constant);const qe=X.projectionMatrix;O.x=(Math.sign(T.x)+qe.elements[8])/qe.elements[0],O.y=(Math.sign(T.y)+qe.elements[9])/qe.elements[5],O.z=-1,O.w=(1+qe.elements[10])/qe.elements[14],T.multiplyScalar(2/T.dot(O)),qe.elements[2]=T.x,qe.elements[6]=T.y,qe.elements[10]=T.z+1,qe.elements[14]=T.w},[y,p]),[te,L,V,H]=oe.useMemo(()=>{const Y={minFilter:Jt,magFilter:Jt,type:ul},le=new Ni(t,t,Y);le.depthBuffer=!0,le.depthTexture=new i0(t,t),le.depthTexture.format=zo,le.depthTexture.type=Hc;const qe=new Ni(t,t,Y),ee=new HF({gl:q,resolution:t,width:i[0],height:i[1],minDepthThreshold:r,maxDepthThreshold:s,depthScale:o,depthToBlurRatioBias:a}),fe={mirror:l,textureMatrix:J,mixBlur:n,tDiffuse:le.texture,tDepth:le.depthTexture,tDiffuseBlur:qe.texture,hasBlur:x,mixStrength:e,minDepthThreshold:r,maxDepthThreshold:s,depthScale:o,depthToBlurRatioBias:a,distortion:h,distortionMap:f,mixContrast:d,"defines-USE_BLUR":x?"":void 0,"defines-USE_DEPTH":o>0?"":void 0,"defines-USE_DISTORTION":f?"":void 0};return[le,qe,ee,fe]},[q,i,J,t,l,x,n,e,r,s,o,a,h,f,d]);return xd(()=>{var Y;const le=S.current.parent||((Y=S.current)==null?void 0:Y.__r3f.parent);if(!le)return;le.visible=!1;const qe=q.xr.enabled,ee=q.shadowMap.autoUpdate;W(),q.xr.enabled=!1,q.shadowMap.autoUpdate=!1,q.setRenderTarget(te),q.state.buffers.depth.setMask(!0),q.autoClear||q.clear(),q.render(g,X),x&&V.render(q,te,L),q.xr.enabled=qe,q.shadowMap.autoUpdate=ee,le.visible=!0,q.setRenderTarget(null)}),oe.createElement("meshReflectorMaterialImpl",rd({attach:"material",key:"key"+H["defines-USE_BLUR"]+H["defines-USE_DEPTH"]+H["defines-USE_DISTORTION"],ref:S},H,m))});var pS={exports:{}},Mh={},mS={},WF=[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}],sg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s5=Bo.createContext&&Bo.createContext(sg),Go=function(){return Go=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Go.apply(this,arguments)},XF=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function gS(n){return n&&n.map(function(e,t){return Bo.createElement(e.tag,Go({key:t},e.attr),gS(e.child))})}function JF(n){return function(e){return Bo.createElement(_S,Go({attr:Go({},n.attr)},e),gS(n.child))}}function _S(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=XF(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Bo.createElement("svg",Go({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:Go(Go({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Bo.createElement("title",null,s),n.children)};return s5!==void 0?Bo.createElement(s5.Consumer,null,function(t){return e(t)}):e(sg)}const jF=Object.freeze(Object.defineProperty({__proto__:null,DefaultContext:sg,GenIcon:JF,IconBase:_S,IconContext:s5,IconsManifest:WF},Symbol.toStringTag,{value:"Module"})),cr=u5(jF);var YF=cr.GenIcon;mS.FaMemory=function(e){return YF({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 130.94V96c0-17.67-14.33-32-32-32H32C14.33 64 0 78.33 0 96v34.94c18.6 6.61 32 24.19 32 45.06s-13.4 38.45-32 45.06V320h640v-98.94c-18.6-6.61-32-24.19-32-45.06s13.4-38.45 32-45.06zM224 256h-64V128h64v128zm128 0h-64V128h64v128zm128 0h-64V128h64v128zM0 448h64v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h64v-96H0v96z"}}]})(e)};var vS={},KF=cr.GenIcon;vS.RiCpuLine=function(e){return KF({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 18h12V6H6v12zm8 2h-4v2H8v-2H5a1 1 0 0 1-1-1v-3H2v-2h2v-4H2V8h2V5a1 1 0 0 1 1-1h3V2h2v2h4V2h2v2h3a1 1 0 0 1 1 1v3h2v2h-2v4h2v2h-2v3a1 1 0 0 1-1 1h-3v2h-2v-2zM8 8h8v8H8V8z"}}]}]})(e)};var yS={},QF=cr.GenIcon;yS.RiCpuFill=function(e){return QF({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14 20h-4v2H8v-2H5a1 1 0 0 1-1-1v-3H2v-2h2v-4H2V8h2V5a1 1 0 0 1 1-1h3V2h2v2h4V2h2v2h3a1 1 0 0 1 1 1v3h2v2h-2v4h2v2h-2v3a1 1 0 0 1-1 1h-3v2h-2v-2zM7 7v4h4V7H7z"}}]}]})(e)};var xS={},ZF=cr.GenIcon;xS.VscPulse=function(e){return ZF({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.8 9L10 3H9L7.158 9.64 5.99 4.69h-.97L3.85 9H1v.99h3.23l.49-.37.74-2.7L6.59 12h1.03l1.87-7.04 1.46 4.68.48.36H15V9h-3.2z"}}]})(e)};var qS={},$F=cr.GenIcon;qS.AiOutlineCodeSandbox=function(e){return $F({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M709.6 210l.4-.2h.2L512 96 313.9 209.8h-.2l.7.3L151.5 304v416L512 928l360.5-208V304l-162.9-94zM482.7 843.6L339.6 761V621.4L210 547.8V372.9l272.7 157.3v313.4zM238.2 321.5l134.7-77.8 138.9 79.7 139.1-79.9 135.2 78-273.9 158-274-158zM814 548.3l-128.8 73.1v139.1l-143.9 83V530.4L814 373.1v175.2z"}}]})(e)};var AS={},eU=cr.GenIcon;AS.FaRegImages=function(e){return eU({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z"}}]})(e)};var SS={},tU=cr.GenIcon;SS.FiLayers=function(e){return tU({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)};var MS={},nU=cr.GenIcon;MS.BsTriangle=function(e){return nU({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.938 2.016a.146.146 0 00-.054.057L1.027 13.74a.176.176 0 00-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 00.066-.017.163.163 0 00.055-.06.176.176 0 00-.003-.183L8.12 2.073a.146.146 0 00-.054-.057A.13.13 0 008.002 2a.13.13 0 00-.064.016zm1.044-.45a1.13 1.13 0 00-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z",clipRule:"evenodd"}}]})(e)};var ES={},iU=cr.GenIcon;ES.VscActivateBreakpoints=function(e){return iU({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 5.5a4.394 4.394 0 0 1-4 4.5 2.955 2.955 0 0 0-.2-1A3.565 3.565 0 0 0 14 5.5a3.507 3.507 0 0 0-7-.3A3.552 3.552 0 0 0 6 5a4.622 4.622 0 0 1 4.5-4A4.481 4.481 0 0 1 15 5.5zM5.5 6a4.5 4.5 0 1 0 0 9.001 4.5 4.5 0 0 0 0-9z"}}]})(e)};var wS={},rU=cr.GenIcon;wS.FaServer=function(e){return rU({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(e)};var CS={},sU=cr.GenIcon;CS.RiArrowDownSFill=function(e){return sU({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 16l-6-6h12z"}}]}]})(e)};var TS={},oU=cr.GenIcon;TS.RiArrowRightSFill=function(e){return oU({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 12l-6 6V6z"}}]}]})(e)};var RS={},aU=cr.GenIcon;RS.GiPauseButton=function(e){return aU({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M120.16 45A20.162 20.162 0 0 0 100 65.16v381.68A20.162 20.162 0 0 0 120.16 467h65.68A20.162 20.162 0 0 0 206 446.84V65.16A20.162 20.162 0 0 0 185.84 45h-65.68zm206 0A20.162 20.162 0 0 0 306 65.16v381.68A20.162 20.162 0 0 0 326.16 467h65.68A20.162 20.162 0 0 0 412 446.84V65.16A20.162 20.162 0 0 0 391.84 45h-65.68z"}}]})(e)};console.warn("react-three-fiber has been deprecated, please use @react-three/fiber (https://www.npmjs.com/package/@react-three/fiber) from now on");const lU=Object.freeze(Object.defineProperty({__proto__:null,Canvas:aS,ReactThreeFiber:nD,_roots:al,act:MD,addAfterEffect:fD,addEffect:dD,addTail:pD,advance:$4,applyProps:Pa,buildGraph:K6,context:w0,createEvents:KA,createPortal:AD,createRoot:Z6,dispose:XA,events:oS,extend:au,flushGlobalEffects:ac,getRootState:rc,invalidate:Z4,reconciler:jc,render:xD,unmountComponentAtNode:$6,useFrame:xd,useGraph:_D,useInstanceHandle:gD,useLoader:ml,useStore:C0,useThree:jn},Symbol.toStringTag,{value:"Module"})),cU=u5(lU),uU=u5(XL);var hU={};function PS(n){return n&&typeof n=="object"&&"default"in n?n.default:n}Object.defineProperty(Mh,"__esModule",{value:!0});var Gr=oe,Ee=PS(Gr),dU=mS,fU=vS,pU=yS,mU=xS,gU=qS,_U=AS,vU=SS,yU=MS,xU=ES,qU=wS,AU=CS,SU=TS,MU=RS,nv=qx,uh=cU,EU=PS(uU),Yn={perf:"index-module_perf__1nmLF","top-left":"index-module_top-left__31rPe","bottom-left":"index-module_bottom-left__1sL8h","bottom-right":"index-module_bottom-right__22j9x",sbg:"index-module_sbg__2sGU8",graphc:"index-module_graphc__WTt1r",graphp:"index-module_graphp__2oOr4",graph:"index-module_graph__29MCH",PatternCpuStroke:"index-module_PatternCpuStroke__dYSB4",PatternGpuStroke:"index-module_PatternGpuStroke__xr8CJ",PatternStroke:"index-module_PatternStroke__5EP_F",toggle:"index-module_toggle__30uBJ"};function iv(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(h){return void t(h)}a.done?e(l):Promise.resolve(l).then(i,r)}(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}})(`.index-module_perf__1nmLF {
  position: fixed;
  top: 0;
  right: 0;
  z-index: 9999;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
  sans-serif;
  background-color: rgba(36,36,36,1);
  color: #fff;

  pointer-events: none;
  margin: 0;
  padding: 4px 6px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  user-select: none;
}
.index-module_perf__1nmLF.index-module_top-left__31rPe {
  right: initial;
  left: 0;
}
.index-module_perf__1nmLF.index-module_bottom-left__1sL8h {
  right: initial;
  top: initial;
  bottom: 0;
  left: 0;
}
.index-module_perf__1nmLF.index-module_bottom-right__22j9x {
  top: initial;
  bottom: 0;
}

.index-module_perf__1nmLF i {
  display: inline-flex;
  font-style: normal;
  padding: 0;
  line-height: 13px;
  font-size: 14px;
  width: 62px;
  position: relative;
  font-weight: 500;
  letter-spacing: 0px;
  text-align: left;
  height: 29px;
  white-space: nowrap;
  justify-content: space-evenly;
  font-variant-numeric: tabular-nums;
}
.index-module_perf__1nmLF svg.index-module_sbg__2sGU8 {
  left: 0;
  padding: 0;
  color: rgba(145,145,145,.12);
  font-size: 22px;
  position: absolute;
  z-index: -1;
  max-height: 21px;
  left: 50%;
  margin-left: -27px;
  top: 4px;
}

.index-module_perf__1nmLF i b {
  vertical-align: bottom;
  position: absolute;
  bottom: 5px;
  color: rgba(101,197,188, 1);
  text-align: revert;
  right: 0;
  letter-spacing: 0;
  letter-spacing: 1px;
  font-size: 8px;
  font-weight: 500;
  right: 0;
}
.index-module_perf__1nmLF span {
  
}
.index-module_perf__1nmLF i small {
  font-size: 9px;
  margin-top: 2px;
  margin-left: -6px;
  display: inline-block;
}
.index-module_graphc__WTt1r {
  height: 61px;
  overflow: hidden;
  position: relative;
  display: flex;
  justify-content: center;
  width: 310px;
  margin: 0 auto;
}
.index-module_graphp__2oOr4 {
  text-align: center;
  font-weight: 700;
  font-size: 12px;
  line-height: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  vertical-align: middle;
  color: #f1f1f1;
  padding: 7px;
  width: 100%;
  background-color: rgba(36, 36, 37, 0.8);
  z-index: 1;
}
.index-module_graphp__2oOr4 svg {
  font-size: 10px;
  margin-right: 4px;
}
.index-module_graphc__WTt1r svg {
  bottom: -6px;
}
.index-module_graph__29MCH {
  max-width: 312px;
  position: absolute;
  z-index: 1;
}
.index-module_PatternCpuStroke__dYSB4 {
  stroke-width: 1.5;
}
.index-module_PatternGpuStroke__xr8CJ {
  stroke-width: 1.5;
}
.index-module_PatternStroke__5EP_F {
  stroke-width: 1.5;
}

.index-module_toggle__30uBJ {
  pointer-events: auto;
  justify-content: center;
  display: block;
  cursor: pointer;
  font-size: 12px;
  background-color: rgb(41, 43, 45);
  margin-top: 6px;
  width: auto;
  margin: 0 auto;
  color: rgba(145,145,145,1);

  text-align: center;
  position: absolute;
  right: 0;
  bottom: -17px;
  padding: 4px 11px;
}

.index-module_perf__1nmLF.index-module_bottom-left__1sL8h .index-module_toggle__30uBJ{
  top: -17px;
  bottom: initial;
}
.index-module_perf__1nmLF.index-module_bottom-right__22j9x .index-module_toggle__30uBJ{
  top: -17px;
  bottom: initial;
}

.index-module_toggle__30uBJ svg {
  font-size: 19px;
  position: relative;
  z-index: 0;
  vertical-align: middle;
  padding: 0;
  left: initial;
  top: initial;
  color: rgba(145,145,145,1);
  margin: -6px -6px -6px -6px;
  display: inline-block;
  margin-top: -7px;
}
.index-module_toggle__30uBJ:hover {
  background-color: rgb(32,32,32);
  color: rgb(203,203,203);
}
.index-module_toggle__30uBJ:hover svg {
  color: rgb(203,203,203);
}`);var xr,rv,wU=Gr.forwardRef(function(n,e){var t,i=n.children,r=n.className,s=n.portal,o=function(f,p){if(f==null)return{};var m,v,q={},y=Object.keys(f);for(v=0;v<y.length;v++)p.indexOf(m=y[v])>=0||(q[m]=f[m]);return q}(n,["children","style","className","portal"]),a=uh.useThree().gl,l=Gr.useState(function(){return document.createElement("div")})[0],h=Gr.useRef(null),d=(t=s==null?void 0:s.current)!=null?t:a.domElement.parentNode;return Gr.useEffect(function(){if(h.current)return d&&d.appendChild(l),function(){d&&d.removeChild(l),nv.unmountComponentAtNode(l)}},[d,l]),Gr.useEffect(function(){nv.render(Gr.createElement("div",{ref:e,className:r,children:i}),l)}),Gr.createElement("group",Object.assign({},o,{ref:h}))}),sv=(function(n){var e=function(t){var i=Object.prototype,r=i.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(N,O,J){return Object.defineProperty(N,O,{value:J,enumerable:!0,configurable:!0,writable:!0}),N[O]}try{h({},"")}catch{h=function(O,J,X){return O[J]=X}}function d(N,O,J,X){var W=Object.create((O&&O.prototype instanceof m?O:m).prototype),te=new b(X||[]);return W._invoke=function(L,V,H){var Y="suspendedStart";return function(le,qe){if(Y==="executing")throw new Error("Generator is already running");if(Y==="completed"){if(le==="throw")throw qe;return{value:void 0,done:!0}}for(H.method=le,H.arg=qe;;){var ee=H.delegate;if(ee){var fe=C(ee,H);if(fe){if(fe===p)continue;return fe}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(Y==="suspendedStart")throw Y="completed",H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);Y="executing";var Ae=f(L,V,H);if(Ae.type==="normal"){if(Y=H.done?"completed":"suspendedYield",Ae.arg===p)continue;return{value:Ae.arg,done:H.done}}Ae.type==="throw"&&(Y="completed",H.method="throw",H.arg=Ae.arg)}}}(N,J,te),W}function f(N,O,J){try{return{type:"normal",arg:N.call(O,J)}}catch(X){return{type:"throw",arg:X}}}t.wrap=d;var p={};function m(){}function v(){}function q(){}var y={};y[o]=function(){return this};var g=Object.getPrototypeOf,x=g&&g(g(T([])));x&&x!==i&&r.call(x,o)&&(y=x);var S=q.prototype=m.prototype=Object.create(y);function M(N){["next","throw","return"].forEach(function(O){h(N,O,function(J){return this._invoke(O,J)})})}function R(N,O){var J;this._invoke=function(X,W){function te(){return new O(function(L,V){(function H(Y,le,qe,ee){var fe=f(N[Y],N,le);if(fe.type!=="throw"){var Ae=fe.arg,ve=Ae.value;return ve&&typeof ve=="object"&&r.call(ve,"__await")?O.resolve(ve.__await).then(function(Ze){H("next",Ze,qe,ee)},function(Ze){H("throw",Ze,qe,ee)}):O.resolve(ve).then(function(Ze){Ae.value=Ze,qe(Ae)},function(Ze){return H("throw",Ze,qe,ee)})}ee(fe.arg)})(X,W,L,V)})}return J=J?J.then(te,te):te()}}function C(N,O){var J=N.iterator[O.method];if(J===void 0){if(O.delegate=null,O.method==="throw"){if(N.iterator.return&&(O.method="return",O.arg=void 0,C(N,O),O.method==="throw"))return p;O.method="throw",O.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var X=f(J,N.iterator,O.arg);if(X.type==="throw")return O.method="throw",O.arg=X.arg,O.delegate=null,p;var W=X.arg;return W?W.done?(O[N.resultName]=W.value,O.next=N.nextLoc,O.method!=="return"&&(O.method="next",O.arg=void 0),O.delegate=null,p):W:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,p)}function P(N){var O={tryLoc:N[0]};1 in N&&(O.catchLoc=N[1]),2 in N&&(O.finallyLoc=N[2],O.afterLoc=N[3]),this.tryEntries.push(O)}function B(N){var O=N.completion||{};O.type="normal",delete O.arg,N.completion=O}function b(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(P,this),this.reset(!0)}function T(N){if(N){var O=N[o];if(O)return O.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var J=-1,X=function W(){for(;++J<N.length;)if(r.call(N,J))return W.value=N[J],W.done=!1,W;return W.value=void 0,W.done=!0,W};return X.next=X}}return{next:D}}function D(){return{value:void 0,done:!0}}return v.prototype=S.constructor=q,q.constructor=v,v.displayName=h(q,l,"GeneratorFunction"),t.isGeneratorFunction=function(N){var O=typeof N=="function"&&N.constructor;return!!O&&(O===v||(O.displayName||O.name)==="GeneratorFunction")},t.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,q):(N.__proto__=q,h(N,l,"GeneratorFunction")),N.prototype=Object.create(S),N},t.awrap=function(N){return{__await:N}},M(R.prototype),R.prototype[a]=function(){return this},t.AsyncIterator=R,t.async=function(N,O,J,X,W){W===void 0&&(W=Promise);var te=new R(d(N,O,J,X),W);return t.isGeneratorFunction(O)?te:te.next().then(function(L){return L.done?L.value:te.next()})},M(S),h(S,l,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(N){var O=[];for(var J in N)O.push(J);return O.reverse(),function X(){for(;O.length;){var W=O.pop();if(W in N)return X.value=W,X.done=!1,X}return X.done=!0,X}},t.values=T,b.prototype={constructor:b,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!N)for(var O in this)O.charAt(0)==="t"&&r.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var O=this;function J(H,Y){return te.type="throw",te.arg=N,O.next=H,Y&&(O.method="next",O.arg=void 0),!!Y}for(var X=this.tryEntries.length-1;X>=0;--X){var W=this.tryEntries[X],te=W.completion;if(W.tryLoc==="root")return J("end");if(W.tryLoc<=this.prev){var L=r.call(W,"catchLoc"),V=r.call(W,"finallyLoc");if(L&&V){if(this.prev<W.catchLoc)return J(W.catchLoc,!0);if(this.prev<W.finallyLoc)return J(W.finallyLoc)}else if(L){if(this.prev<W.catchLoc)return J(W.catchLoc,!0)}else{if(!V)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return J(W.finallyLoc)}}}},abrupt:function(N,O){for(var J=this.tryEntries.length-1;J>=0;--J){var X=this.tryEntries[J];if(X.tryLoc<=this.prev&&r.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var W=X;break}}W&&(N==="break"||N==="continue")&&W.tryLoc<=O&&O<=W.finallyLoc&&(W=null);var te=W?W.completion:{};return te.type=N,te.arg=O,W?(this.method="next",this.next=W.finallyLoc,p):this.complete(te)},complete:function(N,O){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&O&&(this.next=O),p},finish:function(N){for(var O=this.tryEntries.length-1;O>=0;--O){var J=this.tryEntries[O];if(J.finallyLoc===N)return this.complete(J.completion,J.afterLoc),B(J),p}},catch:function(N){for(var O=this.tryEntries.length-1;O>=0;--O){var J=this.tryEntries[O];if(J.tryLoc===N){var X=J.completion;if(X.type==="throw"){var W=X.arg;B(J)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(N,O,J){return this.delegate={iterator:T(N),resultName:O,nextLoc:J},this.method==="next"&&(this.arg=void 0),p}},t}(n.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}(rv={exports:{}}),rv.exports),CU=function(){function n(t){t===void 0&&(t={}),this.names=[""],this.finished=[],this.paused=!1,this.isWebGL2=!0,this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=[],this.gpuChart=[],this.cpuChart=[],this.paramLogger=function(){},this.glFinish=function(){},this.addProfiler=function(){},this.chartLogger=function(){},this.chartLen=60,this.chartHz=10,this.factorGPU=1,this.trackGPU=!0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.paramFrame=0,this.paramTime=0,this.now=function(){},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,t),this.chart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.now=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()},this.initGpu(),this.is120hz()}var e=n.prototype;return e.initGpu=function(){this.gl&&(this.isWebGL2=!0,this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2"),this.extension===null?(this.isWebGL2=!1,this.extension=this.gl.getExtension("EXT_disjoint_timer_query"),this.extension===null&&(console.warn("Disjoint_time_query extension not available."),this.isGL())):this.isGL())},e.isGL=function(){var t,i,r=this,s=this.gl;if(s){var o=function(h,d){setTimeout(function(){s.getError();var f=r.now()-h;d.forEach(function(p,m){p&&(r.gpuAccums[m]+=f)})})},a=function(){var h,d=(h=sv.mark(function f(p,m){return sv.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Promise.resolve(o(p,m));case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},f)}),function(){var f=this,p=arguments;return new Promise(function(m,v){var q=h.apply(f,p);function y(x){iv(q,m,v,y,g,"next",x)}function g(x){iv(q,m,v,y,g,"throw",x)}y(void 0)})});return function(f,p){return d.apply(this,arguments)}}(),l=function(h,d,f){return function(){var p=d.now();h.apply(f,arguments),d.finished.push(a(p,d.activeAccums.slice(0)))}};["drawArrays","drawElements","drawArraysInstanced","drawBuffers","drawElementsInstanced","drawRangeElements"].forEach(function(h){s[h]&&(s[h]=l(s[h],r,s))}),s.getExtension=(t=s.getExtension,i=this,function(){var h=t.apply(s,arguments);return h&&["drawElementsInstancedANGLE","drawBuffersWEBGL"].forEach(function(d){h[d]&&(h[d]=l(h[d],i,h))}),h})}},e.is120hz=function(){var t,i=this,r=0;window.requestAnimationFrame(function s(o){++r<20?t=window.requestAnimationFrame(s):(i.detected=Math.ceil(1e3*r/(o-i.t0)/70),window.cancelAnimationFrame(t)),i.t0||(i.t0=o)})},e.addUI=function(t){this.names.indexOf(t)===-1&&(this.names.push(t),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))},e.nextFrame=function(t){var i=this;this.frameId++;var r=t||this.now(),s=r-this.paramTime,o=0,a=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=r;else if(s>=1e3){for(var l=this.frameId-this.paramFrame,h=l/s*1e3,d=function(g){o=Math.round(i.cpuAccums[g]/s*100),a=i.isWebGL2?i.gpuAccums[g]:i.gpuAccums[g]/s;var x=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/(1<<20):0);i.paramLogger({i:g,cpu:o,gpu:a,mem:x,fps:Math.round(10*h)/10,duration:Math.round(s),frameCount:l}),i.cpuAccums[g]=0,i.isWebGL2?i.gpuAccums[g]=0:Promise.all(i.finished).then(function(){i.gpuAccums[g]=0,i.finished=[]})},f=0;f<this.names.length;f++)d(f);this.paramFrame=this.frameId,this.paramTime=r}if(this.detected&&this.chartFrame)for(var p=r-this.chartTime,m=this.chartHz*p/1e3;--m>0&&this.detected;){this.chart[this.circularId%this.chartLen]=(this.frameId-this.chartFrame)/p*1e3;var v=Math.round(this.cpuAccums[1]/s*100)+5,q=(this.isWebGL2?2*this.gpuAccums[1]:Math.round(this.gpuAccums[1]/s*100))+10;q>0&&(this.gpuChart[this.circularId%this.chartLen]=q),v>0&&(this.cpuChart[this.circularId%this.chartLen]=v);for(var y=0;y<this.names.length;y++)this.chartLogger({i:y,data:{fps:this.chart,gpu:this.gpuChart,cpu:this.cpuChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=r}else this.chartFrame=this.frameId,this.chartTime=r,this.circularId=0},e.startGpu=function(){var t,i=this,r=this.gl,s=this.extension;this.isWebGL2&&((t=r.createQuery())instanceof WebGLQuery&&r.beginQuery(s.TIME_ELAPSED_EXT,t),t)&&(this.activeQueries++,window.requestAnimationFrame(function o(){if(t&&i.isWebGL2){var a,l,h;i.isWebGL2?(a=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE),l=r.getParameter(s.GPU_DISJOINT_EXT),h=r.getQueryParameter(t,r.QUERY_RESULT)):(a=s.getQueryObjectEXT(t,s.QUERY_RESULT_AVAILABLE_EXT),l=r.getParameter(s.GPU_DISJOINT_EXT),h=s.getQueryObjectEXT(t,s.QUERY_RESULT_EXT));var d=1e-6*h;a?(l||i.activeAccums.forEach(function(f,p){i.gpuAccums[p]=d}),i.activeQueries--):window.requestAnimationFrame(o)}}))},e.endGpu=function(){var t=this.extension;t!==null&&this.isWebGL2&&(this.isWebGL2&&t.TIME_ELAPSED_EXT?this.gl.endQuery(t.TIME_ELAPSED_EXT):t.TIME_ELAPSED_EXT&&t.endQueryEXT(t.TIME_ELAPSED_EXT))},e.begin=function(t){this.startGpu(),this.updateAccums(t)},e.end=function(t){this.endGpu(),this.updateAccums(t)},e.updateAccums=function(t){var i=this.names.indexOf(t);i===-1&&(i=this.names.length,this.addUI(t));for(var r=this.now(),s=r-this.t0,o=0;o<i+1;o++)this.activeAccums[o]&&(this.cpuAccums[o]+=s);this.activeAccums[i]=!this.activeAccums[i],this.t0=r},n}(),Qi=EU(function(){return{log:null,paused:!1,chart:{data:{fps:[],gpu:[],cpu:[]},circularId:0},gl:{info:null}}}),bS=function(n){var e=n.trackGPU,t=n.chart,i=uh.useThree().gl,r=Gr.useRef(!1);return Qi.setState({gl:i}),Gr.useEffect(function(){if(i.info.autoReset=!1,!xr&&i.info&&(xr=new CU({trackGPU:e,chartLen:t?t.length:30,chartHz:t?t.hz:10,gl:i.getContext(),chartLogger:function(a){Qi.setState({chart:a})},paramLogger:function(a){xr&&i.info&&(xr.factorGPU=1/i.info.render.calls),Qi.setState({log:{cpu:a.cpu,gpu:a.gpu,mem:a.mem,fps:a.fps,totalTime:a.duration,frameCount:a.frameCount}})}})),xr&&i.info){var s=uh.addEffect(function(){return Qi.getState().paused&&Qi.setState({paused:!1}),xr&&i.info&&(i.info.reset(),xr.begin("profiler")),!1}),o=uh.addAfterEffect(function(){return xr&&(xr.end("profiler"),xr.nextFrame(window.performance.now())),!1});return function(){s(),o()}}},[i,e,t]),Gr.useEffect(function(){var s=uh.addTail(function(){return xr&&r.current&&(xr.paused=!0,Qi.setState({paused:!0,log:{cpu:0,gpu:0,mem:0,fps:0,totalTime:0,frameCount:0}})),r.current=!0,!1});return function(){s()}},[r]),null},TU={yMin:0,yMax:65,xMin:0,xMax:200},ov=function(n,e,t,i,r){return(n-e)*(r-i)/(t-e)+i},RU=function(n,e){var t=e[0]-n[0],i=e[1]-n[1];return{length:Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),angle:Math.atan2(i,t)}},PU=function(n){var e=n.element,t=n.points;if(!t||t.length===0)return null;var i,r=hi(n.colorBlind),s=function(l,h,d,f){return l.map(function(p){return[ov(p[0],f.xMin,f.xMax,0,320),ov(p[1],f.yMin,f.yMax,63,0)]})}(t,0,0,TU),o=(i=function(l,h){return function(d,f,p,m){var v=l(f||d,p||d),q=v.angle+(m?Math.PI:0),y=.15*v.length;return[d[0]+Math.cos(q)*y,d[1]+Math.sin(q)*y]}}(RU),function(l,h,d){var f=i(d[h-1],d[h-2],l),p=i(l,d[h-1],d[h+1],!0);return"C "+f[0]+","+f[1]+" "+p[0]+","+p[1]+" "+l[0]+","+l[1]+(h===d.length-1?" z":"")}),a=s.reduce(function(l,h,d,f){return d===0?"M "+f[f.length-1][0]+",63 L "+h[0]+",63 L "+h[0]+","+h[1]:l+" "+o(h,d,f)},"");return Ee.createElement("path",{d:a,fill:"url(#graph"+e+")",stroke:"rgb("+r[e]+")"})},g3=function(n){var e=n.points,t=n.colorBlind,i=e.element;return e.points&&e.points.length!==0?Ee.createElement("svg",{className:Yn.graph,height:"65",width:"320",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 65"},Ee.createElement("pattern",{id:"graph"+i,x:"0",y:"0",width:"8",height:"60",patternUnits:"userSpaceOnUse"},Ee.createElement("rect",{x:"4",y:"0",width:"4",height:"60",fill:"url(#"+i+"gradFade)"}),Ee.createElement("rect",{x:"0",y:"0",width:"4",height:"60",fill:"url(#"+i+"grad)"})),Ee.createElement(PU,{points:e.points,element:e.element,colorBlind:t})):null},hi=function(n){return{fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31"}},bU=function(n){var e=n.colorBlind,t=n.trackGPU,i=Qi(function(l){return l.chart}),r=i.circularId,s=i.data,o=function(l,h){h===void 0&&(h=1);var d=0,f=[],p=s[l];if(!p||p.length===0)return[0];for(var m=p.length,v=0;v<m;v++){var q=(r+v+1)%m;if(p[q]!==void 0){p[q]>d&&(d=p[q]*h);var y=[(200*v/(m-1)).toFixed(1),(Math.min(100,p[q])*h).toFixed(1)];f.push(y)}}return{points:f,maxVal:d,element:l}},a=Qi(function(l){return l.paused});return Ee.createElement("div",{className:Yn.graphc},Ee.createElement("svg",{height:"0",width:"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 65",style:{height:0}},Ee.createElement("defs",null,Ee.createElement("linearGradient",{id:"fpsgrad",gradientTransform:"rotate(90)"},Ee.createElement("stop",{offset:"0%",stopColor:"rgb("+hi(e).fps+",.7)"}),Ee.createElement("stop",{offset:"20%",stopColor:"rgb("+hi(e).fps+",.7)"}),Ee.createElement("stop",{offset:"60%",stopColor:"transparent"})),Ee.createElement("linearGradient",{id:"fpsgradFade",gradientTransform:"rotate(90)"},Ee.createElement("stop",{offset:"0%",stopColor:"rgb("+hi(e).fps+",.2)"}),Ee.createElement("stop",{offset:"20%",stopColor:"rgb("+hi(e).fps+",.2)"}),Ee.createElement("stop",{offset:"60%",stopColor:"transparent"})),Ee.createElement("linearGradient",{id:"cpugrad",gradientTransform:"rotate(90)"},Ee.createElement("stop",{offset:"0%",stopColor:"rgb("+hi(e).cpu+",.7)"}),Ee.createElement("stop",{offset:"60%",stopColor:"rgb("+hi(e).cpu+",.7)"}),Ee.createElement("stop",{offset:"90%",stopColor:"transparent"})),Ee.createElement("linearGradient",{id:"cpugradFade",gradientTransform:"rotate(90)"},Ee.createElement("stop",{offset:"0%",stopColor:"rgb("+hi(e).cpu+",.2)"}),Ee.createElement("stop",{offset:"60%",stopColor:"rgb("+hi(e).cpu+",.2)"}),Ee.createElement("stop",{offset:"90%",stopColor:"transparent"})),Ee.createElement("linearGradient",{id:"gpugrad",gradientTransform:"rotate(90)"},Ee.createElement("stop",{offset:"0%",stopColor:"rgb("+hi(e).gpu+","+(e?"1":".7")+")"}),Ee.createElement("stop",{offset:"70%",stopColor:"rgb("+hi(e).gpu+","+(e?"1":".7")+")"}),Ee.createElement("stop",{offset:"100%",stopColor:"transparent"})),Ee.createElement("linearGradient",{id:"gpugradFade",gradientTransform:"rotate(90)"},Ee.createElement("stop",{offset:"0%",stopColor:"rgb("+hi(e).gpu+",.2)"}),Ee.createElement("stop",{offset:"70%",stopColor:"rgb("+hi(e).gpu+",.2)"}),Ee.createElement("stop",{offset:"100%",stopColor:"transparent"})))),Ee.createElement(g3,{points:o("fps"),colorBlind:e}),Ee.createElement(g3,{points:o("cpu",.6),colorBlind:e}),t&&Ee.createElement(g3,{points:o("gpu",.6),colorBlind:e}),a&&Ee.createElement("div",{className:Yn.graphp},Ee.createElement(MU.GiPauseButton,null)," PAUSED"))},BU=function(n){var e=n.showGraph,t=n.trackGPU,i=n.colorBlind,r=n.openByDefault,s=Qi(function(a){return a.log}),o=Qi(function(a){return a.gl});return s?Ee.createElement("div",null,Ee.createElement("i",null,Ee.createElement(fU.RiCpuLine,{className:Yn.sbg}),Ee.createElement("b",{style:e?{color:"rgb("+hi(i).cpu+")"}:{}},"CPU")," ",Ee.createElement("span",null,(Math.round(100*s.cpu)/100||0).toFixed(2),"%")),Ee.createElement("i",null,Ee.createElement(pU.RiCpuFill,{className:Yn.sbg}),Ee.createElement("b",{style:e&&t?{color:"rgb("+hi(i).gpu+")"}:{}},"GPU")," ",Ee.createElement("span",null,(Math.round(1e3*s.gpu)/1e3||0).toFixed(2)),Ee.createElement("small",null,"ms")),Ee.createElement("i",null,Ee.createElement(dU.FaMemory,{className:Yn.sbg}),Ee.createElement("b",null,"Memory")," ",s.mem,Ee.createElement("small",null,"mb")),Ee.createElement("i",null,Ee.createElement(mU.VscPulse,{className:Yn.sbg}),Ee.createElement("b",{style:e?{color:"rgb("+hi(i).fps+")"}:{}},"FPS")," ",Ee.createElement("span",null,s.fps)),o&&Ee.createElement("i",null,Ee.createElement(yU.BsTriangle,{className:Yn.sbg}),Ee.createElement("b",null,"Triangles")," ",Ee.createElement("span",null,o.info.render.triangles)),o&&Ee.createElement(IU,{openByDefault:r})):null},IU=function(n){var e=n.openByDefault,t=Qi(function(o){return o.gl}).info,i=Ee.useState(e),r=i[0],s=i[1];return Ee.createElement("span",null,t&&r&&Ee.createElement("div",null,Ee.createElement("i",null,Ee.createElement(gU.AiOutlineCodeSandbox,{className:Yn.sbg}),Ee.createElement("b",null,t.memory.geometries===1?"Geometry":"Geometries")," ",Ee.createElement("span",null,t.memory.geometries)),Ee.createElement("i",null,Ee.createElement(_U.FaRegImages,{className:Yn.sbg}),Ee.createElement("b",null,t.memory.textures===1?"Texture":"Textures")," ",Ee.createElement("span",null,t.memory.textures)),Ee.createElement("i",null,Ee.createElement(vU.FiLayers,{className:Yn.sbg}),Ee.createElement("b",null,t.render.calls===1?"call":"calls")," ",Ee.createElement("span",null,t.render.calls)),Ee.createElement("i",null,Ee.createElement(qU.FaServer,{className:Yn.sbg}),Ee.createElement("b",null,t.programs.length===1?"shader":"shaders")," ",Ee.createElement("span",null,t.programs.length)),Ee.createElement("i",null,Ee.createElement(xU.VscActivateBreakpoints,{className:Yn.sbg}),Ee.createElement("b",null,"Points")," ",Ee.createElement("span",null,t.render.points))),Ee.createElement("div",{className:Yn.toggle,onClick:function(){s(!r)}},r?Ee.createElement("span",null,Ee.createElement(AU.RiArrowDownSFill,null)," Minimize"):Ee.createElement("span",null,Ee.createElement(SU.RiArrowRightSFill,null)," More")))},LU=function(n){var e=n.showGraph,t=n.colorBlind,i=n.trackGPU,r=n.openByDefault,s=n.className,o=n.position;return Ee.createElement(Ee.Fragment,null,Ee.createElement(bS,{trackGPU:i,chart:n.chart}),Ee.createElement(wU,{className:(s?(Yn.perf+" ").concat(s):Yn.perf)+" "+(o?Yn[o]:"")},Ee.createElement(BU,{colorBlind:t,showGraph:e,trackGPU:i,openByDefault:r}),e&&Ee.createElement(bU,{colorBlind:t,trackGPU:i})))};Mh.Perf=function(){return null},hU.R3F_PERF_SHOW_IN_PROD!=="SHOW"||(Mh.Perf=function(n){var e=n.headless,t=n.colorBlind,i=t!==void 0&&t,r=n.showGraph,s=r===void 0||r,o=n.trackGPU,a=o===void 0||o,l=n.openByDefault,h=l!==void 0&&l,d=n.position,f=d===void 0?"top-right":d,p=n.chart,m=p===void 0?{length:30,hz:10}:p,v=n.className;return e!==void 0&&e?Ee.createElement(bS,{chart:m}):Ee.createElement(LU,{colorBlind:i,showGraph:s,trackGPU:a,openByDefault:h,className:v,position:f,chart:m})},Mh.usePerf=function(){var n;return{log:Qi(function(e){return e.log}),gl:(n=Qi(function(e){return e.gl}))==null?void 0:n.info}});pS.exports=Mh;var DU=pS.exports;function av({file:n,position:e,rotation:t,scale:i,canHover:r,lookAt:s,moveTo:o,refToUse:a,shadow:l}){const h="models/"+n,{scene:d}=ei(h),[f,p]=oe.useState(!1),{controls:m}=jn(),v=a||oe.useRef(),{setPan:q,setBigText:y,whoosh:g}=cu();return oe.useEffect(()=>{v.current&&v.current.traverse(x=>{x.isMesh&&(x.material.side=Yr,x.material.map&&(x.material.map.minFilter=Mn,x.material.map.magFilter=Mn),x.material.name.startsWith("lambert1")||(x.castShadow=l,x.receiveShadow=!0))})},[d]),ig(f,"pointer","default"),ne.jsx("primitive",{object:d,ref:v,position:e,rotation:t,scale:i,onPointerOver:r?()=>p(!0):null,onPointerOut:r?()=>p(!1):null,onClick:r?()=>{const x=m._targetEnd,S=x.x,M=x.y,R=x.z;q(!1),g.play(),m._removeAllEventListeners(),S==s[0]&&M==s[1]&&R==s[2]?(m.enabled=!0,y(!0),m.setLookAt(-200,175,200,0,0,0,!0).then(()=>{m.enabled=!0,m._addAllEventListeners(m._domElement),q(!0)})):m.setLookAt(...o,...s,!0).then(()=>{const C=m._targetEnd.x,P=m._targetEnd.y,B=m._targetEnd.z;C!=0&&P!=0&&B!=0&&(m.enabled=!1),m._addAllEventListeners(m._domElement)})}:null})}function Is(n){return ne.jsx("pointLight",{position:n.position,color:n.color||15761171,intensity:n.intensity,"shadow-mapSize-width":512,"shadow-mapSize-height":512,"shadow-camera-far":1e3,"shadow-camera-near":.1,decay:n.decay||2,rotateX:n.rotateX,castShadow:n.shadow})}class BS extends _d{constructor(e,t={}){const i=t.font;if(i===void 0)super();else{const r=i.generateShapes(e,t.size);t.depth===void 0&&t.height!==void 0&&console.warn("THREE.TextGeometry: .height is now depreciated. Please use .depth instead"),t.depth=t.depth!==void 0?t.depth:t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}class IS extends $n{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ki(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){const l=s.parse(JSON.parse(a));t&&t(l)},i,r)}parse(e){return new FU(e)}}class FU{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=UU(e,t,this.data);for(let s=0,o=r.length;s<o;s++)i.push(...r[s].toShapes());return i}}function UU(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let a=0,l=0;for(let h=0;h<i.length;h++){const d=i[h];if(d===`
`)a=0,l-=s;else{const f=OU(d,r,a,l,t);a+=f.offsetX,o.push(f.path)}}return o}function OU(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new IA;let a,l,h,d,f,p,m,v;if(s.o){const q=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,g=q.length;y<g;)switch(q[y++]){case"m":a=q[y++]*e+t,l=q[y++]*e+i,o.moveTo(a,l);break;case"l":a=q[y++]*e+t,l=q[y++]*e+i,o.lineTo(a,l);break;case"q":h=q[y++]*e+t,d=q[y++]*e+i,f=q[y++]*e+t,p=q[y++]*e+i,o.quadraticCurveTo(f,p,h,d);break;case"b":h=q[y++]*e+t,d=q[y++]*e+i,f=q[y++]*e+t,p=q[y++]*e+i,m=q[y++]*e+t,v=q[y++]*e+i,o.bezierCurveTo(f,p,m,v,h,d);break}}return{offsetX:s.ha*e,path:o}}const NU={0:{ha:847,x_min:35,x_max:856,o:"m 828 472 q 625 128 769 274 q 293 -17 481 -17 q 99 71 164 -17 q 35 297 35 158 q 133 656 35 478 q 403 924 240 847 q 592 965 493 965 q 790 880 724 965 q 856 658 856 794 q 828 472 856 568 m 364 50 q 411 50 364 50 q 545 151 458 50 q 678 392 632 251 q 724 649 724 533 q 678 835 724 764 q 539 906 632 906 q 360 810 446 906 q 228 576 275 714 q 181 314 181 439 q 225 119 181 189 q 364 50 269 50 z "},1:{ha:485,x_min:33,x_max:542,o:"m 367 983 l 542 983 q 344 456 467 810 q 201 0 221 103 l 33 0 q 297 683 78 100 l 369 878 l 172 694 l 124 694 l 367 983 z "},2:{ha:789,x_min:42,x_max:836,o:"m 833 760 q 536 439 804 576 q 390 364 443 392 q 258 281 338 336 q 157 186 178 225 l 169 186 q 295 162 222 186 q 463 122 368 138 q 597 107 558 107 q 736 208 735 107 l 774 208 q 711 44 771 111 q 549 -24 651 -24 q 378 28 446 -24 q 320 71 363 43 q 263 106 278 99 q 195 126 222 126 q 154 104 168 126 q 139 55 140 82 q 124 6 138 28 q 89 -17 111 -17 q 42 36 42 -17 q 192 301 42 172 q 336 417 261 361 q 631 682 543 569 q 682 813 682 749 q 647 913 682 876 q 538 949 611 949 q 396 877 465 949 q 326 728 326 806 q 332 689 326 706 q 272 667 300 667 q 226 688 243 667 q 208 746 208 708 q 247 863 208 813 q 344 942 286 914 q 572 994 461 994 q 699 978 643 994 q 795 917 754 963 q 836 799 836 871 q 833 760 836 788 z "},3:{ha:833,x_min:28,x_max:824,o:"m 540 528 q 710 447 651 510 q 768 296 768 383 q 700 133 768 208 q 533 19 632 57 q 340 -18 433 -18 q 183 1 247 -18 q 73 67 118 19 q 28 178 28 114 q 64 290 28 242 q 156 338 100 338 q 210 324 182 338 q 157 176 157 247 q 210 66 157 106 q 346 26 263 26 q 528 101 453 26 q 604 274 604 176 q 545 433 604 371 q 397 494 486 494 q 289 469 344 494 q 269 465 281 465 q 248 477 257 465 q 239 508 239 489 q 258 544 239 528 q 324 560 278 560 q 422 536 371 560 q 595 640 526 563 q 664 813 664 717 q 625 917 664 876 q 504 958 586 958 q 362 894 422 958 q 301 746 301 829 q 310 692 301 719 q 270 685 292 685 q 228 710 249 685 q 208 778 208 735 q 264 900 208 849 q 542 996 367 996 q 824 803 824 996 q 748 641 824 718 q 540 528 672 564 z "},4:{ha:954,x_min:6,x_max:950,o:"m 900 374 q 693 301 831 301 q 642 306 669 301 q 551 0 578 107 l 386 0 q 511 324 419 75 q 401 353 469 333 q 192 399 249 399 q 110 379 135 399 q 83 336 85 360 q 43 274 82 274 q 17 289 28 274 q 6 332 6 304 q 65 425 6 394 l 717 983 l 889 983 q 675 403 788 743 q 865 518 865 417 q 853 558 865 542 q 890 569 868 569 q 931 541 913 569 q 950 483 950 513 q 900 374 950 426 m 732 915 l 174 444 q 359 424 276 439 q 542 406 442 410 l 732 915 z "},5:{ha:810,x_min:19,x_max:825,o:"m 169 576 q 347 983 169 606 l 611 983 q 703 986 649 983 l 758 990 q 810 982 796 990 q 825 940 825 974 q 794 836 825 906 l 756 736 l 728 736 l 735 760 q 733 839 751 803 q 672 881 724 863 q 500 893 640 893 q 493 893 496 893 q 382 893 438 893 q 258 619 293 703 q 421 647 346 647 q 672 567 576 647 q 768 367 768 486 q 726 195 768 271 q 614 76 683 119 q 307 -11 472 -11 q 103 45 186 -11 q 19 213 19 101 q 58 331 19 278 q 156 383 96 383 q 218 364 190 383 q 156 205 156 296 q 207 72 156 114 q 339 31 258 31 q 522 119 444 31 q 599 328 599 208 q 524 519 599 449 q 339 589 449 589 q 256 575 310 589 q 185 561 201 561 q 169 576 169 561 z "},6:{ha:810,x_min:43,x_max:818,o:"m 818 817 q 789 740 818 758 q 738 722 760 722 q 678 768 697 722 q 714 840 714 792 q 683 913 714 889 q 601 936 653 936 q 393 827 493 936 q 232 544 293 718 q 500 633 340 633 q 690 566 621 633 q 758 389 758 499 q 629 97 758 201 q 335 -8 500 -8 q 106 65 169 -8 q 43 263 43 138 q 85 515 43 389 q 197 747 126 640 q 375 922 268 853 q 585 990 482 990 q 753 947 689 990 q 818 817 818 904 m 431 574 q 246 474 308 568 q 183 243 183 379 q 224 97 183 154 q 342 39 264 39 q 534 140 457 39 q 611 363 611 242 q 564 515 611 456 q 431 574 517 574 z "},7:{ha:749,x_min:71,x_max:756,o:"m 229 990 l 383 983 l 735 983 q 756 953 756 983 q 730 889 756 922 q 626 757 704 856 q 500 597 547 658 q 306 317 360 415 q 251 156 251 218 q 265 108 251 128 q 301 88 279 88 q 336 92 322 88 q 283 10 324 36 q 193 -15 242 -15 q 108 17 144 -15 q 72 111 72 50 q 113 249 72 172 q 215 395 154 326 q 347 536 275 464 q 478 667 418 608 q 621 861 621 801 q 618 881 621 867 l 324 881 q 211 860 253 881 q 156 812 169 840 q 137 755 143 783 q 120 706 131 726 q 90 687 110 686 q 71 696 71 688 q 75 708 71 699 q 85 743 79 718 q 99 801 92 768 q 150 963 126 936 q 229 990 174 990 z "},8:{ha:815,x_min:6,x_max:835,o:"m 611 547 q 750 330 750 468 q 616 88 750 192 q 310 -15 482 -15 q 92 52 179 -15 q 6 224 6 119 q 89 417 6 329 q 308 550 172 506 q 207 721 207 618 q 303 921 207 842 q 564 1000 399 1000 q 761 945 688 1000 q 835 800 835 890 q 611 547 835 631 m 739 794 q 681 904 739 858 q 544 950 624 950 q 396 901 464 950 q 328 790 328 853 q 391 670 328 728 q 536 593 454 613 q 739 794 733 668 m 394 476 q 143 213 143 376 q 198 95 143 142 q 351 49 253 49 q 536 111 450 49 q 622 289 622 174 q 550 417 622 372 q 394 476 497 449 z "},9:{ha:853,x_min:28,x_max:828,o:"m 649 175 q 250 -18 494 -18 q 28 149 28 -18 q 56 232 28 194 q 131 269 83 269 q 182 257 157 269 q 154 150 154 217 q 188 55 154 83 q 277 26 222 26 q 386 57 332 26 q 538 196 483 111 q 650 431 593 281 q 408 351 540 351 q 193 430 275 351 q 111 632 111 508 q 223 897 111 801 q 500 992 335 992 q 828 690 828 992 q 777 418 828 563 q 649 175 726 274 m 685 718 q 685 765 685 718 q 636 876 685 811 q 490 941 588 942 q 324 849 393 940 q 256 652 256 757 q 310 478 256 547 q 450 410 364 410 q 590 453 536 410 q 664 560 643 496 q 685 718 685 625 z "},"\0":{ha:0,x_min:0,x_max:0,o:""},"":{ha:0,x_min:0,x_max:0,o:""}," ":{ha:417,x_min:0,x_max:0,o:""},"!":{ha:488,x_min:68,x_max:557,o:"m 461 908 l 542 903 q 557 904 553 903 q 369 581 481 794 q 243 322 258 368 l 186 311 q 285 582 210 364 q 389 875 361 800 q 461 908 401 908 m 221 68 q 176 36 206 65 q 136 -11 146 7 q 68 46 68 11 q 98 94 68 71 q 167 118 128 118 q 224 83 224 118 q 221 68 224 79 z "},'"':{ha:518,x_min:74,x_max:497,o:"m 497 958 q 469 920 497 957 q 384 799 440 883 q 315 689 328 714 q 288 683 311 683 q 264 688 264 683 q 372 957 271 697 q 438 974 379 974 q 497 958 497 974 m 306 960 q 277 919 306 957 q 192 797 249 882 q 124 689 135 713 q 98 683 122 683 q 74 688 74 683 q 182 957 81 699 q 247 974 189 974 q 306 960 306 974 z "},"#":{ha:1085,x_min:85,x_max:1040,o:"m 275 11 q 240 48 267 11 q 215 94 214 85 q 215 104 215 103 l 278 265 l 86 265 q 85 272 85 265 q 110 317 85 279 q 149 356 136 356 l 313 356 l 392 560 l 185 560 q 183 567 183 560 q 209 612 183 574 q 249 650 235 650 l 426 650 l 500 840 q 501 842 500 842 q 535 805 510 842 q 561 751 561 768 l 561 749 l 524 650 l 742 650 l 815 840 q 817 842 815 842 q 850 805 824 842 q 876 751 876 768 l 876 749 l 838 650 l 1039 650 q 1040 643 1040 650 q 1015 598 1040 636 q 975 560 989 560 l 803 560 l 724 356 l 939 356 q 940 349 940 356 q 915 303 940 342 q 875 265 889 265 l 689 265 l 592 13 l 590 11 q 556 48 582 11 q 530 94 529 85 q 531 104 531 103 l 593 265 l 374 265 l 276 13 l 275 11 m 628 356 l 706 560 l 488 560 l 410 356 l 628 356 z "},$:{ha:632,x_min:63,x_max:628,o:"m 618 776 q 628 737 628 761 q 613 694 628 713 q 571 676 599 676 l 563 676 q 500 763 563 728 l 422 558 l 449 540 q 567 365 567 458 q 477 194 567 272 q 257 117 388 117 l 251 117 l 175 -81 q 144 -85 174 -85 q 114 -74 114 -85 l 190 124 q 98 169 133 136 q 63 252 63 203 q 88 340 63 301 q 157 378 114 378 q 172 376 167 378 q 142 321 142 354 q 163 258 142 288 q 225 214 183 228 l 328 482 q 225 645 225 574 q 288 774 225 717 q 464 835 351 831 l 517 971 q 549 975 519 975 q 578 965 578 975 l 578 964 l 526 831 q 618 776 593 818 m 374 599 l 443 781 l 432 781 q 360 755 390 781 q 331 684 331 729 q 374 599 331 639 m 400 425 l 376 442 l 286 208 q 406 251 360 213 q 451 338 451 289 q 400 425 451 388 z "},"%":{ha:931,x_min:119,x_max:822,o:"m 801 933 q 683 813 758 869 l 222 0 q 182 -7 219 -7 q 144 -1 144 -7 l 144 0 l 600 799 q 561 793 581 793 q 469 828 504 793 q 471 792 471 817 q 409 603 471 693 q 247 514 347 514 q 151 558 183 514 q 119 669 119 601 q 182 858 119 771 q 342 944 244 944 q 442 897 404 944 q 527 850 481 850 q 621 880 574 850 q 693 951 668 910 q 757 975 707 975 q 807 947 807 975 q 801 933 807 944 m 814 203 q 735 56 793 118 q 606 -7 678 -7 q 501 37 533 -7 q 469 150 469 81 q 532 338 469 251 q 692 425 594 425 q 790 381 758 425 q 822 271 822 338 q 814 203 822 236 m 281 588 q 296 588 281 588 q 342 622 311 588 q 390 706 374 657 q 407 797 407 756 q 349 883 407 883 q 261 817 301 883 q 221 675 221 750 q 236 611 221 635 q 281 588 251 588 m 628 68 q 693 103 661 68 q 741 186 725 138 q 757 276 757 235 q 699 363 757 363 q 611 296 651 363 q 571 149 571 229 q 628 68 571 68 z "},"&":{ha:1096,x_min:18,x_max:1039,o:"m 538 471 l 476 481 q 261 384 350 481 q 172 190 172 288 q 222 63 172 114 q 363 11 272 11 q 600 90 511 11 q 689 256 689 169 q 613 342 689 342 q 571 313 589 342 q 551 261 553 283 q 529 322 529 288 q 567 390 529 356 q 667 444 606 425 l 876 508 q 1035 593 1017 550 q 1039 567 1039 585 q 997 472 1039 506 q 900 429 956 439 q 636 361 701 394 q 683 369 667 369 q 759 339 732 369 q 786 265 786 308 q 706 97 786 171 q 526 -11 626 22 q 354 -44 425 -44 q 231 -35 283 -44 q 129 -3 179 -25 q 49 62 79 19 q 18 163 18 104 q 135 404 18 304 q 401 511 251 504 q 323 578 351 536 q 294 667 294 619 q 356 816 294 751 q 499 909 417 881 q 663 938 582 938 q 797 898 743 938 q 850 803 850 858 q 814 713 850 749 q 735 678 778 678 q 708 685 717 678 q 771 785 771 719 q 661 867 771 867 q 475 796 551 867 q 399 646 399 725 q 435 557 399 588 q 515 524 471 526 l 543 524 q 581 508 581 524 q 566 484 581 497 q 538 471 551 471 z "},"'":{ha:199,x_min:131,x_max:356,o:"m 356 903 q 251 720 317 813 q 150 628 185 628 q 131 633 140 628 q 238 906 215 760 q 297 924 239 924 q 356 906 356 924 l 356 903 z "},"(":{ha:861,x_min:69,x_max:850,o:"m 850 981 l 839 943 q 528 782 676 903 q 288 494 381 661 q 196 157 196 326 q 328 -12 196 -12 q 374 -10 351 -12 l 364 -51 q 226 -74 306 -74 q 108 -14 147 -74 q 69 135 69 46 q 138 414 69 269 q 317 674 207 558 q 569 874 426 790 q 850 981 711 957 z "},")":{ha:797,x_min:1,x_max:782,o:"m 782 774 q 599 308 782 539 q 319 56 479 158 q 1 -72 160 -46 l 13 -35 q 458 263 263 29 q 654 749 654 497 q 524 921 654 921 q 478 918 497 921 l 488 960 q 625 982 546 982 q 743 922 704 982 q 782 774 782 861 z "},"*":{ha:906,x_min:11,x_max:864,o:"m 831 814 l 864 711 l 490 574 l 489 569 l 781 436 l 685 332 l 456 531 l 446 526 l 386 193 l 260 193 l 401 526 l 396 531 l 44 332 l 11 435 l 385 568 l 386 574 l 94 710 l 190 813 l 421 613 l 429 615 l 490 953 l 615 953 l 474 615 l 479 613 l 831 814 z "},"+":{ha:1003,x_min:63,x_max:974,o:"m 150 522 l 481 511 q 588 797 557 701 q 644 833 592 814 q 711 853 697 853 q 725 851 725 853 l 725 850 q 572 511 590 553 q 972 518 886 514 q 974 515 974 518 q 939 465 974 503 q 886 428 904 428 l 542 440 q 463 256 503 361 q 413 103 424 150 q 355 67 408 86 q 288 47 301 47 q 274 49 274 47 l 274 50 q 453 442 344 181 q 127 437 192 442 q 63 433 63 432 q 97 484 63 446 q 150 522 132 522 z "},",":{ha:376,x_min:117,x_max:342,o:"m 342 89 q 237 -94 303 -1 q 136 -186 171 -186 q 117 -181 126 -186 q 224 92 201 -54 q 283 110 225 110 q 342 92 342 110 l 342 89 z "},"-":{ha:681,x_min:213,x_max:667,o:"m 278 400 l 665 400 q 667 393 667 400 q 641 348 667 386 q 601 310 615 310 l 214 310 q 213 317 213 310 q 239 362 213 324 q 278 400 265 400 z "},".":{ha:376,x_min:156,x_max:311,o:"m 308 68 q 263 36 293 65 q 224 -11 233 7 q 156 46 156 11 q 185 94 156 71 q 254 118 215 118 q 311 83 311 118 q 308 68 311 79 z "},"/":{ha:632,x_min:97,x_max:942,o:"m 942 964 l 169 -81 q 132 -85 167 -85 q 97 -75 97 -85 l 97 -74 l 869 971 q 908 975 874 975 q 942 965 942 975 l 942 964 z "},":":{ha:394,x_min:156,x_max:456,o:"m 308 68 q 263 36 293 65 q 224 -11 233 7 q 156 46 156 11 q 185 94 156 71 q 254 118 215 118 q 311 83 311 118 q 308 68 311 79 m 453 492 q 408 460 438 489 q 368 413 378 431 q 300 469 300 435 q 330 518 300 494 q 399 542 360 542 q 456 507 456 542 q 453 492 456 503 z "},";":{ha:475,x_min:117,x_max:493,o:"m 490 468 q 445 436 475 465 q 406 389 415 407 q 338 446 338 411 q 367 494 338 471 q 436 518 397 518 q 493 483 493 518 q 490 468 493 479 m 342 89 q 237 -94 303 -1 q 136 -186 171 -186 q 117 -181 126 -186 q 224 92 201 -54 q 283 110 225 110 q 342 92 342 110 l 342 89 z "},"<":{ha:665,x_min:36,x_max:642,o:"m 635 801 q 639 803 636 803 q 642 788 642 803 q 621 744 642 774 q 425 588 582 699 q 172 418 268 476 q 503 111 433 232 q 504 103 504 108 q 472 56 504 83 q 424 29 440 29 q 419 31 421 29 q 71 357 236 238 q 36 396 36 381 q 78 435 36 411 q 635 801 365 597 z "},"=":{ha:738,x_min:133,x_max:714,o:"m 269 590 l 713 590 q 714 583 714 590 q 690 543 714 576 q 653 510 665 510 l 210 510 q 208 517 208 510 q 232 557 208 524 q 269 590 256 590 m 194 331 l 638 331 q 639 324 639 331 q 615 283 639 317 q 578 250 590 250 l 135 250 q 133 257 133 250 q 157 297 133 264 q 194 331 181 331 z "},">":{ha:665,x_min:111,x_max:718,o:"m 683 475 q 718 435 718 451 q 676 396 718 419 q 119 31 382 229 q 114 28 117 28 q 111 35 111 28 q 133 86 111 64 q 324 240 171 132 q 582 414 478 349 q 388 567 486 481 q 251 721 290 654 q 249 729 249 726 q 281 776 249 749 q 331 803 314 803 q 335 801 333 803 q 683 475 518 594 z "},"?":{ha:765,x_min:118,x_max:769,o:"m 293 326 l 294 307 q 277 278 294 290 q 242 267 260 267 q 210 304 210 267 q 300 447 210 379 l 333 469 q 581 679 514 585 q 611 772 611 724 q 578 856 611 821 q 492 890 546 890 q 389 856 453 890 q 333 801 357 838 q 310 730 310 765 q 319 675 310 694 q 274 664 300 664 q 226 689 249 664 q 203 756 203 714 q 258 861 203 818 q 508 938 356 938 q 769 772 769 938 q 709 628 769 676 q 547 538 649 579 q 390 460 443 492 q 293 326 293 397 m 271 68 q 226 36 256 65 q 186 -11 196 7 q 118 46 118 11 q 148 94 118 71 q 217 118 178 118 q 274 83 274 118 q 271 68 274 79 z "},"@":{ha:1274,x_min:122,x_max:1215,o:"m 1128 264 q 1006 157 1086 200 q 856 114 926 114 q 744 151 785 114 q 704 267 704 189 q 721 376 704 314 q 489 169 590 169 q 420 204 449 169 q 392 297 392 239 q 486 583 392 449 q 717 717 581 717 q 788 695 763 717 q 833 617 814 674 q 877 681 857 664 q 943 697 897 697 l 1021 697 q 881 476 947 639 q 814 239 814 314 q 881 149 814 149 q 1049 272 979 149 q 1118 526 1118 394 q 1019 805 1118 690 q 740 919 921 919 q 477 838 596 919 q 294 628 358 756 q 231 379 231 501 q 265 175 231 257 q 358 47 300 93 q 632 -44 475 -44 q 942 34 789 -44 q 1154 208 1096 113 q 1164 217 1158 217 q 1169 193 1169 217 q 1128 81 1169 132 q 1026 0 1088 31 q 888 -53 965 -31 q 615 -90 750 -90 q 259 16 396 -90 q 122 340 122 122 q 165 560 122 453 q 285 755 208 668 q 481 894 363 842 q 736 947 599 947 q 1085 831 954 947 q 1215 540 1215 714 q 1128 264 1215 400 m 797 546 l 828 606 q 799 649 824 633 q 743 664 775 664 q 579 560 643 664 q 515 354 515 457 q 529 289 515 313 q 564 265 543 265 q 680 361 608 265 q 797 546 751 457 z "},A:{ha:1042,x_min:17,x_max:1132,o:"m 650 969 l 961 969 q 840 917 926 935 q 646 888 754 899 q 504 871 538 878 q 356 693 356 836 q 313 789 313 738 q 650 969 313 969 m 1032 969 l 1132 969 q 1002 635 1068 908 q 936 214 936 363 q 975 68 936 108 q 1017 50 992 50 q 1069 68 1042 50 l 1078 56 q 1008 8 1058 28 q 910 -12 958 -12 q 811 39 838 -12 q 781 176 785 90 q 799 360 781 247 l 481 360 q 156 0 274 140 l 17 0 q 422 392 147 119 q 888 881 776 744 q 929 927 915 914 q 972 955 943 940 q 1032 969 1000 969 m 889 774 q 542 429 731 625 l 808 429 q 889 774 833 567 z "},B:{ha:806,x_min:-42,x_max:853,o:"m 853 761 q 667 539 838 613 q 585 514 626 522 q 801 308 801 474 q 652 72 801 168 q 282 -24 503 -24 q 101 10 174 -24 q 29 124 29 44 q 132 463 29 221 q 322 875 235 704 q 343 914 336 903 l 293 907 q 94 856 185 892 q -29 765 3 819 q -36 761 -31 761 q -42 769 -42 761 q -40 779 -42 776 q 153 956 13 924 q 324 969 217 969 l 597 969 q 788 915 724 969 q 853 779 853 861 l 853 761 m 708 797 q 515 928 696 919 q 343 610 450 843 q 207 273 236 376 q 178 116 178 169 q 208 47 178 63 q 310 31 239 31 q 540 102 442 31 q 639 315 639 174 q 605 435 639 385 q 506 493 571 485 q 339 469 419 469 q 315 479 315 469 q 358 523 315 511 q 440 535 401 535 q 517 529 479 535 q 658 629 607 557 q 708 779 708 701 l 708 797 z "},C:{ha:944,x_min:74,x_max:1006,o:"m 994 772 q 912 676 972 715 q 786 638 851 638 q 736 651 756 638 q 717 685 717 664 q 733 729 717 706 q 768 724 749 724 q 868 761 822 724 q 914 851 914 799 q 807 932 914 932 q 531 835 665 932 q 313 583 396 738 q 231 268 231 428 q 456 21 231 21 q 753 129 596 21 q 961 364 910 238 q 988 315 988 346 q 899 160 988 253 q 675 13 810 68 q 400 -42 540 -42 q 74 263 74 -42 q 125 503 74 378 q 264 737 176 629 q 483 914 351 844 q 742 983 614 983 q 938 940 869 983 q 1006 828 1006 896 q 994 772 1006 803 z "},D:{ha:986,x_min:-28,x_max:1011,o:"m 1004 497 q 881 213 978 333 q 644 32 783 92 q 343 -28 506 -28 q 42 126 42 -28 q 336 875 42 293 q 357 914 350 903 q 133 865 247 906 q -15 765 19 825 q -22 761 -17 761 q -28 769 -28 761 q -26 779 -28 776 q 167 956 26 924 q 338 969 231 969 l 622 969 q 915 863 819 969 q 1011 590 1011 756 q 1004 497 1011 550 m 858 486 q 874 608 874 550 q 794 832 874 743 q 673 903 750 881 q 529 926 596 926 q 370 638 463 839 q 221 260 278 438 q 192 119 192 172 q 219 49 192 65 q 318 32 247 32 q 663 162 511 32 q 858 486 814 292 z "},E:{ha:792,x_min:-28,x_max:817,o:"m 613 969 l 764 976 q 812 959 807 976 q 817 933 817 942 q 783 810 817 885 q 734 736 749 736 q 719 747 719 736 l 731 831 q 696 899 731 874 q 613 924 661 924 q 540 917 564 924 q 503 888 517 910 q 318 543 401 736 l 681 543 l 682 542 q 663 503 682 532 q 631 475 643 475 l 288 475 q 214 269 250 383 q 178 119 178 156 q 200 65 178 82 q 275 47 222 47 q 756 206 681 47 q 766 210 758 210 q 774 201 774 210 q 771 179 774 193 q 656 26 732 58 q 580 5 615 10 q 489 0 544 0 l 69 0 q 26 65 26 0 q 150 475 26 178 l 74 475 q 63 482 63 475 q 89 519 63 496 q 132 543 115 543 l 179 543 q 364 917 307 850 q 126 861 233 900 q -15 765 18 822 q -22 761 -17 761 q -28 769 -28 761 q -26 779 -28 776 q 167 956 26 924 q 338 969 231 969 l 613 969 z "},F:{ha:528,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 733 898 772 872 q 644 924 693 924 q 573 917 596 924 q 535 888 550 910 q 363 543 469 794 l 671 543 l 672 542 q 653 503 672 532 q 621 475 633 475 l 333 475 q 199 31 199 147 q 204 0 199 10 l 25 0 q 192 475 63 158 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 403 917 339 822 q 26 765 89 872 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 z "},G:{ha:1028,x_min:71,x_max:1100,o:"m 1100 435 q 1067 361 1090 385 q 1003 331 1043 338 q 449 -53 861 -53 q 169 33 267 -53 q 71 272 71 118 q 125 515 71 389 q 269 744 179 640 q 489 916 358 849 q 744 983 619 983 q 938 940 869 983 q 1006 824 1006 896 q 938 695 1006 753 q 786 638 869 638 q 736 651 756 638 q 717 685 717 664 q 733 729 717 706 q 768 724 749 724 q 868 761 822 724 q 914 851 914 799 q 809 932 914 932 q 600 869 704 932 q 418 708 496 806 q 291 485 340 610 q 242 240 242 360 q 303 64 242 121 q 465 7 364 7 q 740 97 611 7 q 892 326 869 186 q 593 319 643 326 q 610 351 600 332 q 648 403 621 371 q 693 435 675 435 l 1100 435 z "},H:{ha:944,x_min:61,x_max:1190,o:"m 1101 969 l 1190 969 q 1017 692 1121 915 q 829 132 829 293 q 881 50 829 50 q 935 68 903 50 l 936 68 q 940 60 940 68 q 870 10 940 33 q 757 -12 800 -12 q 672 78 672 -12 q 785 475 672 196 l 392 475 q 300 233 346 368 q 254 31 254 97 q 260 0 254 10 l 81 0 q 244 467 119 168 q 460 918 411 864 q 220 870 342 915 q 79 763 99 825 q 74 758 78 758 q 61 776 61 758 q 64 790 61 779 q 140 908 90 867 q 238 960 190 950 q 357 969 286 969 l 671 969 q 419 543 576 897 l 813 543 q 997 928 943 849 q 1033 956 1007 943 q 1101 969 1060 969 z "},I:{ha:389,x_min:33,x_max:643,o:"m 329 969 l 643 969 q 379 514 547 896 q 281 259 336 417 q 226 29 226 101 q 232 0 226 10 l 53 0 q 217 467 92 168 q 432 918 383 864 q 192 870 314 915 q 51 763 71 825 q 46 758 50 758 q 33 776 33 758 q 36 790 33 779 q 113 908 63 867 q 210 960 163 950 q 329 969 258 969 z "},J:{ha:542,x_min:-118,x_max:817,o:"m -54 -4 l -56 -12 q -35 -70 -56 -51 q 14 -89 -15 -89 q 422 506 182 -89 q 441 553 426 517 q 493 664 456 589 q 585 815 531 739 q 682 906 640 890 q 539 917 642 917 q 309 872 436 917 q 161 763 182 828 q 156 758 158 758 q 143 776 143 758 q 146 790 143 779 q 222 908 172 867 q 320 960 272 950 q 439 969 368 969 l 504 969 l 817 968 q 703 872 735 906 q 636 770 671 839 q 571 617 601 701 q 519 467 540 532 q 481 350 499 401 q 434 222 464 299 q 376 88 404 146 q 307 -35 347 29 q 225 -140 267 -99 q 26 -236 132 -236 q -78 -199 -39 -236 q -118 -101 -118 -162 q -103 -40 -118 -72 q -54 -4 -87 -8 z "},K:{ha:889,x_min:54,x_max:1217,o:"m 1210 954 q 917 826 1121 954 q 553 553 714 699 q 718 231 599 400 q 926 3 838 61 q 860 -1 906 -1 l 742 3 q 638 92 703 3 q 522 292 572 182 q 460 465 471 401 q 326 308 381 386 q 274 181 304 276 q 244 48 244 86 q 250 0 244 10 l 71 0 q 227 465 115 171 q 428 885 339 758 q 451 918 428 886 q 212 870 333 915 q 71 763 90 825 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 350 969 249 969 l 664 969 q 500 736 594 917 q 346 406 406 556 q 498 584 403 486 q 702 772 593 682 q 927 921 811 861 q 1130 981 1043 981 q 1217 961 1217 981 q 1210 954 1217 954 z "},L:{ha:792,x_min:-14,x_max:786,o:"m 783 179 q 669 26 744 58 q 594 5 629 10 q 503 0 558 0 l 82 0 q 26 78 26 0 q 358 875 26 276 q 385 918 383 915 q 145 870 267 915 q 4 763 24 825 q -1 758 3 758 q -14 776 -14 758 q -2 814 -14 779 q 42 886 10 849 q 114 942 74 924 q 282 969 182 969 l 597 969 q 451 765 540 926 q 276 412 361 604 q 190 138 190 219 q 289 47 190 47 q 769 206 692 47 q 776 210 772 210 q 786 196 786 210 q 783 179 786 193 z "},M:{ha:1167,x_min:53,x_max:1428,o:"m 1342 969 l 1428 969 q 1239 669 1365 921 q 1051 126 1051 292 q 1100 50 1051 50 q 1154 68 1122 50 l 1156 68 q 1160 61 1160 68 q 1090 11 1160 35 q 975 -12 1019 -12 q 882 89 882 -12 q 1165 801 882 265 q 1090 726 1110 749 q 693 235 957 578 q 617 146 638 164 q 562 128 596 128 q 483 149 528 128 q 518 419 518 193 q 490 829 518 644 q 310 415 440 736 q 179 13 179 94 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 525 969 q 591 956 567 969 q 625 890 615 942 q 644 649 635 838 q 653 385 653 461 q 650 281 653 308 q 1164 904 849 529 q 1342 969 1219 969 z "},N:{ha:889,x_min:53,x_max:1192,o:"m 1192 968 q 1035 735 1136 932 q 856 323 935 538 q 778 25 778 108 q 781 0 778 7 l 693 0 q 665 141 689 81 q 628 231 640 201 q 585 331 615 261 q 531 456 554 400 q 449 742 458 624 q 268 310 357 538 q 179 13 179 82 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 583 969 q 564 892 564 938 q 643 603 564 789 q 728 381 715 429 q 745 318 742 333 q 750 282 749 303 q 753 256 751 261 q 1063 969 771 300 q 1088 976 1065 976 q 1149 972 1111 976 q 1192 968 1186 968 z "},O:{ha:1060,x_min:88,x_max:1138,o:"m 1081 421 q 819 84 989 213 q 432 -44 649 -44 q 88 260 88 -44 q 145 530 88 397 q 297 762 203 663 q 521 922 392 861 q 785 983 650 983 q 1049 897 961 983 q 1138 680 1138 810 q 1081 421 1138 550 m 1022 693 q 819 919 1022 919 q 538 818 672 919 q 327 564 404 717 q 250 258 250 411 q 299 81 250 149 q 453 13 347 13 q 667 76 560 13 q 850 240 774 140 q 974 460 926 339 q 1022 693 1022 582 z "},P:{ha:681,x_min:19,x_max:922,o:"m 922 761 q 864 601 914 669 q 736 494 814 532 q 392 419 588 419 q 328 424 357 419 q 213 31 213 132 q 218 0 213 10 l 39 0 q 203 467 78 168 q 418 918 369 864 q 178 870 300 915 q 38 763 57 825 q 32 758 36 758 q 19 776 19 758 q 22 790 19 779 q 99 908 49 867 q 197 960 149 950 q 315 969 244 969 l 667 969 q 858 915 793 969 q 922 779 922 861 l 922 761 m 353 446 q 552 481 453 446 q 715 587 651 515 q 779 757 779 658 q 588 928 779 915 q 365 514 496 814 l 336 446 l 353 446 z "},Q:{ha:1060,x_min:115,x_max:1165,o:"m 1108 421 q 789 46 997 169 q 813 -38 800 21 q 838 -143 826 -97 q 874 -226 849 -189 q 933 -262 900 -262 q 988 -240 965 -262 q 999 -282 999 -262 q 959 -358 999 -328 q 867 -389 919 -389 q 778 -363 814 -389 q 727 -290 743 -337 q 704 -199 711 -242 q 692 -93 697 -156 q 683 -4 688 -31 q 460 -44 578 -44 q 115 260 115 -44 q 173 530 115 397 q 325 762 231 663 q 549 922 419 861 q 813 983 678 983 q 1078 897 990 983 q 1165 680 1165 810 q 1108 421 1165 550 m 1050 693 q 856 919 1050 919 q 640 857 747 919 q 456 697 533 794 q 330 480 378 600 q 282 251 282 360 q 330 78 282 143 q 475 14 378 14 q 668 61 572 14 q 629 118 654 99 q 578 138 604 138 l 540 132 q 528 140 528 132 q 555 167 528 158 q 611 176 582 176 q 747 111 689 176 q 966 377 882 213 q 1050 693 1050 542 z "},R:{ha:847,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 z "},S:{ha:726,x_min:72,x_max:849,o:"m 609 994 q 673 994 609 994 q 793 953 738 994 q 849 852 849 911 q 809 742 849 793 q 699 692 769 692 q 628 751 628 692 q 631 774 628 757 q 696 803 668 774 q 724 867 724 832 q 690 924 724 901 q 610 946 657 946 q 476 897 529 946 q 424 783 424 849 q 449 707 424 749 q 497 641 474 665 q 572 569 519 617 q 633 511 624 521 q 739 281 739 406 q 626 65 739 157 q 357 -28 514 -28 q 151 14 229 -28 q 72 144 72 56 q 104 233 72 193 q 195 274 136 274 q 275 232 254 274 q 226 138 226 193 q 263 53 226 83 q 360 24 300 24 q 506 83 443 24 q 569 234 569 143 q 450 451 569 325 q 401 503 449 454 q 323 604 354 553 q 292 726 292 656 q 386 921 292 847 q 609 994 481 994 z "},T:{ha:556,x_min:0,x_max:1053,o:"m 840 871 l 644 879 q 553 713 631 879 q 418 392 475 547 q 361 167 361 236 q 405 99 361 99 q 515 189 449 99 q 529 197 522 197 q 536 185 536 197 q 517 139 536 172 q 468 67 499 106 q 389 -1 438 29 q 289 -31 340 -31 q 213 75 213 -31 q 344 519 213 206 q 518 886 439 740 l 500 886 l 357 889 q 149 858 238 889 q 72 809 100 842 q 43 731 43 776 l 54 672 q 40 658 54 658 q 11 694 22 658 q 0 756 0 729 q 31 867 0 821 q 114 936 61 913 q 335 981 214 981 q 608 966 456 981 q 886 951 761 951 q 1049 990 1011 951 q 1053 971 1053 981 q 994 898 1053 925 q 840 871 936 871 z "},U:{ha:986,x_min:56,x_max:1239,o:"m 428 875 q 454 918 453 915 q 215 870 336 915 q 74 763 93 825 q 68 758 72 758 q 56 776 56 758 q 67 814 56 779 q 111 886 79 849 q 183 942 143 924 q 351 969 251 969 l 667 969 q 509 744 603 921 q 361 433 415 568 q 285 167 285 257 q 356 78 285 78 q 510 163 415 78 q 696 372 604 249 q 950 755 876 618 q 1064 931 1024 892 q 1153 969 1104 969 l 1239 969 q 1049 669 1174 919 q 861 126 861 292 q 910 50 861 50 q 965 68 933 50 l 967 68 q 971 60 971 68 q 901 11 971 33 q 789 -11 832 -11 q 700 92 700 -11 q 736 256 700 143 q 828 490 772 369 q 519 92 621 182 q 311 -10 407 -10 q 151 144 151 -10 q 235 469 151 258 q 428 875 319 679 z "},V:{ha:625,x_min:56,x_max:931,o:"m 806 969 l 931 969 q 665 558 885 894 q 415 174 446 222 q 371 105 385 126 q 351 73 357 83 q 331 46 344 63 q 308 21 318 29 q 253 0 282 0 l 164 0 q 190 98 186 43 q 197 214 194 153 q 202 347 199 275 q 206 493 206 418 q 122 861 206 861 q 63 813 93 861 l 61 811 q 56 819 56 811 l 56 821 q 133 930 72 872 q 236 988 193 988 q 326 877 304 988 q 349 556 349 767 q 332 154 349 346 q 598 581 442 308 q 806 969 754 853 z "},W:{ha:1389,x_min:14,x_max:1532,o:"m 1532 843 l 1532 821 q 1447 501 1532 681 q 1239 186 1363 322 q 1083 61 1172 114 q 901 8 993 8 q 729 267 729 8 q 754 486 729 361 q 539 144 642 264 q 265 -6 408 -6 q 158 43 200 -6 q 115 199 115 92 q 215 545 115 339 q 451 874 314 751 q 514 911 476 897 q 351 888 461 900 q 206 868 242 876 q 57 690 57 835 q 14 786 14 735 q 367 969 14 969 l 651 969 q 654 965 654 969 q 637 940 654 960 q 604 911 619 921 q 467 761 544 875 q 325 491 389 647 q 261 211 261 335 q 349 88 261 88 q 657 399 447 88 q 756 594 700 464 q 833 766 811 724 q 913 852 856 808 q 1019 896 971 896 q 1067 882 1067 896 q 928 611 993 782 q 863 285 863 440 q 975 88 863 94 q 1117 157 1047 88 q 1235 317 1188 226 q 1325 522 1283 408 q 1396 825 1396 713 q 1322 938 1396 938 q 1272 928 1300 938 q 1306 969 1275 953 q 1388 985 1338 985 q 1483 949 1439 985 q 1532 843 1528 914 z "},X:{ha:778,x_min:0,x_max:1097,o:"m 1097 965 q 619 518 860 761 q 761 64 701 210 q 793 0 783 11 l 597 0 l 493 389 q 150 0 310 196 l 0 0 q 476 454 281 257 l 383 817 q 317 876 368 876 q 211 822 265 876 q 207 821 210 821 q 197 833 197 821 q 201 849 197 844 q 316 931 249 894 q 431 968 383 968 q 499 947 478 968 q 527 903 519 926 q 551 805 535 881 q 603 582 568 729 q 938 943 781 764 q 1025 967 960 967 q 1063 966 1039 967 q 1097 965 1088 965 z "},Y:{ha:950,x_min:6,x_max:1050,o:"m 1050 969 q 792 735 919 879 q 539 349 633 556 q 461 111 486 231 q 450 35 450 60 q 456 0 450 10 l 276 0 q 331 172 282 24 q 381 387 381 321 q 349 564 381 453 q 263 767 317 675 q 160 860 210 860 q 15 751 97 860 q 13 750 14 750 q 6 761 6 750 q 7 774 6 772 q 110 919 56 872 q 247 965 164 965 q 368 922 331 965 q 444 749 406 879 q 519 468 482 619 q 675 689 549 508 q 857 942 801 869 q 971 971 879 971 q 1013 970 986 971 q 1050 969 1040 969 z "},Z:{ha:949,x_min:0,x_max:1111,o:"m 1111 969 q 268 178 776 678 q 382 143 307 158 q 679 100 571 100 q 853 200 853 100 q 833 240 853 226 q 838 249 833 243 q 846 254 843 254 q 915 225 885 253 q 944 158 944 197 q 876 37 944 92 q 708 -18 807 -18 q 513 17 608 -18 q 346 87 418 51 q 242 122 274 122 q 149 53 211 122 q 50 -15 86 -15 q 14 1 28 -15 q 0 40 0 17 q 43 108 0 82 q 499 484 218 217 q 900 872 779 751 q 776 833 850 850 q 658 817 703 817 q 521 826 613 817 q 395 835 429 835 q 320 799 361 835 q 275 717 279 764 q 261 708 275 708 q 251 736 251 708 q 295 859 251 793 q 380 949 339 925 q 487 974 421 974 q 664 949 553 974 q 848 924 775 924 q 975 949 921 924 q 1064 975 1029 975 q 1111 969 1099 975 z "},"[":{ha:632,x_min:18,x_max:726,o:"m 389 989 l 726 989 l 704 922 l 492 922 l 165 -40 l 378 -40 l 356 -107 l 18 -107 q 389 989 372 940 z "},"\\":{ha:632,x_min:119,x_max:589,o:"m 236 971 l 589 -74 q 563 -81 590 -78 q 504 -85 535 -85 q 472 -81 474 -85 l 119 964 q 146 972 118 968 q 203 975 174 975 q 236 971 233 975 z "},"]":{ha:632,x_min:18,x_max:726,o:"m 389 989 l 726 989 l 356 -107 l 18 -107 l 40 -40 l 253 -40 l 579 922 l 367 922 l 389 989 z "},"^":{ha:738,x_min:225,x_max:732,o:"m 732 682 l 732 681 q 712 656 732 672 q 678 640 692 640 q 603 719 650 640 q 525 868 557 797 q 357 718 456 799 q 233 638 258 638 q 225 640 225 638 q 226 643 225 642 q 526 924 390 776 q 553 944 544 944 q 576 919 563 944 q 732 682 625 815 z "},_:{ha:1053,x_min:-65,x_max:1054,o:"m 0 -139 l 1053 -139 q 1054 -146 1054 -139 q 1028 -191 1054 -153 q 989 -229 1001 -229 l -64 -229 q -65 -222 -65 -229 q -40 -177 -65 -215 q 0 -139 -14 -139 z "},"`":{ha:738,x_min:454,x_max:732,o:"m 560 806 q 477 846 500 836 q 454 858 454 856 q 482 882 454 867 q 521 897 510 897 q 538 894 532 897 q 611 842 563 876 l 690 782 q 732 754 722 758 q 718 744 732 750 q 701 738 704 738 q 658 757 697 738 q 560 806 658 757 z "},a:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 z "},b:{ha:615,x_min:33,x_max:731,o:"m 722 356 q 731 330 731 356 q 722 290 731 304 l 692 239 q 581 89 624 126 q 489 46 533 46 q 411 100 431 46 q 296 15 354 43 q 165 -14 238 -14 q 63 9 93 -14 q 33 85 33 32 q 50 207 33 139 q 194 638 93 390 q 354 901 296 886 q 420 906 372 906 q 478 908 468 907 q 331 672 424 868 q 192 296 239 476 q 475 561 342 561 q 569 426 569 561 q 456 150 569 290 q 469 113 457 126 q 501 99 482 99 q 544 116 521 99 q 578 147 567 133 q 610 185 590 160 q 656 252 629 210 q 701 325 682 294 q 722 356 719 356 m 414 443 q 392 444 410 444 q 327 408 375 444 q 215 270 279 372 q 151 102 151 168 q 192 36 151 36 q 350 178 265 36 q 435 403 435 321 q 414 443 435 438 z "},c:{ha:497,x_min:47,x_max:611,o:"m 603 356 q 611 329 611 356 q 588 264 611 303 q 552 205 565 225 q 507 140 539 185 q 451 76 475 96 q 392 31 428 57 q 233 -14 331 -14 q 91 35 135 -14 q 47 164 47 85 q 151 431 47 310 q 394 553 254 553 q 494 520 457 553 q 532 442 532 488 q 507 364 532 397 q 450 331 482 331 q 388 382 388 331 q 422 414 388 399 q 447 435 436 419 q 458 475 458 450 q 419 511 458 511 q 254 390 336 511 q 172 156 172 269 q 271 43 172 43 q 539 256 408 43 q 583 326 565 297 q 603 356 600 356 z "},d:{ha:661,x_min:39,x_max:835,o:"m 835 908 q 715 722 789 875 q 583 398 640 568 q 526 151 526 228 q 550 107 526 107 q 609 138 574 107 q 660 189 644 168 q 701 252 675 210 q 745 326 726 294 q 767 357 764 357 q 776 331 776 357 q 661 128 775 282 q 571 35 624 78 q 475 -8 518 -8 q 401 101 401 -8 q 442 308 401 182 q 296 89 378 182 q 132 -4 214 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 374 561 282 561 q 501 500 467 561 q 581 676 540 576 q 635 806 622 776 q 655 850 649 836 q 671 876 661 864 q 708 901 686 896 q 777 906 729 906 q 835 908 825 907 m 494 483 q 439 508 478 508 q 313 445 376 508 q 212 299 250 382 q 174 154 174 217 q 207 111 174 111 q 494 483 319 111 z "},e:{ha:497,x_min:47,x_max:614,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 z "},f:{ha:471,x_min:-240,x_max:879,o:"m 185 435 q 69 236 81 236 q 63 259 63 236 q 71 299 63 282 q 174 521 139 415 q 186 545 179 539 q 210 551 193 551 l 221 551 l 343 542 q 372 618 351 563 q 403 703 392 674 q 436 782 414 732 q 476 861 458 832 q 524 927 494 890 q 582 983 553 964 q 735 1031 653 1031 q 879 924 879 1031 q 856 851 879 883 q 796 819 833 819 q 765 829 778 819 q 751 852 751 839 q 772 895 751 865 q 793 947 793 925 q 776 982 793 968 q 735 996 758 996 q 651 951 693 996 q 575 835 610 907 q 465 565 514 708 q 463 556 464 558 q 456 536 458 544 q 706 556 675 536 q 628 497 688 511 q 436 481 568 483 l 396 364 q 263 24 310 117 q 173 -135 215 -68 q 89 -244 131 -201 q -107 -344 -6 -344 q -208 -312 -175 -344 q -240 -241 -240 -281 q -222 -175 -240 -201 q -182 -149 -204 -149 q -149 -159 -160 -149 q -137 -181 -137 -169 q -152 -219 -137 -193 q -167 -262 -167 -244 q -157 -293 -167 -281 q -122 -306 -147 -306 q -63 -281 -97 -306 q 3 -211 -29 -257 q 318 479 122 -35 l 279 479 q 185 435 208 479 z "},g:{ha:606,x_min:-53,x_max:711,o:"m 656 556 l 711 556 q 647 471 682 536 q 588 342 613 406 q 525 169 564 279 q 375 -159 439 -78 q 231 -284 311 -240 q 86 -328 151 -328 q -53 -240 -53 -328 q -31 -175 -53 -206 q 26 -144 -10 -144 q 75 -174 63 -144 q 53 -203 61 -182 q 46 -242 46 -224 q 60 -274 46 -261 q 99 -286 75 -286 q 219 -219 165 -286 q 311 -62 274 -151 q 444 304 321 -39 q 136 -4 281 -4 q 42 124 42 -4 q 84 321 42 221 q 206 491 126 421 q 379 561 285 561 q 462 542 422 561 q 513 478 501 522 q 562 539 533 522 q 656 556 590 556 m 507 465 q 442 510 493 510 q 263 381 350 510 q 176 153 176 253 q 210 111 176 111 q 294 156 246 111 q 382 263 343 201 q 507 465 507 456 z "},h:{ha:608,x_min:-28,x_max:722,o:"m 708 279 q 419 -8 538 -8 q 338 86 338 -8 q 425 399 338 196 q 444 469 444 450 q 419 497 444 497 q 363 478 403 497 q 288 421 324 458 q 227 334 251 383 q 188 249 203 285 q 158 160 174 213 q 131 76 143 108 q 107 0 119 43 l -28 0 q 80 306 10 96 q 200 637 150 517 q 298 840 250 757 q 408 978 346 922 q 538 1033 469 1033 q 607 968 607 1033 q 569 847 607 922 q 300 481 489 689 q 419 551 375 535 q 503 568 463 568 q 582 499 582 568 q 572 447 582 471 q 551 393 563 424 q 531 343 539 363 q 511 290 524 324 q 492 233 499 257 q 474 140 474 175 q 497 106 474 106 q 706 347 581 106 q 716 357 710 357 q 722 331 722 357 q 708 279 722 306 m 540 999 q 413 844 492 999 q 260 490 335 690 q 519 857 450 714 q 558 972 558 944 q 540 999 558 999 z "},i:{ha:301,x_min:35,x_max:474,o:"m 447 739 l 442 739 q 388 715 414 739 q 351 667 363 692 q 315 717 315 681 q 349 790 315 753 q 413 826 382 826 q 458 813 443 826 q 474 777 474 799 q 447 739 474 756 m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 z "},j:{ha:299,x_min:-414,x_max:474,o:"m 286 542 l 342 542 q 293 488 311 524 q 265 434 275 453 q 240 375 256 415 q 217 314 240 375 q 169 183 190 244 q 141 101 149 122 q 113 32 133 81 q 79 -43 93 -17 q 40 -114 65 -69 q -7 -183 15 -158 q -62 -240 -29 -208 q -128 -287 -94 -271 q -274 -328 -206 -328 q -414 -242 -414 -328 q -392 -176 -414 -207 q -334 -144 -371 -144 q -285 -174 -297 -144 q -306 -203 -299 -182 q -314 -242 -314 -224 q -299 -274 -314 -261 q -260 -287 -285 -287 q -50 -64 -143 -286 q 36 175 -17 15 q 171 508 136 471 q 286 542 204 542 m 447 739 l 442 739 q 388 715 414 739 q 351 667 363 692 q 315 717 315 681 q 349 790 315 753 q 413 826 382 826 q 458 813 443 826 q 474 777 474 799 q 447 739 474 756 z "},k:{ha:571,x_min:-40,x_max:685,o:"m 669 276 q 571 128 621 194 q 360 -11 464 -11 q 274 46 303 -11 q 246 172 246 103 q 288 311 246 311 q 408 341 353 311 q 464 419 464 371 q 419 458 464 458 q 207 250 324 458 q 160 153 196 229 q 98 39 125 78 q 44 0 71 0 l -40 0 q 87 326 3 81 q 211 654 171 571 q 228 690 213 657 q 251 736 244 724 q 275 783 257 749 q 304 835 293 818 q 335 883 315 851 q 369 931 354 914 q 406 970 385 947 q 444 1004 426 993 q 531 1032 492 1032 q 607 963 607 1032 q 490 705 607 865 q 225 401 372 544 l 200 332 q 351 483 267 418 q 507 547 436 547 q 570 528 547 547 q 593 475 593 508 q 526 352 593 399 q 371 292 458 306 q 411 115 383 147 q 446 100 425 100 q 503 125 467 100 q 562 180 539 150 q 610 251 585 210 q 655 324 636 293 q 676 354 674 354 q 685 327 685 354 q 669 276 685 300 m 533 996 q 261 496 456 996 q 511 847 439 704 q 553 971 553 922 q 533 996 553 996 z "},l:{ha:342,x_min:43,x_max:608,o:"m 576 847 q 424 617 526 746 q 239 411 321 489 l 217 347 q 185 229 200 299 q 171 131 169 160 q 201 89 171 89 q 274 124 232 89 q 336 184 317 158 q 381 251 356 210 q 426 324 407 293 q 447 354 444 354 q 456 328 456 354 q 442 279 456 303 q 318 97 365 150 q 121 -8 222 -8 q 43 97 43 -8 q 136 461 43 201 q 168 554 143 483 q 211 665 193 625 q 260 769 229 704 q 319 874 290 835 q 382 953 347 913 q 529 1033 450 1033 q 608 961 608 1033 q 576 847 608 906 m 547 999 l 538 999 q 267 490 453 999 q 526 857 457 714 q 565 972 565 944 q 547 999 565 999 z "},m:{ha:924,x_min:-31,x_max:1038,o:"m 1024 279 q 930 135 972 193 q 833 35 888 78 q 735 -8 779 -8 q 653 86 653 -8 q 740 399 653 196 q 760 469 760 450 q 735 497 760 497 q 682 479 719 497 q 610 425 644 461 q 556 358 576 389 q 510 267 535 328 q 476 181 485 206 q 422 0 436 56 l 286 0 q 385 269 358 200 q 418 356 413 339 l 431 394 q 446 468 446 439 q 419 497 446 497 q 359 478 397 497 q 285 421 321 458 q 224 334 249 383 q 185 249 200 285 q 156 160 171 213 q 128 76 140 108 q 104 0 117 43 l -31 0 q 3 104 -15 58 l 93 335 q 149 538 149 474 q 146 556 149 551 l 204 556 q 265 547 251 556 q 279 522 279 538 q 263 451 279 507 q 507 563 385 563 q 581 501 581 563 q 565 436 581 475 q 825 563 692 563 q 897 501 897 563 q 888 449 897 474 q 863 384 878 424 q 838 319 847 344 q 815 256 828 293 q 789 142 789 179 q 812 106 789 106 q 869 136 835 106 q 922 189 904 167 q 965 252 939 211 q 1008 324 990 293 q 1029 354 1026 354 q 1038 328 1038 354 q 1024 279 1038 303 z "},n:{ha:606,x_min:-29,x_max:719,o:"m 706 279 q 612 135 654 193 q 515 35 569 78 q 417 -8 461 -8 q 335 82 335 -8 q 439 444 335 172 q 444 471 444 457 q 408 500 444 500 q 335 477 371 500 q 271 412 300 454 q 218 326 242 369 q 174 225 194 282 q 142 130 154 168 q 119 48 131 92 q 106 0 107 4 l -29 0 q 93 335 -29 29 q 143 535 143 478 q 139 556 143 549 l 197 556 q 260 546 246 556 q 274 519 274 536 q 258 451 274 503 q 493 563 375 563 q 572 490 572 563 q 565 443 572 467 q 531 349 558 419 q 469 140 469 193 q 494 107 469 107 q 545 132 513 107 q 599 184 578 157 q 647 252 621 211 q 690 324 672 293 q 711 354 708 354 q 719 328 719 354 q 706 279 719 303 z "},o:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 z "},p:{ha:547,x_min:-169,x_max:671,o:"m 657 297 q 476 60 574 144 q 246 -25 379 -25 q 96 43 113 -25 l 18 -200 q -24 -306 -10 -282 q -57 -337 -39 -331 q -103 -344 -75 -344 l -169 -344 q -24 20 -133 -292 q 122 418 86 332 q 174 522 157 504 q 289 556 207 556 l 331 556 q 221 389 290 528 q 449 561 350 561 q 542 433 542 561 q 475 217 542 328 q 318 44 408 106 l 329 44 q 445 90 386 44 q 547 192 504 136 q 614 295 571 222 q 660 368 657 368 q 671 344 671 368 q 657 297 671 321 m 386 443 q 374 444 382 444 q 310 417 344 444 q 189 269 253 372 q 125 101 125 167 q 165 36 125 36 q 322 179 238 36 q 407 403 407 322 q 386 443 407 438 z "},q:{ha:643,x_min:39,x_max:758,o:"m 751 358 q 758 333 758 358 q 751 292 758 307 q 723 244 743 278 q 695 199 703 211 q 667 156 688 186 q 632 113 646 126 q 597 81 618 99 q 520 46 561 46 q 467 78 479 46 q 424 -67 454 36 q 377 -227 394 -169 q 317 -312 360 -285 q 185 -340 275 -340 q 301 -87 235 -272 q 368 103 325 -22 q 432 288 411 229 q 132 -4 271 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 456 543 418 561 q 508 483 494 525 q 557 540 528 524 q 649 556 586 556 l 690 556 q 493 161 610 506 l 493 154 q 531 99 493 99 q 643 192 569 99 q 706 288 663 217 q 751 358 749 358 m 492 446 l 501 468 q 438 510 486 510 q 260 382 346 510 q 174 154 174 254 q 207 111 174 111 q 326 193 256 111 q 438 347 396 275 q 492 446 481 419 z "},r:{ha:467,x_min:75,x_max:582,o:"m 422 558 l 493 557 l 507 557 q 448 467 486 542 q 391 353 410 392 q 349 251 372 315 q 326 146 326 186 q 354 106 326 106 q 405 131 372 107 q 459 183 438 156 q 506 252 481 210 q 551 326 532 294 q 572 357 569 357 q 582 331 582 357 q 568 282 582 306 q 469 131 508 183 q 376 34 431 78 q 276 -10 321 -10 q 197 107 197 -10 q 228 286 197 186 q 318 479 258 386 q 221 440 269 440 q 189 447 206 440 q 83 253 90 253 q 75 276 75 253 q 92 340 75 299 q 130 418 110 381 q 151 460 150 456 q 101 540 101 485 q 119 590 101 568 q 167 613 136 613 q 217 593 197 613 q 214 568 214 585 q 241 509 214 531 q 307 488 268 488 q 324 489 318 488 q 422 558 372 558 z "},s:{ha:525,x_min:35,x_max:640,o:"m 626 282 q 438 40 522 108 q 218 -28 353 -28 q 88 2 140 -28 q 35 90 35 32 q 54 151 35 124 q 108 179 74 179 q 151 154 142 179 q 125 93 125 128 q 203 24 125 24 q 283 56 249 24 q 317 126 317 88 q 300 193 317 164 q 260 244 283 222 q 213 289 236 267 q 156 413 156 343 q 209 531 156 483 q 356 579 263 579 q 454 558 414 579 q 494 494 494 538 q 468 418 494 450 q 397 386 442 386 q 351 428 351 386 q 383 457 351 438 q 415 497 415 476 q 398 528 415 518 q 349 539 381 539 q 287 517 317 539 q 257 458 257 494 q 288 390 257 422 q 354 336 318 358 q 421 274 390 314 q 451 191 451 235 q 431 113 451 147 q 383 57 411 78 q 549 224 461 90 q 578 269 557 235 q 632 357 626 357 q 640 331 640 357 q 626 282 640 306 z "},t:{ha:346,x_min:53,x_max:481,o:"m 481 796 q 328 554 413 749 l 468 554 l 469 553 q 454 528 469 546 q 428 511 439 511 l 308 511 q 199 161 199 239 q 232 108 199 108 q 346 192 281 108 q 386 253 361 210 q 453 356 450 356 q 461 333 461 356 q 346 128 460 281 q 256 35 308 78 q 160 -8 203 -8 q 81 103 81 -8 q 125 317 81 196 l 125 318 q 80 246 99 269 q 58 222 61 222 q 53 240 53 222 q 72 296 53 257 q 123 397 90 335 q 176 511 156 460 l 83 511 q 79 517 79 511 q 90 539 79 524 q 106 554 100 554 l 211 554 q 414 794 311 794 q 481 796 474 794 z "},u:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 z "},v:{ha:561,x_min:35,x_max:668,o:"m 658 275 q 515 174 601 174 q 414 251 443 174 q 244 36 293 69 q 111 -10 176 -10 q 56 23 78 -10 q 35 112 35 56 q 69 281 35 168 q 226 539 138 501 q 343 557 269 557 q 349 551 349 557 q 340 538 349 546 q 226 348 288 493 q 164 142 164 203 q 210 82 164 82 q 300 159 249 82 q 386 329 351 236 q 379 410 379 361 q 403 509 379 460 q 471 558 428 558 q 514 494 514 558 q 468 342 514 419 q 451 311 456 319 q 473 244 453 268 q 525 221 493 221 q 618 283 575 221 q 648 328 635 308 q 663 349 661 349 q 668 319 668 349 q 658 275 668 290 z "},w:{ha:940,x_min:31,x_max:1046,o:"m 567 525 l 642 524 q 669 525 665 524 q 547 292 618 494 q 507 128 507 185 q 549 72 507 72 q 648 128 597 72 q 724 236 699 185 q 765 329 750 288 q 758 414 758 364 q 784 511 758 464 q 849 558 810 558 q 893 496 893 558 q 879 408 893 440 q 851 349 865 376 q 832 311 838 322 q 853 246 832 271 q 903 221 875 221 q 1035 342 968 221 q 1042 349 1039 349 q 1046 329 1046 349 q 994 214 1046 254 q 892 174 943 174 q 793 251 817 174 l 789 265 q 637 53 703 115 q 481 -10 571 -10 q 364 122 364 -10 q 369 176 364 146 q 111 -8 238 -8 q 53 22 76 -8 q 31 108 31 53 q 69 278 31 163 q 231 538 143 500 q 347 556 272 556 q 351 550 351 556 q 342 540 351 554 q 233 342 289 465 q 199 244 222 314 q 175 128 175 175 q 210 82 175 82 q 411 335 279 82 q 468 443 467 442 q 567 525 519 525 z "},x:{ha:622,x_min:-18,x_max:738,o:"m 176 424 q 89 263 101 275 q 82 290 82 263 q 88 329 82 318 q 131 433 110 369 q 169 525 153 496 q 211 554 186 554 l 283 554 q 339 339 300 461 q 435 445 374 374 q 519 542 497 517 q 561 556 532 556 q 605 555 590 556 q 622 554 619 554 q 350 288 511 456 q 436 97 397 135 q 476 79 456 79 q 622 192 532 79 q 661 250 636 208 q 731 358 728 358 q 738 332 738 358 q 722 279 738 306 q 621 128 664 179 q 520 32 578 76 q 408 -12 463 -12 q 317 35 354 -12 q 251 179 279 82 q 85 0 135 63 l -18 0 q 232 238 82 90 q 176 424 199 329 z "},y:{ha:590,x_min:-69,x_max:668,o:"m 611 542 l 668 542 q 581 411 625 515 q 519 252 544 324 q 489 165 494 181 q 463 91 483 150 q 431 0 443 32 q 350 -154 396 -97 q 236 -245 304 -211 q 99 -279 168 -279 q -20 -252 29 -279 q -69 -167 -69 -225 q -51 -112 -69 -136 q -8 -87 -32 -87 q 33 -99 17 -87 q 57 -124 50 -110 q 32 -182 32 -132 q 51 -224 32 -208 q 99 -240 69 -240 q 288 -39 211 -240 l 367 172 q 253 49 301 90 q 178 0 206 8 q 115 -8 151 -8 q 56 22 78 -8 q 34 109 33 51 q 67 274 35 167 q 140 443 100 381 q 222 524 179 506 q 338 542 264 542 q 343 536 343 542 q 335 522 343 531 q 219 343 278 472 q 160 125 160 214 q 186 78 160 78 q 314 178 236 78 q 433 378 392 278 q 449 418 439 392 q 464 454 460 444 q 477 481 468 464 q 493 505 486 499 q 512 521 500 511 q 536 533 524 531 q 611 542 576 542 z "},z:{ha:592,x_min:36,x_max:708,o:"m 692 279 q 527 49 599 124 q 388 -26 456 -26 q 271 15 351 -26 q 173 57 190 57 q 150 53 156 57 q 65 -15 93 -15 q 36 13 36 -15 q 53 58 36 40 q 80 83 71 75 q 108 106 89 92 q 160 147 126 119 q 399 361 261 229 l 447 407 l 419 411 q 289 426 321 426 q 176 390 215 426 q 128 319 172 386 q 82 251 83 251 q 76 281 76 251 q 88 329 76 310 q 122 396 99 349 q 153 459 144 443 q 182 499 163 475 q 224 530 201 522 q 271 538 246 538 q 349 529 296 538 l 365 526 q 510 506 481 506 q 599 553 557 506 q 622 563 607 563 q 665 553 636 563 q 214 119 557 453 q 357 68 278 68 q 363 68 360 68 q 486 101 425 68 q 592 192 547 135 q 654 288 610 215 q 701 361 699 361 q 708 335 708 361 q 692 279 708 308 z "},"{":{ha:635,x_min:13,x_max:694,o:"m 407 -110 l 335 -112 q 166 -101 196 -112 q 115 -76 136 -89 q 76 4 76 -53 q 116 176 76 61 q 156 340 156 290 q 128 416 156 389 q 72 450 100 443 q 13 457 43 457 l 26 500 q 158 521 139 508 q 196 549 176 533 q 275 719 246 588 q 296 802 286 771 q 338 872 306 833 q 415 932 371 910 q 481 964 458 954 q 658 989 542 989 l 694 989 l 682 946 q 500 900 561 946 q 456 847 475 881 q 428 787 436 814 q 409 717 421 760 q 388 649 397 674 q 279 526 360 578 q 114 472 199 475 q 232 431 178 471 q 286 336 286 392 q 254 181 286 281 q 222 29 222 81 q 369 -71 222 -71 q 398 -70 379 -71 q 424 -69 417 -69 l 407 -110 z "},"|":{ha:635,x_min:239,x_max:483,o:"m 388 968 l 483 968 l 336 -74 l 239 -74 l 388 968 z "},"}":{ha:794,x_min:13,x_max:694,o:"m 300 986 l 372 989 q 541 977 511 989 q 592 953 571 965 q 631 872 631 929 q 591 701 631 815 q 551 537 551 586 q 579 460 551 488 q 635 426 607 433 q 694 419 664 419 l 681 376 q 549 356 568 368 q 511 328 531 343 q 432 156 461 288 q 411 74 421 104 q 369 5 401 43 q 290 -56 336 -33 q 225 -87 244 -79 q 158 -105 206 -96 q 76 -114 110 -114 q 31 -113 43 -114 q 13 -112 19 -112 l 26 -69 q 206 -24 146 -69 q 251 29 232 -4 q 278 90 271 63 q 298 160 286 117 q 319 228 310 203 q 426 350 346 299 q 593 404 507 401 q 474 445 528 406 q 421 540 421 485 q 453 696 421 594 q 485 847 485 797 q 338 947 485 947 q 308 947 326 947 q 283 946 290 946 l 300 986 z "},"~":{ha:714,x_min:314,x_max:847,o:"m 846 956 q 692 846 768 846 q 565 876 646 846 q 440 906 485 906 q 336 865 363 906 q 326 860 332 860 q 314 875 314 860 q 365 932 314 890 q 462 974 415 974 q 589 944 508 974 q 708 914 669 914 q 774 929 746 914 q 817 959 801 944 q 836 974 833 974 q 847 961 847 974 q 846 956 847 957 z "},"":{ha:403,x_min:0,x_max:0,o:""},"":{ha:521,x_min:21,x_max:522,o:"m 519 681 q 474 649 504 678 q 435 601 444 619 q 367 658 367 624 q 397 707 367 683 q 465 731 426 731 q 522 696 522 731 q 519 681 522 692 m 117 -156 l 35 -150 q 27 -151 32 -150 q 21 -151 22 -151 q 208 172 97 -42 q 335 431 319 385 l 392 442 q 292 171 368 389 q 189 -122 217 -47 q 117 -156 176 -156 z "},"":{ha:668,x_min:68,x_max:646,o:"m 636 661 q 578 606 617 606 q 547 619 560 606 q 533 648 533 632 q 551 691 533 664 q 568 736 568 718 q 525 778 568 771 l 303 201 q 438 225 363 201 q 572 321 483 240 q 606 347 600 347 q 611 325 611 347 q 590 274 611 303 q 446 160 535 197 q 272 124 357 124 l 194 -81 q 164 -85 193 -85 q 135 -75 135 -85 l 135 -74 l 213 129 q 211 130 211 129 q 210 131 211 131 q 103 197 138 146 q 68 342 68 249 q 128 550 68 435 q 285 744 188 665 q 482 831 382 822 l 536 971 q 568 975 539 975 q 597 965 597 975 l 597 964 l 544 826 q 619 790 592 818 q 646 726 646 763 q 636 661 646 690 m 246 215 l 460 772 q 271 599 351 735 q 190 332 190 463 q 246 215 190 244 z "},"":{ha:893,x_min:28,x_max:879,o:"m 789 236 q 849 213 818 235 q 879 149 879 192 q 817 38 879 89 q 666 -12 756 -12 q 491 19 576 -12 q 340 82 406 50 q 247 114 275 114 q 192 94 218 114 q 147 50 165 75 q 61 -12 103 -12 q 28 32 28 -12 q 67 113 28 76 q 164 156 107 149 q 288 449 210 231 l 160 449 q 158 456 158 449 q 174 488 158 463 q 201 514 190 514 l 311 514 q 549 917 425 829 q 663 957 606 957 q 746 929 719 957 q 772 865 772 901 q 762 801 772 828 q 742 775 751 775 q 739 778 739 775 q 686 850 728 850 q 440 514 597 850 l 604 514 q 606 506 606 514 q 590 474 606 499 q 564 449 575 449 l 410 449 l 389 401 q 254 156 311 225 q 421 123 286 151 q 635 94 556 94 q 796 185 796 94 q 778 224 796 211 l 778 225 q 782 232 778 228 q 789 236 786 236 z "},"":{ha:1157,x_min:163,x_max:993,o:"m 785 679 l 988 824 l 989 824 q 993 798 993 824 q 986 736 993 772 q 968 692 979 700 l 843 603 q 863 510 863 560 q 800 344 863 421 l 894 254 q 899 235 899 250 q 892 192 899 219 q 878 143 886 164 q 868 122 871 122 l 867 122 l 713 269 q 543 224 633 224 q 383 275 453 224 l 168 122 l 167 122 q 163 148 163 122 q 169 210 163 174 q 186 254 176 247 l 321 349 q 296 447 296 393 q 354 613 296 536 l 272 692 q 268 715 268 696 q 281 779 268 735 q 301 824 294 824 l 303 824 l 442 690 q 617 739 521 739 q 785 679 714 739 m 396 466 q 396 427 396 466 q 442 340 396 388 q 560 293 488 293 q 699 353 633 293 q 764 494 764 414 q 717 623 764 575 q 595 671 671 671 q 458 608 519 671 q 396 466 396 544 z "},"":{ha:910,x_min:31,x_max:1010,o:"m 1010 969 q 568 475 750 789 l 690 475 q 692 468 692 475 q 667 428 692 461 q 631 394 643 394 l 525 394 q 463 254 490 328 l 629 254 q 631 247 631 254 q 606 207 631 240 q 569 174 582 174 l 436 174 q 410 43 410 76 q 415 0 410 10 l 236 0 q 288 174 251 68 l 126 174 q 125 181 125 174 q 149 221 125 188 q 186 254 172 254 l 315 254 q 340 381 340 329 l 340 394 l 188 394 q 186 401 186 394 q 210 442 186 408 q 247 475 233 475 l 326 475 q 213 810 297 603 q 144 874 186 874 q 42 822 103 874 l 39 821 q 31 831 31 821 q 33 844 31 842 q 148 930 79 893 q 266 967 217 967 q 333 940 315 967 q 479 468 372 883 q 635 689 508 508 q 817 942 761 869 q 931 971 839 971 q 973 970 946 971 q 1010 969 1000 969 z "},"":{ha:635,x_min:346,x_max:557,o:"m 557 960 l 493 519 q 460 515 493 515 q 431 526 428 515 l 494 967 q 527 971 494 971 q 557 960 560 971 m 472 360 l 408 -81 q 376 -85 408 -85 q 346 -74 343 -85 l 410 367 q 442 371 410 371 q 472 360 475 371 z "},"":{ha:1190,x_min:44,x_max:1175,o:"m 935 994 q 1000 994 935 994 q 1119 953 1064 994 q 1175 852 1175 911 q 1135 742 1175 793 q 1025 692 1096 692 q 954 751 954 692 q 957 774 954 757 q 1021 802 993 774 q 1049 866 1049 831 q 1016 924 1049 901 q 936 946 983 946 q 803 897 856 946 q 750 783 750 849 q 774 708 750 749 q 824 641 799 667 q 897 570 849 615 q 960 511 946 525 q 1065 283 1065 404 q 962 72 1065 163 q 711 -26 858 -18 q 589 -233 700 -147 q 339 -319 478 -319 q 122 -277 200 -319 q 44 -147 44 -235 q 76 -58 44 -99 q 167 -18 108 -18 q 247 -60 226 -18 q 199 -152 199 -99 q 233 -235 199 -206 q 322 -268 267 -265 q 476 -210 410 -268 q 542 -60 542 -153 q 422 160 542 33 q 374 212 421 163 q 295 313 326 261 q 264 435 264 364 q 358 629 264 556 q 590 703 453 703 l 619 703 q 618 726 618 710 q 713 921 618 847 q 935 994 807 994 m 767 463 q 658 590 679 554 q 628 656 638 626 q 582 654 615 654 q 449 606 501 654 q 396 492 396 557 q 421 415 396 457 q 469 349 446 374 q 544 277 492 325 q 606 219 596 229 q 710 24 696 129 q 841 91 786 33 q 896 229 896 149 q 810 414 896 318 q 767 463 771 458 z "},"":{ha:806,x_min:376,x_max:776,o:"m 768 846 q 710 808 740 839 q 665 776 681 776 q 636 800 636 776 q 670 872 636 824 q 733 921 704 921 q 763 900 749 921 q 776 863 776 879 q 768 846 776 847 m 508 846 q 451 808 481 839 q 406 776 421 776 q 376 800 376 776 q 410 872 376 824 q 474 921 444 921 q 503 900 489 921 q 517 863 517 879 q 508 846 517 847 z "},"":{ha:936,x_min:57,x_max:1101,o:"m 1097 476 q 901 140 1071 279 q 525 1 731 1 q 188 122 319 1 q 57 418 57 242 q 139 683 57 560 q 356 879 221 807 q 642 951 490 951 q 971 831 840 951 q 1101 533 1101 711 q 1097 476 1101 506 m 836 178 q 994 528 994 324 q 890 795 994 688 q 629 903 786 903 q 305 760 444 903 q 165 426 165 618 q 269 160 165 267 q 537 53 374 53 q 836 178 700 53 m 817 339 q 500 174 685 174 q 349 239 401 174 q 297 403 297 304 q 403 681 297 551 q 660 810 508 810 q 765 774 726 810 q 804 688 804 738 q 778 601 804 638 q 718 565 753 565 q 649 625 649 565 q 672 647 649 638 q 715 713 715 664 q 702 751 715 736 q 663 767 689 767 q 551 708 608 767 q 455 563 493 650 q 417 398 417 475 q 449 275 417 321 q 545 229 482 229 q 676 272 608 229 q 796 383 743 315 q 807 390 801 390 q 824 369 824 390 q 817 339 824 347 z "},:{ha:657,x_min:39,x_max:772,o:"m 618 975 l 688 974 l 701 974 q 589 784 656 936 q 522 563 522 632 q 547 526 522 526 q 549 526 549 526 q 597 550 567 526 q 650 602 628 574 q 698 672 672 631 q 742 744 724 714 q 764 775 761 775 q 772 749 772 775 q 757 700 772 722 q 663 556 707 615 q 567 454 619 497 q 471 411 514 411 q 396 526 396 411 q 425 696 396 613 q 132 415 267 415 q 39 543 39 415 q 81 740 39 640 q 203 910 124 840 q 376 981 282 981 q 460 960 421 981 q 511 896 499 940 q 558 951 526 928 q 618 975 590 975 m 503 883 q 438 928 489 928 q 260 801 346 928 q 174 574 174 674 q 207 531 174 531 q 292 576 243 531 q 379 682 340 621 q 503 883 465 818 z "},"":{ha:932,x_min:96,x_max:917,o:"m 911 724 l 914 725 q 917 719 917 725 q 790 588 917 685 q 540 417 663 490 q 696 294 617 364 q 806 172 775 225 q 807 161 807 171 q 781 128 807 151 q 747 106 756 106 q 739 107 739 106 q 460 368 593 272 q 431 400 431 389 q 465 432 431 411 q 911 724 711 569 m 575 724 q 578 725 576 725 q 581 721 581 725 q 454 589 581 686 q 206 417 328 492 q 469 172 414 269 q 471 160 471 169 q 445 128 471 150 q 411 106 419 106 q 403 107 403 106 q 124 368 257 272 q 96 400 96 389 q 131 432 96 411 q 575 724 360 561 z "},"":{ha:1126,x_min:4,x_max:988,o:"m 988 454 l 961 313 q 890 25 906 25 q 868 43 872 25 l 897 449 l 4 436 l 4 499 l 929 513 q 966 494 944 513 q 988 454 988 476 z "},"":{ha:681,x_min:213,x_max:667,o:"m 278 400 l 665 400 q 667 393 667 400 q 641 348 667 386 q 601 310 615 310 l 214 310 q 213 317 213 310 q 239 362 213 324 q 278 400 265 400 z "},"":{ha:1154,x_min:57,x_max:1101,o:"m 1097 476 q 901 140 1071 279 q 525 1 731 1 q 188 122 319 1 q 57 418 57 242 q 139 683 57 560 q 356 879 221 807 q 642 951 490 951 q 971 831 840 951 q 1101 533 1101 711 q 1097 476 1101 506 m 836 178 q 994 528 994 324 q 890 795 994 688 q 629 903 786 903 q 305 760 444 903 q 165 426 165 618 q 269 160 165 267 q 537 53 374 53 q 836 178 700 53 m 851 700 q 788 569 851 619 q 640 503 725 518 l 610 497 q 807 175 658 331 q 764 172 797 172 l 692 175 q 580 312 638 175 q 522 500 522 449 q 535 515 522 514 q 695 568 629 524 q 761 694 761 613 q 728 770 761 742 q 631 799 696 799 q 468 481 556 697 q 381 194 381 265 q 385 174 381 181 l 264 174 q 389 522 289 286 q 532 828 479 747 l 678 828 q 808 792 764 828 q 851 700 851 756 z "},"":{ha:714,x_min:389,x_max:774,o:"m 438 951 l 772 951 l 774 950 q 754 918 774 942 q 725 894 735 894 l 390 894 q 389 899 389 894 q 408 927 389 903 q 438 951 428 951 z "},"":{ha:1157,x_min:374,x_max:739,o:"m 731 817 q 647 703 708 750 q 513 657 586 657 q 406 690 439 657 q 374 774 374 722 q 440 919 374 853 q 608 985 507 985 q 706 952 674 985 q 739 869 739 919 q 731 817 739 844 m 679 869 q 604 943 679 943 q 496 886 542 943 q 450 769 450 829 q 522 696 450 696 q 632 753 585 696 q 679 869 679 811 z "},"":{ha:1003,x_min:-50,x_max:974,o:"m 150 522 l 481 511 q 588 797 557 701 q 644 833 592 814 q 711 853 697 853 q 725 851 725 853 l 725 850 q 572 511 590 553 q 972 518 886 514 q 974 515 974 518 q 939 465 974 503 q 886 428 904 428 l 542 440 q 463 256 503 361 q 413 103 424 150 q 355 67 408 86 q 288 47 301 47 q 274 49 274 47 l 274 50 q 453 442 344 181 q 127 437 192 442 q 63 433 63 432 q 97 484 63 446 q 150 522 132 522 m 15 -54 l 686 -54 q 688 -60 688 -54 q 662 -101 688 -67 q 622 -135 636 -135 l -49 -135 q -50 -128 -50 -135 q -24 -88 -50 -122 q 15 -54 1 -54 z "},"":{ha:682,x_min:4,x_max:661,o:"m 661 828 q 610 683 661 740 q 498 592 560 625 q 371 528 436 558 q 125 351 203 451 q 463 275 343 275 q 567 360 567 275 l 593 360 q 553 222 593 275 q 425 168 513 168 q 313 200 372 168 q 207 264 254 232 q 135 296 160 296 q 97 277 110 296 q 83 235 85 258 q 39 174 79 174 q 4 229 4 174 q 189 493 4 357 q 450 703 401 640 q 503 836 503 772 q 480 901 503 876 q 403 925 457 925 q 302 874 350 925 q 254 761 254 822 q 261 722 254 743 q 214 708 239 708 q 169 732 189 708 q 150 793 150 756 q 203 903 150 858 q 435 982 294 982 q 661 828 661 982 z "},"":{ha:657,x_min:6,x_max:660,o:"m 431 979 q 479 979 431 979 q 593 941 526 979 q 660 819 660 903 q 605 682 660 736 q 472 600 550 628 q 577 540 539 586 q 615 432 615 493 q 504 228 615 303 q 249 153 393 153 q 76 196 147 153 q 6 325 6 239 q 38 418 6 375 q 121 461 71 461 q 182 440 151 461 q 132 318 132 372 q 169 235 132 264 q 276 206 206 206 q 402 266 346 206 q 458 402 458 326 q 417 523 458 478 q 311 568 376 568 q 267 560 296 568 q 226 551 239 551 q 203 561 214 551 q 193 586 193 571 q 210 613 193 601 q 260 625 226 625 q 329 613 294 625 q 456 694 403 631 q 508 826 508 757 q 481 901 508 872 q 395 929 454 929 q 292 881 336 929 q 249 769 249 832 q 258 718 249 742 q 213 706 239 706 q 168 730 188 706 q 149 799 149 754 q 177 881 149 843 q 249 939 206 918 q 431 979 336 979 z "},"":{ha:738,x_min:393,x_max:669,o:"m 667 847 q 519 777 611 824 q 424 731 428 731 q 406 738 419 731 q 393 747 393 744 q 484 812 406 754 q 588 888 563 869 q 604 890 593 890 q 642 875 615 890 q 669 851 669 860 q 667 847 669 849 z "},:{ha:629,x_min:-414,x_max:744,o:"m 579 556 l 646 554 q 672 556 667 554 q 562 374 632 529 q 492 149 492 218 q 519 107 492 107 q 569 131 538 107 q 622 183 600 154 q 670 253 644 211 q 715 325 696 294 q 736 356 733 356 q 744 329 744 356 q 729 281 744 303 q 635 137 679 196 q 539 35 592 78 q 442 -8 486 -8 q 364 107 364 -8 q 369 176 364 143 q 111 -8 238 -8 q 97 -7 101 -8 q -289 -328 -47 -328 q -377 -307 -340 -328 q -414 -247 -414 -286 q -392 -176 -414 -207 q -334 -144 -371 -144 q -285 -174 -297 -144 q -306 -203 -299 -182 q -314 -242 -314 -224 q -299 -274 -314 -261 q -260 -287 -285 -287 q -50 -64 -143 -287 q 53 228 -12 28 q 172 511 118 429 q 206 536 185 531 q 272 542 226 542 l 335 542 q 214 292 271 451 q 175 128 175 175 q 210 82 175 82 q 300 155 249 82 q 411 344 351 228 q 481 475 471 460 q 579 556 532 556 z "},"":{ha:775,x_min:60,x_max:932,o:"m 429 969 l 932 969 q 817 819 883 932 q 686 575 750 706 q 558 262 622 444 q 493 3 493 79 q 532 -87 493 -74 l 433 -87 q 376 -11 376 -87 q 439 238 376 65 q 616 653 501 411 q 778 942 731 894 l 704 942 q 501 608 625 854 q 381 324 454 511 q 285 55 307 138 q 263 -94 263 -28 q 301 -174 263 -160 l 222 -174 q 165 -99 165 -174 q 208 99 165 -25 q 351 469 250 224 q 307 468 336 468 q 122 524 185 468 q 60 665 60 581 q 162 875 60 781 q 429 969 264 969 m 599 942 l 506 942 q 277 867 356 942 q 199 694 199 793 q 244 564 199 618 q 368 510 290 510 q 599 942 547 901 z "},"":{ha:376,x_min:214,x_max:379,o:"m 365 449 q 342 419 358 442 q 290 364 297 364 q 242 385 269 364 q 214 425 214 407 q 256 482 214 456 q 346 508 299 508 q 379 478 379 508 q 365 449 379 458 z "},"":{ha:936,x_min:56,x_max:325,o:"m 299 -100 q 285 -104 297 -106 q 265 -103 274 -103 q 172 -167 217 -103 q 128 -294 128 -231 q 183 -358 128 -358 q 285 -306 235 -358 q 291 -303 288 -303 q 294 -312 294 -303 q 251 -369 294 -346 q 156 -392 207 -392 q 81 -363 106 -392 q 56 -289 56 -335 q 115 -138 56 -199 q 261 -78 174 -78 l 267 -78 l 294 -14 q 310 -8 296 -8 q 325 -12 325 -8 l 299 -100 z "},"":{ha:404,x_min:0,x_max:419,o:"m 269 981 l 419 981 q 261 555 358 838 q 147 186 164 272 l 0 186 q 206 728 32 261 l 261 879 l 107 740 l 40 740 l 269 981 z "},:{ha:606,x_min:3,x_max:674,o:"m 660 692 q 518 495 569 547 q 424 443 467 443 q 356 472 381 443 q 161 400 276 400 q 47 442 92 400 q 3 571 3 483 q 42 751 3 658 q 162 910 82 843 q 335 976 242 976 q 467 928 428 976 q 506 806 506 881 q 408 532 506 678 q 444 510 419 510 q 560 603 489 510 q 623 700 583 633 q 665 767 663 767 q 674 741 674 767 q 660 692 674 715 m 399 644 l 408 665 q 442 818 442 743 q 374 913 442 913 q 186 726 278 913 q 136 540 136 624 q 208 453 136 457 q 329 528 268 453 l 326 546 q 324 586 324 563 q 340 635 324 610 q 374 660 357 660 q 399 644 390 660 z "},"":{ha:963,x_min:172,x_max:994,o:"m 967 463 q 994 431 994 442 q 960 400 994 421 q 515 107 726 269 q 511 106 514 106 q 508 111 508 106 q 634 242 508 147 q 885 414 760 338 q 621 660 679 560 q 619 671 619 661 q 644 703 619 681 q 678 725 669 725 q 688 724 686 725 q 967 463 833 558 m 631 463 q 658 431 658 443 q 625 400 658 419 q 179 107 393 271 q 175 106 178 106 q 172 111 172 106 q 301 244 172 147 q 549 414 429 342 q 285 660 343 560 q 283 671 283 661 q 308 703 283 681 q 342 725 333 725 q 351 724 350 725 q 631 463 497 558 z "},"":{ha:1379,x_min:1,x_max:1376,o:"m 1282 449 q 1318 464 1299 464 q 1357 444 1338 464 q 1376 389 1376 424 q 1319 285 1376 331 q 1160 239 1261 239 q 1129 240 1139 239 q 1060 0 1072 63 l 913 0 q 1013 258 932 43 q 931 281 986 265 q 769 315 814 315 q 706 300 724 315 q 686 267 688 285 q 653 217 685 217 q 624 229 636 217 q 613 264 613 242 q 664 349 613 319 l 1182 794 l 1332 794 q 1161 333 1261 632 q 1296 417 1296 344 q 1282 449 1296 439 m 918 964 l 146 -81 q 108 -85 143 -85 q 74 -75 74 -85 l 74 -74 l 846 971 q 884 975 850 975 q 918 965 918 975 l 918 964 m 271 981 l 421 981 q 263 555 360 838 q 149 186 165 272 l 1 186 q 206 728 33 261 l 263 879 l 108 740 l 42 740 l 271 981 m 1181 711 l 771 365 q 906 350 842 361 q 1040 335 971 339 l 1181 711 z "},"":{ha:1319,x_min:0,x_max:1289,o:"m 1289 644 q 1238 499 1289 557 q 1126 408 1188 442 q 999 344 1064 375 q 753 168 831 268 q 1090 92 971 92 q 1194 176 1194 92 l 1221 176 q 1181 38 1221 92 q 1053 -15 1140 -15 q 941 17 1000 -15 q 835 81 882 49 q 763 113 788 113 q 725 94 738 113 q 711 51 713 75 q 667 -10 707 -10 q 632 46 632 -10 q 817 310 632 174 q 1078 519 1029 457 q 1131 653 1131 589 q 1108 717 1131 693 q 1031 742 1085 742 q 930 690 978 742 q 882 578 882 639 q 889 539 882 560 q 842 525 867 525 q 797 549 817 525 q 778 610 778 572 q 831 719 778 675 q 1063 799 922 799 q 1289 644 1289 799 m 864 964 l 92 -81 q 54 -85 89 -85 q 19 -75 19 -85 l 19 -74 l 792 971 q 830 975 796 975 q 864 965 864 975 l 864 964 m 269 1031 l 419 1031 q 261 605 358 888 q 147 236 164 322 l 0 236 q 206 778 32 311 l 261 929 l 107 790 l 40 790 l 269 1031 z "},"":{ha:1694,x_min:6,x_max:1697,o:"m 1603 449 q 1639 464 1619 464 q 1678 444 1658 464 q 1697 389 1697 424 q 1640 285 1697 331 q 1481 239 1582 239 q 1450 240 1460 239 q 1381 0 1393 63 l 1233 0 q 1333 258 1253 43 q 1253 281 1307 265 q 1090 315 1135 315 q 1026 300 1044 315 q 1008 267 1008 285 q 974 217 1006 217 q 945 229 957 217 q 933 264 933 242 q 985 349 933 319 l 1503 794 l 1653 794 q 1482 333 1582 632 q 1617 417 1617 344 q 1603 449 1617 439 m 1282 964 l 510 -81 q 472 -85 507 -85 q 438 -75 438 -85 l 438 -74 l 1210 971 q 1248 975 1214 975 q 1282 965 1282 975 l 1282 964 m 431 979 q 479 979 431 979 q 593 941 526 979 q 660 819 660 903 q 605 682 660 736 q 472 600 550 628 q 577 540 539 586 q 615 432 615 493 q 504 228 615 303 q 249 153 393 153 q 76 196 147 153 q 6 325 6 239 q 38 418 6 375 q 121 461 71 461 q 182 440 151 461 q 132 318 132 372 q 169 235 132 264 q 276 206 206 206 q 402 266 346 206 q 458 402 458 326 q 417 523 458 478 q 311 568 376 568 q 267 560 296 568 q 226 551 239 551 q 203 561 214 551 q 193 586 193 571 q 210 613 193 601 q 260 625 226 625 q 329 613 294 625 q 456 694 403 631 q 508 826 508 757 q 481 901 508 872 q 395 929 454 929 q 292 881 336 929 q 249 769 249 832 q 258 718 249 742 q 213 706 239 706 q 168 730 188 706 q 149 799 149 754 q 177 881 149 843 q 249 939 206 918 q 431 979 336 979 m 1501 711 l 1092 365 q 1227 350 1163 361 q 1361 335 1292 339 l 1501 711 z "},"":{ha:706,x_min:38,x_max:706,o:"m 515 417 l 513 438 q 530 466 513 454 q 565 478 547 478 q 597 439 597 478 q 508 297 597 364 l 483 281 q 219 53 283 153 q 197 -15 197 15 q 231 -111 197 -76 q 317 -146 264 -146 q 419 -111 354 -146 q 474 -58 451 -94 q 497 13 497 -22 q 488 69 497 49 q 533 81 507 81 q 581 56 558 81 q 604 -11 604 31 q 544 -119 604 -78 q 299 -193 443 -193 q 38 -28 38 -193 q 108 124 38 69 q 240 197 167 167 q 347 245 313 228 q 425 289 382 263 q 515 417 515 344 m 703 686 q 658 654 688 683 q 618 607 628 625 q 550 664 550 629 q 580 713 550 689 q 649 736 610 736 q 706 701 706 736 q 703 686 706 697 z "},:{ha:1129,x_min:-67,x_max:1108,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 936 1083 q 853 1124 876 1114 q 831 1136 831 1133 q 858 1160 831 1144 q 897 1175 886 1175 q 914 1172 908 1175 q 986 1119 939 1154 l 1067 1060 q 1108 1032 1099 1036 q 1094 1022 1108 1028 q 1077 1015 1081 1015 q 1035 1035 1074 1015 l 936 1083 z "},:{ha:1129,x_min:-67,x_max:1225,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1222 1125 q 1075 1055 1167 1101 q 979 1008 983 1008 q 962 1015 975 1008 q 949 1025 949 1022 q 1040 1090 961 1032 q 1143 1165 1118 1147 q 1160 1168 1149 1168 q 1198 1153 1171 1168 q 1225 1129 1225 1138 q 1222 1125 1225 1126 z "},:{ha:1129,x_min:-67,x_max:1217,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1217 1064 l 1217 1063 q 1197 1047 1217 1058 q 1165 1036 1176 1036 q 1112 1086 1146 1036 q 1061 1174 1078 1136 q 959 1085 1015 1129 q 881 1042 903 1042 q 858 1046 858 1042 l 858 1047 q 1061 1228 992 1156 q 1084 1240 1072 1240 q 1117 1209 1096 1240 q 1169 1131 1139 1178 q 1217 1064 1200 1085 z "},:{ha:1129,x_min:-67,x_max:1308,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1306 1226 q 1194 1126 1247 1126 q 1104 1151 1163 1126 q 1012 1176 1046 1176 q 953 1156 978 1176 q 926 1135 928 1135 q 911 1148 911 1135 q 947 1201 911 1161 q 1017 1242 983 1242 q 1115 1216 1051 1242 q 1208 1190 1179 1190 q 1252 1205 1236 1190 q 1278 1233 1268 1219 q 1296 1247 1288 1247 q 1308 1236 1308 1247 q 1306 1226 1308 1232 z "},:{ha:1129,x_min:-67,x_max:1265,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1257 1124 q 1199 1085 1229 1117 q 1154 1054 1169 1054 q 1125 1078 1125 1054 q 1159 1150 1125 1101 q 1222 1199 1193 1199 q 1251 1178 1238 1199 q 1265 1141 1265 1157 q 1257 1124 1265 1125 m 997 1124 q 940 1085 969 1117 q 894 1054 910 1054 q 865 1078 865 1054 q 899 1150 865 1101 q 963 1199 933 1199 q 992 1178 978 1199 q 1006 1141 1006 1157 q 997 1124 1006 1125 z "},:{ha:1129,x_min:-67,x_max:1049,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 z "},:{ha:1386,x_min:-67,x_max:1432,o:"m 1228 969 l 1379 976 q 1427 959 1422 976 q 1432 933 1432 942 q 1398 810 1432 885 q 1349 736 1364 736 q 1335 747 1335 736 l 1346 831 q 1311 899 1346 874 q 1228 924 1276 924 q 1156 917 1179 924 q 1118 888 1132 910 q 933 543 1017 736 l 1296 543 l 1297 542 q 1278 503 1297 532 q 1246 475 1258 475 l 903 475 q 829 269 865 383 q 793 119 793 156 q 815 65 793 82 q 890 47 838 47 q 1371 206 1296 47 q 1381 210 1372 210 q 1389 201 1389 210 q 1386 179 1389 193 q 1271 26 1347 58 q 1195 5 1231 10 q 1104 0 1160 0 l 685 0 q 642 67 642 0 q 719 360 642 160 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 l 1228 969 m 978 928 q 845 823 926 896 q 707 692 764 750 q 458 429 536 517 l 746 429 l 794 543 q 979 917 921 847 q 978 922 979 918 q 978 928 978 925 m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 z "},:{ha:904,x_min:4,x_max:936,o:"m 925 772 q 842 676 903 715 q 717 638 782 638 q 667 651 686 638 q 647 685 647 664 q 664 729 647 706 q 699 724 679 724 q 799 761 753 724 q 844 851 844 799 q 738 932 844 932 q 461 835 596 932 q 244 583 326 738 q 161 268 161 428 q 386 21 161 21 q 683 129 526 21 q 892 364 840 238 q 918 315 918 346 q 829 160 918 253 q 606 13 740 68 q 331 -42 471 -42 q 4 263 4 -42 q 56 503 4 378 q 194 737 107 629 q 413 914 282 844 q 672 983 544 983 q 868 940 800 983 q 936 828 936 896 q 925 772 936 803 m 296 -125 q 283 -129 294 -131 q 263 -128 271 -128 q 169 -192 214 -128 q 125 -319 125 -256 q 181 -383 125 -383 q 282 -331 232 -383 q 288 -328 285 -328 q 292 -337 292 -328 q 248 -394 292 -371 q 153 -417 204 -417 q 78 -388 103 -417 q 53 -314 53 -360 q 112 -163 53 -224 q 258 -103 171 -103 l 264 -103 l 292 -39 q 308 -33 293 -33 q 322 -37 322 -33 l 296 -125 z "},:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 540 1083 q 458 1124 481 1114 q 435 1136 435 1133 q 463 1160 435 1144 q 501 1175 490 1175 q 518 1172 513 1175 q 592 1119 543 1154 l 671 1060 q 713 1032 703 1036 q 699 1022 713 1028 q 681 1015 685 1015 q 639 1035 678 1015 l 540 1083 z "},:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 781 1125 q 633 1055 725 1101 q 538 1008 542 1008 q 520 1015 533 1008 q 507 1025 507 1022 q 598 1090 519 1032 q 701 1165 676 1147 q 718 1168 707 1168 q 756 1153 729 1168 q 783 1129 783 1138 q 781 1125 783 1126 z "},:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 810 1053 l 810 1051 q 790 1036 810 1047 q 758 1025 769 1025 q 705 1075 739 1025 q 654 1163 671 1125 q 552 1074 608 1118 q 474 1031 496 1031 q 451 1035 451 1031 l 451 1036 q 654 1217 585 1144 q 677 1229 665 1229 q 710 1198 689 1229 q 763 1120 732 1167 q 810 1053 793 1074 z "},:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 833 1124 q 776 1085 806 1117 q 731 1054 746 1054 q 701 1078 701 1054 q 735 1150 701 1101 q 799 1199 769 1199 q 828 1178 814 1199 q 842 1141 842 1157 q 833 1124 842 1125 m 574 1124 q 516 1085 546 1117 q 471 1054 486 1054 q 442 1078 442 1054 q 476 1150 442 1101 q 539 1199 510 1199 q 568 1178 554 1199 q 582 1141 582 1157 q 574 1124 582 1125 z "},:{ha:567,x_min:6,x_max:615,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 432 1083 q 349 1124 372 1114 q 326 1136 326 1133 q 354 1160 326 1144 q 393 1175 382 1175 q 410 1172 404 1175 q 483 1119 435 1154 l 563 1060 q 604 1032 594 1036 q 590 1022 604 1028 q 573 1015 576 1015 q 531 1035 569 1015 l 432 1083 z "},:{ha:567,x_min:6,x_max:732,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 729 1125 q 582 1055 674 1101 q 486 1008 490 1008 q 469 1015 482 1008 q 456 1025 456 1022 q 547 1090 468 1032 q 650 1165 625 1147 q 667 1168 656 1168 q 705 1153 678 1168 q 732 1129 732 1138 q 729 1125 732 1126 z "},:{ha:567,x_min:6,x_max:710,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 710 1047 l 710 1046 q 690 1031 710 1042 q 658 1019 669 1019 q 605 1069 639 1019 q 554 1157 571 1119 q 452 1069 508 1113 q 374 1025 396 1025 q 351 1029 351 1025 l 351 1031 q 554 1211 485 1139 q 577 1224 565 1224 q 610 1192 589 1224 q 663 1115 632 1161 q 710 1047 693 1068 z "},:{ha:567,x_min:6,x_max:718,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 710 1124 q 652 1085 682 1117 q 607 1054 622 1054 q 578 1078 578 1054 q 612 1150 578 1101 q 675 1199 646 1199 q 704 1178 690 1199 q 718 1141 718 1157 q 710 1124 718 1125 m 450 1124 q 392 1085 422 1117 q 347 1054 363 1054 q 318 1078 318 1054 q 352 1150 318 1101 q 415 1199 386 1199 q 444 1178 431 1199 q 458 1141 458 1157 q 450 1124 458 1125 z "},:{ha:1015,x_min:0,x_max:1039,o:"m 1032 497 q 908 213 1006 333 q 672 32 811 92 q 371 -28 533 -28 q 69 126 69 -28 q 85 237 69 189 q 107 300 101 285 q 149 403 128 363 l 11 403 q 10 410 10 403 q 29 449 10 418 q 61 479 49 479 l 179 479 q 320 790 260 671 q 385 914 381 908 q 161 865 275 906 q 13 765 47 825 q 6 761 11 761 q 0 769 0 761 q 1 779 0 776 q 194 956 54 924 q 365 969 258 969 l 650 969 q 943 863 847 969 q 1039 590 1039 756 q 1032 497 1039 550 m 886 486 q 901 608 901 550 q 822 832 901 743 q 701 903 778 881 q 557 926 624 926 q 328 479 456 792 l 490 479 q 492 472 492 479 q 472 433 492 464 q 440 403 453 403 l 299 403 q 285 369 296 394 q 271 333 275 344 q 258 299 267 322 q 246 262 250 275 q 235 227 242 249 q 226 189 229 206 q 219 108 219 150 q 247 49 219 65 q 346 32 275 32 q 690 162 539 32 q 886 486 842 292 z "},:{ha:976,x_min:53,x_max:1192,o:"m 1192 968 q 1035 735 1136 932 q 856 323 935 538 q 778 25 778 108 q 781 0 778 7 l 693 0 q 665 141 689 81 q 628 231 640 201 q 585 331 615 261 q 531 456 554 400 q 449 742 458 624 q 268 310 357 538 q 179 13 179 82 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 583 969 q 564 892 564 938 q 643 603 564 789 q 728 381 715 429 q 745 318 742 333 q 750 282 749 303 q 753 256 751 261 q 1063 969 771 300 q 1088 976 1065 976 q 1149 972 1111 976 q 1192 968 1186 968 m 1050 1226 q 939 1126 992 1126 q 849 1151 907 1126 q 756 1176 790 1176 q 697 1156 722 1176 q 671 1135 672 1135 q 656 1148 656 1135 q 692 1201 656 1161 q 762 1242 728 1242 q 860 1216 796 1242 q 952 1190 924 1190 q 997 1205 981 1190 q 1022 1233 1013 1219 q 1040 1247 1032 1247 q 1053 1236 1053 1247 q 1050 1226 1053 1232 z "},:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 700 1108 q 617 1149 640 1139 q 594 1161 594 1158 q 622 1185 594 1169 q 661 1200 650 1200 q 678 1197 672 1200 q 750 1144 703 1179 l 831 1085 q 872 1057 863 1061 q 858 1047 872 1053 q 841 1040 844 1040 q 799 1060 838 1040 l 700 1108 z "},:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 946 1160 q 799 1090 890 1136 q 703 1043 707 1043 q 685 1050 699 1043 q 672 1060 672 1057 q 763 1124 685 1067 q 867 1200 842 1182 q 883 1203 872 1203 q 922 1188 894 1203 q 949 1164 949 1172 q 946 1160 949 1161 z "},:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 954 1076 l 954 1075 q 934 1060 954 1071 q 903 1049 914 1049 q 849 1099 883 1049 q 799 1186 815 1149 q 697 1098 753 1142 q 618 1054 640 1054 q 596 1058 596 1054 l 596 1060 q 799 1240 729 1168 q 822 1253 810 1253 q 855 1222 833 1253 q 907 1144 876 1190 q 954 1076 938 1097 z "},:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 1003 1226 q 892 1126 944 1126 q 801 1151 860 1126 q 709 1176 743 1176 q 650 1156 675 1176 q 624 1135 625 1135 q 608 1148 608 1135 q 644 1201 608 1161 q 715 1242 681 1242 q 813 1216 749 1242 q 905 1190 876 1190 q 949 1205 933 1190 q 975 1233 965 1219 q 993 1247 985 1247 q 1006 1236 1006 1247 q 1003 1226 1006 1232 z "},:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 976 1175 q 919 1137 949 1168 q 874 1106 889 1106 q 844 1129 844 1106 q 878 1201 844 1153 q 942 1250 913 1250 q 971 1229 957 1250 q 985 1192 985 1208 q 976 1175 985 1176 m 717 1175 q 659 1137 689 1168 q 614 1106 629 1106 q 585 1129 585 1106 q 619 1201 585 1153 q 682 1250 653 1250 q 711 1229 697 1250 q 725 1192 725 1208 q 717 1175 725 1176 z "},"":{ha:1028,x_min:214,x_max:908,o:"m 575 475 l 904 710 l 906 710 q 908 690 908 710 q 888 599 908 614 l 633 418 l 826 233 q 831 213 831 229 q 820 160 831 196 q 803 124 810 124 l 554 361 l 219 124 l 218 124 q 214 145 214 124 q 220 197 214 167 q 235 233 226 228 l 494 418 l 307 599 q 303 619 303 603 q 314 672 303 635 q 331 710 325 710 l 332 710 l 575 475 z "},:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 232 -33 288 -44 l 199 -81 q 161 -85 196 -85 q 126 -75 126 -85 l 126 -74 l 168 -15 q 4 258 4 47 q 98 605 4 439 q 349 875 192 771 q 683 983 507 979 q 865 957 790 983 l 886 985 q 924 989 890 989 q 958 979 958 989 l 958 978 l 924 929 q 1054 667 1054 847 q 997 421 1054 553 m 768 240 q 806 290 768 240 q 892 460 844 339 q 939 698 939 582 q 881 869 939 814 l 279 31 q 369 13 319 13 q 585 77 478 13 q 768 240 692 142 m 228 68 l 828 904 q 744 919 789 919 q 530 857 636 919 q 346 698 424 794 q 219 481 268 601 q 171 245 171 361 q 228 68 171 129 z "},:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 789 1106 q 706 1145 729 1135 q 683 1157 683 1156 q 711 1181 683 1165 q 750 1196 739 1196 q 767 1193 761 1196 q 839 1139 792 1175 l 919 1081 q 961 1053 951 1057 q 947 1042 961 1049 q 930 1036 933 1036 q 888 1056 926 1036 l 789 1106 z "},:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 1021 1149 q 874 1078 965 1125 q 778 1032 782 1032 q 760 1039 774 1032 q 747 1049 747 1046 q 838 1113 760 1056 q 942 1189 917 1171 q 958 1192 947 1192 q 997 1176 969 1192 q 1024 1153 1024 1161 q 1021 1149 1024 1150 z "},:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 1036 1047 l 1036 1046 q 1016 1031 1036 1042 q 985 1019 996 1019 q 931 1069 965 1019 q 881 1157 897 1119 q 778 1069 835 1113 q 700 1025 722 1025 q 678 1029 678 1025 l 678 1031 q 881 1211 811 1139 q 903 1224 892 1224 q 937 1192 915 1224 q 989 1115 958 1161 q 1036 1047 1019 1068 z "},:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 1029 1117 q 972 1078 1001 1110 q 926 1047 942 1047 q 897 1071 897 1047 q 931 1143 897 1094 q 994 1192 965 1192 q 1024 1171 1010 1192 q 1038 1134 1038 1150 q 1029 1117 1038 1118 m 769 1117 q 712 1078 742 1110 q 667 1047 682 1047 q 638 1071 638 1047 q 672 1143 638 1094 q 735 1192 706 1192 q 764 1171 750 1192 q 778 1134 778 1150 q 769 1117 778 1118 z "},:{ha:950,x_min:6,x_max:1050,o:"m 1050 969 q 792 735 919 879 q 539 349 633 556 q 461 111 486 231 q 450 35 450 60 q 456 0 450 10 l 276 0 q 331 172 282 24 q 381 387 381 321 q 349 564 381 453 q 263 767 317 675 q 160 860 210 860 q 15 751 97 860 q 13 750 14 750 q 6 761 6 750 q 7 774 6 772 q 110 919 56 872 q 247 965 164 965 q 368 922 331 965 q 444 749 406 879 q 519 468 482 619 q 675 689 549 508 q 857 942 801 869 q 971 971 879 971 q 1013 970 986 971 q 1050 969 1040 969 m 821 1125 q 674 1055 765 1101 q 578 1008 582 1008 q 560 1015 574 1008 q 547 1025 547 1022 q 638 1090 560 1032 q 742 1165 717 1147 q 758 1168 747 1168 q 797 1153 769 1168 q 824 1129 824 1138 q 821 1125 824 1126 z "},:{ha:693,x_min:-75,x_max:829,o:"m 586 1006 l 646 1001 q 686 1004 665 1001 q 506 763 631 968 l 571 763 q 764 707 699 763 q 829 567 829 651 q 677 315 829 417 q 296 213 525 213 q 232 217 264 213 q 117 -178 117 -75 q 122 -207 117 -193 l -57 -207 q 178 425 -1 22 q 208 496 185 440 q 289 657 250 599 l 317 711 q 81 663 200 708 q -57 556 -37 617 q -62 551 -58 551 q -75 569 -75 551 q -63 607 -75 572 q -19 679 -51 642 q 53 733 13 717 q 221 763 121 763 l 344 763 q 453 940 403 871 q 586 1006 501 1006 m 257 239 q 458 274 358 239 q 620 379 557 308 q 683 550 683 450 q 493 721 683 710 q 269 307 394 594 l 240 239 l 257 239 z "},:{ha:756,x_min:-456,x_max:872,o:"m 857 281 q 675 50 765 124 q 442 -24 585 -24 q 317 6 368 -24 q 267 89 267 35 q 286 151 267 122 q 340 179 306 179 q 383 154 374 179 q 357 93 357 128 q 435 24 357 24 q 515 56 481 24 q 549 122 549 88 q 534 185 549 156 q 475 258 519 214 q 399 344 431 301 q 368 440 368 386 q 403 532 368 493 q 488 597 438 571 q 588 648 538 622 q 674 716 639 674 q 708 813 708 758 q 677 894 708 868 q 601 921 646 921 q 254 432 433 921 q 247 412 250 422 q 220 340 243 401 q 188 253 197 278 q 156 172 178 228 q 121 84 135 117 q 88 6 107 51 q 3 -157 57 -65 q -117 -301 -50 -249 q -278 -354 -183 -354 q -414 -319 -372 -354 q -456 -241 -456 -285 q -433 -169 -456 -197 q -383 -142 -410 -142 q -329 -181 -329 -142 q -348 -217 -329 -189 q -367 -265 -367 -246 q -317 -310 -367 -310 q -257 -292 -294 -310 q -175 -223 -219 -274 q -99 -118 -131 -172 q -31 19 -67 -64 q 26 161 6 103 q 78 312 47 219 q 130 458 110 404 q 163 547 150 513 q 205 647 175 581 q 258 751 235 714 q 320 837 281 788 q 399 911 360 886 q 607 976 496 976 q 742 936 679 976 q 806 822 806 896 q 773 732 806 771 q 693 668 740 693 q 599 619 646 643 q 519 558 551 594 q 486 482 486 522 q 506 413 486 442 q 556 363 526 385 q 614 319 585 342 q 683 186 683 264 q 663 113 683 147 q 615 57 643 78 q 710 128 663 76 q 786 231 757 181 q 838 322 815 282 q 866 361 860 361 q 872 333 872 361 q 857 281 872 306 z "},:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 450 767 q 367 807 390 797 q 344 819 344 817 q 372 843 344 828 q 411 858 400 858 q 428 856 422 858 q 500 803 453 838 l 581 743 q 622 715 613 719 q 608 705 622 711 q 591 699 594 699 q 549 718 588 699 l 450 767 z "},:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 651 817 q 504 747 596 793 q 408 700 413 700 q 391 707 404 700 q 378 717 378 714 q 469 781 390 724 q 572 857 547 839 q 589 860 578 860 q 627 844 600 860 q 654 821 654 829 q 651 817 654 818 z "},:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 661 710 l 661 708 q 641 693 661 704 q 610 682 621 682 q 556 732 590 682 q 506 819 522 782 q 403 731 460 775 q 325 688 347 688 q 303 692 303 688 l 303 693 q 506 874 436 801 q 528 886 517 886 q 562 855 540 886 q 614 777 583 824 q 661 710 644 731 z "},:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 713 824 q 601 724 654 724 q 511 749 569 724 q 419 774 453 774 q 360 753 385 774 q 333 732 335 732 q 318 745 318 732 q 354 799 318 758 q 424 839 390 839 q 522 813 458 839 q 615 788 586 788 q 659 802 643 788 q 685 831 675 817 q 703 844 694 844 q 715 833 715 844 q 713 824 715 829 z "},:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 708 775 q 651 737 681 768 q 606 706 621 706 q 576 729 576 706 q 610 801 576 753 q 674 850 644 850 q 703 829 689 850 q 717 792 717 808 q 708 775 717 776 m 449 775 q 391 737 421 768 q 346 706 361 706 q 317 729 317 706 q 351 801 317 753 q 414 850 385 850 q 443 829 429 850 q 457 792 457 808 q 449 775 457 776 z "},:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 678 796 q 614 708 661 744 q 509 672 567 672 q 426 698 451 672 q 401 764 401 724 q 452 876 401 825 q 582 926 503 926 q 658 901 632 926 q 685 836 685 875 q 678 796 685 819 m 600 893 l 586 894 q 508 852 542 894 q 475 765 475 810 q 528 711 475 711 q 608 753 574 711 q 642 842 642 796 q 600 893 642 888 z "},:{ha:858,x_min:39,x_max:975,o:"m 618 556 l 688 554 l 701 554 q 674 518 692 546 q 792 553 740 553 q 869 528 844 553 q 893 475 893 504 q 817 319 893 372 q 667 265 742 265 q 560 283 593 265 l 546 244 q 533 160 535 215 q 557 74 532 106 q 636 43 582 43 q 752 88 690 43 q 858 190 814 133 q 957 351 901 246 q 967 361 963 361 q 975 334 975 361 q 953 269 975 307 q 909 199 931 232 q 851 121 888 165 q 781 50 815 76 q 606 -14 693 -14 q 463 31 518 -14 q 408 164 408 75 q 431 267 408 211 q 271 64 340 132 q 132 -4 201 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 556 531 525 506 q 618 556 588 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 819 471 q 781 511 819 511 q 660 444 726 511 q 593 336 593 378 q 646 308 593 308 q 756 360 699 308 q 819 471 814 411 z "},:{ha:497,x_min:-14,x_max:611,o:"m 603 356 q 611 329 611 356 q 588 264 611 303 q 552 205 565 225 q 507 140 539 185 q 451 76 475 96 q 392 31 428 57 q 233 -14 331 -14 q 91 35 135 -14 q 47 164 47 85 q 151 431 47 310 q 394 553 254 553 q 494 520 457 553 q 532 442 532 488 q 507 364 532 397 q 450 331 482 331 q 388 382 388 331 q 422 414 388 399 q 447 435 436 419 q 458 475 458 450 q 419 511 458 511 q 254 390 336 511 q 172 156 172 269 q 271 43 172 43 q 539 256 408 43 q 583 326 565 297 q 603 356 600 356 m 229 -100 q 216 -104 228 -106 q 196 -103 204 -103 q 103 -167 147 -103 q 58 -294 58 -231 q 114 -358 58 -358 q 215 -306 165 -358 q 222 -303 218 -303 q 225 -312 225 -303 q 181 -369 225 -346 q 87 -392 138 -392 q 11 -363 36 -392 q -14 -289 -14 -335 q 45 -138 -14 -199 q 192 -78 104 -78 l 197 -78 l 225 -14 q 241 -8 226 -8 q 256 -12 256 -8 l 229 -100 z "},:{ha:497,x_min:47,x_max:614,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 358 750 q 276 790 299 781 q 253 803 253 800 q 281 826 253 811 q 319 842 308 842 q 336 839 331 842 q 408 786 361 821 l 489 726 q 531 699 521 703 q 517 688 531 694 q 499 682 503 682 q 457 701 496 682 l 358 750 z "},:{ha:497,x_min:47,x_max:635,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 632 793 q 485 723 576 769 q 389 676 393 676 q 372 683 385 676 q 358 693 358 690 q 449 758 371 700 q 553 833 528 815 q 569 836 558 836 q 608 821 581 836 q 635 797 635 806 q 632 793 635 794 z "},:{ha:497,x_min:47,x_max:625,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 625 715 l 625 714 q 605 699 625 710 q 574 688 585 688 q 520 738 554 688 q 469 825 486 788 q 367 737 424 781 q 289 693 311 693 q 267 697 267 693 l 267 699 q 469 879 400 807 q 492 892 481 892 q 526 860 504 892 q 578 783 547 829 q 625 715 608 736 z "},:{ha:497,x_min:47,x_max:678,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 669 774 q 612 735 642 767 q 567 704 582 704 q 538 728 538 704 q 572 800 538 751 q 635 849 606 849 q 664 828 650 849 q 678 791 678 807 q 669 774 678 775 m 410 774 q 352 735 382 767 q 307 704 322 704 q 278 728 278 704 q 312 800 278 751 q 375 849 346 849 q 404 828 390 849 q 418 791 418 807 q 410 774 418 775 z "},:{ha:301,x_min:35,x_max:421,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 249 764 q 166 803 189 793 q 143 815 143 814 q 171 839 143 824 q 210 854 199 854 q 226 851 221 854 q 300 797 251 833 l 379 739 q 421 711 411 715 q 407 701 421 707 q 390 694 393 694 q 347 714 386 694 l 249 764 z "},:{ha:301,x_min:35,x_max:510,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 507 815 q 360 745 451 792 q 264 699 268 699 q 247 706 260 699 q 233 715 233 713 q 324 780 246 722 q 428 856 403 838 q 444 858 433 858 q 483 843 456 858 q 510 819 510 828 q 507 815 510 817 z "},:{ha:301,x_min:35,x_max:500,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 500 707 l 500 706 q 480 690 500 701 q 449 679 460 679 q 395 729 429 679 q 344 817 361 779 q 242 728 299 772 q 164 685 186 685 q 142 689 142 685 l 142 690 q 344 871 275 799 q 367 883 356 883 q 401 852 379 883 q 453 774 422 821 q 500 707 483 728 z "},:{ha:301,x_min:35,x_max:517,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 508 776 q 451 738 481 769 q 406 707 421 707 q 376 731 376 707 q 410 803 376 754 q 474 851 444 851 q 503 831 489 851 q 517 794 517 810 q 508 776 517 778 m 249 776 q 191 738 221 769 q 146 707 161 707 q 117 731 117 707 q 151 803 117 754 q 214 851 185 851 q 243 831 229 851 q 257 794 257 810 q 249 776 257 778 z "},:{ha:669,x_min:-28,x_max:624,o:"m 453 849 q 578 652 533 767 q 624 429 624 538 q 582 219 624 321 q 450 45 540 118 q 252 -28 360 -28 q 92 44 144 -28 q 40 221 40 115 q 83 422 40 326 q 206 584 125 518 q 386 650 288 650 q 406 642 406 650 q 383 626 406 635 q 274 540 324 607 q 199 391 225 474 q 174 232 174 308 q 314 51 174 51 q 462 141 406 51 q 518 339 518 231 q 473 569 518 447 q 356 785 428 692 q 168 664 236 710 l 167 664 q 164 679 164 664 q 182 751 164 740 l 313 835 q 117 936 215 936 q 60 888 60 936 q 81 838 60 864 q 101 797 101 811 q 87 772 101 783 q 46 761 72 761 q -4 790 19 761 q -28 863 -28 818 q 17 943 -28 907 q 157 979 63 979 q 403 893 293 979 l 525 974 q 529 957 529 974 q 513 886 529 899 l 453 849 z "},:{ha:606,x_min:-29,x_max:719,o:"m 706 279 q 612 135 654 193 q 515 35 569 78 q 417 -8 461 -8 q 335 82 335 -8 q 439 444 335 172 q 444 471 444 457 q 408 500 444 500 q 335 477 371 500 q 271 412 300 454 q 218 326 242 369 q 174 225 194 282 q 142 130 154 168 q 119 48 131 92 q 106 0 107 4 l -29 0 q 93 335 -29 29 q 143 535 143 478 q 139 556 143 549 l 197 556 q 260 546 246 556 q 274 519 274 536 q 258 451 274 503 q 493 563 375 563 q 572 490 572 563 q 565 443 572 467 q 531 349 558 419 q 469 140 469 193 q 494 107 469 107 q 545 132 513 107 q 599 184 578 157 q 647 252 621 211 q 690 324 672 293 q 711 354 708 354 q 719 328 719 354 q 706 279 719 303 m 628 807 q 517 707 569 707 q 426 732 485 707 q 334 757 368 757 q 275 736 300 757 q 249 715 250 715 q 233 728 233 715 q 269 782 233 742 q 340 822 306 822 q 438 797 374 822 q 530 771 501 771 q 574 785 558 771 q 600 814 590 800 q 618 828 610 828 q 631 817 631 828 q 628 807 631 813 z "},:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 347 758 q 265 799 288 789 q 242 811 242 808 q 269 835 242 819 q 308 850 297 850 q 325 847 319 850 q 397 794 350 829 l 478 735 q 519 707 510 711 q 506 697 519 703 q 488 690 492 690 q 446 710 485 690 l 347 758 z "},:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 599 807 q 451 737 543 783 q 356 690 360 690 q 338 697 351 690 q 325 707 325 704 q 416 772 338 714 q 519 847 494 829 q 536 850 525 850 q 574 835 547 850 q 601 811 601 819 q 599 807 601 808 z "},:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 607 697 l 607 696 q 587 681 607 692 q 556 669 567 669 q 502 719 536 669 q 451 807 468 769 q 349 719 406 763 q 271 675 293 675 q 249 679 249 675 l 249 681 q 451 861 382 789 q 474 874 463 874 q 508 842 486 874 q 560 765 529 811 q 607 697 590 718 z "},:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 622 799 q 511 699 564 699 q 421 724 479 699 q 328 749 363 749 q 269 728 294 749 q 243 707 244 707 q 228 720 228 707 q 264 774 228 733 q 334 814 300 814 q 432 788 368 814 q 524 763 496 763 q 569 777 553 763 q 594 806 585 792 q 613 819 604 819 q 625 808 625 819 q 622 799 625 804 z "},:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 667 764 q 609 726 639 757 q 564 694 579 694 q 535 718 535 694 q 569 790 535 742 q 632 839 603 839 q 661 818 647 839 q 675 781 675 797 q 667 764 675 765 m 407 764 q 349 726 379 757 q 304 694 319 694 q 275 718 275 694 q 309 790 275 742 q 372 839 343 839 q 401 818 388 839 q 415 781 415 797 q 407 764 415 765 z "},"":{ha:1024,x_min:214,x_max:803,o:"m 633 668 q 576 603 585 603 q 540 619 561 603 q 518 655 518 636 q 550 693 518 674 q 619 713 582 713 q 643 690 643 713 q 633 668 643 676 m 279 517 l 801 517 q 803 510 803 517 q 777 465 803 503 q 738 426 751 426 l 215 426 q 214 433 214 426 q 240 478 214 440 q 279 517 267 517 m 483 268 q 476 247 483 254 q 456 224 468 240 q 415 181 421 181 q 378 197 400 181 q 357 233 357 214 q 390 272 357 251 q 453 292 422 292 q 483 268 483 292 z "},:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 382 45 451 101 q 201 -11 313 -11 l 199 -11 l 108 -154 q 81 -161 104 -161 q 58 -158 58 -161 l 58 -157 l 154 -4 q 49 158 49 24 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 494 533 453 565 l 571 654 q 598 661 575 661 q 621 658 621 661 l 621 657 l 524 503 q 551 392 551 460 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 232 315 q 182 133 182 213 q 200 67 182 90 l 464 485 q 419 501 450 501 q 232 315 324 501 m 450 244 q 406 317 414 274 l 233 44 q 254 42 247 42 q 365 105 314 42 q 450 244 415 168 z "},:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 401 753 q 319 792 342 782 q 296 804 296 803 q 324 828 296 813 q 363 843 351 843 q 379 840 374 843 q 453 786 404 822 l 532 728 q 574 700 564 704 q 560 690 574 696 q 542 683 546 683 q 500 703 539 683 l 401 753 z "},:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 638 801 q 490 731 582 778 q 394 685 399 685 q 377 692 390 685 q 364 701 364 699 q 455 766 376 708 q 558 842 533 824 q 575 844 564 844 q 613 829 586 844 q 640 806 640 814 q 638 801 640 803 z "},:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 663 701 l 663 700 q 642 685 663 696 q 611 674 622 674 q 558 724 592 674 q 507 811 524 774 q 405 723 461 767 q 326 679 349 679 q 304 683 304 679 l 304 685 q 507 865 438 793 q 530 878 518 878 q 563 847 542 878 q 615 769 585 815 q 663 701 646 722 z "},:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 660 769 q 602 731 632 763 q 557 700 572 700 q 528 724 528 700 q 562 796 528 747 q 625 844 596 844 q 654 824 640 844 q 668 787 668 803 q 660 769 668 771 m 400 769 q 342 731 372 763 q 297 700 313 700 q 268 724 268 700 q 302 796 268 747 q 365 844 336 844 q 394 824 381 844 q 408 787 408 803 q 400 769 408 771 z "},:{ha:590,x_min:-69,x_max:668,o:"m 611 542 l 668 542 q 581 411 625 515 q 519 252 544 324 q 489 165 494 181 q 463 91 483 150 q 431 0 443 32 q 350 -154 396 -97 q 236 -245 304 -211 q 99 -279 168 -279 q -20 -252 29 -279 q -69 -167 -69 -225 q -51 -112 -69 -136 q -8 -87 -32 -87 q 33 -99 17 -87 q 57 -124 50 -110 q 32 -182 32 -132 q 51 -224 32 -208 q 99 -240 69 -240 q 288 -39 211 -240 l 367 172 q 253 49 301 90 q 178 0 206 8 q 115 -8 151 -8 q 56 22 78 -8 q 34 109 33 51 q 67 274 35 167 q 140 443 100 381 q 222 524 179 506 q 338 542 264 542 q 343 536 343 542 q 335 522 343 531 q 219 343 278 472 q 160 125 160 214 q 186 78 160 78 q 314 178 236 78 q 433 378 392 278 q 449 418 439 392 q 464 454 460 444 q 477 481 468 464 q 493 505 486 499 q 512 521 500 511 q 536 533 524 531 q 611 542 576 542 m 644 793 q 497 723 589 769 q 401 676 406 676 q 384 683 397 676 q 371 693 371 690 q 462 758 383 700 q 565 833 540 815 q 582 836 571 836 q 620 821 593 836 q 647 797 647 806 q 644 793 647 794 z "},:{ha:547,x_min:-169,x_max:663,o:"m 647 279 q 460 42 553 108 q 244 -24 368 -24 q 100 28 121 -24 l 96 43 l 18 -200 q -24 -306 -10 -282 q -57 -337 -39 -331 q -103 -344 -75 -344 l -169 -344 q -78 -140 -128 -285 q -41 -37 -65 -107 q -3 71 -17 33 q 19 143 7 115 q 61 276 31 171 q 123 478 92 381 q 196 675 154 575 q 293 836 238 775 q 410 897 349 897 l 451 897 q 383 808 426 882 q 208 371 285 639 q 326 506 261 451 q 449 561 392 561 q 542 433 542 561 q 476 220 542 326 q 318 43 411 114 l 328 43 q 329 43 329 43 q 547 190 432 43 q 608 285 565 213 q 654 357 651 357 q 663 331 663 357 q 647 279 663 306 m 386 443 q 374 444 382 444 q 310 417 344 444 q 189 269 253 372 q 125 101 125 167 q 165 36 125 36 q 273 108 214 36 q 369 267 332 181 q 407 396 407 354 q 386 443 407 438 z "},:{ha:590,x_min:-69,x_max:690,o:"m 611 542 l 668 542 q 581 411 625 515 q 519 252 544 324 q 489 165 494 181 q 463 91 483 150 q 431 0 443 32 q 350 -154 396 -97 q 236 -245 304 -211 q 99 -279 168 -279 q -20 -252 29 -279 q -69 -167 -69 -225 q -51 -112 -69 -136 q -8 -87 -32 -87 q 33 -99 17 -87 q 57 -124 50 -110 q 32 -182 32 -132 q 51 -224 32 -208 q 99 -240 69 -240 q 288 -39 211 -240 l 367 172 q 253 49 301 90 q 178 0 206 8 q 115 -8 151 -8 q 56 22 78 -8 q 34 109 33 51 q 67 274 35 167 q 140 443 100 381 q 222 524 179 506 q 338 542 264 542 q 343 536 343 542 q 335 522 343 531 q 219 343 278 472 q 160 125 160 214 q 186 78 160 78 q 314 178 236 78 q 433 378 392 278 q 449 418 439 392 q 464 454 460 444 q 477 481 468 464 q 493 505 486 499 q 512 521 500 511 q 536 533 524 531 q 611 542 576 542 m 682 757 q 624 719 654 750 q 579 688 594 688 q 550 711 550 688 q 584 783 550 735 q 647 832 618 832 q 676 811 663 832 q 690 774 690 790 q 682 757 690 758 m 422 757 q 365 719 394 750 q 319 688 335 688 q 290 711 290 688 q 324 783 290 735 q 388 832 358 832 q 417 811 403 832 q 431 774 431 790 q 422 757 431 758 z "},:{ha:608,x_min:-28,x_max:722,o:"m 708 279 q 419 -8 538 -8 q 338 86 338 -8 q 425 399 338 196 q 444 469 444 450 q 419 497 444 497 q 363 478 403 497 q 288 421 324 458 q 227 334 251 383 q 188 249 203 285 q 158 160 174 213 q 131 76 143 108 q 107 0 119 43 l -28 0 q 80 306 10 96 q 200 637 150 517 q 298 840 250 757 q 408 978 346 922 q 538 1033 469 1033 q 607 968 607 1033 q 569 847 607 922 q 300 481 489 689 q 419 551 375 535 q 503 568 463 568 q 582 499 582 568 q 572 447 582 471 q 551 393 563 424 q 531 343 539 363 q 511 290 524 324 q 492 233 499 257 q 474 140 474 175 q 497 106 474 106 q 706 347 581 106 q 716 357 710 357 q 722 331 722 357 q 708 279 722 306 m 540 999 q 413 844 492 999 q 260 490 335 690 q 519 857 450 714 q 558 972 558 944 q 540 999 558 999 m 163 810 l 675 810 l 678 808 q 648 777 678 800 q 603 754 618 754 l 90 754 q 89 756 89 754 q 118 786 89 763 q 163 810 147 810 z "},:{ha:567,x_min:6,x_max:728,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 725 1150 q 614 1050 667 1050 q 524 1075 582 1050 q 431 1100 465 1100 q 372 1079 397 1100 q 346 1058 347 1058 q 331 1072 331 1058 q 367 1125 331 1085 q 437 1165 403 1165 q 535 1140 471 1165 q 627 1114 599 1114 q 672 1128 656 1114 q 697 1156 688 1142 q 715 1171 707 1171 q 728 1160 728 1171 q 725 1150 728 1156 z "},:{ha:301,x_min:35,x_max:528,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 525 803 q 414 703 467 703 q 324 728 382 703 q 231 753 265 753 q 172 732 197 753 q 146 711 147 711 q 131 724 131 711 q 167 778 131 738 q 237 818 203 818 q 335 792 271 818 q 427 767 399 767 q 472 781 456 767 q 497 809 488 794 q 515 824 507 824 q 528 813 528 824 q 525 803 528 808 z "},:{ha:301,x_min:35,x_max:415,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 z "},:{ha:1044,x_min:6,x_max:1044,o:"m 136 -69 l 135 -78 q 155 -135 135 -117 q 204 -154 175 -154 q 347 -67 275 -154 q 513 211 418 19 q 646 496 608 403 q 721 664 683 589 q 813 814 758 739 q 908 906 867 889 q 737 846 813 885 q 646 763 661 807 q 640 758 644 758 q 628 776 628 758 q 631 790 628 779 q 707 908 657 867 q 805 960 757 950 q 924 969 853 969 l 989 969 l 1044 968 q 910 853 969 943 q 776 554 850 764 q 673 259 732 404 q 584 53 614 114 q 509 -79 554 -7 q 422 -196 464 -151 q 325 -271 379 -240 q 211 -301 271 -301 q 112 -265 151 -301 q 72 -167 72 -228 q 88 -106 72 -137 q 136 -69 103 -74 m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 z "},:{ha:600,x_min:-168,x_max:719,o:"m 447 739 l 442 739 q 388 715 414 739 q 351 667 363 692 q 315 717 315 681 q 349 790 315 753 q 413 826 382 826 q 458 813 443 826 q 474 777 474 799 q 447 739 474 756 m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 532 542 l 588 542 q 539 488 557 524 q 511 434 521 453 q 486 375 501 415 l 464 314 q 415 183 436 244 q 387 101 394 122 q 359 32 379 81 q 325 -43 339 -17 q 286 -114 311 -69 q 239 -183 261 -158 q 184 -240 217 -208 q 119 -287 151 -271 q -28 -328 40 -328 q -168 -242 -168 -328 q -147 -176 -168 -207 q -88 -144 -125 -144 q -39 -174 -51 -144 q -60 -203 -53 -182 q -68 -242 -68 -224 q -53 -274 -68 -261 q -14 -287 -39 -287 q 196 -64 103 -286 q 283 175 229 15 q 417 508 382 471 q 532 542 450 542 m 693 739 l 688 739 q 634 715 660 739 q 597 667 608 692 q 561 717 561 681 q 594 790 561 753 q 658 826 628 826 q 704 813 689 826 q 719 777 719 799 q 693 739 719 756 z "},:{ha:613,x_min:-118,x_max:885,o:"m -54 -4 l -56 -12 q -35 -70 -56 -51 q 14 -89 -15 -89 q 422 506 182 -89 q 441 553 426 517 q 493 664 456 589 q 585 815 531 739 q 682 906 640 890 q 539 917 642 917 q 309 872 436 917 q 161 763 182 828 q 156 758 158 758 q 143 776 143 758 q 146 790 143 779 q 222 908 172 867 q 320 960 272 950 q 439 969 368 969 l 504 969 l 817 968 q 703 872 735 906 q 636 770 671 839 q 571 617 601 701 q 519 467 540 532 q 481 350 499 401 q 434 222 464 299 q 376 88 404 146 q 307 -35 347 29 q 225 -140 267 -99 q 26 -236 132 -236 q -78 -199 -39 -236 q -118 -101 -118 -162 q -103 -40 -118 -72 q -54 -4 -87 -8 m 885 1063 l 885 1061 q 865 1046 885 1057 q 833 1035 844 1035 q 780 1085 814 1035 q 729 1172 746 1135 q 627 1084 683 1128 q 549 1040 571 1040 q 526 1044 526 1040 l 526 1046 q 729 1226 660 1154 q 752 1239 740 1239 q 785 1208 764 1239 q 838 1130 807 1176 q 885 1063 868 1083 z "},:{ha:299,x_min:-414,x_max:479,o:"m 286 542 l 342 542 q 293 488 311 524 q 265 434 275 453 q 240 375 256 415 q 217 314 240 375 q 169 183 190 244 q 141 101 149 122 q 113 32 133 81 q 79 -43 93 -17 q 40 -114 65 -69 q -7 -183 15 -158 q -62 -240 -29 -208 q -128 -287 -94 -271 q -274 -328 -206 -328 q -414 -242 -414 -328 q -392 -176 -414 -207 q -334 -144 -371 -144 q -285 -174 -297 -144 q -306 -203 -299 -182 q -314 -242 -314 -224 q -299 -274 -314 -261 q -260 -287 -285 -287 q -50 -64 -143 -286 q 36 175 -17 15 q 171 508 136 471 q 286 542 204 542 m 479 701 l 479 700 q 459 685 479 696 q 428 674 439 674 q 374 724 408 674 q 324 811 340 774 q 222 723 278 767 q 143 679 165 679 q 121 683 121 679 l 121 685 q 324 865 254 793 q 347 878 335 878 q 380 847 358 878 q 432 769 401 815 q 479 701 463 722 z "},:{ha:571,x_min:-40,x_max:685,o:"m 669 276 q 571 128 621 194 q 360 -11 464 -11 q 274 46 303 -11 q 246 172 246 103 q 288 311 246 311 q 408 341 353 311 q 464 419 464 371 q 419 458 464 458 q 207 250 324 458 q 160 153 196 229 q 98 39 125 78 q 44 0 71 0 l -40 0 q 87 326 3 81 q 211 654 171 571 q 228 690 213 657 q 251 736 244 724 q 275 783 257 749 q 304 835 293 818 q 335 883 315 851 q 369 931 354 914 q 406 970 385 947 q 444 1004 426 993 q 531 1032 492 1032 q 607 963 607 1032 q 490 705 607 865 q 225 401 372 544 l 200 332 q 351 483 267 418 q 507 547 436 547 q 570 528 547 547 q 593 475 593 508 q 526 352 593 399 q 371 292 458 306 q 411 115 383 147 q 446 100 425 100 q 503 125 467 100 q 562 180 539 150 q 610 251 585 210 q 655 324 636 293 q 676 354 674 354 q 685 327 685 354 q 669 276 685 300 m 533 996 q 261 496 456 996 q 511 847 439 704 q 553 971 553 922 q 533 996 553 996 m 218 -89 q 113 -272 179 -179 q 13 -364 47 -364 q -7 -358 3 -364 q 100 -86 78 -232 q 160 -68 101 -68 q 218 -86 218 -68 l 218 -89 z "},:{ha:786,x_min:71,x_max:807,o:"m 796 600 q 469 428 667 600 q 783 3 551 158 q 622 -8 750 -8 q 479 128 563 -8 q 379 367 396 265 q 328 312 353 347 q 274 181 304 276 q 244 48 244 86 q 250 0 244 10 l 71 0 q 300 650 219 471 q 436 907 381 829 q 508 938 458 938 q 560 926 526 938 q 593 892 593 915 q 535 773 593 868 q 414 570 476 678 q 346 406 351 463 q 530 552 408 468 q 726 636 651 636 q 781 627 754 636 q 807 604 807 618 q 796 600 807 600 z "},:{ha:792,x_min:-14,x_max:786,o:"m 783 179 q 669 26 744 58 q 594 5 629 10 q 503 0 558 0 l 82 0 q 26 78 26 0 q 358 875 26 276 q 385 918 383 915 q 145 870 267 915 q 4 763 24 825 q -1 758 3 758 q -14 776 -14 758 q -2 814 -14 779 q 42 886 10 849 q 114 942 74 924 q 282 969 182 969 l 597 969 q 451 765 540 926 q 276 412 361 604 q 190 138 190 219 q 289 47 190 47 q 769 206 692 47 q 776 210 772 210 q 786 196 786 210 q 783 179 786 193 m 625 449 q 600 419 618 442 q 550 364 557 364 q 501 385 529 364 q 474 425 474 407 q 516 482 474 456 q 606 508 558 508 q 639 478 639 508 q 625 449 639 458 z "},:{ha:556,x_min:42,x_max:674,o:"m 576 847 q 424 617 526 746 q 239 411 321 489 l 217 347 q 165 131 165 196 q 190 76 165 94 q 251 57 214 57 q 473 136 364 57 q 654 350 582 215 q 665 363 661 363 q 674 338 674 363 q 657 282 674 314 q 447 65 586 154 q 165 -24 308 -24 q 69 0 97 -24 q 42 81 42 24 q 136 461 42 197 q 168 554 143 483 q 211 665 193 625 q 260 769 229 704 q 319 874 290 835 q 382 953 347 913 q 529 1033 450 1033 q 608 961 608 1033 q 576 847 608 906 m 547 999 l 538 999 q 267 490 453 999 q 526 857 457 714 q 565 972 565 944 q 547 999 565 999 m 525 449 q 500 419 518 442 q 450 364 457 364 q 401 385 429 364 q 374 425 374 407 q 416 482 374 456 q 506 508 458 508 q 539 478 539 508 q 525 449 539 458 z "},:{ha:824,x_min:-22,x_max:814,o:"m 811 179 q 697 26 772 58 q 622 5 657 10 q 531 0 586 0 l 110 0 q 54 78 54 0 q 386 875 54 276 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 478 765 568 926 q 303 412 389 604 q 218 138 218 219 q 317 47 218 47 q 797 206 719 47 q 804 210 800 210 q 814 196 814 210 q 811 179 814 193 m 15 371 l 449 371 l 449 369 q 434 338 449 363 q 413 313 419 313 l -21 313 q -22 317 -22 313 q -7 346 -22 321 q 15 371 8 371 z "},:{ha:335,x_min:-39,x_max:607,o:"m -21 304 l 101 350 q 243 731 142 506 q 378 946 300 858 q 532 1033 457 1033 q 607 968 607 1033 q 479 699 607 874 q 232 411 351 524 l 226 397 l 403 463 q 404 454 404 463 q 398 424 404 446 q 386 401 392 403 l 204 333 q 164 131 164 201 q 194 89 164 89 q 267 124 225 89 q 329 184 310 158 q 375 253 349 210 q 440 356 438 356 q 449 333 449 356 q 335 128 449 278 q 237 35 297 78 q 124 -8 176 -8 q 46 97 46 -8 q 82 286 46 161 l -37 242 q -39 249 -39 242 q -33 279 -39 257 q -21 304 -28 301 m 540 999 q 413 844 492 999 q 260 490 335 690 q 519 857 450 714 q 558 972 558 944 q 540 999 558 999 z "},:{ha:976,x_min:53,x_max:1192,o:"m 1192 968 q 1035 735 1136 932 q 856 323 935 538 q 778 25 778 108 q 781 0 778 7 l 693 0 q 665 141 689 81 q 628 231 640 201 q 585 331 615 261 q 531 456 554 400 q 449 742 458 624 q 268 310 357 538 q 179 13 179 82 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 583 969 q 564 892 564 938 q 643 603 564 789 q 728 381 715 429 q 745 318 742 333 q 750 282 749 303 q 753 256 751 261 q 1063 969 771 300 q 1088 976 1065 976 q 1149 972 1111 976 q 1192 968 1186 968 m 1011 1125 q 864 1055 956 1101 q 768 1008 772 1008 q 751 1015 764 1008 q 738 1025 738 1022 q 828 1090 750 1032 q 932 1165 907 1147 q 949 1168 938 1168 q 987 1153 960 1168 q 1014 1129 1014 1138 q 1011 1125 1014 1126 z "},:{ha:606,x_min:-29,x_max:719,o:"m 706 279 q 612 135 654 193 q 515 35 569 78 q 417 -8 461 -8 q 335 82 335 -8 q 439 444 335 172 q 444 471 444 457 q 408 500 444 500 q 335 477 371 500 q 271 412 300 454 q 218 326 242 369 q 174 225 194 282 q 142 130 154 168 q 119 48 131 92 q 106 0 107 4 l -29 0 q 93 335 -29 29 q 143 535 143 478 q 139 556 143 549 l 197 556 q 260 546 246 556 q 274 519 274 536 q 258 451 274 503 q 493 563 375 563 q 572 490 572 563 q 565 443 572 467 q 531 349 558 419 q 469 140 469 193 q 494 107 469 107 q 545 132 513 107 q 599 184 578 157 q 647 252 621 211 q 690 324 672 293 q 711 354 708 354 q 719 328 719 354 q 706 279 719 303 m 622 803 q 475 733 567 779 q 379 686 383 686 q 362 693 375 686 q 349 703 349 700 q 440 767 361 710 q 543 843 518 825 q 560 846 549 846 q 598 831 571 846 q 625 807 625 815 q 622 803 625 804 z "},:{ha:1553,x_min:4,x_max:1589,o:"m 1385 969 l 1536 976 q 1584 959 1579 976 q 1589 933 1589 942 q 1555 810 1589 885 q 1506 736 1521 736 q 1492 747 1492 736 l 1503 831 q 1468 899 1503 874 q 1385 924 1433 924 q 1313 917 1336 924 q 1275 888 1289 910 q 1090 543 1174 736 l 1453 543 l 1454 542 q 1435 503 1454 532 q 1403 475 1415 475 l 1060 475 q 986 269 1022 383 q 950 119 950 156 q 972 65 950 82 q 1047 47 994 47 q 1528 206 1449 47 q 1535 210 1531 210 q 1546 194 1546 210 q 1535 155 1546 190 q 1496 81 1524 119 q 1428 26 1468 43 q 1352 5 1388 10 q 1261 0 1317 0 l 842 0 q 799 67 799 0 q 808 146 799 92 q 349 -44 611 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 707 983 567 983 q 933 924 847 983 q 1043 761 1018 864 q 1113 900 1085 854 q 1115 935 1115 914 q 1118 963 1114 957 q 1138 969 1122 969 l 1385 969 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 z "},:{ha:900,x_min:49,x_max:1015,o:"m 1001 281 q 925 165 954 206 q 850 78 896 125 q 629 -14 761 -14 q 507 19 551 -14 q 451 110 463 53 l 450 115 q 206 -11 356 -11 q 92 31 136 -11 q 49 160 49 72 q 88 340 49 247 q 208 499 128 432 q 375 565 288 565 q 550 424 535 565 q 808 557 663 557 q 926 469 926 557 q 863 345 926 406 q 720 251 800 285 q 578 213 640 217 q 572 157 572 186 q 671 43 572 43 q 900 192 781 43 q 942 253 915 210 q 1007 356 1004 356 q 1015 330 1015 356 q 1001 281 1015 304 m 847 421 q 864 472 864 446 q 824 511 864 511 q 685 430 758 511 q 588 251 611 349 q 728 307 654 265 q 847 421 803 349 m 254 42 q 450 244 353 42 q 492 415 492 331 q 419 500 492 500 q 315 443 364 500 q 224 299 267 386 q 182 127 182 213 q 254 42 182 42 z "},:{ha:925,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 m 869 1125 q 722 1055 814 1101 q 626 1008 631 1008 q 609 1015 622 1008 q 596 1025 596 1022 q 687 1090 608 1032 q 790 1165 765 1147 q 807 1168 796 1168 q 845 1153 818 1168 q 872 1129 872 1138 q 869 1125 872 1126 z "},:{ha:925,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 z "},:{ha:467,x_min:-57,x_max:582,o:"m 422 558 l 493 557 l 507 557 q 448 467 486 542 q 391 353 410 392 q 349 251 372 315 q 326 146 326 186 q 354 106 326 106 q 405 131 372 107 q 459 183 438 156 q 506 252 481 210 q 551 326 532 294 q 572 357 569 357 q 582 331 582 357 q 568 282 582 306 q 469 131 508 183 q 376 34 431 78 q 276 -10 321 -10 q 197 107 197 -10 q 228 286 197 186 q 318 479 258 386 q 221 440 269 440 q 189 447 206 440 q 83 253 90 253 q 75 276 75 253 q 92 340 75 299 q 130 418 110 381 q 151 460 150 456 q 101 540 101 485 q 119 590 101 568 q 167 613 136 613 q 217 593 197 613 q 214 568 214 585 q 241 509 214 531 q 307 488 268 488 q 324 489 318 488 q 422 558 372 558 m 168 -99 q 63 -281 129 -189 q -37 -374 -3 -374 q -57 -368 -47 -374 q 50 -96 28 -242 q 110 -78 51 -78 q 168 -96 168 -78 l 168 -99 z "},:{ha:925,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 m 564 1253 q 668 1115 597 1253 q 846 1247 808 1247 q 871 1243 871 1247 l 871 1242 q 668 1061 738 1133 q 644 1047 656 1047 q 610 1078 632 1047 q 559 1157 589 1110 q 513 1225 529 1204 q 532 1242 513 1231 q 564 1253 551 1253 z "},:{ha:503,x_min:75,x_max:603,o:"m 422 558 l 493 557 l 507 557 q 448 467 486 542 q 391 353 410 392 q 349 251 372 315 q 326 146 326 186 q 354 106 326 106 q 405 131 372 107 q 459 183 438 156 q 506 252 481 210 q 551 326 532 294 q 572 357 569 357 q 582 331 582 357 q 568 282 582 306 q 469 131 508 183 q 376 34 431 78 q 276 -10 321 -10 q 197 107 197 -10 q 228 286 197 186 q 318 479 258 386 q 221 440 269 440 q 189 447 206 440 q 83 253 90 253 q 75 276 75 253 q 92 340 75 299 q 130 418 110 381 q 151 460 150 456 q 101 540 101 485 q 119 590 101 568 q 167 613 136 613 q 217 593 197 613 q 214 568 214 585 q 241 509 214 531 q 307 488 268 488 q 324 489 318 488 q 422 558 372 558 m 244 865 q 264 882 244 871 q 296 893 283 893 q 400 756 331 893 q 578 888 540 888 q 603 883 603 888 l 603 882 q 400 701 469 774 q 376 688 388 688 q 342 719 364 688 q 291 797 321 750 q 244 865 261 844 z "},:{ha:756,x_min:17,x_max:863,o:"m 553 994 q 618 994 553 994 q 738 953 682 994 q 793 852 793 911 q 753 742 793 793 q 643 692 714 692 q 572 751 572 692 q 575 774 572 757 q 640 803 613 774 q 668 867 668 832 q 635 924 668 901 q 554 946 601 946 q 421 897 474 946 q 368 783 368 849 q 393 707 368 749 q 441 641 418 665 q 516 569 464 617 q 578 511 568 521 q 683 281 683 406 q 571 65 683 157 q 301 -28 458 -28 q 95 14 174 -28 q 17 144 17 56 q 49 233 17 193 q 140 274 81 274 q 219 232 199 274 q 171 138 171 193 q 208 53 171 83 q 304 24 244 24 q 451 83 388 24 q 514 234 514 143 q 394 451 514 325 q 346 503 393 454 q 267 604 299 553 q 236 726 236 656 q 331 921 236 847 q 553 994 425 994 m 504 1290 q 524 1307 504 1296 q 559 1318 543 1318 q 606 1272 575 1318 q 660 1181 638 1225 q 838 1313 800 1313 q 863 1308 863 1313 l 863 1307 q 660 1126 729 1199 q 635 1113 647 1113 q 602 1144 624 1113 q 551 1222 581 1175 q 504 1290 521 1269 z "},:{ha:557,x_min:50,x_max:658,o:"m 640 282 q 528 116 578 176 q 401 16 478 56 q 238 -24 325 -24 q 101 6 151 -24 q 50 89 50 35 q 69 151 50 122 q 123 179 89 179 q 167 154 157 179 q 140 93 140 128 q 218 24 140 24 q 298 56 264 24 q 332 126 332 88 q 315 193 332 164 q 275 244 299 222 q 228 289 251 267 q 171 415 171 344 q 225 532 171 485 q 371 579 279 579 q 469 558 429 579 q 510 494 510 538 q 483 418 510 450 q 412 386 457 386 q 367 428 367 386 q 399 457 367 438 q 431 497 431 476 q 413 528 431 518 q 364 539 396 539 q 302 517 332 539 q 272 458 272 494 q 303 390 272 422 q 369 336 333 358 q 436 274 406 314 q 467 191 467 235 q 447 113 467 147 q 399 57 426 78 q 493 128 446 76 q 569 231 540 181 q 621 322 599 282 q 649 361 643 361 q 656 334 656 361 q 640 282 656 307 m 300 842 q 319 858 300 847 q 351 869 339 869 q 456 732 386 869 q 633 864 596 864 q 658 860 658 864 l 658 858 q 456 678 525 750 q 431 664 443 664 q 398 695 419 664 q 347 774 376 726 q 300 842 317 821 z "},:{ha:811,x_min:33,x_max:928,o:"m 767 1110 q 709 1072 739 1103 q 664 1040 679 1040 q 635 1064 635 1040 q 669 1136 635 1088 q 732 1185 703 1185 q 761 1164 747 1185 q 775 1127 775 1143 q 767 1110 775 1111 m 507 1110 q 449 1072 479 1103 q 404 1040 419 1040 q 375 1064 375 1040 q 409 1136 375 1088 q 472 1185 443 1185 q 501 1164 488 1185 q 515 1127 515 1143 q 507 1110 515 1111 m 928 969 q 603 653 769 857 q 442 402 514 544 q 346 142 371 260 q 321 16 321 24 q 324 0 321 8 l 154 0 q 210 172 160 24 q 260 381 260 321 q 224 556 260 442 q 148 775 189 671 q 82 915 107 879 q 33 951 69 931 q 43 963 33 957 q 65 969 53 969 l 214 969 q 251 961 242 969 q 286 875 261 953 q 397 468 311 797 q 735 942 631 801 q 850 971 757 971 q 892 970 865 971 q 928 969 918 969 z "},:{ha:828,x_min:-8,x_max:921,o:"m 207 96 q 503 68 207 68 q 738 99 682 68 q 786 143 768 115 q 794 149 789 149 q 800 143 800 149 q 750 41 785 82 q 688 0 715 0 l 26 0 q -8 26 -8 0 q 7 82 -8 42 q 44 147 22 122 q 643 849 453 613 q 664 886 664 875 q 588 901 664 901 l 500 900 q 431 900 500 900 q 375 899 403 900 q 333 897 347 899 q 294 891 318 894 q 257 882 271 888 q 226 869 243 876 q 176 826 193 853 q 167 821 172 821 q 161 826 161 821 q 212 928 176 888 q 274 969 247 969 l 818 969 l 883 972 q 921 958 921 972 q 890 908 921 943 q 233 140 671 671 q 207 96 207 108 m 494 1229 q 514 1246 494 1235 q 546 1257 533 1257 q 650 1119 581 1257 q 828 1251 790 1251 q 853 1247 853 1251 l 853 1246 q 650 1065 719 1138 q 626 1051 638 1051 q 592 1083 614 1051 q 541 1161 571 1114 q 494 1229 511 1208 z "},:{ha:592,x_min:29,x_max:706,o:"m 692 279 q 533 53 613 133 q 388 -26 453 -26 q 271 15 351 -26 q 173 57 190 57 q 150 53 156 57 q 65 -15 93 -15 q 36 13 36 -15 q 53 58 36 40 q 80 83 71 75 q 108 106 89 92 q 160 147 126 119 q 399 361 261 229 l 447 407 l 419 411 q 285 426 321 426 q 224 419 250 426 q 178 392 199 413 q 147 356 157 371 q 122 317 136 340 q 99 277 108 294 q 80 245 89 260 q 61 215 71 231 q 35 183 43 183 q 29 209 28 183 q 49 263 31 235 q 97 350 68 292 q 144 444 125 408 q 197 509 163 481 q 276 538 232 538 q 349 529 296 538 l 365 526 q 510 506 481 506 q 599 553 557 506 q 622 563 607 563 q 665 553 636 563 q 214 119 557 453 q 357 68 278 68 q 363 68 360 68 q 486 101 425 68 q 592 192 547 135 q 657 292 619 226 q 697 357 694 357 q 706 331 706 357 q 692 279 706 306 m 392 869 q 496 732 425 869 q 674 864 636 864 q 699 860 699 864 l 699 858 q 496 678 565 750 q 472 664 483 664 q 438 695 460 664 q 387 774 417 726 q 340 842 357 821 q 360 858 340 847 q 392 869 379 869 z "},:{ha:415,x_min:-456,x_max:688,o:"m 688 853 q 665 793 688 825 q 604 761 642 761 q 573 771 586 761 q 560 794 560 781 q 581 837 560 807 q 601 886 601 867 q 589 919 601 906 q 549 933 576 933 q 490 909 521 933 q 431 836 460 885 q 340 650 389 765 l 563 650 q 565 643 565 650 q 552 618 565 636 q 526 600 539 600 l 326 600 q 194 266 299 542 q 20 -129 90 -10 q -117 -301 -50 -249 q -278 -354 -183 -354 q -414 -319 -372 -354 q -456 -241 -456 -285 q -433 -169 -456 -197 q -383 -142 -410 -142 q -329 -181 -329 -142 q -348 -217 -329 -189 q -367 -265 -367 -246 q -317 -306 -367 -306 q -201 -259 -267 -306 q -86 -116 -135 -212 q 13 106 -37 -19 q 116 378 63 231 q 200 600 169 525 l 131 600 q 122 610 122 600 q 130 635 122 621 q 143 650 138 650 l 218 650 q 338 864 268 772 q 551 972 421 972 q 636 956 606 972 q 688 853 688 929 z "},"":{ha:738,x_min:318,x_max:676,o:"m 676 701 l 676 700 q 656 685 676 696 q 625 674 636 674 q 572 724 606 674 q 521 811 538 774 q 419 723 475 767 q 340 679 363 679 q 318 683 318 679 l 318 685 q 521 865 451 793 q 544 878 532 878 q 577 847 556 878 q 629 769 599 815 q 676 701 660 722 z "},"":{ha:738,x_min:340,x_max:699,o:"m 392 869 q 496 732 425 869 q 674 864 636 864 q 699 860 699 864 l 699 858 q 496 678 565 750 q 472 664 483 664 q 438 695 460 664 q 387 774 417 726 q 340 842 357 821 q 360 858 340 847 q 392 869 379 869 z "},"":{ha:843,x_min:403,x_max:783,o:"m 783 969 q 571 836 719 836 q 455 873 507 836 q 403 963 403 910 q 444 976 403 976 q 486 971 486 976 q 518 906 486 929 q 592 882 550 882 q 671 904 635 882 q 725 969 707 926 q 755 975 726 975 q 783 969 783 975 z "},"":{ha:843,x_min:519,x_max:675,o:"m 672 924 q 627 892 657 921 q 588 844 597 863 q 519 901 519 867 q 549 950 519 926 q 618 974 579 974 q 675 939 675 974 q 672 924 675 935 z "},"":{ha:771,x_min:472,x_max:756,o:"m 749 849 q 685 761 732 797 q 580 725 638 725 q 497 751 522 725 q 472 817 472 776 q 523 928 472 878 q 653 979 574 979 q 729 953 703 979 q 756 889 756 928 q 749 849 756 872 m 671 946 l 657 947 q 579 905 613 947 q 546 818 546 863 q 599 764 546 764 q 678 806 644 764 q 713 894 713 849 q 671 946 713 940 z "},"":{ha:931,x_min:633,x_max:904,o:"m 890 -257 q 710 -417 792 -417 q 656 -389 678 -417 q 633 -315 633 -361 q 708 -87 633 -194 q 890 19 782 19 q 904 13 904 19 q 890 -1 904 1 q 775 -108 819 -24 q 731 -269 731 -192 q 742 -322 731 -303 q 769 -340 753 -340 q 875 -244 806 -340 q 895 -224 890 -224 q 900 -233 900 -224 q 890 -257 900 -242 z "},"":{ha:714,x_min:378,x_max:775,o:"m 772 949 q 661 849 714 849 q 571 874 629 849 q 478 899 513 899 q 419 878 444 899 q 393 857 394 857 q 378 870 378 857 q 414 924 378 883 q 484 964 450 964 q 582 938 518 964 q 674 913 646 913 q 719 927 703 913 q 744 956 735 942 q 763 969 754 969 q 775 958 775 969 q 772 949 775 954 z "},"":{ha:843,x_min:413,x_max:738,o:"m 738 988 q 631 751 657 832 q 607 747 628 747 q 586 749 586 747 q 650 989 586 751 q 696 1004 654 1004 q 738 990 738 1004 l 738 988 m 564 988 q 456 751 485 838 q 433 747 453 747 q 413 749 413 747 q 476 989 413 751 q 522 1004 481 1004 q 564 990 564 1004 l 564 988 z "},"":{ha:1085,x_min:213,x_max:1069,o:"m 278 400 l 1068 400 q 1069 393 1069 400 q 1044 348 1069 386 q 1004 310 1018 310 l 214 310 q 213 317 213 310 q 238 362 213 324 q 278 400 264 400 z "},"":{ha:1754,x_min:213,x_max:1739,o:"m 278 400 l 1738 400 q 1739 393 1739 400 q 1713 348 1739 386 q 1674 310 1688 310 l 214 310 q 213 317 213 310 q 238 362 213 324 q 278 400 264 400 z "},"":{ha:301,x_min:71,x_max:272,o:"m 101 661 q 71 720 71 678 q 92 803 71 763 q 135 874 114 843 q 192 940 156 906 q 257 974 228 974 q 272 971 261 974 q 212 888 253 949 q 169 810 171 826 l 178 810 q 225 763 225 810 q 197 684 225 715 q 132 653 168 653 q 101 661 117 653 z "},"":{ha:221,x_min:119,x_max:321,o:"m 290 974 q 321 914 321 956 q 299 832 321 872 q 257 760 278 792 q 200 695 236 729 q 135 661 164 661 q 119 664 128 661 q 180 747 139 686 q 222 825 221 808 l 214 825 q 167 878 167 825 q 195 950 167 918 q 260 982 224 982 q 290 974 275 982 z "},"":{ha:392,x_min:154,x_max:356,o:"m 325 149 q 356 89 356 131 q 334 7 356 47 q 292 -65 313 -33 q 235 -130 271 -96 q 169 -164 199 -164 q 154 -161 163 -164 q 215 -78 174 -139 q 257 0 256 -17 l 249 0 q 201 53 201 0 q 230 125 201 93 q 294 157 258 157 q 325 149 310 157 z "},"":{ha:518,x_min:69,x_max:489,o:"m 100 661 q 69 720 69 678 q 91 803 69 763 q 133 874 113 843 q 190 940 154 906 q 256 974 226 974 q 271 971 260 974 q 210 888 251 949 q 168 810 169 826 l 176 810 q 224 763 224 810 q 195 684 224 715 q 131 653 167 653 q 100 661 114 653 m 318 661 q 288 720 288 678 q 309 803 288 763 q 351 874 331 843 q 408 940 372 906 q 474 974 444 974 q 489 971 478 974 q 428 888 469 949 q 386 810 388 826 l 394 810 q 442 763 442 810 q 413 684 442 715 q 349 653 385 653 q 318 661 333 653 z "},"":{ha:518,x_min:85,x_max:500,o:"m 256 974 q 286 914 286 956 q 265 832 286 872 q 222 760 243 792 q 165 695 201 729 q 100 661 129 661 q 85 664 93 661 q 145 747 104 686 q 188 825 186 808 l 179 825 q 132 878 132 825 q 160 950 132 918 q 225 982 189 982 q 256 974 242 982 m 469 974 q 500 914 500 956 q 478 832 500 872 q 436 760 457 792 q 379 695 415 729 q 314 661 343 661 q 299 664 307 661 q 359 747 318 686 q 401 825 400 808 l 393 825 q 346 878 346 825 q 374 950 346 918 q 439 982 403 982 q 469 974 456 982 z "},"":{ha:613,x_min:154,x_max:569,o:"m 325 149 q 356 89 356 131 q 334 7 356 47 q 292 -65 313 -33 q 235 -130 271 -96 q 169 -164 199 -164 q 154 -161 163 -164 q 215 -78 174 -139 q 257 0 256 -17 l 249 0 q 201 53 201 0 q 230 125 201 93 q 294 157 258 157 q 325 149 310 157 m 539 149 q 569 89 569 131 q 548 7 569 47 q 506 -65 526 -33 q 449 -130 485 -96 q 383 -164 413 -164 q 368 -161 376 -164 q 428 -78 388 -139 q 471 0 469 -17 l 463 0 q 415 53 415 0 q 444 125 415 93 q 508 157 472 157 q 539 149 525 157 z "},"":{ha:532,x_min:1,x_max:511,o:"m 304 715 l 510 715 q 511 708 511 715 q 485 663 511 701 q 446 625 460 625 l 292 625 l 192 -81 q 166 -85 192 -85 q 118 -81 140 -85 q 97 -74 96 -78 l 196 625 l 3 625 q 1 632 1 625 q 28 677 1 639 q 67 715 54 715 l 210 715 l 246 971 q 270 975 246 975 q 317 972 294 975 q 339 964 340 968 l 304 715 z "},"":{ha:575,x_min:-6,x_max:549,o:"m 203 -86 l 188 -85 l 182 -85 q 141 -80 147 -85 q 135 -74 135 -75 l 201 399 l -4 399 q -6 406 -6 399 q 21 451 -6 413 q 60 489 47 489 l 214 489 l 233 625 l 40 625 q 39 632 39 625 q 65 677 39 639 q 104 715 92 715 l 247 715 l 283 971 q 331 975 286 975 q 376 964 376 975 l 340 715 l 547 715 q 549 708 549 715 q 523 663 549 701 q 483 625 497 625 l 328 625 l 308 489 l 503 489 q 504 482 504 489 q 478 437 504 475 q 439 399 453 399 l 296 399 l 229 -81 q 203 -86 226 -86 z "},"":{ha:710,x_min:113,x_max:642,o:"m 178 497 q 396 604 265 604 q 571 530 500 604 q 642 347 642 456 q 556 153 642 239 q 362 68 469 68 q 183 142 254 68 q 113 316 113 217 q 178 497 113 415 z "},"":{ha:900,x_min:156,x_max:847,o:"m 308 68 q 263 36 293 65 q 224 -11 233 7 q 156 46 156 11 q 185 94 156 71 q 254 118 215 118 q 311 83 311 118 q 308 68 311 79 m 844 68 q 799 36 829 65 q 760 -11 769 7 q 692 46 692 11 q 722 94 692 71 q 790 118 751 118 q 847 83 847 118 q 844 68 847 79 m 576 68 q 531 36 561 65 q 492 -11 501 7 q 424 46 424 11 q 453 94 424 71 q 522 118 483 118 q 579 83 579 118 q 576 68 579 79 z "},"":{ha:1251,x_min:119,x_max:1217,o:"m 1208 203 q 1130 56 1188 118 q 1000 -7 1072 -7 q 896 37 928 -7 q 864 150 864 81 q 926 338 864 251 q 1086 425 989 425 q 1185 381 1153 425 q 1217 271 1217 338 q 1208 203 1217 236 m 801 933 q 683 813 758 869 l 222 0 q 182 -7 219 -7 q 144 -1 144 -7 l 144 0 l 600 799 q 561 793 581 793 q 469 828 504 793 q 471 792 471 817 q 409 603 471 693 q 247 514 347 514 q 151 558 183 514 q 119 669 119 601 q 182 858 119 771 q 342 944 244 944 q 442 897 404 944 q 527 850 481 850 q 621 880 574 850 q 693 951 668 910 q 757 975 707 975 q 807 947 807 975 q 801 933 807 944 m 814 203 q 735 56 793 118 q 606 -7 678 -7 q 501 37 533 -7 q 469 150 469 81 q 532 338 469 251 q 692 425 594 425 q 790 381 758 425 q 822 271 822 338 q 814 203 822 236 m 1022 68 q 1088 103 1056 68 q 1135 186 1119 138 q 1151 276 1151 235 q 1093 363 1151 363 q 1006 296 1046 363 q 965 149 965 229 q 1022 68 965 68 m 281 588 q 296 588 281 588 q 342 622 311 588 q 390 706 374 657 q 407 797 407 756 q 349 883 407 883 q 261 817 301 883 q 221 675 221 750 q 236 611 221 635 q 281 588 251 588 m 628 68 q 693 103 661 68 q 741 186 725 138 q 757 276 757 235 q 699 363 757 363 q 611 296 651 363 q 571 149 571 229 q 628 68 571 68 z "},"":{ha:600,x_min:96,x_max:581,o:"m 575 724 q 578 725 576 725 q 581 721 581 725 q 454 589 581 686 q 206 417 328 492 q 469 172 414 269 q 471 160 471 169 q 445 128 471 150 q 411 106 419 106 q 403 107 403 106 q 124 368 257 272 q 96 400 96 389 q 131 432 96 411 q 575 724 360 561 z "},"":{ha:615,x_min:172,x_max:658,o:"m 631 463 q 658 431 658 442 q 624 400 658 421 q 179 107 390 269 q 175 106 178 106 q 172 111 172 106 q 301 244 172 147 q 549 414 429 342 q 285 660 343 560 q 283 671 283 661 q 308 703 283 681 q 342 725 333 725 q 351 724 350 725 q 631 463 497 558 z "},"":{ha:897,x_min:22,x_max:922,o:"m 724 846 q 876 811 829 846 q 922 725 922 776 q 888 637 922 674 q 810 600 853 600 q 746 649 746 600 q 749 667 746 653 q 799 689 778 667 q 821 739 821 711 q 792 783 821 767 q 726 799 763 799 q 522 717 618 799 q 368 525 425 635 l 681 525 q 683 518 683 525 q 670 493 683 511 q 644 475 657 475 l 344 475 l 332 446 q 308 371 318 414 l 604 371 q 607 364 607 371 q 594 339 607 357 q 568 321 581 321 l 297 321 q 292 251 292 289 q 335 108 292 163 q 465 54 378 54 q 662 105 551 54 q 828 222 772 156 q 839 231 836 231 q 842 222 842 231 q 824 164 842 185 q 631 24 749 69 q 384 -21 514 -21 q 186 45 254 -21 q 118 225 118 111 q 129 321 118 268 l 31 321 q 22 331 22 321 q 30 356 22 342 q 43 371 38 371 l 143 371 q 185 475 154 413 l 107 475 q 99 485 99 475 q 106 510 99 496 q 119 525 114 525 l 213 525 l 225 543 q 448 760 315 674 q 724 846 581 846 z "},"":{ha:704,x_min:151,x_max:756,o:"m 654 678 l 671 683 q 672 681 672 683 q 651 667 672 674 q 615 660 629 660 q 588 690 588 660 q 675 910 588 746 q 606 835 650 889 q 528 742 563 782 q 482 703 493 703 q 460 708 471 703 q 472 803 472 728 q 467 918 472 879 q 403 797 431 864 q 375 698 375 729 q 386 663 375 667 l 364 663 q 347 686 347 663 q 433 911 347 746 q 464 961 460 961 q 506 931 499 961 q 514 835 514 900 q 513 753 514 769 q 647 907 593 853 q 729 961 700 961 l 756 961 q 682 845 725 938 q 639 701 639 753 q 654 678 639 678 m 351 961 l 399 964 q 414 957 413 964 l 414 951 q 403 911 414 933 q 389 889 392 889 q 383 892 383 889 l 388 917 q 329 946 388 946 q 251 814 285 893 q 218 701 218 735 q 229 663 218 667 l 188 663 q 169 693 169 663 q 211 822 169 724 q 278 946 253 921 l 268 946 q 188 922 211 946 q 165 900 175 911 l 156 890 q 151 896 151 890 q 169 942 151 924 q 214 961 188 961 l 351 961 z "}},kU="Playball",zU=1319,HU=-417,GU=-104,VU=69,WU={yMin:-417,xMin:-456,yMax:1318,xMax:1739},XU=1e3,JU={format:0,copyright:'Copyright (c) 2011 TypeSETit, LLC (typesetit@att.net),\rwith Reserved Font Name "Playball"',fontFamily:"Playball",fontSubfamily:"Regular",uniqueID:"RobertE.Leuschke: Playball: 2011",fullName:"Playball",version:"Version 1.001",postScriptName:"Playball-Regular",trademark:"Playball is a trademark of Robert E. Leuschke.",manufacturer:"Robert E. Leuschke",designer:"Robert E. Leuschke",designerURL:"www.typesetit.com",licence:"This Font Software is licensed under the SIL Open Font License, Version 1.1. This license is available with a FAQ at: http://scripts.sil.org/OFL",licenceURL:"http://scripts.sil.org/OFL"},jU="normal",YU="normal",LS={glyphs:NU,familyName:kU,ascender:zU,descender:HU,underlinePosition:GU,underlineThickness:VU,boundingBox:WU,resolution:XU,original_font_information:JU,cssFontWeight:jU,cssFontStyle:YU};let o5,a5;function DS(){clearTimeout(o5),clearTimeout(a5)}function KU(){const n=oe.useRef(),{controls:e}=jn(),{pan:t,setPan:i}=cu();return oe.useEffect(()=>{function r(){i(!1),clearTimeout(o5),clearTimeout(a5)}function s(){o5=setTimeout(()=>{e.setLookAt(-200,175,200,0,0,0,!0)},1e4),a5=setTimeout(()=>{i(!0)},15e3)}return e&&(e.addEventListener("controlstart",r),e.addEventListener("controlend",s)),()=>{e&&(e.removeEventListener("controlstart",r),e.removeEventListener("controlend",s))}},[e]),xd(()=>{n.current&&t&&n.current.rotate(.001,0)},[n]),ne.jsx(kF,{maxDistance:500,minDistance:220,maxPolarAngle:Math.PI/2,truckSpeed:0,smoothTime:1,ref:n,makeDefault:!0})}au({TextGeometry:BS});function ic({text:n,size:e,depth:t,position:i,rotation:r,moveTo:s,lookAt:o,setControls:a,hoverColor:l=16711680,baseColor:h=16777215,displayProject:d,...f}){const p=new IS().parse(LS),{setPan:m,setSmallText:v,setDisplayProject:q,setBigText:y,whoosh:g,click:x}=cu(),{controls:S}=jn(),[M,R]=oe.useState(h||16777215),[C,P]=oe.useState(!1);return ig(C,"pointer","default"),ne.jsxs("mesh",{position:i,rotation:r,onPointerOver:B=>{B.stopPropagation(),R(l),P(!0)},onPointerOut:B=>{B.stopPropagation(),R(16777215),P(!1)},onClick:B=>{B.stopPropagation(),x.play(),DS(),m(!1),P(!1),setTimeout(()=>{q(d||"none"),f.enableButtons&&v(!0)},2e3),setTimeout(()=>y(!1),1e3),g.play(),S._removeAllEventListeners(),S==null||S.setLookAt(...s,...o,!0).then(()=>{S.enabled=a,S._addAllEventListeners(S._domElement)})},children:[ne.jsx("textGeometry",{args:[n,{font:p,size:e,depth:t}]}),ne.jsx("meshLambertMaterial",{color:M})]})}au({TextGeometry:BS});function bo({text:n,size:e,depth:t,position:i,rotation:r,moveTo:s,lookAt:o,setControls:a,hoverColor:l="#ff0000",baseColor:h="#ffffff",switchProject:d}){new IS().parse(LS);const[f,p]=oe.useState(h||"#ffffff"),{controls:m}=jn(),{setPan:v,setSmallText:q,setBigText:y,setDisplayProject:g,click:x,whoosh:S}=cu(),[M,R]=oe.useState(!1);return ig(M,"pointer","default"),ne.jsx("mesh",{position:i,rotation:r,children:ne.jsx(ng,{wrapperClass:"test",transform:!0,occlude:!0,children:ne.jsx("p",{style:{color:f},onPointerOver:C=>{C.stopPropagation(),p(l),R(!0)},onPointerOut:C=>{C.stopPropagation(),p("#ffffff"),R(!1)},onClick:C=>{C.stopPropagation(),a&&(m.enabled=a),DS(),x.play(),S.play(),v(!1),g(d||"none"),q(!!d),y(!d),m._removeAllEventListeners(),m==null||m.setLookAt(...s,...o,!0).then(()=>{m.enabled=a,m._addAllEventListeners(m._domElement);const P=Math.floor(Math.abs(m._target.x)),B=Math.floor(Math.abs(m._target.y)),b=Math.floor(Math.abs(m._target.z));P===0&&B===0&&b===0&&v(!0)})},children:n})})})}function l5({file:n,position:e,scale:t,rotation:i,basic:r}){const s="images/"+n,o=ml(k6,s),a=oe.useRef();return oe.useEffect(()=>{a.current&&a.current.traverse(l=>{l.isMesh&&(l.material.side=0,l.receiveShadow=!0,l.material.map&&(l.material.map.minFilter=Jt))})},[o]),ne.jsxs("mesh",{position:e,rotation:i,scale:t,ref:a,children:[ne.jsx("planeGeometry",{attach:"geometry",args:[100,100]}),r&&ne.jsx("meshBasicMaterial",{attach:"material",map:o}),!r&&ne.jsx("meshLambertMaterial",{attach:"material",map:o})]})}function QU(){const{active:n,progress:e,errors:t,item:i,loaded:r,total:s}=KD();return ne.jsx(ng,{center:!0,children:ne.jsxs("p",{style:{color:"white"},children:["Loading ",Math.trunc(e),"%"]})})}function ZU({file:n,position:e,rotation:t,scale:i}){const{scene:r,animations:s}=ei("models/animated_torch_flame1.glb"),o=oe.useRef(),[a,l]=oe.useState(0);oe.useState(0);const h=r.children[0].children[0].children[0].children[0].children[a].children[0].geometry,d=r.children[0].children[0].children[0].children[0].children[a].children[0].material,f={0:[-34,10,-70],1:[48.5,54,78.5],2:[48.5,54,-30.5],3:[-26.5,54,-66],4:[69,59,120],5:[69,59,-70.5],6:[54,59,-86],7:[-91.5,59,-86]};return oe.useEffect(()=>{for(let p=0;p<8;p++){i=p?[2,.75,2]:[5,3,1];const m=new tt().compose(new U(f[p][0],f[p][1],f[p][2]),new Vn(0,0,0,1),new U(...i));o.current.setMatrixAt(p,m)}o.current.instanceMatrix.needsUpdate=!0},[r]),oe.useEffect(()=>{let p=setInterval(()=>{l(m=>m>15?0:m+1)},100);return()=>clearInterval(p)},[]),ne.jsx("instancedMesh",{geometry:h,material:d,ref:o,args:[null,null,4]})}function U1(n){const{nodes:e,materials:t}=ei("models/old_black_sconce.glb");return ne.jsx("group",{...n,dispose:null,children:ne.jsx("mesh",{geometry:e.Cylinder006__0.geometry,material:t["Scene_-_Root"],position:[1.772,-.057,-2.88],scale:1.718})})}ei.preload("models/old_black_sconce.glb");function $U({url:n,position:e,rotation:t,scale:i}){const r=oe.useRef();return oe.useRef(),ne.jsx(ne.Fragment,{children:ne.jsx("mesh",{position:e,rotation:t,scale:i,ref:r,children:ne.jsxs(ng,{wrapperClass:"project",transform:!0,occlude:!0,children:[ne.jsx("p",{}),ne.jsx("object",{data:n})]})})})}function lv(n){const{nodes:e,materials:t}=ei("models/arcade_machine.glb"),{displayProject:i}=cu();return t.Body.side=0,ne.jsxs(ne.Fragment,{children:[i==n.name?ne.jsxs(ne.Fragment,{children:[ne.jsx($U,{url:n.project,rotation:[-1.418,1.368,1.414],position:[85.147,28,n.position[2]],scale:[.41,.7,.1]}),i=="project1"?ne.jsxs(ne.Fragment,{children:[ne.jsx(bo,{text:"Previous Project",position:[86.5,21.75,5],rotation:[-1.509,1.425,1.488],moveTo:[95,28,50],lookAt:[85,27,49.5],size:.5,depth:0,setControls:!0,hoverColor:"#F07F13",switchProject:"project2"}),ne.jsx(bo,{text:"Back",position:[86.5,21.5,-6],rotation:[-1.426,1.4,1.423],moveTo:[-200,175,200],lookAt:[0,0,0],size:.5,depth:0,setControls:!0,hoverColor:"#F07F13"})]}):ne.jsxs(ne.Fragment,{children:[ne.jsx(bo,{text:"Next Project",position:[86.5,21.5,44],rotation:[-1.456,1.388,1.453],moveTo:[95,28,-.5],lookAt:[85.2,27,-.75],size:.5,depth:0,setControls:!0,hoverColor:"#F07F13",switchProject:"project1"}),ne.jsx(bo,{text:"Back",position:[86.5,21.75,55.5],rotation:[-1.518,1.426,1.497],moveTo:[-200,175,200],lookAt:[0,0,0],size:.5,depth:0,setControls:!0,hoverColor:"#F07F13"})]})]}):ne.jsx(l5,{file:n.name+".png",rotation:[-1.516,1.383,1.514],position:[85.25,28,n.position[2]],scale:[.13,.125,.1],basic:!0}),ne.jsxs("group",{...n,dispose:null,children:[ne.jsx("mesh",{geometry:e.Body_1_Body_0.geometry,material:t.Body,position:[.004,1.013,.109],rotation:[Math.PI,0,-3.135],scale:.995}),ne.jsx("mesh",{geometry:e.Null_1_Null_0.geometry,material:t.Null,position:[.004,1.013,.109],rotation:[Math.PI,0,-3.135],scale:.998})]})]})}ei.preload("models/arcade_machine.glb");function eO(n){const{nodes:e,materials:t}=ei("models/tavern.glb");return Object.values(t).forEach(i=>i.side=0),ne.jsxs("group",{...n,dispose:null,children:[ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Baqueta_(1)_Plastic_-_Translucent_Glossy_(Yellow)_0001"].geometry,material:t["Plastic_-_Translucent_Glossy_Yellow.001"],position:[.205,.372,1.13],rotation:[-Math.PI,0,-Math.PI],scale:1.182}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Baqueta_(2)_Banqueta_Carvalho_-_Semibrilhante_0001"].geometry,material:t["Banqueta_Carvalho_-_Semibrilhante.001"],position:[.15,.372,.207],rotation:[-Math.PI,0,-Math.PI],scale:1.089}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Aro_de_metal_(1)_(2)_Coating_-_Black_Oxide_0001"].geometry,material:t["Coating_-_Black_Oxide.001"],position:[1.219,.302,4.445],rotation:[-Math.PI,0,-Math.PI],scale:.244}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Ba_(2)_Barris_Nogueira_0001"].geometry,material:t["Barris_Nogueira.001"],position:[1.219,.292,4.445],rotation:[-Math.PI,0,-Math.PI],scale:.292}),ne.jsx("mesh",{receiveShadow:!0,geometry:e.Cartaz_1_cartaz_2_Poliestireno_0001.geometry,material:t["cartaz_2_Poliestireno.001"],position:[-.414,1.558,-2.8],rotation:[-Math.PI,0,-Math.PI],scale:.166}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cartaz_2_cartaz_Espelho_0001.geometry,material:t["cartaz_Espelho.001"],position:[-.156,1.46,-2.8],rotation:[-Math.PI,0,-Math.PI],scale:.166}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Machado_(1)_Nickel_-_Polished_0001"].geometry,material:t["Nickel_-_Polished.001"],position:[-3.008,.57,-2.692],rotation:[-Math.PI,0,-Math.PI],scale:.531}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Machado_Nickel_-_Satin_0001"].geometry,material:t["Nickel_-_Satin.001"],position:[-3.13,.183,-2.636],rotation:[-Math.PI,0,-Math.PI],scale:.185}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_1_Paint_-_Enamel_Glossy_(Red)_0001"].geometry,material:t["Paint_-_Enamel_Glossy_Red.001"],position:[-1.178,.458,1.768],rotation:[-Math.PI,.732,-Math.PI],scale:2.048}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_2_Plastic_-_Translucent_Glossy_(Blue)_0001"].geometry,material:t["Plastic_-_Translucent_Glossy_Blue.001"],position:[-1.473,.457,-1.34],rotation:[-Math.PI,.732,-Math.PI],scale:.456}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cadeira_3_Mesa_redonda_Mogno_0001.geometry,material:t["Mesa_redonda_Mogno.001"],position:[-2.506,.498,-.88],rotation:[-Math.PI,.732,-Math.PI],scale:1.024}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cadeira_4_PEEK_0001.geometry,material:t["PEEK.001"],position:[-2.922,.457,.065],rotation:[-Math.PI,.732,-Math.PI],scale:.456}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Moldura_quadro_Carbon_Fiber_-_Plain_0001"].geometry,material:t["Carbon_Fiber_-_Plain.001"],position:[-.294,1.955,-2.815],rotation:[-Math.PI,0,-Math.PI],scale:.233}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Pano_de_prato_Fabric_(Light_Brown)_0001"].geometry,material:t["Fabric_Light_Brown_0.001"],position:[.987,.887,-.751],rotation:[-Math.PI,0,-Math.PI],scale:.242}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Acabamento_1_Detahes_de_madeiraas_Cerejeira_0001"].geometry,material:t["Detahes_de_madeiraas_Cerejeira.001"],position:[-.491,1.738,.828],rotation:[-Math.PI,0,-Math.PI],scale:[3.817,3.856,3.817]}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Balco_(1)_Balco_Pintura_-_Esmalte_com_brilho_(C"].geometry,material:t["Balco_Pintura_-_Esmalte_com_brilho_Cinza_escuro.001"],position:[1.393,.456,.847],rotation:[-Math.PI,0,-Math.PI],scale:2.326}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["chamin_Polymide_(Kapton)_0001"].geometry,material:t["Polymide_Kapton.001"],position:[-1.355,2.197,-2.838],rotation:[-Math.PI,0,-Math.PI],scale:[1.271,1.246,1.245]}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Detalhe_Balco_(1)_Bronze_-_Patina_0001"].geometry,material:t["Bronze_-_Patina.001"],position:[1.382,.456,.857],rotation:[-Math.PI,0,-Math.PI],scale:2.336}),ne.jsx("mesh",{receiveShadow:!0,geometry:e.Escada_Pine_0001.geometry,material:t["Pine.001"],position:[1.078,.851,-2.154],rotation:[-Math.PI,0,-Math.PI],scale:1.043}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Fogueira_Lenha_Bambu_claro_-_Semi-brilhante_0001"].geometry,material:t["Lenha_Bambu_claro_-_Semi-brilhante.001"],position:[-1.347,.158,-2.827],rotation:[-Math.PI,0,-Math.PI],scale:.428}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Iterno_da_lareira_PA_11_-_Nylon-_HP_11-30_(with_EOS_P_396_3"].geometry,material:t["PA_11_-_Nylon-_HP_11-30_with_EOS_P_396_3D_Printer.001"],position:[-1.358,.534,-2.719],rotation:[-Math.PI,0,-Math.PI],scale:[.423,.414,.419]}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Janela_(1)_Gemstone_-_Ruby_0001"].geometry,material:t["Gemstone_-_Ruby.001"],position:[-.987,1.811,-2.89],rotation:[-Math.PI,0,-Math.PI],scale:1.734}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Lareira_Lareira_Superfcie_-_Fosca_0001"].geometry,material:t["Lareira_Superfcie_-_Fosca.001"],position:[-1.357,1.722,-2.637],rotation:[-Math.PI,0,-Math.PI],scale:[1.721,1.721,1.704]}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Lenha_Fabric_(Light_Brown)_0001"].geometry,material:t["Fabric_Light_Brown.001"],position:[-2.609,.209,-2.44],rotation:[-Math.PI,0,-Math.PI],scale:.241}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Parede_1_Parede_Superfcie_-_Fosca_0001"].geometry,material:t["Parede_Superfcie_-_Fosca.001"],position:[-.491,1.722,.979],rotation:[-Math.PI,0,-Math.PI],scale:3.941}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Piso_Surface_-_Matte_0001"].geometry,material:t["Surface_-_Matte.001"],position:[-.491,-.201,.979],rotation:[-Math.PI,0,-Math.PI],scale:3.941}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Porta_da_Escada_(1)_Gemstone_-_Diamond_0001"].geometry,material:t["Gemstone_-_Diamond.001"],position:[2.192,1.377,.932],rotation:[-Math.PI,0,-Math.PI],scale:3.371}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Porta_da_Escada_Gemstone_-_Sapphire_0001"].geometry,material:t["Gemstone_-_Sapphire.001"],position:[2.156,1.363,.932],rotation:[-Math.PI,0,-Math.PI],scale:3.333}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Prateleiras_Estante_Pintura_-_Esmalte_com_brilho_(Verde)_0001"].geometry,material:t["Estante_Pintura_-_Esmalte_com_brilho_Verde.001"],position:[2.254,1.215,.979],rotation:[-Math.PI,0,-Math.PI],scale:1.861}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Puxador_(1)_Steel_-_Satin_0001"].geometry,material:t["Steel_-_Satin.001"],position:[2.123,1.482,.64],rotation:[-Math.PI,0,-Math.PI],scale:3.019}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Tampo_Balco_Paek_(Beige)_0001"].geometry,material:t["Paek_Beige.001"],position:[1.345,.926,.895],rotation:[-Math.PI,0,-Math.PI],scale:2.374}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Vidro_(1)_Glass_(Clear)_0001"].geometry,material:t["Glass_Clear.001"],position:[-.987,1.811,-2.891],rotation:[-Math.PI,0,-Math.PI],scale:1.687}),ne.jsx("mesh",{geometry:e["Pilar_(1)_Cherry_0001"].geometry,material:t["Cherry.001"],position:[-.729,1.216,.977],rotation:[-Math.PI,0,-Math.PI],scale:4.036}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Quadro_Paper_(White)_0001"].geometry,material:t["Paper_White.001"],position:[-.294,1.955,-2.801],rotation:[-Math.PI,0,-Math.PI],scale:.233}),ne.jsx("mesh",{receiveShadow:!0,geometry:e["Tocha_(1)_(2)_tocha_Paldio_-_Polido_0001"].geometry,material:t["tocha_Paldio_-_Polido.001"],position:[.491,1.835,.207],rotation:[-Math.PI,0,-Math.PI],scale:3.029}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_1_Stainless_Steel_-_Satin_0001"].geometry,material:t["Stainless_Steel_-_Satin.001"],position:[-1.45,.46,3.159],rotation:[0,Math.PI/2,0],scale:1.98}),ne.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_3_Stainless_Steel_-_Brushed_Linear_Long_0001"].geometry,material:t["Stainless_Steel_-_Brushed_Linear_Long.001"],position:[-2.014,.499,2.738],rotation:[0,Math.PI/2,0],scale:1.638})]})}ei.preload("models/tavern.glb");ei.preload("models/bounty_board.glb");ei.preload("models/skill_books.glb");function tO(n){const{nodes:e,materials:t}=ei("models/lightpost.glb");for(let i in t)t[i].side=0;return ne.jsxs("group",{...n,dispose:null,children:[ne.jsx("mesh",{receiveShadow:!0,geometry:e.defaultMaterial.geometry,material:t.lambert4SG,position:[-.009,20.815,0],scale:2.935}),ne.jsx("mesh",{receiveShadow:!0,geometry:e.defaultMaterial_1.geometry,material:t.lambert3SG,position:[-.009,21.51,0],scale:2.794}),ne.jsx("mesh",{receiveShadow:!0,geometry:e.defaultMaterial_2.geometry,material:t.lambert2SG,position:[0,12.186,0],scale:12.186})]})}ei.preload("models/lightpost.glb");function nO(n){const{nodes:e,materials:t}=ei("models/medieval_book_stack.glb");return ne.jsx("group",{...n,dispose:null,children:ne.jsx("mesh",{receiveShadow:!0,geometry:e.book1_low1_books_0.geometry,material:t.books,position:[-2.033,13.704,-.039],scale:20.623})})}ei.preload("models/medieval_book_stack.glb");const iO=()=>{const{smallText:n,bigText:e}=cu();return ne.jsx(ne.Fragment,{children:ne.jsxs(aS,{shadows:!0,dpr:1,camera:{position:[-200,175,200]},style:{background:"#000000"},children:[ne.jsx(DU.Perf,{position:"top-left"}),ne.jsxs(oe.Suspense,{fallback:ne.jsx(QU,{}),children:[ne.jsx(KU,{}),ne.jsxs("mesh",{receiveShadow:!0,rotation:[-Math.PI*.5,0,0],position:[0,-7,0],children:[ne.jsx("planeGeometry",{args:[1e3,1e3]}),ne.jsx(VF,{mixStrength:.1,resolution:512,args:[1e3,1e3],rotation:[-Math.PI*.5,0,0],mirror:.97,minDepthThreshold:1,maxDepthThreshold:.5,depthScale:50,position:[0,-7,0]})]}),ne.jsxs("group",{children:[ne.jsx(Is,{position:[44,50,80],intensity:2e3}),ne.jsx(Is,{position:[44,50,-30],intensity:2e3}),ne.jsx(Is,{position:[-25,50,-60],intensity:2e3}),ne.jsx(Is,{shadow:!0,position:[-33.3,10,-65],rotateX:3.14,color:"orange",intensity:2500,decay:1.7}),ne.jsx(Is,{shadow:!0,position:[70,60,120],intensity:2e3,decay:1.5}),ne.jsx(Is,{position:[65,63,-70],intensity:2e3,decay:1.5}),ne.jsx(Is,{position:[53,63,-83],intensity:2e3,decay:1.5}),ne.jsx(Is,{shadow:!0,position:[-90,63,-83],intensity:2e3,decay:1.5}),ne.jsx(Is,{shadow:!0,position:[-82.5,80,127],color:16765468,intensity:3500,decay:1.675}),ne.jsx("directionalLight",{position:[90,300,-120],intensity:2,color:8355711})]}),ne.jsx(l5,{file:"ainsworth_corbin_resume.png",position:[50.4,15.75,140.9],scale:[.113,.14,.1],rotation:[.075,-1.575,0]}),ne.jsx(l5,{file:"about_me.png",position:[-3.91,36.5,-69.95],scale:[.0475,.085,.1]}),e&&ne.jsxs(ne.Fragment,{children:[ne.jsx(ic,{text:"Rsum",position:[-178,59,-72],moveTo:[41,16,139],lookAt:[52,16,139],size:15,depth:5,setControls:!1}),ne.jsx(ic,{text:"Skills",position:[-183,37,-72],moveTo:[44,47,-15],lookAt:[48,47,-15],size:15,depth:5,setControls:!1}),ne.jsx(ic,{text:"Experience",position:[-183,15,-72],moveTo:[-11,38.95,-64.5],lookAt:[-11,38.95,-75.5],size:15,depth:5,setControls:!1,enableButtons:!0}),ne.jsx(ic,{text:"About Me",position:[-190,-7,-72],moveTo:[-4,36.5,-64.5],lookAt:[-4,36.5,-75.5],size:15,depth:5,setControls:!1,enableButtons:!0}),ne.jsx(ic,{text:"Project1",position:[-185,0,-20],rotation:[-1.575,0,0],moveTo:[95,28,-.5],lookAt:[85.2,27,-.75],size:15,depth:1,setControls:!1,displayProject:"project1",sounds:!0}),ne.jsx(ic,{text:"Project2",position:[-185,0,0],rotation:[-1.575,0,0],moveTo:[95,28,50],lookAt:[85,27,49.5],size:15,depth:1,displayProject:"project2",setControls:!1}),ne.jsx(ZU,{}),ne.jsx(U1,{position:[75,60,105],rotation:[0,Math.PI,0],scale:[5,5,5]}),ne.jsx(U1,{position:[75,60,-85],rotation:[0,Math.PI,0],scale:[5,5,5]}),ne.jsx(U1,{position:[40,60,-92.75],rotation:[0,-Math.PI/2,0],scale:[5,5,5]}),ne.jsx(U1,{position:[-105,60,-92.75],rotation:[0,-Math.PI/2,0],scale:[5,5,5]})]}),n&&ne.jsxs(ne.Fragment,{children:[ne.jsx(bo,{text:"Experience",position:[-5,33,-69.94],moveTo:[-11,38.95,-64.5],lookAt:[-11,38.95,-75.5],size:.25,depth:0,setControls:!0,hoverColor:"#ff0000",switchProject:!0}),ne.jsx(bo,{text:"Back",position:[-2.5,33,-69.94],moveTo:[-200,175,200],lookAt:[0,0,0],size:.25,depth:0,setControls:!0,hoverColor:"#ff0000"}),ne.jsx(bo,{text:"About Me",position:[-11.5,35.5,-69.94],moveTo:[-4,36.5,-64.5],lookAt:[-4,36.5,-75.5],size:.25,depth:0,setControls:!0,hoverColor:"#ff0000",switchProject:!0}),ne.jsx(bo,{text:"Back",position:[-9,35.5,-69.94],moveTo:[-200,175,200],lookAt:[0,0,0],size:.25,depth:0,setControls:!0,hoverColor:"#ff0000"})]}),ne.jsx(av,{file:"skill_books.glb",scale:[.15,.15,.15],position:[48,51.75,-8],rotation:[-1.6,-1.5,0],canHover:!0,moveTo:[44,47,-15],lookAt:[48,47,-15]}),ne.jsx(av,{file:"bounty_board.glb",scale:[10,10,10],rotation:[0,-1.575,0],position:[52,-5,150],canHover:!0,lookAt:[52,16,139],moveTo:[41,16,139],shadow:!0}),ne.jsx(lv,{position:[80,-8,0],scale:[25,25,25],rotation:[0,Math.PI/2,0],project:"https://project1.corbinainsworth.com",name:"project1"}),ne.jsx(lv,{position:[80,-8,50],scale:[25,25,25],rotation:[0,Math.PI/2,0],project:"https://project2.corbinainsworth.com",name:"project2"}),ne.jsx(nO,{position:[22,23.6,70],scale:[.33,.33,.33],rotation:[0,-2.5,0]}),ne.jsx(tO,{position:[-90,-5,120],scale:[4.5,4.5,4.5],rotation:[0,2.5,0]}),ne.jsx(eO,{scale:[25,25,25]})]})]})})},FS=oe.createContext(),cu=()=>oe.useContext(FS),rO=({children:n})=>{const[e,t]=oe.useState(!0),[i,r]=oe.useState("none"),[s,o]=oe.useState(!1),[a,l]=oe.useState(!0),h="https://project1.corbinainsworth.com",d="https://project2.corbinainsworth.com",f="sounds/whoosh.mp3",p="sounds/click.mp3",m=new Audio(f),v=new Audio(p),q={pan:e,setPan:t,whoosh:m,click:v,displayProject:i,setDisplayProject:r,project1URL:h,project2URL:d,smallText:s,setSmallText:o,bigText:a,setBigText:l};return ne.jsx(FS.Provider,{value:q,children:n})};_3.createRoot(document.getElementById("root")).render(ne.jsx(Bo.StrictMode,{children:ne.jsx(rO,{children:ne.jsx(iO,{})})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Q5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Z5(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var fy={exports:{}},C0={},dy={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=Symbol.for("react.element"),CE=Symbol.for("react.portal"),TE=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),RE=Symbol.for("react.profiler"),PE=Symbol.for("react.provider"),BE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),LE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),UE=Symbol.for("react.lazy"),w9=Symbol.iterator;function FE(n){return n===null||typeof n!="object"?null:(n=w9&&n[w9]||n["@@iterator"],typeof n=="function"?n:null)}var py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},my=Object.assign,gy={};function Nu(n,e,t){this.props=n,this.context=e,this.refs=gy,this.updater=t||py}Nu.prototype.isReactComponent={};Nu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Nu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vy(){}vy.prototype=Nu.prototype;function $5(n,e,t){this.props=n,this.context=e,this.refs=gy,this.updater=t||py}var e6=$5.prototype=new vy;e6.constructor=$5;my(e6,Nu.prototype);e6.isPureReactComponent=!0;var C9=Array.isArray,_y=Object.prototype.hasOwnProperty,t6={current:null},yy={key:!0,ref:!0,__self:!0,__source:!0};function xy(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_y.call(e,i)&&!yy.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ed,type:n,key:s,ref:o,props:r,_owner:t6.current}}function OE(n,e){return{$$typeof:ed,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function n6(n){return typeof n=="object"&&n!==null&&n.$$typeof===ed}function NE(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var T9=/\/+/g;function g2(n,e){return typeof n=="object"&&n!==null&&n.key!=null?NE(""+n.key):e.toString(36)}function Cp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ed:case CE:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+g2(o,0):i,C9(r)?(t="",n!=null&&(t=n.replace(T9,"$&/")+"/"),Cp(r,e,t,"",function(c){return c})):r!=null&&(n6(r)&&(r=OE(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(T9,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",C9(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+g2(s,a);o+=Cp(s,e,t,l,r)}else if(l=FE(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+g2(s,a++),o+=Cp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function a1(n,e,t){if(n==null)return n;var i=[],r=0;return Cp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function kE(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ji={current:null},Tp={transition:null},zE={ReactCurrentDispatcher:ji,ReactCurrentBatchConfig:Tp,ReactCurrentOwner:t6};function qy(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:a1,forEach:function(n,e,t){a1(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return a1(n,function(){e++}),e},toArray:function(n){return a1(n,function(e){return e})||[]},only:function(n){if(!n6(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Nt.Component=Nu;Nt.Fragment=TE;Nt.Profiler=RE;Nt.PureComponent=$5;Nt.StrictMode=bE;Nt.Suspense=LE;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;Nt.act=qy;Nt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=my({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t6.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)_y.call(e,l)&&!yy.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ed,type:n.type,key:r,ref:s,props:i,_owner:o}};Nt.createContext=function(n){return n={$$typeof:BE,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:PE,_context:n},n.Consumer=n};Nt.createElement=xy;Nt.createFactory=function(n){var e=xy.bind(null,n);return e.type=n,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(n){return{$$typeof:IE,render:n}};Nt.isValidElement=n6;Nt.lazy=function(n){return{$$typeof:UE,_payload:{_status:-1,_result:n},_init:kE}};Nt.memo=function(n,e){return{$$typeof:DE,type:n,compare:e===void 0?null:e}};Nt.startTransition=function(n){var e=Tp.transition;Tp.transition={};try{n()}finally{Tp.transition=e}};Nt.unstable_act=qy;Nt.useCallback=function(n,e){return ji.current.useCallback(n,e)};Nt.useContext=function(n){return ji.current.useContext(n)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(n){return ji.current.useDeferredValue(n)};Nt.useEffect=function(n,e){return ji.current.useEffect(n,e)};Nt.useId=function(){return ji.current.useId()};Nt.useImperativeHandle=function(n,e,t){return ji.current.useImperativeHandle(n,e,t)};Nt.useInsertionEffect=function(n,e){return ji.current.useInsertionEffect(n,e)};Nt.useLayoutEffect=function(n,e){return ji.current.useLayoutEffect(n,e)};Nt.useMemo=function(n,e){return ji.current.useMemo(n,e)};Nt.useReducer=function(n,e,t){return ji.current.useReducer(n,e,t)};Nt.useRef=function(n){return ji.current.useRef(n)};Nt.useState=function(n){return ji.current.useState(n)};Nt.useSyncExternalStore=function(n,e,t){return ji.current.useSyncExternalStore(n,e,t)};Nt.useTransition=function(){return ji.current.useTransition()};Nt.version="18.3.1";dy.exports=Nt;var ue=dy.exports;const sa=Q5(ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=ue,HE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),WE=Object.prototype.hasOwnProperty,XE=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jE={key:!0,ref:!0,__self:!0,__source:!0};function Ay(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)WE.call(e,i)&&!jE.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:HE,type:n,key:s,ref:o,props:r,_owner:XE.current}}C0.Fragment=VE;C0.jsx=Ay;C0.jsxs=Ay;fy.exports=C0;var se=fy.exports,i4={},Sy={exports:{}},Br={},My={exports:{}},Ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,G){var N=D.length;D.push(G);e:for(;0<N;){var O=N-1>>>1,J=D[O];if(0<r(J,G))D[O]=G,D[N]=J,N=O;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],N=D.pop();if(N!==G){D[0]=N;e:for(var O=0,J=D.length,Z=J>>>1;O<Z;){var j=2*(O+1)-1,Q=D[j],ie=j+1,$=D[ie];if(0>r(Q,N))ie<J&&0>r($,Q)?(D[O]=$,D[ie]=N,O=ie):(D[O]=Q,D[j]=N,O=j);else if(ie<J&&0>r($,N))D[O]=$,D[ie]=N,O=ie;else break e}}return G}function r(D,G){var N=D.sortIndex-G.sortIndex;return N!==0?N:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var G=t(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=D)i(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function M(D){if(x=!1,A(D),!v)if(t(l)!==null)v=!0,X(C);else{var G=t(c);G!==null&&ee(M,G.startTime-D)}}function C(D,G){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var N=p;try{for(A(G),d=t(l);d!==null&&(!(d.expirationTime>G)||D&&!F());){var O=d.callback;if(typeof O=="function"){d.callback=null,p=d.priorityLevel;var J=O(d.expirationTime<=G);G=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),A(G)}else i(l);d=t(l)}if(d!==null)var Z=!0;else{var j=t(c);j!==null&&ee(M,j.startTime-G),Z=!1}return Z}finally{d=null,p=N,m=!1}}var w=!1,b=null,P=-1,R=5,T=-1;function F(){return!(n.unstable_now()-T<R)}function L(){if(b!==null){var D=n.unstable_now();T=D;var G=!0;try{G=b(!0,D)}finally{G?U():(w=!1,b=null)}}else w=!1}var U;if(typeof q=="function")U=function(){q(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Y=k.port2;k.port1.onmessage=L,U=function(){Y.postMessage(null)}}else U=function(){_(L,0)};function X(D){b=D,w||(w=!0,U())}function ee(D,G){P=_(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var N=p;p=G;try{return D()}finally{p=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var N=p;p=D;try{return G()}finally{p=N}},n.unstable_scheduleCallback=function(D,G,N){var O=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=N+J,D={id:u++,callback:G,priorityLevel:D,startTime:N,expirationTime:J,sortIndex:-1},N>O?(D.sortIndex=N,e(c,D),t(l)===null&&D===t(c)&&(x?(g(P),P=-1):x=!0,ee(M,N-O))):(D.sortIndex=J,e(l,D),v||m||(v=!0,X(C))),D},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(D){var G=p;return function(){var N=p;p=G;try{return D.apply(this,arguments)}finally{p=N}}}})(Ey);My.exports=Ey;var JE=My.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=ue,Rr=JE;function He(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wy=new Set,qf={};function Xl(n,e){Mu(n,e),Mu(n+"Capture",e)}function Mu(n,e){for(qf[n]=e,n=0;n<e.length;n++)wy.add(e[n])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r4=Object.prototype.hasOwnProperty,KE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b9={},R9={};function QE(n){return r4.call(R9,n)?!0:r4.call(b9,n)?!1:KE.test(n)?R9[n]=!0:(b9[n]=!0,!1)}function ZE(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $E(n,e,t,i){if(e===null||typeof e>"u"||ZE(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ji(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){pi[n]=new Ji(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];pi[e]=new Ji(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){pi[n]=new Ji(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){pi[n]=new Ji(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){pi[n]=new Ji(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){pi[n]=new Ji(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){pi[n]=new Ji(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){pi[n]=new Ji(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){pi[n]=new Ji(n,5,!1,n.toLowerCase(),null,!1,!1)});var i6=/[\-:]([a-z])/g;function r6(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(i6,r6);pi[e]=new Ji(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(i6,r6);pi[e]=new Ji(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(i6,r6);pi[e]=new Ji(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){pi[n]=new Ji(n,1,!1,n.toLowerCase(),null,!1,!1)});pi.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){pi[n]=new Ji(n,1,!1,n.toLowerCase(),null,!0,!0)});function s6(n,e,t,i){var r=pi.hasOwnProperty(e)?pi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($E(e,t,r,i)&&(t=null),i||r===null?QE(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var wo=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l1=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),$c=Symbol.for("react.fragment"),o6=Symbol.for("react.strict_mode"),s4=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),a6=Symbol.for("react.forward_ref"),o4=Symbol.for("react.suspense"),a4=Symbol.for("react.suspense_list"),l6=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),by=Symbol.for("react.offscreen"),P9=Symbol.iterator;function Sh(n){return n===null||typeof n!="object"?null:(n=P9&&n[P9]||n["@@iterator"],typeof n=="function"?n:null)}var Mn=Object.assign,v2;function Zh(n){if(v2===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);v2=e&&e[1]||""}return`
`+v2+n}var _2=!1;function y2(n,e){if(!n||_2)return"";_2=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{_2=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Zh(n):""}function ew(n){switch(n.tag){case 5:return Zh(n.type);case 16:return Zh("Lazy");case 13:return Zh("Suspense");case 19:return Zh("SuspenseList");case 0:case 2:case 15:return n=y2(n.type,!1),n;case 11:return n=y2(n.type.render,!1),n;case 1:return n=y2(n.type,!0),n;default:return""}}function l4(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $c:return"Fragment";case Zc:return"Portal";case s4:return"Profiler";case o6:return"StrictMode";case o4:return"Suspense";case a4:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ty:return(n.displayName||"Context")+".Consumer";case Cy:return(n._context.displayName||"Context")+".Provider";case a6:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case l6:return e=n.displayName||null,e!==null?e:l4(n.type)||"Memo";case Qo:e=n._payload,n=n._init;try{return l4(n(e))}catch{}}return null}function tw(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l4(e);case 8:return e===o6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function va(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ry(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nw(n){var e=Ry(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function c1(n){n._valueTracker||(n._valueTracker=nw(n))}function Py(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Ry(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Kp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function c4(n,e){var t=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function B9(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=va(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function By(n,e){e=e.checked,e!=null&&s6(n,"checked",e,!1)}function u4(n,e){By(n,e);var t=va(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?h4(n,e.type,t):e.hasOwnProperty("defaultValue")&&h4(n,e.type,va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function I9(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function h4(n,e,t){(e!=="number"||Kp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var $h=Array.isArray;function mu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+va(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function f4(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function L9(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(He(92));if($h(t)){if(1<t.length)throw Error(He(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:va(t)}}function Iy(n,e){var t=va(e.value),i=va(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function D9(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Ly(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d4(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Ly(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var u1,Dy=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(u1=u1||document.createElement("div"),u1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=u1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Af(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iw=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(n){iw.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),of[e]=of[n]})});function Uy(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||of.hasOwnProperty(n)&&of[n]?(""+e).trim():e+"px"}function Fy(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Uy(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var rw=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p4(n,e){if(e){if(rw[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function m4(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g4=null;function c6(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var v4=null,gu=null,vu=null;function U9(n){if(n=id(n)){if(typeof v4!="function")throw Error(He(280));var e=n.stateNode;e&&(e=B0(e),v4(n.stateNode,n.type,e))}}function Oy(n){gu?vu?vu.push(n):vu=[n]:gu=n}function Ny(){if(gu){var n=gu,e=vu;if(vu=gu=null,U9(n),e)for(n=0;n<e.length;n++)U9(e[n])}}function ky(n,e){return n(e)}function zy(){}var x2=!1;function Gy(n,e,t){if(x2)return n(e,t);x2=!0;try{return ky(n,e,t)}finally{x2=!1,(gu!==null||vu!==null)&&(zy(),Ny())}}function Sf(n,e){var t=n.stateNode;if(t===null)return null;var i=B0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(He(231,e,typeof t));return t}var _4=!1;if(xo)try{var Mh={};Object.defineProperty(Mh,"passive",{get:function(){_4=!0}}),window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{_4=!1}function sw(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var af=!1,Qp=null,Zp=!1,y4=null,ow={onError:function(n){af=!0,Qp=n}};function aw(n,e,t,i,r,s,o,a,l){af=!1,Qp=null,sw.apply(ow,arguments)}function lw(n,e,t,i,r,s,o,a,l){if(aw.apply(this,arguments),af){if(af){var c=Qp;af=!1,Qp=null}else throw Error(He(198));Zp||(Zp=!0,y4=c)}}function jl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Hy(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function F9(n){if(jl(n)!==n)throw Error(He(188))}function cw(n){var e=n.alternate;if(!e){if(e=jl(n),e===null)throw Error(He(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return F9(r),n;if(s===i)return F9(r),e;s=s.sibling}throw Error(He(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(He(189))}}if(t.alternate!==i)throw Error(He(190))}if(t.tag!==3)throw Error(He(188));return t.stateNode.current===t?n:e}function Vy(n){return n=cw(n),n!==null?Wy(n):null}function Wy(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Wy(n);if(e!==null)return e;n=n.sibling}return null}var Xy=Rr.unstable_scheduleCallback,O9=Rr.unstable_cancelCallback,uw=Rr.unstable_shouldYield,hw=Rr.unstable_requestPaint,Ln=Rr.unstable_now,fw=Rr.unstable_getCurrentPriorityLevel,u6=Rr.unstable_ImmediatePriority,jy=Rr.unstable_UserBlockingPriority,$p=Rr.unstable_NormalPriority,dw=Rr.unstable_LowPriority,Jy=Rr.unstable_IdlePriority,T0=null,Os=null;function pw(n){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(T0,n,void 0,(n.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:vw,mw=Math.log,gw=Math.LN2;function vw(n){return n>>>=0,n===0?32:31-(mw(n)/gw|0)|0}var h1=64,f1=4194304;function ef(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function e0(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=ef(a):(s&=o,s!==0&&(i=ef(s)))}else o=t&~r,o!==0?i=ef(o):s!==0&&(i=ef(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-_s(e),r=1<<t,i|=n[t],e&=~r;return i}function _w(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yw(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-_s(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=_w(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function x4(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yy(){var n=h1;return h1<<=1,!(h1&4194240)&&(h1=64),n}function q2(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function td(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-_s(e),n[e]=t}function xw(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-_s(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function h6(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-_s(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var en=0;function Ky(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Qy,f6,Zy,$y,ex,q4=!1,d1=[],oa=null,aa=null,la=null,Mf=new Map,Ef=new Map,$o=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N9(n,e){switch(n){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(e.pointerId)}}function Eh(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=id(e),e!==null&&f6(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Aw(n,e,t,i,r){switch(e){case"focusin":return oa=Eh(oa,n,e,t,i,r),!0;case"dragenter":return aa=Eh(aa,n,e,t,i,r),!0;case"mouseover":return la=Eh(la,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Mf.set(s,Eh(Mf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ef.set(s,Eh(Ef.get(s)||null,n,e,t,i,r)),!0}return!1}function tx(n){var e=gl(n.target);if(e!==null){var t=jl(e);if(t!==null){if(e=t.tag,e===13){if(e=Hy(t),e!==null){n.blockedOn=e,ex(n.priority,function(){Zy(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function bp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=A4(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);g4=i,t.target.dispatchEvent(i),g4=null}else return e=id(t),e!==null&&f6(e),n.blockedOn=t,!1;e.shift()}return!0}function k9(n,e,t){bp(n)&&t.delete(e)}function Sw(){q4=!1,oa!==null&&bp(oa)&&(oa=null),aa!==null&&bp(aa)&&(aa=null),la!==null&&bp(la)&&(la=null),Mf.forEach(k9),Ef.forEach(k9)}function wh(n,e){n.blockedOn===e&&(n.blockedOn=null,q4||(q4=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,Sw)))}function wf(n){function e(r){return wh(r,n)}if(0<d1.length){wh(d1[0],n);for(var t=1;t<d1.length;t++){var i=d1[t];i.blockedOn===n&&(i.blockedOn=null)}}for(oa!==null&&wh(oa,n),aa!==null&&wh(aa,n),la!==null&&wh(la,n),Mf.forEach(e),Ef.forEach(e),t=0;t<$o.length;t++)i=$o[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<$o.length&&(t=$o[0],t.blockedOn===null);)tx(t),t.blockedOn===null&&$o.shift()}var _u=wo.ReactCurrentBatchConfig,t0=!0;function Mw(n,e,t,i){var r=en,s=_u.transition;_u.transition=null;try{en=1,d6(n,e,t,i)}finally{en=r,_u.transition=s}}function Ew(n,e,t,i){var r=en,s=_u.transition;_u.transition=null;try{en=4,d6(n,e,t,i)}finally{en=r,_u.transition=s}}function d6(n,e,t,i){if(t0){var r=A4(n,e,t,i);if(r===null)P2(n,e,i,n0,t),N9(n,i);else if(Aw(r,n,e,t,i))i.stopPropagation();else if(N9(n,i),e&4&&-1<qw.indexOf(n)){for(;r!==null;){var s=id(r);if(s!==null&&Qy(s),s=A4(n,e,t,i),s===null&&P2(n,e,i,n0,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else P2(n,e,i,null,t)}}var n0=null;function A4(n,e,t,i){if(n0=null,n=c6(i),n=gl(n),n!==null)if(e=jl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Hy(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return n0=n,null}function nx(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fw()){case u6:return 1;case jy:return 4;case $p:case dw:return 16;case Jy:return 536870912;default:return 16}default:return 16}}var na=null,p6=null,Rp=null;function ix(){if(Rp)return Rp;var n,e=p6,t=e.length,i,r="value"in na?na.value:na.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Rp=r.slice(n,1<i?1-i:void 0)}function Pp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function p1(){return!0}function z9(){return!1}function Ir(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?p1:z9,this.isPropagationStopped=z9,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=p1)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=p1)},persist:function(){},isPersistent:p1}),e}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m6=Ir(ku),nd=Mn({},ku,{view:0,detail:0}),ww=Ir(nd),A2,S2,Ch,b0=Mn({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g6,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ch&&(Ch&&n.type==="mousemove"?(A2=n.screenX-Ch.screenX,S2=n.screenY-Ch.screenY):S2=A2=0,Ch=n),A2)},movementY:function(n){return"movementY"in n?n.movementY:S2}}),G9=Ir(b0),Cw=Mn({},b0,{dataTransfer:0}),Tw=Ir(Cw),bw=Mn({},nd,{relatedTarget:0}),M2=Ir(bw),Rw=Mn({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Pw=Ir(Rw),Bw=Mn({},ku,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Iw=Ir(Bw),Lw=Mn({},ku,{data:0}),H9=Ir(Lw),Dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ow(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Fw[n])?!!e[n]:!1}function g6(){return Ow}var Nw=Mn({},nd,{key:function(n){if(n.key){var e=Dw[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Pp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g6,charCode:function(n){return n.type==="keypress"?Pp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kw=Ir(Nw),zw=Mn({},b0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V9=Ir(zw),Gw=Mn({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g6}),Hw=Ir(Gw),Vw=Mn({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ww=Ir(Vw),Xw=Mn({},b0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jw=Ir(Xw),Jw=[9,13,27,32],v6=xo&&"CompositionEvent"in window,lf=null;xo&&"documentMode"in document&&(lf=document.documentMode);var Yw=xo&&"TextEvent"in window&&!lf,rx=xo&&(!v6||lf&&8<lf&&11>=lf),W9=" ",X9=!1;function sx(n,e){switch(n){case"keyup":return Jw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ox(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var eu=!1;function Kw(n,e){switch(n){case"compositionend":return ox(e);case"keypress":return e.which!==32?null:(X9=!0,W9);case"textInput":return n=e.data,n===W9&&X9?null:n;default:return null}}function Qw(n,e){if(eu)return n==="compositionend"||!v6&&sx(n,e)?(n=ix(),Rp=p6=na=null,eu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rx&&e.locale!=="ko"?null:e.data;default:return null}}var Zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Zw[n.type]:e==="textarea"}function ax(n,e,t,i){Oy(i),e=i0(e,"onChange"),0<e.length&&(t=new m6("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var cf=null,Cf=null;function $w(n){_x(n,0)}function R0(n){var e=iu(n);if(Py(e))return n}function eC(n,e){if(n==="change")return e}var lx=!1;if(xo){var E2;if(xo){var w2="oninput"in document;if(!w2){var J9=document.createElement("div");J9.setAttribute("oninput","return;"),w2=typeof J9.oninput=="function"}E2=w2}else E2=!1;lx=E2&&(!document.documentMode||9<document.documentMode)}function Y9(){cf&&(cf.detachEvent("onpropertychange",cx),Cf=cf=null)}function cx(n){if(n.propertyName==="value"&&R0(Cf)){var e=[];ax(e,Cf,n,c6(n)),Gy($w,e)}}function tC(n,e,t){n==="focusin"?(Y9(),cf=e,Cf=t,cf.attachEvent("onpropertychange",cx)):n==="focusout"&&Y9()}function nC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return R0(Cf)}function iC(n,e){if(n==="click")return R0(e)}function rC(n,e){if(n==="input"||n==="change")return R0(e)}function sC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xs=typeof Object.is=="function"?Object.is:sC;function Tf(n,e){if(xs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!r4.call(e,r)||!xs(n[r],e[r]))return!1}return!0}function K9(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Q9(n,e){var t=K9(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=K9(t)}}function ux(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ux(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function hx(){for(var n=window,e=Kp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Kp(n.document)}return e}function _6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function oC(n){var e=hx(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ux(t.ownerDocument.documentElement,t)){if(i!==null&&_6(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Q9(t,s);var o=Q9(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var aC=xo&&"documentMode"in document&&11>=document.documentMode,tu=null,S4=null,uf=null,M4=!1;function Z9(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;M4||tu==null||tu!==Kp(i)||(i=tu,"selectionStart"in i&&_6(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uf&&Tf(uf,i)||(uf=i,i=i0(S4,"onSelect"),0<i.length&&(e=new m6("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=tu)))}function m1(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var nu={animationend:m1("Animation","AnimationEnd"),animationiteration:m1("Animation","AnimationIteration"),animationstart:m1("Animation","AnimationStart"),transitionend:m1("Transition","TransitionEnd")},C2={},fx={};xo&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function P0(n){if(C2[n])return C2[n];if(!nu[n])return n;var e=nu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in fx)return C2[n]=e[t];return n}var dx=P0("animationend"),px=P0("animationiteration"),mx=P0("animationstart"),gx=P0("transitionend"),vx=new Map,$9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(n,e){vx.set(n,e),Xl(e,[n])}for(var T2=0;T2<$9.length;T2++){var b2=$9[T2],lC=b2.toLowerCase(),cC=b2[0].toUpperCase()+b2.slice(1);Ma(lC,"on"+cC)}Ma(dx,"onAnimationEnd");Ma(px,"onAnimationIteration");Ma(mx,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(gx,"onTransitionEnd");Mu("onMouseEnter",["mouseout","mouseover"]);Mu("onMouseLeave",["mouseout","mouseover"]);Mu("onPointerEnter",["pointerout","pointerover"]);Mu("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("cancel close invalid load scroll toggle".split(" ").concat(tf));function e7(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,lw(i,e,void 0,n),n.currentTarget=null}function _x(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;e7(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;e7(r,a,c),s=l}}}if(Zp)throw n=y4,Zp=!1,y4=null,n}function un(n,e){var t=e[b4];t===void 0&&(t=e[b4]=new Set);var i=n+"__bubble";t.has(i)||(yx(e,n,2,!1),t.add(i))}function R2(n,e,t){var i=0;e&&(i|=4),yx(t,n,i,e)}var g1="_reactListening"+Math.random().toString(36).slice(2);function bf(n){if(!n[g1]){n[g1]=!0,wy.forEach(function(t){t!=="selectionchange"&&(uC.has(t)||R2(t,!1,n),R2(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[g1]||(e[g1]=!0,R2("selectionchange",!1,e))}}function yx(n,e,t,i){switch(nx(e)){case 1:var r=Mw;break;case 4:r=Ew;break;default:r=d6}t=r.bind(null,e,t,n),r=void 0,!_4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function P2(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=gl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Gy(function(){var c=s,u=c6(t),d=[];e:{var p=vx.get(n);if(p!==void 0){var m=m6,v=n;switch(n){case"keypress":if(Pp(t)===0)break e;case"keydown":case"keyup":m=kw;break;case"focusin":v="focus",m=M2;break;case"focusout":v="blur",m=M2;break;case"beforeblur":case"afterblur":m=M2;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=G9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Hw;break;case dx:case px:case mx:m=Pw;break;case gx:m=Ww;break;case"scroll":m=ww;break;case"wheel":m=jw;break;case"copy":case"cut":case"paste":m=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=V9}var x=(e&4)!==0,_=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var q=c,A;q!==null;){A=q;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,g!==null&&(M=Sf(q,g),M!=null&&x.push(Rf(q,M,A)))),_)break;q=q.return}0<x.length&&(p=new m(p,v,null,t,u),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==g4&&(v=t.relatedTarget||t.fromElement)&&(gl(v)||v[qo]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?gl(v):null,v!==null&&(_=jl(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=G9,M="onMouseLeave",g="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(x=V9,M="onPointerLeave",g="onPointerEnter",q="pointer"),_=m==null?p:iu(m),A=v==null?p:iu(v),p=new x(M,q+"leave",m,t,u),p.target=_,p.relatedTarget=A,M=null,gl(u)===c&&(x=new x(g,q+"enter",v,t,u),x.target=A,x.relatedTarget=_,M=x),_=M,m&&v)t:{for(x=m,g=v,q=0,A=x;A;A=vc(A))q++;for(A=0,M=g;M;M=vc(M))A++;for(;0<q-A;)x=vc(x),q--;for(;0<A-q;)g=vc(g),A--;for(;q--;){if(x===g||g!==null&&x===g.alternate)break t;x=vc(x),g=vc(g)}x=null}else x=null;m!==null&&t7(d,p,m,x,!1),v!==null&&_!==null&&t7(d,_,v,x,!0)}}e:{if(p=c?iu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=eC;else if(j9(p))if(lx)C=rC;else{C=nC;var w=tC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=iC);if(C&&(C=C(n,c))){ax(d,C,t,u);break e}w&&w(n,p,c),n==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&h4(p,"number",p.value)}switch(w=c?iu(c):window,n){case"focusin":(j9(w)||w.contentEditable==="true")&&(tu=w,S4=c,uf=null);break;case"focusout":uf=S4=tu=null;break;case"mousedown":M4=!0;break;case"contextmenu":case"mouseup":case"dragend":M4=!1,Z9(d,t,u);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":Z9(d,t,u)}var b;if(v6)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else eu?sx(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(rx&&t.locale!=="ko"&&(eu||P!=="onCompositionStart"?P==="onCompositionEnd"&&eu&&(b=ix()):(na=u,p6="value"in na?na.value:na.textContent,eu=!0)),w=i0(c,P),0<w.length&&(P=new H9(P,n,null,t,u),d.push({event:P,listeners:w}),b?P.data=b:(b=ox(t),b!==null&&(P.data=b)))),(b=Yw?Kw(n,t):Qw(n,t))&&(c=i0(c,"onBeforeInput"),0<c.length&&(u=new H9("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=b))}_x(d,e)})}function Rf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function i0(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Sf(n,t),s!=null&&i.unshift(Rf(n,s,r)),s=Sf(n,e),s!=null&&i.push(Rf(n,s,r))),n=n.return}return i}function vc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function t7(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Sf(t,s),l!=null&&o.unshift(Rf(t,l,a))):r||(l=Sf(t,s),l!=null&&o.push(Rf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var hC=/\r\n?/g,fC=/\u0000|\uFFFD/g;function n7(n){return(typeof n=="string"?n:""+n).replace(hC,`
`).replace(fC,"")}function v1(n,e,t){if(e=n7(e),n7(n)!==e&&t)throw Error(He(425))}function r0(){}var E4=null,w4=null;function C4(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T4=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,i7=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof i7<"u"?function(n){return i7.resolve(null).then(n).catch(mC)}:T4;function mC(n){setTimeout(function(){throw n})}function B2(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),wf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);wf(e)}function ca(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function r7(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var zu=Math.random().toString(36).slice(2),Us="__reactFiber$"+zu,Pf="__reactProps$"+zu,qo="__reactContainer$"+zu,b4="__reactEvents$"+zu,gC="__reactListeners$"+zu,vC="__reactHandles$"+zu;function gl(n){var e=n[Us];if(e)return e;for(var t=n.parentNode;t;){if(e=t[qo]||t[Us]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=r7(n);n!==null;){if(t=n[Us])return t;n=r7(n)}return e}n=t,t=n.parentNode}return null}function id(n){return n=n[Us]||n[qo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function iu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(He(33))}function B0(n){return n[Pf]||null}var R4=[],ru=-1;function Ea(n){return{current:n}}function hn(n){0>ru||(n.current=R4[ru],R4[ru]=null,ru--)}function an(n,e){ru++,R4[ru]=n.current,n.current=e}var _a={},Bi=Ea(_a),ar=Ea(!1),Il=_a;function Eu(n,e){var t=n.type.contextTypes;if(!t)return _a;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function lr(n){return n=n.childContextTypes,n!=null}function s0(){hn(ar),hn(Bi)}function s7(n,e,t){if(Bi.current!==_a)throw Error(He(168));an(Bi,e),an(ar,t)}function xx(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(He(108,tw(n)||"Unknown",r));return Mn({},t,i)}function o0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||_a,Il=Bi.current,an(Bi,n),an(ar,ar.current),!0}function o7(n,e,t){var i=n.stateNode;if(!i)throw Error(He(169));t?(n=xx(n,e,Il),i.__reactInternalMemoizedMergedChildContext=n,hn(ar),hn(Bi),an(Bi,n)):hn(ar),an(ar,t)}var lo=null,I0=!1,I2=!1;function qx(n){lo===null?lo=[n]:lo.push(n)}function _C(n){I0=!0,qx(n)}function wa(){if(!I2&&lo!==null){I2=!0;var n=0,e=en;try{var t=lo;for(en=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}lo=null,I0=!1}catch(r){throw lo!==null&&(lo=lo.slice(n+1)),Xy(u6,wa),r}finally{en=e,I2=!1}}return null}var su=[],ou=0,a0=null,l0=0,Yr=[],Kr=0,Ll=null,fo=1,po="";function ul(n,e){su[ou++]=l0,su[ou++]=a0,a0=n,l0=e}function Ax(n,e,t){Yr[Kr++]=fo,Yr[Kr++]=po,Yr[Kr++]=Ll,Ll=n;var i=fo;n=po;var r=32-_s(i)-1;i&=~(1<<r),t+=1;var s=32-_s(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,fo=1<<32-_s(e)+r|t<<r|i,po=s+n}else fo=1<<s|t<<r|i,po=n}function y6(n){n.return!==null&&(ul(n,1),Ax(n,1,0))}function x6(n){for(;n===a0;)a0=su[--ou],su[ou]=null,l0=su[--ou],su[ou]=null;for(;n===Ll;)Ll=Yr[--Kr],Yr[Kr]=null,po=Yr[--Kr],Yr[Kr]=null,fo=Yr[--Kr],Yr[Kr]=null}var Tr=null,Er=null,mn=!1,gs=null;function Sx(n,e){var t=Qr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function a7(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Tr=n,Er=ca(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Tr=n,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ll!==null?{id:fo,overflow:po}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Tr=n,Er=null,!0):!1;default:return!1}}function P4(n){return(n.mode&1)!==0&&(n.flags&128)===0}function B4(n){if(mn){var e=Er;if(e){var t=e;if(!a7(n,e)){if(P4(n))throw Error(He(418));e=ca(t.nextSibling);var i=Tr;e&&a7(n,e)?Sx(i,t):(n.flags=n.flags&-4097|2,mn=!1,Tr=n)}}else{if(P4(n))throw Error(He(418));n.flags=n.flags&-4097|2,mn=!1,Tr=n}}}function l7(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Tr=n}function _1(n){if(n!==Tr)return!1;if(!mn)return l7(n),mn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!C4(n.type,n.memoizedProps)),e&&(e=Er)){if(P4(n))throw Mx(),Error(He(418));for(;e;)Sx(n,e),e=ca(e.nextSibling)}if(l7(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(He(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Er=ca(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Er=null}}else Er=Tr?ca(n.stateNode.nextSibling):null;return!0}function Mx(){for(var n=Er;n;)n=ca(n.nextSibling)}function wu(){Er=Tr=null,mn=!1}function q6(n){gs===null?gs=[n]:gs.push(n)}var yC=wo.ReactCurrentBatchConfig;function Th(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(He(309));var i=t.stateNode}if(!i)throw Error(He(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(He(284));if(!t._owner)throw Error(He(290,n))}return n}function y1(n,e){throw n=Object.prototype.toString.call(e),Error(He(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function c7(n){var e=n._init;return e(n._payload)}function Ex(n){function e(g,q){if(n){var A=g.deletions;A===null?(g.deletions=[q],g.flags|=16):A.push(q)}}function t(g,q){if(!n)return null;for(;q!==null;)e(g,q),q=q.sibling;return null}function i(g,q){for(g=new Map;q!==null;)q.key!==null?g.set(q.key,q):g.set(q.index,q),q=q.sibling;return g}function r(g,q){return g=da(g,q),g.index=0,g.sibling=null,g}function s(g,q,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<q?(g.flags|=2,q):A):(g.flags|=2,q)):(g.flags|=1048576,q)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,q,A,M){return q===null||q.tag!==6?(q=k2(A,g.mode,M),q.return=g,q):(q=r(q,A),q.return=g,q)}function l(g,q,A,M){var C=A.type;return C===$c?u(g,q,A.props.children,M,A.key):q!==null&&(q.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Qo&&c7(C)===q.type)?(M=r(q,A.props),M.ref=Th(g,q,A),M.return=g,M):(M=Op(A.type,A.key,A.props,null,g.mode,M),M.ref=Th(g,q,A),M.return=g,M)}function c(g,q,A,M){return q===null||q.tag!==4||q.stateNode.containerInfo!==A.containerInfo||q.stateNode.implementation!==A.implementation?(q=z2(A,g.mode,M),q.return=g,q):(q=r(q,A.children||[]),q.return=g,q)}function u(g,q,A,M,C){return q===null||q.tag!==7?(q=Cl(A,g.mode,M,C),q.return=g,q):(q=r(q,A),q.return=g,q)}function d(g,q,A){if(typeof q=="string"&&q!==""||typeof q=="number")return q=k2(""+q,g.mode,A),q.return=g,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l1:return A=Op(q.type,q.key,q.props,null,g.mode,A),A.ref=Th(g,null,q),A.return=g,A;case Zc:return q=z2(q,g.mode,A),q.return=g,q;case Qo:var M=q._init;return d(g,M(q._payload),A)}if($h(q)||Sh(q))return q=Cl(q,g.mode,A,null),q.return=g,q;y1(g,q)}return null}function p(g,q,A,M){var C=q!==null?q.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(g,q,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case l1:return A.key===C?l(g,q,A,M):null;case Zc:return A.key===C?c(g,q,A,M):null;case Qo:return C=A._init,p(g,q,C(A._payload),M)}if($h(A)||Sh(A))return C!==null?null:u(g,q,A,M,null);y1(g,A)}return null}function m(g,q,A,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(A)||null,a(q,g,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case l1:return g=g.get(M.key===null?A:M.key)||null,l(q,g,M,C);case Zc:return g=g.get(M.key===null?A:M.key)||null,c(q,g,M,C);case Qo:var w=M._init;return m(g,q,A,w(M._payload),C)}if($h(M)||Sh(M))return g=g.get(A)||null,u(q,g,M,C,null);y1(q,M)}return null}function v(g,q,A,M){for(var C=null,w=null,b=q,P=q=0,R=null;b!==null&&P<A.length;P++){b.index>P?(R=b,b=null):R=b.sibling;var T=p(g,b,A[P],M);if(T===null){b===null&&(b=R);break}n&&b&&T.alternate===null&&e(g,b),q=s(T,q,P),w===null?C=T:w.sibling=T,w=T,b=R}if(P===A.length)return t(g,b),mn&&ul(g,P),C;if(b===null){for(;P<A.length;P++)b=d(g,A[P],M),b!==null&&(q=s(b,q,P),w===null?C=b:w.sibling=b,w=b);return mn&&ul(g,P),C}for(b=i(g,b);P<A.length;P++)R=m(b,g,P,A[P],M),R!==null&&(n&&R.alternate!==null&&b.delete(R.key===null?P:R.key),q=s(R,q,P),w===null?C=R:w.sibling=R,w=R);return n&&b.forEach(function(F){return e(g,F)}),mn&&ul(g,P),C}function x(g,q,A,M){var C=Sh(A);if(typeof C!="function")throw Error(He(150));if(A=C.call(A),A==null)throw Error(He(151));for(var w=C=null,b=q,P=q=0,R=null,T=A.next();b!==null&&!T.done;P++,T=A.next()){b.index>P?(R=b,b=null):R=b.sibling;var F=p(g,b,T.value,M);if(F===null){b===null&&(b=R);break}n&&b&&F.alternate===null&&e(g,b),q=s(F,q,P),w===null?C=F:w.sibling=F,w=F,b=R}if(T.done)return t(g,b),mn&&ul(g,P),C;if(b===null){for(;!T.done;P++,T=A.next())T=d(g,T.value,M),T!==null&&(q=s(T,q,P),w===null?C=T:w.sibling=T,w=T);return mn&&ul(g,P),C}for(b=i(g,b);!T.done;P++,T=A.next())T=m(b,g,P,T.value,M),T!==null&&(n&&T.alternate!==null&&b.delete(T.key===null?P:T.key),q=s(T,q,P),w===null?C=T:w.sibling=T,w=T);return n&&b.forEach(function(L){return e(g,L)}),mn&&ul(g,P),C}function _(g,q,A,M){if(typeof A=="object"&&A!==null&&A.type===$c&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case l1:e:{for(var C=A.key,w=q;w!==null;){if(w.key===C){if(C=A.type,C===$c){if(w.tag===7){t(g,w.sibling),q=r(w,A.props.children),q.return=g,g=q;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Qo&&c7(C)===w.type){t(g,w.sibling),q=r(w,A.props),q.ref=Th(g,w,A),q.return=g,g=q;break e}t(g,w);break}else e(g,w);w=w.sibling}A.type===$c?(q=Cl(A.props.children,g.mode,M,A.key),q.return=g,g=q):(M=Op(A.type,A.key,A.props,null,g.mode,M),M.ref=Th(g,q,A),M.return=g,g=M)}return o(g);case Zc:e:{for(w=A.key;q!==null;){if(q.key===w)if(q.tag===4&&q.stateNode.containerInfo===A.containerInfo&&q.stateNode.implementation===A.implementation){t(g,q.sibling),q=r(q,A.children||[]),q.return=g,g=q;break e}else{t(g,q);break}else e(g,q);q=q.sibling}q=z2(A,g.mode,M),q.return=g,g=q}return o(g);case Qo:return w=A._init,_(g,q,w(A._payload),M)}if($h(A))return v(g,q,A,M);if(Sh(A))return x(g,q,A,M);y1(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,q!==null&&q.tag===6?(t(g,q.sibling),q=r(q,A),q.return=g,g=q):(t(g,q),q=k2(A,g.mode,M),q.return=g,g=q),o(g)):t(g,q)}return _}var Cu=Ex(!0),wx=Ex(!1),c0=Ea(null),u0=null,au=null,A6=null;function S6(){A6=au=u0=null}function M6(n){var e=c0.current;hn(c0),n._currentValue=e}function I4(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function yu(n,e){u0=n,A6=au=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(sr=!0),n.firstContext=null)}function es(n){var e=n._currentValue;if(A6!==n)if(n={context:n,memoizedValue:e,next:null},au===null){if(u0===null)throw Error(He(308));au=n,u0.dependencies={lanes:0,firstContext:n}}else au=au.next=n;return e}var vl=null;function E6(n){vl===null?vl=[n]:vl.push(n)}function Cx(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,E6(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ao(n,i)}function Ao(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Zo=!1;function w6(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ua(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ht&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ao(n,t)}return r=i.interleaved,r===null?(e.next=e,E6(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ao(n,t)}function Bp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,h6(n,t)}}function u7(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function h0(n,e,t,i){var r=n.updateQueue;Zo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,m=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=Mn({},d,p);break e;case 2:Zo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ul|=o,n.lanes=o,n.memoizedState=d}}function h7(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(He(191,r));r.call(i)}}}var rd={},Ns=Ea(rd),Bf=Ea(rd),If=Ea(rd);function _l(n){if(n===rd)throw Error(He(174));return n}function C6(n,e){switch(an(If,e),an(Bf,n),an(Ns,rd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:d4(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=d4(e,n)}hn(Ns),an(Ns,e)}function Tu(){hn(Ns),hn(Bf),hn(If)}function bx(n){_l(If.current);var e=_l(Ns.current),t=d4(e,n.type);e!==t&&(an(Bf,n),an(Ns,t))}function T6(n){Bf.current===n&&(hn(Ns),hn(Bf))}var qn=Ea(0);function f0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var L2=[];function b6(){for(var n=0;n<L2.length;n++)L2[n]._workInProgressVersionPrimary=null;L2.length=0}var Ip=wo.ReactCurrentDispatcher,D2=wo.ReactCurrentBatchConfig,Dl=0,Sn=null,Xn=null,si=null,d0=!1,hf=!1,Lf=0,xC=0;function Si(){throw Error(He(321))}function R6(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!xs(n[t],e[t]))return!1;return!0}function P6(n,e,t,i,r,s){if(Dl=s,Sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=n===null||n.memoizedState===null?MC:EC,n=t(i,r),hf){s=0;do{if(hf=!1,Lf=0,25<=s)throw Error(He(301));s+=1,si=Xn=null,e.updateQueue=null,Ip.current=wC,n=t(i,r)}while(hf)}if(Ip.current=p0,e=Xn!==null&&Xn.next!==null,Dl=0,si=Xn=Sn=null,d0=!1,e)throw Error(He(300));return n}function B6(){var n=Lf!==0;return Lf=0,n}function Ds(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?Sn.memoizedState=si=n:si=si.next=n,si}function ts(){if(Xn===null){var n=Sn.alternate;n=n!==null?n.memoizedState:null}else n=Xn.next;var e=si===null?Sn.memoizedState:si.next;if(e!==null)si=e,Xn=n;else{if(n===null)throw Error(He(310));Xn=n,n={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},si===null?Sn.memoizedState=si=n:si=si.next=n}return si}function Df(n,e){return typeof e=="function"?e(n):e}function U2(n){var e=ts(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var i=Xn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Dl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Sn.lanes|=u,Ul|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,xs(i,e.memoizedState)||(sr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Sn.lanes|=s,Ul|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function F2(n){var e=ts(),t=e.queue;if(t===null)throw Error(He(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);xs(s,e.memoizedState)||(sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Rx(){}function Px(n,e){var t=Sn,i=ts(),r=e(),s=!xs(i.memoizedState,r);if(s&&(i.memoizedState=r,sr=!0),i=i.queue,I6(Lx.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||si!==null&&si.memoizedState.tag&1){if(t.flags|=2048,Uf(9,Ix.bind(null,t,i,r,e),void 0,null),oi===null)throw Error(He(349));Dl&30||Bx(t,e,r)}return r}function Bx(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Ix(n,e,t,i){e.value=t,e.getSnapshot=i,Dx(e)&&Ux(n)}function Lx(n,e,t){return t(function(){Dx(e)&&Ux(n)})}function Dx(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!xs(n,t)}catch{return!0}}function Ux(n){var e=Ao(n,1);e!==null&&ys(e,n,1,-1)}function f7(n){var e=Ds();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:n},e.queue=n,n=n.dispatch=SC.bind(null,Sn,n),[e.memoizedState,n]}function Uf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Fx(){return ts().memoizedState}function Lp(n,e,t,i){var r=Ds();Sn.flags|=n,r.memoizedState=Uf(1|e,t,void 0,i===void 0?null:i)}function L0(n,e,t,i){var r=ts();i=i===void 0?null:i;var s=void 0;if(Xn!==null){var o=Xn.memoizedState;if(s=o.destroy,i!==null&&R6(i,o.deps)){r.memoizedState=Uf(e,t,s,i);return}}Sn.flags|=n,r.memoizedState=Uf(1|e,t,s,i)}function d7(n,e){return Lp(8390656,8,n,e)}function I6(n,e){return L0(2048,8,n,e)}function Ox(n,e){return L0(4,2,n,e)}function Nx(n,e){return L0(4,4,n,e)}function kx(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zx(n,e,t){return t=t!=null?t.concat([n]):null,L0(4,4,kx.bind(null,e,n),t)}function L6(){}function Gx(n,e){var t=ts();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&R6(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Hx(n,e){var t=ts();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&R6(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Vx(n,e,t){return Dl&21?(xs(t,e)||(t=Yy(),Sn.lanes|=t,Ul|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,sr=!0),n.memoizedState=t)}function qC(n,e){var t=en;en=t!==0&&4>t?t:4,n(!0);var i=D2.transition;D2.transition={};try{n(!1),e()}finally{en=t,D2.transition=i}}function Wx(){return ts().memoizedState}function AC(n,e,t){var i=fa(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Xx(n))jx(e,t);else if(t=Cx(n,e,t,i),t!==null){var r=Xi();ys(t,n,i,r),Jx(t,e,i)}}function SC(n,e,t){var i=fa(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Xx(n))jx(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,xs(a,o)){var l=e.interleaved;l===null?(r.next=r,E6(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=Cx(n,e,r,i),t!==null&&(r=Xi(),ys(t,n,i,r),Jx(t,e,i))}}function Xx(n){var e=n.alternate;return n===Sn||e!==null&&e===Sn}function jx(n,e){hf=d0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Jx(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,h6(n,t)}}var p0={readContext:es,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},MC={readContext:es,useCallback:function(n,e){return Ds().memoizedState=[n,e===void 0?null:e],n},useContext:es,useEffect:d7,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Lp(4194308,4,kx.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Lp(4194308,4,n,e)},useInsertionEffect:function(n,e){return Lp(4,2,n,e)},useMemo:function(n,e){var t=Ds();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ds();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=AC.bind(null,Sn,n),[i.memoizedState,n]},useRef:function(n){var e=Ds();return n={current:n},e.memoizedState=n},useState:f7,useDebugValue:L6,useDeferredValue:function(n){return Ds().memoizedState=n},useTransition:function(){var n=f7(!1),e=n[0];return n=qC.bind(null,n[1]),Ds().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Sn,r=Ds();if(mn){if(t===void 0)throw Error(He(407));t=t()}else{if(t=e(),oi===null)throw Error(He(349));Dl&30||Bx(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,d7(Lx.bind(null,i,s,n),[n]),i.flags|=2048,Uf(9,Ix.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ds(),e=oi.identifierPrefix;if(mn){var t=po,i=fo;t=(i&~(1<<32-_s(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Lf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xC++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},EC={readContext:es,useCallback:Gx,useContext:es,useEffect:I6,useImperativeHandle:zx,useInsertionEffect:Ox,useLayoutEffect:Nx,useMemo:Hx,useReducer:U2,useRef:Fx,useState:function(){return U2(Df)},useDebugValue:L6,useDeferredValue:function(n){var e=ts();return Vx(e,Xn.memoizedState,n)},useTransition:function(){var n=U2(Df)[0],e=ts().memoizedState;return[n,e]},useMutableSource:Rx,useSyncExternalStore:Px,useId:Wx,unstable_isNewReconciler:!1},wC={readContext:es,useCallback:Gx,useContext:es,useEffect:I6,useImperativeHandle:zx,useInsertionEffect:Ox,useLayoutEffect:Nx,useMemo:Hx,useReducer:F2,useRef:Fx,useState:function(){return F2(Df)},useDebugValue:L6,useDeferredValue:function(n){var e=ts();return Xn===null?e.memoizedState=n:Vx(e,Xn.memoizedState,n)},useTransition:function(){var n=F2(Df)[0],e=ts().memoizedState;return[n,e]},useMutableSource:Rx,useSyncExternalStore:Px,useId:Wx,unstable_isNewReconciler:!1};function fs(n,e){if(n&&n.defaultProps){e=Mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function L4(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var D0={isMounted:function(n){return(n=n._reactInternals)?jl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Xi(),r=fa(n),s=vo(i,r);s.payload=e,t!=null&&(s.callback=t),e=ua(n,s,r),e!==null&&(ys(e,n,r,i),Bp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Xi(),r=fa(n),s=vo(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ua(n,s,r),e!==null&&(ys(e,n,r,i),Bp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Xi(),i=fa(n),r=vo(t,i);r.tag=2,e!=null&&(r.callback=e),e=ua(n,r,i),e!==null&&(ys(e,n,i,t),Bp(e,n,i))}};function p7(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tf(t,i)||!Tf(r,s):!0}function Yx(n,e,t){var i=!1,r=_a,s=e.contextType;return typeof s=="object"&&s!==null?s=es(s):(r=lr(e)?Il:Bi.current,i=e.contextTypes,s=(i=i!=null)?Eu(n,r):_a),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=D0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function m7(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&D0.enqueueReplaceState(e,e.state,null)}function D4(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},w6(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=es(s):(s=lr(e)?Il:Bi.current,r.context=Eu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(L4(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&D0.enqueueReplaceState(r,r.state,null),h0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function bu(n,e){try{var t="",i=e;do t+=ew(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function O2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function U4(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var CC=typeof WeakMap=="function"?WeakMap:Map;function Kx(n,e,t){t=vo(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){g0||(g0=!0,X4=i),U4(n,e)},t}function Qx(n,e,t){t=vo(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){U4(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){U4(n,e),typeof i!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function g7(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new CC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=zC.bind(null,n,e,t),e.then(n,n))}function v7(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function _7(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=vo(-1,1),e.tag=2,ua(t,e,1))),t.lanes|=1),n)}var TC=wo.ReactCurrentOwner,sr=!1;function Hi(n,e,t,i){e.child=n===null?wx(e,null,t,i):Cu(e,n.child,t,i)}function y7(n,e,t,i,r){t=t.render;var s=e.ref;return yu(e,r),i=P6(n,e,t,i,s,r),t=B6(),n!==null&&!sr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,So(n,e,r)):(mn&&t&&y6(e),e.flags|=1,Hi(n,e,i,r),e.child)}function x7(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!G6(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Zx(n,e,s,i,r)):(n=Op(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Tf,t(o,i)&&n.ref===e.ref)return So(n,e,r)}return e.flags|=1,n=da(s,i),n.ref=e.ref,n.return=e,e.child=n}function Zx(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Tf(s,i)&&n.ref===e.ref)if(sr=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(sr=!0);else return e.lanes=n.lanes,So(n,e,r)}return F4(n,e,t,i,r)}function $x(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(cu,Ar),Ar|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,an(cu,Ar),Ar|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,an(cu,Ar),Ar|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,an(cu,Ar),Ar|=i;return Hi(n,e,r,t),e.child}function eq(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function F4(n,e,t,i,r){var s=lr(t)?Il:Bi.current;return s=Eu(e,s),yu(e,r),t=P6(n,e,t,i,s,r),i=B6(),n!==null&&!sr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,So(n,e,r)):(mn&&i&&y6(e),e.flags|=1,Hi(n,e,t,r),e.child)}function q7(n,e,t,i,r){if(lr(t)){var s=!0;o0(e)}else s=!1;if(yu(e,r),e.stateNode===null)Dp(n,e),Yx(e,t,i),D4(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=es(c):(c=lr(t)?Il:Bi.current,c=Eu(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&m7(e,o,i,c),Zo=!1;var p=e.memoizedState;o.state=p,h0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||ar.current||Zo?(typeof u=="function"&&(L4(e,t,u,i),l=e.memoizedState),(a=Zo||p7(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Tx(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:fs(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=es(l):(l=lr(t)?Il:Bi.current,l=Eu(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&m7(e,o,i,l),Zo=!1,p=e.memoizedState,o.state=p,h0(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||ar.current||Zo?(typeof m=="function"&&(L4(e,t,m,i),v=e.memoizedState),(c=Zo||p7(e,t,c,i,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return O4(n,e,t,i,s,r)}function O4(n,e,t,i,r,s){eq(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&o7(e,t,!1),So(n,e,s);i=e.stateNode,TC.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Cu(e,n.child,null,s),e.child=Cu(e,null,a,s)):Hi(n,e,a,s),e.memoizedState=i.state,r&&o7(e,t,!0),e.child}function tq(n){var e=n.stateNode;e.pendingContext?s7(n,e.pendingContext,e.pendingContext!==e.context):e.context&&s7(n,e.context,!1),C6(n,e.containerInfo)}function A7(n,e,t,i,r){return wu(),q6(r),e.flags|=256,Hi(n,e,t,i),e.child}var N4={dehydrated:null,treeContext:null,retryLane:0};function k4(n){return{baseLanes:n,cachePool:null,transitions:null}}function nq(n,e,t){var i=e.pendingProps,r=qn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),an(qn,r&1),n===null)return B4(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=O0(o,i,0,null),n=Cl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=k4(t),e.memoizedState=N4,n):D6(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return bC(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=da(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=da(a,s):(s=Cl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?k4(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=N4,i}return s=n.child,n=s.sibling,i=da(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function D6(n,e){return e=O0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function x1(n,e,t,i){return i!==null&&q6(i),Cu(e,n.child,null,t),n=D6(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bC(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=O2(Error(He(422))),x1(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=O0({mode:"visible",children:i.children},r,0,null),s=Cl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Cu(e,n.child,null,o),e.child.memoizedState=k4(o),e.memoizedState=N4,s);if(!(e.mode&1))return x1(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(He(419)),i=O2(s,i,void 0),x1(n,e,o,i)}if(a=(o&n.childLanes)!==0,sr||a){if(i=oi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ao(n,r),ys(i,n,r,-1))}return z6(),i=O2(Error(He(421))),x1(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=GC.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Er=ca(r.nextSibling),Tr=e,mn=!0,gs=null,n!==null&&(Yr[Kr++]=fo,Yr[Kr++]=po,Yr[Kr++]=Ll,fo=n.id,po=n.overflow,Ll=e),e=D6(e,i.children),e.flags|=4096,e)}function S7(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),I4(n.return,e,t)}function N2(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function iq(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Hi(n,e,i.children,t),i=qn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&S7(n,t,e);else if(n.tag===19)S7(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(an(qn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&f0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),N2(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&f0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}N2(e,!0,t,null,s);break;case"together":N2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function So(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ul|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(He(153));if(e.child!==null){for(n=e.child,t=da(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=da(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function RC(n,e,t){switch(e.tag){case 3:tq(e),wu();break;case 5:bx(e);break;case 1:lr(e.type)&&o0(e);break;case 4:C6(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;an(c0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(an(qn,qn.current&1),e.flags|=128,null):t&e.child.childLanes?nq(n,e,t):(an(qn,qn.current&1),n=So(n,e,t),n!==null?n.sibling:null);an(qn,qn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return iq(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),an(qn,qn.current),i)break;return null;case 22:case 23:return e.lanes=0,$x(n,e,t)}return So(n,e,t)}var rq,z4,sq,oq;rq=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};z4=function(){};sq=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,_l(Ns.current);var s=null;switch(t){case"input":r=c4(n,r),i=c4(n,i),s=[];break;case"select":r=Mn({},r,{value:void 0}),i=Mn({},i,{value:void 0}),s=[];break;case"textarea":r=f4(n,r),i=f4(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=r0)}p4(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};oq=function(n,e,t,i){t!==i&&(e.flags|=4)};function bh(n,e){if(!mn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Mi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function PC(n,e,t){var i=e.pendingProps;switch(x6(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(e),null;case 1:return lr(e.type)&&s0(),Mi(e),null;case 3:return i=e.stateNode,Tu(),hn(ar),hn(Bi),b6(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(_1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gs!==null&&(Y4(gs),gs=null))),z4(n,e),Mi(e),null;case 5:T6(e);var r=_l(If.current);if(t=e.type,n!==null&&e.stateNode!=null)sq(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(He(166));return Mi(e),null}if(n=_l(Ns.current),_1(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Us]=e,i[Pf]=s,n=(e.mode&1)!==0,t){case"dialog":un("cancel",i),un("close",i);break;case"iframe":case"object":case"embed":un("load",i);break;case"video":case"audio":for(r=0;r<tf.length;r++)un(tf[r],i);break;case"source":un("error",i);break;case"img":case"image":case"link":un("error",i),un("load",i);break;case"details":un("toggle",i);break;case"input":B9(i,s),un("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},un("invalid",i);break;case"textarea":L9(i,s),un("invalid",i)}p4(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&v1(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&v1(i.textContent,a,n),r=["children",""+a]):qf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&un("scroll",i)}switch(t){case"input":c1(i),I9(i,s,!0);break;case"textarea":c1(i),D9(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=r0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ly(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Us]=e,n[Pf]=i,rq(n,e,!1,!1),e.stateNode=n;e:{switch(o=m4(t,i),t){case"dialog":un("cancel",n),un("close",n),r=i;break;case"iframe":case"object":case"embed":un("load",n),r=i;break;case"video":case"audio":for(r=0;r<tf.length;r++)un(tf[r],n);r=i;break;case"source":un("error",n),r=i;break;case"img":case"image":case"link":un("error",n),un("load",n),r=i;break;case"details":un("toggle",n),r=i;break;case"input":B9(n,i),r=c4(n,i),un("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Mn({},i,{value:void 0}),un("invalid",n);break;case"textarea":L9(n,i),r=f4(n,i),un("invalid",n);break;default:r=i}p4(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fy(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dy(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Af(n,l):typeof l=="number"&&Af(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&un("scroll",n):l!=null&&s6(n,s,l,o))}switch(t){case"input":c1(n),I9(n,i,!1);break;case"textarea":c1(n),D9(n);break;case"option":i.value!=null&&n.setAttribute("value",""+va(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?mu(n,!!i.multiple,s,!1):i.defaultValue!=null&&mu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=r0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mi(e),null;case 6:if(n&&e.stateNode!=null)oq(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(He(166));if(t=_l(If.current),_l(Ns.current),_1(e)){if(i=e.stateNode,t=e.memoizedProps,i[Us]=e,(s=i.nodeValue!==t)&&(n=Tr,n!==null))switch(n.tag){case 3:v1(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&v1(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Us]=e,e.stateNode=i}return Mi(e),null;case 13:if(hn(qn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(mn&&Er!==null&&e.mode&1&&!(e.flags&128))Mx(),wu(),e.flags|=98560,s=!1;else if(s=_1(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Us]=e}else wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mi(e),s=!1}else gs!==null&&(Y4(gs),gs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||qn.current&1?jn===0&&(jn=3):z6())),e.updateQueue!==null&&(e.flags|=4),Mi(e),null);case 4:return Tu(),z4(n,e),n===null&&bf(e.stateNode.containerInfo),Mi(e),null;case 10:return M6(e.type._context),Mi(e),null;case 17:return lr(e.type)&&s0(),Mi(e),null;case 19:if(hn(qn),s=e.memoizedState,s===null)return Mi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)bh(s,!1);else{if(jn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=f0(n),o!==null){for(e.flags|=128,bh(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return an(qn,qn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ln()>Ru&&(e.flags|=128,i=!0,bh(s,!1),e.lanes=4194304)}else{if(!i)if(n=f0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),bh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mn)return Mi(e),null}else 2*Ln()-s.renderingStartTime>Ru&&t!==1073741824&&(e.flags|=128,i=!0,bh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ln(),e.sibling=null,t=qn.current,an(qn,i?t&1|2:t&1),e):(Mi(e),null);case 22:case 23:return k6(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ar&1073741824&&(Mi(e),e.subtreeFlags&6&&(e.flags|=8192)):Mi(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function BC(n,e){switch(x6(e),e.tag){case 1:return lr(e.type)&&s0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Tu(),hn(ar),hn(Bi),b6(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return T6(e),null;case 13:if(hn(qn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(He(340));wu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return hn(qn),null;case 4:return Tu(),null;case 10:return M6(e.type._context),null;case 22:case 23:return k6(),null;case 24:return null;default:return null}}var q1=!1,Ri=!1,IC=typeof WeakSet=="function"?WeakSet:Set,at=null;function lu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Cn(n,e,i)}else t.current=null}function G4(n,e,t){try{t()}catch(i){Cn(n,e,i)}}var M7=!1;function LC(n,e){if(E4=t0,n=hx(),_6(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(w4={focusedElem:n,selectionRange:t},t0=!1,at=e;at!==null;)if(e=at,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,at=n;else for(;at!==null;){e=at;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,g=e.stateNode,q=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:fs(e.type,x),_);g.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(M){Cn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,at=n;break}at=e.return}return v=M7,M7=!1,v}function ff(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&G4(e,t,s)}r=r.next}while(r!==i)}}function U0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function H4(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function aq(n){var e=n.alternate;e!==null&&(n.alternate=null,aq(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Us],delete e[Pf],delete e[b4],delete e[gC],delete e[vC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lq(n){return n.tag===5||n.tag===3||n.tag===4}function E7(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lq(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function V4(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=r0));else if(i!==4&&(n=n.child,n!==null))for(V4(n,e,t),n=n.sibling;n!==null;)V4(n,e,t),n=n.sibling}function W4(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(W4(n,e,t),n=n.sibling;n!==null;)W4(n,e,t),n=n.sibling}var hi=null,ps=!1;function ko(n,e,t){for(t=t.child;t!==null;)cq(n,e,t),t=t.sibling}function cq(n,e,t){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(T0,t)}catch{}switch(t.tag){case 5:Ri||lu(t,e);case 6:var i=hi,r=ps;hi=null,ko(n,e,t),hi=i,ps=r,hi!==null&&(ps?(n=hi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):hi.removeChild(t.stateNode));break;case 18:hi!==null&&(ps?(n=hi,t=t.stateNode,n.nodeType===8?B2(n.parentNode,t):n.nodeType===1&&B2(n,t),wf(n)):B2(hi,t.stateNode));break;case 4:i=hi,r=ps,hi=t.stateNode.containerInfo,ps=!0,ko(n,e,t),hi=i,ps=r;break;case 0:case 11:case 14:case 15:if(!Ri&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&G4(t,e,o),r=r.next}while(r!==i)}ko(n,e,t);break;case 1:if(!Ri&&(lu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Cn(t,e,a)}ko(n,e,t);break;case 21:ko(n,e,t);break;case 22:t.mode&1?(Ri=(i=Ri)||t.memoizedState!==null,ko(n,e,t),Ri=i):ko(n,e,t);break;default:ko(n,e,t)}}function w7(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new IC),e.forEach(function(i){var r=HC.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function as(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hi=a.stateNode,ps=!1;break e;case 3:hi=a.stateNode.containerInfo,ps=!0;break e;case 4:hi=a.stateNode.containerInfo,ps=!0;break e}a=a.return}if(hi===null)throw Error(He(160));cq(s,o,r),hi=null,ps=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Cn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uq(e,n),e=e.sibling}function uq(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(e,n),Bs(n),i&4){try{ff(3,n,n.return),U0(3,n)}catch(x){Cn(n,n.return,x)}try{ff(5,n,n.return)}catch(x){Cn(n,n.return,x)}}break;case 1:as(e,n),Bs(n),i&512&&t!==null&&lu(t,t.return);break;case 5:if(as(e,n),Bs(n),i&512&&t!==null&&lu(t,t.return),n.flags&32){var r=n.stateNode;try{Af(r,"")}catch(x){Cn(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&By(r,s),m4(a,o);var c=m4(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Fy(r,d):u==="dangerouslySetInnerHTML"?Dy(r,d):u==="children"?Af(r,d):s6(r,u,d,c)}switch(a){case"input":u4(r,s);break;case"textarea":Iy(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?mu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?mu(r,!!s.multiple,s.defaultValue,!0):mu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Pf]=s}catch(x){Cn(n,n.return,x)}}break;case 6:if(as(e,n),Bs(n),i&4){if(n.stateNode===null)throw Error(He(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){Cn(n,n.return,x)}}break;case 3:if(as(e,n),Bs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(x){Cn(n,n.return,x)}break;case 4:as(e,n),Bs(n);break;case 13:as(e,n),Bs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(O6=Ln())),i&4&&w7(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ri=(c=Ri)||u,as(e,n),Ri=c):as(e,n),Bs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(at=n,u=n.child;u!==null;){for(d=at=u;at!==null;){switch(p=at,m=p.child,p.tag){case 0:case 11:case 14:case 15:ff(4,p,p.return);break;case 1:lu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Cn(i,t,x)}}break;case 5:lu(p,p.return);break;case 22:if(p.memoizedState!==null){T7(d);continue}}m!==null?(m.return=p,at=m):T7(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uy("display",o))}catch(x){Cn(n,n.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Cn(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:as(e,n),Bs(n),i&4&&w7(n);break;case 21:break;default:as(e,n),Bs(n)}}function Bs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(lq(t)){var i=t;break e}t=t.return}throw Error(He(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Af(r,""),i.flags&=-33);var s=E7(n);W4(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=E7(n);V4(n,a,o);break;default:throw Error(He(161))}}catch(l){Cn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function DC(n,e,t){at=n,hq(n)}function hq(n,e,t){for(var i=(n.mode&1)!==0;at!==null;){var r=at,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||q1;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ri;a=q1;var c=Ri;if(q1=o,(Ri=l)&&!c)for(at=r;at!==null;)o=at,l=o.child,o.tag===22&&o.memoizedState!==null?b7(r):l!==null?(l.return=o,at=l):b7(r);for(;s!==null;)at=s,hq(s),s=s.sibling;at=r,q1=a,Ri=c}C7(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,at=s):C7(n)}}function C7(n){for(;at!==null;){var e=at;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ri||U0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ri)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:fs(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&h7(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}h7(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Ri||e.flags&512&&H4(e)}catch(p){Cn(e,e.return,p)}}if(e===n){at=null;break}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}}function T7(n){for(;at!==null;){var e=at;if(e===n){at=null;break}var t=e.sibling;if(t!==null){t.return=e.return,at=t;break}at=e.return}}function b7(n){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{U0(4,e)}catch(l){Cn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Cn(e,r,l)}}var s=e.return;try{H4(e)}catch(l){Cn(e,s,l)}break;case 5:var o=e.return;try{H4(e)}catch(l){Cn(e,o,l)}}}catch(l){Cn(e,e.return,l)}if(e===n){at=null;break}var a=e.sibling;if(a!==null){a.return=e.return,at=a;break}at=e.return}}var UC=Math.ceil,m0=wo.ReactCurrentDispatcher,U6=wo.ReactCurrentOwner,$r=wo.ReactCurrentBatchConfig,Ht=0,oi=null,Gn=null,di=0,Ar=0,cu=Ea(0),jn=0,Ff=null,Ul=0,F0=0,F6=0,df=null,ir=null,O6=0,Ru=1/0,oo=null,g0=!1,X4=null,ha=null,A1=!1,ia=null,v0=0,pf=0,j4=null,Up=-1,Fp=0;function Xi(){return Ht&6?Ln():Up!==-1?Up:Up=Ln()}function fa(n){return n.mode&1?Ht&2&&di!==0?di&-di:yC.transition!==null?(Fp===0&&(Fp=Yy()),Fp):(n=en,n!==0||(n=window.event,n=n===void 0?16:nx(n.type)),n):1}function ys(n,e,t,i){if(50<pf)throw pf=0,j4=null,Error(He(185));td(n,t,i),(!(Ht&2)||n!==oi)&&(n===oi&&(!(Ht&2)&&(F0|=t),jn===4&&ea(n,di)),cr(n,i),t===1&&Ht===0&&!(e.mode&1)&&(Ru=Ln()+500,I0&&wa()))}function cr(n,e){var t=n.callbackNode;yw(n,e);var i=e0(n,n===oi?di:0);if(i===0)t!==null&&O9(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&O9(t),e===1)n.tag===0?_C(R7.bind(null,n)):qx(R7.bind(null,n)),pC(function(){!(Ht&6)&&wa()}),t=null;else{switch(Ky(i)){case 1:t=u6;break;case 4:t=jy;break;case 16:t=$p;break;case 536870912:t=Jy;break;default:t=$p}t=yq(t,fq.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function fq(n,e){if(Up=-1,Fp=0,Ht&6)throw Error(He(327));var t=n.callbackNode;if(xu()&&n.callbackNode!==t)return null;var i=e0(n,n===oi?di:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=_0(n,i);else{e=i;var r=Ht;Ht|=2;var s=pq();(oi!==n||di!==e)&&(oo=null,Ru=Ln()+500,wl(n,e));do try{NC();break}catch(a){dq(n,a)}while(!0);S6(),m0.current=s,Ht=r,Gn!==null?e=0:(oi=null,di=0,e=jn)}if(e!==0){if(e===2&&(r=x4(n),r!==0&&(i=r,e=J4(n,r))),e===1)throw t=Ff,wl(n,0),ea(n,i),cr(n,Ln()),t;if(e===6)ea(n,i);else{if(r=n.current.alternate,!(i&30)&&!FC(r)&&(e=_0(n,i),e===2&&(s=x4(n),s!==0&&(i=s,e=J4(n,s))),e===1))throw t=Ff,wl(n,0),ea(n,i),cr(n,Ln()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(He(345));case 2:hl(n,ir,oo);break;case 3:if(ea(n,i),(i&130023424)===i&&(e=O6+500-Ln(),10<e)){if(e0(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Xi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=T4(hl.bind(null,n,ir,oo),e);break}hl(n,ir,oo);break;case 4:if(ea(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-_s(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ln()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*UC(i/1960))-i,10<i){n.timeoutHandle=T4(hl.bind(null,n,ir,oo),i);break}hl(n,ir,oo);break;case 5:hl(n,ir,oo);break;default:throw Error(He(329))}}}return cr(n,Ln()),n.callbackNode===t?fq.bind(null,n):null}function J4(n,e){var t=df;return n.current.memoizedState.isDehydrated&&(wl(n,e).flags|=256),n=_0(n,e),n!==2&&(e=ir,ir=t,e!==null&&Y4(e)),n}function Y4(n){ir===null?ir=n:ir.push.apply(ir,n)}function FC(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!xs(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ea(n,e){for(e&=~F6,e&=~F0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-_s(e),i=1<<t;n[t]=-1,e&=~i}}function R7(n){if(Ht&6)throw Error(He(327));xu();var e=e0(n,0);if(!(e&1))return cr(n,Ln()),null;var t=_0(n,e);if(n.tag!==0&&t===2){var i=x4(n);i!==0&&(e=i,t=J4(n,i))}if(t===1)throw t=Ff,wl(n,0),ea(n,e),cr(n,Ln()),t;if(t===6)throw Error(He(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,hl(n,ir,oo),cr(n,Ln()),null}function N6(n,e){var t=Ht;Ht|=1;try{return n(e)}finally{Ht=t,Ht===0&&(Ru=Ln()+500,I0&&wa())}}function Fl(n){ia!==null&&ia.tag===0&&!(Ht&6)&&xu();var e=Ht;Ht|=1;var t=$r.transition,i=en;try{if($r.transition=null,en=1,n)return n()}finally{en=i,$r.transition=t,Ht=e,!(Ht&6)&&wa()}}function k6(){Ar=cu.current,hn(cu)}function wl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,dC(t)),Gn!==null)for(t=Gn.return;t!==null;){var i=t;switch(x6(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&s0();break;case 3:Tu(),hn(ar),hn(Bi),b6();break;case 5:T6(i);break;case 4:Tu();break;case 13:hn(qn);break;case 19:hn(qn);break;case 10:M6(i.type._context);break;case 22:case 23:k6()}t=t.return}if(oi=n,Gn=n=da(n.current,null),di=Ar=e,jn=0,Ff=null,F6=F0=Ul=0,ir=df=null,vl!==null){for(e=0;e<vl.length;e++)if(t=vl[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}vl=null}return n}function dq(n,e){do{var t=Gn;try{if(S6(),Ip.current=p0,d0){for(var i=Sn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}d0=!1}if(Dl=0,si=Xn=Sn=null,hf=!1,Lf=0,U6.current=null,t===null||t.return===null){jn=1,Ff=e,Gn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=di,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=v7(o);if(m!==null){m.flags&=-257,_7(m,o,a,s,e),m.mode&1&&g7(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){g7(s,c,e),z6();break e}l=Error(He(426))}}else if(mn&&a.mode&1){var _=v7(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),_7(_,o,a,s,e),q6(bu(l,a));break e}}s=l=bu(l,a),jn!==4&&(jn=2),df===null?df=[s]:df.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Kx(s,l,e);u7(s,g);break e;case 1:a=l;var q=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof q.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ha===null||!ha.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=Qx(s,a,e);u7(s,M);break e}}s=s.return}while(s!==null)}gq(t)}catch(C){e=C,Gn===t&&t!==null&&(Gn=t=t.return);continue}break}while(!0)}function pq(){var n=m0.current;return m0.current=p0,n===null?p0:n}function z6(){(jn===0||jn===3||jn===2)&&(jn=4),oi===null||!(Ul&268435455)&&!(F0&268435455)||ea(oi,di)}function _0(n,e){var t=Ht;Ht|=2;var i=pq();(oi!==n||di!==e)&&(oo=null,wl(n,e));do try{OC();break}catch(r){dq(n,r)}while(!0);if(S6(),Ht=t,m0.current=i,Gn!==null)throw Error(He(261));return oi=null,di=0,jn}function OC(){for(;Gn!==null;)mq(Gn)}function NC(){for(;Gn!==null&&!uw();)mq(Gn)}function mq(n){var e=_q(n.alternate,n,Ar);n.memoizedProps=n.pendingProps,e===null?gq(n):Gn=e,U6.current=null}function gq(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=BC(t,e),t!==null){t.flags&=32767,Gn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jn=6,Gn=null;return}}else if(t=PC(t,e,Ar),t!==null){Gn=t;return}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=n}while(e!==null);jn===0&&(jn=5)}function hl(n,e,t){var i=en,r=$r.transition;try{$r.transition=null,en=1,kC(n,e,t,i)}finally{$r.transition=r,en=i}return null}function kC(n,e,t,i){do xu();while(ia!==null);if(Ht&6)throw Error(He(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(He(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(xw(n,s),n===oi&&(Gn=oi=null,di=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||A1||(A1=!0,yq($p,function(){return xu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=$r.transition,$r.transition=null;var o=en;en=1;var a=Ht;Ht|=4,U6.current=null,LC(n,t),uq(t,n),oC(w4),t0=!!E4,w4=E4=null,n.current=t,DC(t),hw(),Ht=a,en=o,$r.transition=s}else n.current=t;if(A1&&(A1=!1,ia=n,v0=r),s=n.pendingLanes,s===0&&(ha=null),pw(t.stateNode),cr(n,Ln()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(g0)throw g0=!1,n=X4,X4=null,n;return v0&1&&n.tag!==0&&xu(),s=n.pendingLanes,s&1?n===j4?pf++:(pf=0,j4=n):pf=0,wa(),null}function xu(){if(ia!==null){var n=Ky(v0),e=$r.transition,t=en;try{if($r.transition=null,en=16>n?16:n,ia===null)var i=!1;else{if(n=ia,ia=null,v0=0,Ht&6)throw Error(He(331));var r=Ht;for(Ht|=4,at=n.current;at!==null;){var s=at,o=s.child;if(at.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(at=c;at!==null;){var u=at;switch(u.tag){case 0:case 11:case 15:ff(8,u,s)}var d=u.child;if(d!==null)d.return=u,at=d;else for(;at!==null;){u=at;var p=u.sibling,m=u.return;if(aq(u),u===c){at=null;break}if(p!==null){p.return=m,at=p;break}at=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}at=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,at=o;else e:for(;at!==null;){if(s=at,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ff(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,at=g;break e}at=s.return}}var q=n.current;for(at=q;at!==null;){o=at;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,at=A;else e:for(o=q;at!==null;){if(a=at,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:U0(9,a)}}catch(C){Cn(a,a.return,C)}if(a===o){at=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,at=M;break e}at=a.return}}if(Ht=r,wa(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(T0,n)}catch{}i=!0}return i}finally{en=t,$r.transition=e}}return!1}function P7(n,e,t){e=bu(t,e),e=Kx(n,e,1),n=ua(n,e,1),e=Xi(),n!==null&&(td(n,1,e),cr(n,e))}function Cn(n,e,t){if(n.tag===3)P7(n,n,t);else for(;e!==null;){if(e.tag===3){P7(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ha===null||!ha.has(i))){n=bu(t,n),n=Qx(e,n,1),e=ua(e,n,1),n=Xi(),e!==null&&(td(e,1,n),cr(e,n));break}}e=e.return}}function zC(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Xi(),n.pingedLanes|=n.suspendedLanes&t,oi===n&&(di&t)===t&&(jn===4||jn===3&&(di&130023424)===di&&500>Ln()-O6?wl(n,0):F6|=t),cr(n,e)}function vq(n,e){e===0&&(n.mode&1?(e=f1,f1<<=1,!(f1&130023424)&&(f1=4194304)):e=1);var t=Xi();n=Ao(n,e),n!==null&&(td(n,e,t),cr(n,t))}function GC(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),vq(n,t)}function HC(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(He(314))}i!==null&&i.delete(e),vq(n,t)}var _q;_q=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ar.current)sr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return sr=!1,RC(n,e,t);sr=!!(n.flags&131072)}else sr=!1,mn&&e.flags&1048576&&Ax(e,l0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Dp(n,e),n=e.pendingProps;var r=Eu(e,Bi.current);yu(e,t),r=P6(null,e,i,n,r,t);var s=B6();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(i)?(s=!0,o0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,w6(e),r.updater=D0,e.stateNode=r,r._reactInternals=e,D4(e,i,n,t),e=O4(null,e,i,!0,s,t)):(e.tag=0,mn&&s&&y6(e),Hi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Dp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=WC(i),n=fs(i,n),r){case 0:e=F4(null,e,i,n,t);break e;case 1:e=q7(null,e,i,n,t);break e;case 11:e=y7(null,e,i,n,t);break e;case 14:e=x7(null,e,i,fs(i.type,n),t);break e}throw Error(He(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fs(i,r),F4(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fs(i,r),q7(n,e,i,r,t);case 3:e:{if(tq(e),n===null)throw Error(He(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Tx(n,e),h0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=bu(Error(He(423)),e),e=A7(n,e,i,t,r);break e}else if(i!==r){r=bu(Error(He(424)),e),e=A7(n,e,i,t,r);break e}else for(Er=ca(e.stateNode.containerInfo.firstChild),Tr=e,mn=!0,gs=null,t=wx(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(wu(),i===r){e=So(n,e,t);break e}Hi(n,e,i,t)}e=e.child}return e;case 5:return bx(e),n===null&&B4(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,C4(i,r)?o=null:s!==null&&C4(i,s)&&(e.flags|=32),eq(n,e),Hi(n,e,o,t),e.child;case 6:return n===null&&B4(e),null;case 13:return nq(n,e,t);case 4:return C6(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Cu(e,null,i,t):Hi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fs(i,r),y7(n,e,i,r,t);case 7:return Hi(n,e,e.pendingProps,t),e.child;case 8:return Hi(n,e,e.pendingProps.children,t),e.child;case 12:return Hi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,an(c0,i._currentValue),i._currentValue=o,s!==null)if(xs(s.value,o)){if(s.children===r.children&&!ar.current){e=So(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=vo(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),I4(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),I4(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yu(e,t),r=es(r),i=i(r),e.flags|=1,Hi(n,e,i,t),e.child;case 14:return i=e.type,r=fs(i,e.pendingProps),r=fs(i.type,r),x7(n,e,i,r,t);case 15:return Zx(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fs(i,r),Dp(n,e),e.tag=1,lr(i)?(n=!0,o0(e)):n=!1,yu(e,t),Yx(e,i,r),D4(e,i,r,t),O4(null,e,i,!0,n,t);case 19:return iq(n,e,t);case 22:return $x(n,e,t)}throw Error(He(156,e.tag))};function yq(n,e){return Xy(n,e)}function VC(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(n,e,t,i){return new VC(n,e,t,i)}function G6(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WC(n){if(typeof n=="function")return G6(n)?1:0;if(n!=null){if(n=n.$$typeof,n===a6)return 11;if(n===l6)return 14}return 2}function da(n,e){var t=n.alternate;return t===null?(t=Qr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Op(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")G6(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case $c:return Cl(t.children,r,s,e);case o6:o=8,r|=8;break;case s4:return n=Qr(12,t,e,r|2),n.elementType=s4,n.lanes=s,n;case o4:return n=Qr(13,t,e,r),n.elementType=o4,n.lanes=s,n;case a4:return n=Qr(19,t,e,r),n.elementType=a4,n.lanes=s,n;case by:return O0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Cy:o=10;break e;case Ty:o=9;break e;case a6:o=11;break e;case l6:o=14;break e;case Qo:o=16,i=null;break e}throw Error(He(130,n==null?n:typeof n,""))}return e=Qr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Cl(n,e,t,i){return n=Qr(7,n,i,e),n.lanes=t,n}function O0(n,e,t,i){return n=Qr(22,n,i,e),n.elementType=by,n.lanes=t,n.stateNode={isHidden:!1},n}function k2(n,e,t){return n=Qr(6,n,null,e),n.lanes=t,n}function z2(n,e,t){return e=Qr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function XC(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q2(0),this.expirationTimes=q2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q2(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function H6(n,e,t,i,r,s,o,a,l){return n=new XC(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},w6(s),n}function jC(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function xq(n){if(!n)return _a;n=n._reactInternals;e:{if(jl(n)!==n||n.tag!==1)throw Error(He(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(n.tag===1){var t=n.type;if(lr(t))return xx(n,t,e)}return e}function qq(n,e,t,i,r,s,o,a,l){return n=H6(t,i,!0,n,r,s,o,a,l),n.context=xq(null),t=n.current,i=Xi(),r=fa(t),s=vo(i,r),s.callback=e??null,ua(t,s,r),n.current.lanes=r,td(n,r,i),cr(n,i),n}function N0(n,e,t,i){var r=e.current,s=Xi(),o=fa(r);return t=xq(t),e.context===null?e.context=t:e.pendingContext=t,e=vo(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ua(r,e,o),n!==null&&(ys(n,r,o,s),Bp(n,r,o)),o}function y0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function B7(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function V6(n,e){B7(n,e),(n=n.alternate)&&B7(n,e)}function JC(){return null}var Aq=typeof reportError=="function"?reportError:function(n){console.error(n)};function W6(n){this._internalRoot=n}k0.prototype.render=W6.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(He(409));N0(n,e,null,null)};k0.prototype.unmount=W6.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Fl(function(){N0(null,n,null,null)}),e[qo]=null}};function k0(n){this._internalRoot=n}k0.prototype.unstable_scheduleHydration=function(n){if(n){var e=$y();n={blockedOn:null,target:n,priority:e};for(var t=0;t<$o.length&&e!==0&&e<$o[t].priority;t++);$o.splice(t,0,n),t===0&&tx(n)}};function X6(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function z0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function I7(){}function YC(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=y0(o);s.call(c)}}var o=qq(e,i,n,0,null,!1,!1,"",I7);return n._reactRootContainer=o,n[qo]=o.current,bf(n.nodeType===8?n.parentNode:n),Fl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=y0(l);a.call(c)}}var l=H6(n,0,!1,null,null,!1,!1,"",I7);return n._reactRootContainer=l,n[qo]=l.current,bf(n.nodeType===8?n.parentNode:n),Fl(function(){N0(e,l,t,i)}),l}function G0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=y0(o);a.call(l)}}N0(e,o,n,r)}else o=YC(t,e,n,r,i);return y0(o)}Qy=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ef(e.pendingLanes);t!==0&&(h6(e,t|1),cr(e,Ln()),!(Ht&6)&&(Ru=Ln()+500,wa()))}break;case 13:Fl(function(){var i=Ao(n,1);if(i!==null){var r=Xi();ys(i,n,1,r)}}),V6(n,1)}};f6=function(n){if(n.tag===13){var e=Ao(n,134217728);if(e!==null){var t=Xi();ys(e,n,134217728,t)}V6(n,134217728)}};Zy=function(n){if(n.tag===13){var e=fa(n),t=Ao(n,e);if(t!==null){var i=Xi();ys(t,n,e,i)}V6(n,e)}};$y=function(){return en};ex=function(n,e){var t=en;try{return en=n,e()}finally{en=t}};v4=function(n,e,t){switch(e){case"input":if(u4(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=B0(i);if(!r)throw Error(He(90));Py(i),u4(i,r)}}}break;case"textarea":Iy(n,t);break;case"select":e=t.value,e!=null&&mu(n,!!t.multiple,e,!1)}};ky=N6;zy=Fl;var KC={usingClientEntryPoint:!1,Events:[id,iu,B0,Oy,Ny,N6]},Rh={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QC={bundleType:Rh.bundleType,version:Rh.version,rendererPackageName:Rh.rendererPackageName,rendererConfig:Rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vy(n),n===null?null:n.stateNode},findFiberByHostInstance:Rh.findFiberByHostInstance||JC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S1.isDisabled&&S1.supportsFiber)try{T0=S1.inject(QC),Os=S1}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC;Br.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X6(e))throw Error(He(200));return jC(n,e,null,t)};Br.createRoot=function(n,e){if(!X6(n))throw Error(He(299));var t=!1,i="",r=Aq;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=H6(n,1,!1,null,null,t,!1,i,r),n[qo]=e.current,bf(n.nodeType===8?n.parentNode:n),new W6(e)};Br.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(He(188)):(n=Object.keys(n).join(","),Error(He(268,n)));return n=Vy(e),n=n===null?null:n.stateNode,n};Br.flushSync=function(n){return Fl(n)};Br.hydrate=function(n,e,t){if(!z0(e))throw Error(He(200));return G0(null,n,e,!0,t)};Br.hydrateRoot=function(n,e,t){if(!X6(n))throw Error(He(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=Aq;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=qq(e,null,n,1,t??null,r,!1,s,o),n[qo]=e.current,bf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new k0(e)};Br.render=function(n,e,t){if(!z0(e))throw Error(He(200));return G0(null,n,e,!1,t)};Br.unmountComponentAtNode=function(n){if(!z0(n))throw Error(He(40));return n._reactRootContainer?(Fl(function(){G0(null,null,n,!1,function(){n._reactRootContainer=null,n[qo]=null})}),!0):!1};Br.unstable_batchedUpdates=N6;Br.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!z0(t))throw Error(He(200));if(n==null||n._reactInternals===void 0)throw Error(He(38));return G0(n,e,t,!1,i)};Br.version="18.3.1-next-f1338f8080-20240426";function Sq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sq)}catch(n){console.error(n)}}Sq(),Sy.exports=Br;var Mq=Sy.exports,Eq,L7=Mq;Eq=i4.createRoot=L7.createRoot,i4.hydrateRoot=L7.hydrateRoot;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Gu="165",ZC={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$C={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},wq=0,K4=1,Cq=2,eT=3,Tq=0,H0=1,mf=2,ds=3,qs=0,Pi=1,rr=2,ks=0,Tl=1,Q4=2,Z4=3,$4=4,bq=5,ta=100,Rq=101,Pq=102,Bq=103,Iq=104,Lq=200,Dq=201,Uq=202,Fq=203,x0=204,q0=205,Oq=206,Nq=207,kq=208,zq=209,Gq=210,Hq=211,Vq=212,Wq=213,Xq=214,jq=0,Jq=1,Yq=2,Of=3,Kq=4,Qq=5,Zq=6,$q=7,sd=0,eA=1,tA=2,zs=0,nA=1,iA=2,rA=3,j6=4,sA=5,oA=6,aA=7,e5="attached",lA="detached",V0=300,Mo=301,ya=302,Nf=303,kf=304,Hu=306,xa=1e3,wr=1001,Pu=1002,Dn=1003,W0=1004,tT=1004,yl=1005,nT=1005,$t=1006,qu=1007,iT=1007,Zr=1008,rT=1008,Hs=1009,cA=1010,uA=1011,Bu=1012,J6=1013,Ol=1014,Cr=1015,Jl=1016,Y6=1017,K6=1018,Nl=1020,hA=35902,fA=1021,dA=1022,Wi=1023,pA=1024,mA=1025,pa=1026,kl=1027,Q6=1028,Z6=1029,gA=1030,$6=1031,eg=1033,Np=33776,kp=33777,zp=33778,Gp=33779,t5=35840,n5=35841,i5=35842,r5=35843,s5=36196,o5=37492,a5=37496,l5=37808,c5=37809,u5=37810,h5=37811,f5=37812,d5=37813,p5=37814,m5=37815,g5=37816,v5=37817,_5=37818,y5=37819,x5=37820,q5=37821,Hp=36492,A5=36494,S5=36495,vA=36283,M5=36284,E5=36285,w5=36286,_A=2200,yA=2201,xA=2202,Iu=2300,Lu=2301,Vp=2302,xl=2400,ql=2401,zf=2402,X0=2500,tg=2501,qA=0,ng=1,A0=2,AA=3200,ig=3201,Ca=0,SA=1,uo="",Jr="srgb",Co="srgb-linear",j0="display-p3",od="display-p3-linear",Gf="linear",sn="srgb",Hf="rec709",Vf="p3",sT=0,fl=7680,oT=7681,aT=7682,lT=7683,cT=34055,uT=34056,hT=5386,fT=512,dT=513,pT=514,mT=515,gT=516,vT=517,_T=518,C5=519,MA=512,EA=513,wA=514,rg=515,CA=516,TA=517,bA=518,RA=519,Wf=35044,yT=35048,xT=35040,qT=35045,AT=35049,ST=35041,MT=35046,ET=35050,wT=35042,CT="100",T5="300 es",Fs=2e3,Xf=2001;let To=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Ei=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let D7=1234567;const bl=Math.PI/180,Du=180/Math.PI;function br(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ei[n&255]+Ei[n>>8&255]+Ei[n>>16&255]+Ei[n>>24&255]+"-"+Ei[e&255]+Ei[e>>8&255]+"-"+Ei[e>>16&15|64]+Ei[e>>24&255]+"-"+Ei[t&63|128]+Ei[t>>8&255]+"-"+Ei[t>>16&255]+Ei[t>>24&255]+Ei[i&255]+Ei[i>>8&255]+Ei[i>>16&255]+Ei[i>>24&255]).toLowerCase()}function Tn(n,e,t){return Math.max(e,Math.min(t,n))}function sg(n,e){return(n%e+e)%e}function TT(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function bT(n,e,t){return n!==e?(t-n)/(e-n):0}function gf(n,e,t){return(1-t)*n+t*e}function RT(n,e,t,i){return gf(n,e,1-Math.exp(-t*i))}function PT(n,e=1){return e-Math.abs(sg(n,e*2)-e)}function BT(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function IT(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function LT(n,e){return n+Math.floor(Math.random()*(e-n+1))}function DT(n,e){return n+Math.random()*(e-n)}function UT(n){return n*(.5-Math.random())}function FT(n){n!==void 0&&(D7=n);let e=D7+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function OT(n){return n*bl}function NT(n){return n*Du}function kT(n){return(n&n-1)===0&&n!==0}function zT(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function GT(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function HT(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Vi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function bt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const og={DEG2RAD:bl,RAD2DEG:Du,generateUUID:br,clamp:Tn,euclideanModulo:sg,mapLinear:TT,inverseLerp:bT,lerp:gf,damp:RT,pingpong:PT,smoothstep:BT,smootherstep:IT,randInt:LT,randFloat:DT,randFloatSpread:UT,seededRandom:FT,degToRad:OT,radToDeg:NT,isPowerOfTwo:kT,ceilPowerOfTwo:zT,floorPowerOfTwo:GT,setQuaternionFromProperEuler:HT,normalize:bt,denormalize:Vi};class Re{constructor(e=0,t=0){Re.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Tn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wt{constructor(e,t,i,r,s,o,a,l,c){wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],p=i[2],m=i[5],v=i[8],x=r[0],_=r[3],g=r[6],q=r[1],A=r[4],M=r[7],C=r[2],w=r[5],b=r[8];return s[0]=o*x+a*q+l*C,s[3]=o*_+a*A+l*w,s[6]=o*g+a*M+l*b,s[1]=c*x+u*q+d*C,s[4]=c*_+u*A+d*w,s[7]=c*g+u*M+d*b,s[2]=p*x+m*q+v*C,s[5]=p*_+m*A+v*w,s[8]=p*g+m*M+v*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(r*c-u*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(u*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(G2.makeScale(e,t)),this}rotate(e){return this.premultiply(G2.makeRotation(-e)),this}translate(e,t){return this.premultiply(G2.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const G2=new wt;function PA(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const VT={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function uu(n,e){return new VT[n](e)}function jf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function BA(){const n=jf("canvas");return n.style.display="block",n}const U7={};function ag(n){n in U7||(U7[n]=!0,console.warn(n))}function WT(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}const F7=new wt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),O7=new wt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),M1={[Co]:{transfer:Gf,primaries:Hf,toReference:n=>n,fromReference:n=>n},[Jr]:{transfer:sn,primaries:Hf,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[od]:{transfer:Gf,primaries:Vf,toReference:n=>n.applyMatrix3(O7),fromReference:n=>n.applyMatrix3(F7)},[j0]:{transfer:sn,primaries:Vf,toReference:n=>n.convertSRGBToLinear().applyMatrix3(O7),fromReference:n=>n.applyMatrix3(F7).convertLinearToSRGB()}},XT=new Set([Co,od]),jt={enabled:!0,_workingColorSpace:Co,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!XT.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=M1[e].toReference,r=M1[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return M1[n].primaries},getTransfer:function(n){return n===uo?Gf:M1[n].transfer}};function Au(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function H2(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let _c;class IA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{_c===void 0&&(_c=jf("canvas")),_c.width=e.width,_c.height=e.height;const i=_c.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=_c}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=jf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Au(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Au(t[i]/255)*255):t[i]=Au(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jT=0;class Al{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jT++}),this.uuid=br(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(V2(r[o].image)):s.push(V2(r[o]))}else s=V2(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function V2(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?IA.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let JT=0;class ln extends To{constructor(e=ln.DEFAULT_IMAGE,t=ln.DEFAULT_MAPPING,i=wr,r=wr,s=$t,o=Zr,a=Wi,l=Hs,c=ln.DEFAULT_ANISOTROPY,u=uo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:JT++}),this.uuid=br(),this.name="",this.source=new Al(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Re(0,0),this.repeat=new Re(1,1),this.center=new Re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==V0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xa:e.x=e.x-Math.floor(e.x);break;case wr:e.x=e.x<0?0:1;break;case Pu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xa:e.y=e.y-Math.floor(e.y);break;case wr:e.y=e.y<0?0:1;break;case Pu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ln.DEFAULT_IMAGE=null;ln.DEFAULT_MAPPING=V0;ln.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,i=0,r=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],v=l[9],x=l[2],_=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-x)<.01&&Math.abs(v-_)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+x)<.1&&Math.abs(v+_)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(c+1)/2,M=(m+1)/2,C=(g+1)/2,w=(u+p)/4,b=(d+x)/4,P=(v+_)/4;return A>M&&A>C?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=w/i,s=b/i):M>C?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=w/r,s=P/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=b/s,r=P/s),this.set(i,r,s,t),this}let q=Math.sqrt((_-v)*(_-v)+(d-x)*(d-x)+(p-u)*(p-u));return Math.abs(q)<.001&&(q=1),this.x=(_-v)/q,this.y=(d-x)/q,this.z=(p-u)/q,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class LA extends To{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zt(0,0,e,t),this.scissorTest=!1,this.viewport=new zt(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$t,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new ln(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Al(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ur extends LA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class J0 extends ln{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=wr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class YT extends ur{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new J0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class lg extends ln{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=wr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KT extends ur{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new lg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class ai{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=x;return}if(d!==x||l!==p||c!==m||u!==v){let _=1-a;const g=l*p+c*m+u*v+d*x,q=g>=0?1:-1,A=1-g*g;if(A>Number.EPSILON){const C=Math.sqrt(A),w=Math.atan2(C,g*q);_=Math.sin(_*w)/C,a=Math.sin(a*w)/C}const M=a*q;if(l=l*_+p*M,c=c*_+m*M,u=u*_+v*M,d=d*_+x*M,_===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=C,c*=C,u*=C,d*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*d+l*m-c*p,e[t+1]=l*v+u*p+c*d-a*m,e[t+2]=c*v+u*m+a*p-l*d,e[t+3]=u*v-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*v,this._y=c*m*d-p*u*v,this._z=c*u*v+p*m*d,this._w=c*u*d-p*m*v;break;case"YXZ":this._x=p*u*d+c*m*v,this._y=c*m*d-p*u*v,this._z=c*u*v-p*m*d,this._w=c*u*d+p*m*v;break;case"ZXY":this._x=p*u*d-c*m*v,this._y=c*m*d+p*u*v,this._z=c*u*v+p*m*d,this._w=c*u*d-p*m*v;break;case"ZYX":this._x=p*u*d-c*m*v,this._y=c*m*d+p*u*v,this._z=c*u*v-p*m*d,this._w=c*u*d+p*m*v;break;case"YZX":this._x=p*u*d+c*m*v,this._y=c*m*d+p*u*v,this._z=c*u*v-p*m*d,this._w=c*u*d-p*m*v;break;case"XZY":this._x=p*u*d-c*m*v,this._y=c*m*d-p*u*v,this._z=c*u*v+p*m*d,this._w=c*u*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,i=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(N7.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(N7.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*t-s*r),d=2*(s*i-o*t);return this.x=t+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return W2.copy(this).projectOnVector(e),this.sub(W2)}reflect(e){return this.sub(W2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Tn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const W2=new W,N7=new ai;class li{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ls.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ls.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ls.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,ls):ls.fromBufferAttribute(s,o),ls.applyMatrix4(e.matrixWorld),this.expandByPoint(ls);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),E1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),E1.copy(i.boundingBox)),E1.applyMatrix4(e.matrixWorld),this.union(E1)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ls),ls.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ph),w1.subVectors(this.max,Ph),yc.subVectors(e.a,Ph),xc.subVectors(e.b,Ph),qc.subVectors(e.c,Ph),zo.subVectors(xc,yc),Go.subVectors(qc,xc),Ja.subVectors(yc,qc);let t=[0,-zo.z,zo.y,0,-Go.z,Go.y,0,-Ja.z,Ja.y,zo.z,0,-zo.x,Go.z,0,-Go.x,Ja.z,0,-Ja.x,-zo.y,zo.x,0,-Go.y,Go.x,0,-Ja.y,Ja.x,0];return!X2(t,yc,xc,qc,w1)||(t=[1,0,0,0,1,0,0,0,1],!X2(t,yc,xc,qc,w1))?!1:(C1.crossVectors(zo,Go),t=[C1.x,C1.y,C1.z],X2(t,yc,xc,qc,w1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ls).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ls).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(eo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),eo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),eo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),eo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),eo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),eo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),eo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),eo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(eo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const eo=[new W,new W,new W,new W,new W,new W,new W,new W],ls=new W,E1=new li,yc=new W,xc=new W,qc=new W,zo=new W,Go=new W,Ja=new W,Ph=new W,w1=new W,C1=new W,Ya=new W;function X2(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ya.fromArray(n,s);const a=r.x*Math.abs(Ya.x)+r.y*Math.abs(Ya.y)+r.z*Math.abs(Ya.z),l=e.dot(Ya),c=t.dot(Ya),u=i.dot(Ya);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const QT=new li,Bh=new W,j2=new W;class Jn{constructor(e=new W,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):QT.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Bh.subVectors(e,this.center);const t=Bh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Bh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(j2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Bh.copy(e.center).add(j2)),this.expandByPoint(Bh.copy(e.center).sub(j2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const to=new W,J2=new W,T1=new W,Ho=new W,Y2=new W,b1=new W,K2=new W;class Vu{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,to)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=to.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(to.copy(this.origin).addScaledVector(this.direction,t),to.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){J2.copy(e).add(t).multiplyScalar(.5),T1.copy(t).sub(e).normalize(),Ho.copy(this.origin).sub(J2);const s=e.distanceTo(t)*.5,o=-this.direction.dot(T1),a=Ho.dot(this.direction),l=-Ho.dot(T1),c=Ho.lengthSq(),u=Math.abs(1-o*o);let d,p,m,v;if(u>0)if(d=o*l-a,p=o*a-l,v=s*u,d>=0)if(p>=-v)if(p<=v){const x=1/u;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(J2).addScaledVector(T1,p),m}intersectSphere(e,t){to.subVectors(e.center,this.origin);const i=to.dot(this.direction),r=to.dot(to)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,to)!==null}intersectTriangle(e,t,i,r,s){Y2.subVectors(t,e),b1.subVectors(i,e),K2.crossVectors(Y2,b1);let o=this.direction.dot(K2),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ho.subVectors(this.origin,e);const l=a*this.direction.dot(b1.crossVectors(Ho,b1));if(l<0)return null;const c=a*this.direction.dot(Y2.cross(Ho));if(c<0||l+c>o)return null;const u=-a*Ho.dot(K2);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(e,t,i,r,s,o,a,l,c,u,d,p,m,v,x,_){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,d,p,m,v,x,_)}set(e,t,i,r,s,o,a,l,c,u,d,p,m,v,x,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ac.setFromMatrixColumn(e,0).length(),s=1/Ac.setFromMatrixColumn(e,1).length(),o=1/Ac.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,v=a*u,x=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,v=c*u,x=c*d;t[0]=p+x*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,v=c*u,x=c*d;t[0]=p-x*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,v=a*u,x=a*d;t[0]=l*u,t[4]=v*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*u,t[4]=x-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+v,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+x,t[5]=o*u,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*u,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ZT,e,$T)}lookAt(e,t,i){const r=this.elements;return xr.subVectors(e,t),xr.lengthSq()===0&&(xr.z=1),xr.normalize(),Vo.crossVectors(i,xr),Vo.lengthSq()===0&&(Math.abs(i.z)===1?xr.x+=1e-4:xr.z+=1e-4,xr.normalize(),Vo.crossVectors(i,xr)),Vo.normalize(),R1.crossVectors(xr,Vo),r[0]=Vo.x,r[4]=R1.x,r[8]=xr.x,r[1]=Vo.y,r[5]=R1.y,r[9]=xr.y,r[2]=Vo.z,r[6]=R1.z,r[10]=xr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],p=i[9],m=i[13],v=i[2],x=i[6],_=i[10],g=i[14],q=i[3],A=i[7],M=i[11],C=i[15],w=r[0],b=r[4],P=r[8],R=r[12],T=r[1],F=r[5],L=r[9],U=r[13],k=r[2],Y=r[6],X=r[10],ee=r[14],D=r[3],G=r[7],N=r[11],O=r[15];return s[0]=o*w+a*T+l*k+c*D,s[4]=o*b+a*F+l*Y+c*G,s[8]=o*P+a*L+l*X+c*N,s[12]=o*R+a*U+l*ee+c*O,s[1]=u*w+d*T+p*k+m*D,s[5]=u*b+d*F+p*Y+m*G,s[9]=u*P+d*L+p*X+m*N,s[13]=u*R+d*U+p*ee+m*O,s[2]=v*w+x*T+_*k+g*D,s[6]=v*b+x*F+_*Y+g*G,s[10]=v*P+x*L+_*X+g*N,s[14]=v*R+x*U+_*ee+g*O,s[3]=q*w+A*T+M*k+C*D,s[7]=q*b+A*F+M*Y+C*G,s[11]=q*P+A*L+M*X+C*N,s[15]=q*R+A*U+M*ee+C*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],v=e[3],x=e[7],_=e[11],g=e[15];return v*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*u-s*l*u)+_*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+g*(-r*a*u-t*l*d+t*a*p+r*o*d-i*o*p+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],v=e[12],x=e[13],_=e[14],g=e[15],q=d*_*c-x*p*c+x*l*m-a*_*m-d*l*g+a*p*g,A=v*p*c-u*_*c-v*l*m+o*_*m+u*l*g-o*p*g,M=u*x*c-v*d*c+v*a*m-o*x*m-u*a*g+o*d*g,C=v*d*l-u*x*l-v*a*p+o*x*p+u*a*_-o*d*_,w=t*q+i*A+r*M+s*C;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/w;return e[0]=q*b,e[1]=(x*p*s-d*_*s-x*r*m+i*_*m+d*r*g-i*p*g)*b,e[2]=(a*_*s-x*l*s+x*r*c-i*_*c-a*r*g+i*l*g)*b,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*b,e[4]=A*b,e[5]=(u*_*s-v*p*s+v*r*m-t*_*m-u*r*g+t*p*g)*b,e[6]=(v*l*s-o*_*s-v*r*c+t*_*c+o*r*g-t*l*g)*b,e[7]=(o*p*s-u*l*s+u*r*c-t*p*c-o*r*m+t*l*m)*b,e[8]=M*b,e[9]=(v*d*s-u*x*s-v*i*m+t*x*m+u*i*g-t*d*g)*b,e[10]=(o*x*s-v*a*s+v*i*c-t*x*c-o*i*g+t*a*g)*b,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*m-t*a*m)*b,e[12]=C*b,e[13]=(u*x*r-v*d*r+v*i*p-t*x*p-u*i*_+t*d*_)*b,e[14]=(v*a*r-o*x*r-v*i*l+t*x*l+o*i*_-t*a*_)*b,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*p+t*a*p)*b,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,v=s*d,x=o*u,_=o*d,g=a*d,q=l*c,A=l*u,M=l*d,C=i.x,w=i.y,b=i.z;return r[0]=(1-(x+g))*C,r[1]=(m+M)*C,r[2]=(v-A)*C,r[3]=0,r[4]=(m-M)*w,r[5]=(1-(p+g))*w,r[6]=(_+q)*w,r[7]=0,r[8]=(v+A)*b,r[9]=(_-q)*b,r[10]=(1-(p+x))*b,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ac.set(r[0],r[1],r[2]).length();const o=Ac.set(r[4],r[5],r[6]).length(),a=Ac.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],cs.copy(this);const c=1/s,u=1/o,d=1/a;return cs.elements[0]*=c,cs.elements[1]*=c,cs.elements[2]*=c,cs.elements[4]*=u,cs.elements[5]*=u,cs.elements[6]*=u,cs.elements[8]*=d,cs.elements[9]*=d,cs.elements[10]*=d,t.setFromRotationMatrix(cs),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Fs){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===Fs)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Xf)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Fs){const l=this.elements,c=1/(t-e),u=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*u;let v,x;if(a===Fs)v=(o+s)*d,x=-2*d;else if(a===Xf)v=s*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ac=new W,cs=new ht,ZT=new W(0,0,0),$T=new W(1,1,1),Vo=new W,R1=new W,xr=new W,k7=new ht,z7=new ai;class Pr{constructor(e=0,t=0,i=0,r=Pr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Tn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Tn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Tn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Tn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Tn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Tn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return k7.makeRotationFromQuaternion(e),this.setFromRotationMatrix(k7,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return z7.setFromEuler(this),this.setFromQuaternion(z7,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Pr.DEFAULT_ORDER="XYZ";class Rl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let eb=0;const G7=new W,Sc=new ai,no=new ht,P1=new W,Ih=new W,tb=new W,nb=new ai,H7=new W(1,0,0),V7=new W(0,1,0),W7=new W(0,0,1),X7={type:"added"},ib={type:"removed"},Mc={type:"childadded",child:null},Q2={type:"childremoved",child:null};class Gt extends To{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eb++}),this.uuid=br(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gt.DEFAULT_UP.clone();const e=new W,t=new Pr,i=new ai,r=new W(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ht},normalMatrix:{value:new wt}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=Gt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Gt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Rl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sc.setFromAxisAngle(e,t),this.quaternion.multiply(Sc),this}rotateOnWorldAxis(e,t){return Sc.setFromAxisAngle(e,t),this.quaternion.premultiply(Sc),this}rotateX(e){return this.rotateOnAxis(H7,e)}rotateY(e){return this.rotateOnAxis(V7,e)}rotateZ(e){return this.rotateOnAxis(W7,e)}translateOnAxis(e,t){return G7.copy(e).applyQuaternion(this.quaternion),this.position.add(G7.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(H7,e)}translateY(e){return this.translateOnAxis(V7,e)}translateZ(e){return this.translateOnAxis(W7,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(no.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?P1.copy(e):P1.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ih.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?no.lookAt(Ih,P1,this.up):no.lookAt(P1,Ih,this.up),this.quaternion.setFromRotationMatrix(no),r&&(no.extractRotation(r.matrixWorld),Sc.setFromRotationMatrix(no),this.quaternion.premultiply(Sc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(X7),Mc.child=e,this.dispatchEvent(Mc),Mc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ib),Q2.child=e,this.dispatchEvent(Q2),Q2.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),no.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),no.multiply(e.parent.matrixWorld)),e.applyMatrix4(no),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(X7),Mc.child=e,this.dispatchEvent(Mc),Mc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ih,e,tb),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ih,nb,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Gt.DEFAULT_UP=new W(0,1,0);Gt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Gt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const us=new W,io=new W,Z2=new W,ro=new W,Ec=new W,wc=new W,j7=new W,$2=new W,e3=new W,t3=new W;class Mr{constructor(e=new W,t=new W,i=new W){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),us.subVectors(e,t),r.cross(us);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){us.subVectors(r,t),io.subVectors(i,t),Z2.subVectors(e,t);const o=us.dot(us),a=us.dot(io),l=us.dot(Z2),c=io.dot(io),u=io.dot(Z2),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ro)===null?!1:ro.x>=0&&ro.y>=0&&ro.x+ro.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,ro)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ro.x),l.addScaledVector(o,ro.y),l.addScaledVector(a,ro.z),l)}static isFrontFacing(e,t,i,r){return us.subVectors(i,t),io.subVectors(e,t),us.cross(io).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return us.subVectors(this.c,this.b),io.subVectors(this.a,this.b),us.cross(io).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Mr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Mr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Mr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Ec.subVectors(r,i),wc.subVectors(s,i),$2.subVectors(e,i);const l=Ec.dot($2),c=wc.dot($2);if(l<=0&&c<=0)return t.copy(i);e3.subVectors(e,r);const u=Ec.dot(e3),d=wc.dot(e3);if(u>=0&&d<=u)return t.copy(r);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Ec,o);t3.subVectors(e,s);const m=Ec.dot(t3),v=wc.dot(t3);if(v>=0&&m<=v)return t.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(wc,a);const _=u*v-m*d;if(_<=0&&d-u>=0&&m-v>=0)return j7.subVectors(s,r),a=(d-u)/(d-u+(m-v)),t.copy(r).addScaledVector(j7,a);const g=1/(_+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector(Ec,o).addScaledVector(wc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const DA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wo={h:0,s:0,l:0},B1={h:0,s:0,l:0};function n3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ke{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Jr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,jt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=jt.workingColorSpace){return this.r=e,this.g=t,this.b=i,jt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=jt.workingColorSpace){if(e=sg(e,1),t=Tn(t,0,1),i=Tn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=n3(o,s,e+1/3),this.g=n3(o,s,e),this.b=n3(o,s,e-1/3)}return jt.toWorkingColorSpace(this,r),this}setStyle(e,t=Jr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Jr){const i=DA[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Au(e.r),this.g=Au(e.g),this.b=Au(e.b),this}copyLinearToSRGB(e){return this.r=H2(e.r),this.g=H2(e.g),this.b=H2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jr){return jt.fromWorkingColorSpace(wi.copy(this),e),Math.round(Tn(wi.r*255,0,255))*65536+Math.round(Tn(wi.g*255,0,255))*256+Math.round(Tn(wi.b*255,0,255))}getHexString(e=Jr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=jt.workingColorSpace){jt.fromWorkingColorSpace(wi.copy(this),t);const i=wi.r,r=wi.g,s=wi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=jt.workingColorSpace){return jt.fromWorkingColorSpace(wi.copy(this),t),e.r=wi.r,e.g=wi.g,e.b=wi.b,e}getStyle(e=Jr){jt.fromWorkingColorSpace(wi.copy(this),e);const t=wi.r,i=wi.g,r=wi.b;return e!==Jr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Wo),this.setHSL(Wo.h+e,Wo.s+t,Wo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Wo),e.getHSL(B1);const i=gf(Wo.h,B1.h,t),r=gf(Wo.s,B1.s,t),s=gf(Wo.l,B1.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const wi=new Ke;Ke.NAMES=DA;let rb=0;class Hn extends To{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rb++}),this.uuid=br(),this.name="",this.type="Material",this.blending=Tl,this.side=qs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=x0,this.blendDst=q0,this.blendEquation=ta,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ke(0,0,0),this.blendAlpha=0,this.depthFunc=Of,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=C5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=fl,this.stencilZFail=fl,this.stencilZPass=fl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Tl&&(i.blending=this.blending),this.side!==qs&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==x0&&(i.blendSrc=this.blendSrc),this.blendDst!==q0&&(i.blendDst=this.blendDst),this.blendEquation!==ta&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Of&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==C5&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==fl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==fl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==fl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class or extends Hn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pr,this.combine=sd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ho=sb();function sb(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function nr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Tn(n,-65504,65504),ho.floatView[0]=n;const e=ho.uint32View[0],t=e>>23&511;return ho.baseTable[t]+((e&8388607)>>ho.shiftTable[t])}function nf(n){const e=n>>10;return ho.uint32View[0]=ho.mantissaTable[ho.offsetTable[e]+(n&1023)]+ho.exponentTable[e],ho.floatView[0]}const ob={toHalfFloat:nr,fromHalfFloat:nf},kn=new W,I1=new Re;class Ut{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Wf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Cr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return ag("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)I1.fromBufferAttribute(this,t),I1.applyMatrix3(e),this.setXY(t,I1.x,I1.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)kn.fromBufferAttribute(this,t),kn.applyMatrix3(e),this.setXYZ(t,kn.x,kn.y,kn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)kn.fromBufferAttribute(this,t),kn.applyMatrix4(e),this.setXYZ(t,kn.x,kn.y,kn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)kn.fromBufferAttribute(this,t),kn.applyNormalMatrix(e),this.setXYZ(t,kn.x,kn.y,kn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)kn.fromBufferAttribute(this,t),kn.transformDirection(e),this.setXYZ(t,kn.x,kn.y,kn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Vi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=bt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Vi(t,this.array)),t}setX(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Vi(t,this.array)),t}setY(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Vi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Vi(t,this.array)),t}setW(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Wf&&(e.usage=this.usage),e}}class ab extends Ut{constructor(e,t,i){super(new Int8Array(e),t,i)}}class lb extends Ut{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class cb extends Ut{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class ub extends Ut{constructor(e,t,i){super(new Int16Array(e),t,i)}}class cg extends Ut{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class hb extends Ut{constructor(e,t,i){super(new Int32Array(e),t,i)}}class ug extends Ut{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class fb extends Ut{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=nf(this.array[e*this.itemSize]);return this.normalized&&(t=Vi(t,this.array)),t}setX(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize]=nr(t),this}getY(e){let t=nf(this.array[e*this.itemSize+1]);return this.normalized&&(t=Vi(t,this.array)),t}setY(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+1]=nr(t),this}getZ(e){let t=nf(this.array[e*this.itemSize+2]);return this.normalized&&(t=Vi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+2]=nr(t),this}getW(e){let t=nf(this.array[e*this.itemSize+3]);return this.normalized&&(t=Vi(t,this.array)),t}setW(e,t){return this.normalized&&(t=bt(t,this.array)),this.array[e*this.itemSize+3]=nr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array)),this.array[e+0]=nr(t),this.array[e+1]=nr(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.array[e+0]=nr(t),this.array[e+1]=nr(i),this.array[e+2]=nr(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.array[e+0]=nr(t),this.array[e+1]=nr(i),this.array[e+2]=nr(r),this.array[e+3]=nr(s),this}}class ut extends Ut{constructor(e,t,i){super(new Float32Array(e),t,i)}}let db=0;const Vr=new ht,i3=new Gt,Cc=new W,qr=new li,Lh=new li,ri=new W;class At extends To{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:db++}),this.uuid=br(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(PA(e)?ug:cg)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new wt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Vr.makeRotationFromQuaternion(e),this.applyMatrix4(Vr),this}rotateX(e){return Vr.makeRotationX(e),this.applyMatrix4(Vr),this}rotateY(e){return Vr.makeRotationY(e),this.applyMatrix4(Vr),this}rotateZ(e){return Vr.makeRotationZ(e),this.applyMatrix4(Vr),this}translate(e,t,i){return Vr.makeTranslation(e,t,i),this.applyMatrix4(Vr),this}scale(e,t,i){return Vr.makeScale(e,t,i),this.applyMatrix4(Vr),this}lookAt(e){return i3.lookAt(e),i3.updateMatrix(),this.applyMatrix4(i3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cc).negate(),this.translate(Cc.x,Cc.y,Cc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ut(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new li);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];qr.setFromBufferAttribute(s),this.morphTargetsRelative?(ri.addVectors(this.boundingBox.min,qr.min),this.boundingBox.expandByPoint(ri),ri.addVectors(this.boundingBox.max,qr.max),this.boundingBox.expandByPoint(ri)):(this.boundingBox.expandByPoint(qr.min),this.boundingBox.expandByPoint(qr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(e){const i=this.boundingSphere.center;if(qr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Lh.setFromBufferAttribute(a),this.morphTargetsRelative?(ri.addVectors(qr.min,Lh.min),qr.expandByPoint(ri),ri.addVectors(qr.max,Lh.max),qr.expandByPoint(ri)):(qr.expandByPoint(Lh.min),qr.expandByPoint(Lh.max))}qr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)ri.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ri));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ri.fromBufferAttribute(a,c),l&&(Cc.fromBufferAttribute(e,c),ri.add(Cc)),r=Math.max(r,i.distanceToSquared(ri))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ut(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let P=0;P<i.count;P++)a[P]=new W,l[P]=new W;const c=new W,u=new W,d=new W,p=new Re,m=new Re,v=new Re,x=new W,_=new W;function g(P,R,T){c.fromBufferAttribute(i,P),u.fromBufferAttribute(i,R),d.fromBufferAttribute(i,T),p.fromBufferAttribute(s,P),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,T),u.sub(c),d.sub(c),m.sub(p),v.sub(p);const F=1/(m.x*v.y-v.x*m.y);isFinite(F)&&(x.copy(u).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(F),_.copy(d).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(F),a[P].add(x),a[R].add(x),a[T].add(x),l[P].add(_),l[R].add(_),l[T].add(_))}let q=this.groups;q.length===0&&(q=[{start:0,count:e.count}]);for(let P=0,R=q.length;P<R;++P){const T=q[P],F=T.start,L=T.count;for(let U=F,k=F+L;U<k;U+=3)g(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const A=new W,M=new W,C=new W,w=new W;function b(P){C.fromBufferAttribute(r,P),w.copy(C);const R=a[P];A.copy(R),A.sub(C.multiplyScalar(C.dot(R))).normalize(),M.crossVectors(w,R);const F=M.dot(l[P])<0?-1:1;o.setXYZW(P,A.x,A.y,A.z,F)}for(let P=0,R=q.length;P<R;++P){const T=q[P],F=T.start,L=T.count;for(let U=F,k=F+L;U<k;U+=3)b(e.getX(U+0)),b(e.getX(U+1)),b(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ut(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new W,s=new W,o=new W,a=new W,l=new W,c=new W,u=new W,d=new W;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),_=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,_),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(p+0,u.x,u.y,u.z),i.setXYZ(p+1,u.x,u.y,u.z),i.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ri.fromBufferAttribute(e,t),ri.normalize(),e.setXYZ(t,ri.x,ri.y,ri.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let x=0,_=l.length;x<_;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new Ut(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new At,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const J7=new ht,Ka=new Vu,L1=new Jn,Y7=new W,Tc=new W,bc=new W,Rc=new W,r3=new W,D1=new W,U1=new Re,F1=new Re,O1=new Re,K7=new W,Q7=new W,Z7=new W,N1=new W,k1=new W;class fn extends Gt{constructor(e=new At,t=new or){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){D1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(r3.fromBufferAttribute(d,e),o?D1.addScaledVector(r3,u):D1.addScaledVector(r3.sub(t),u))}t.add(D1)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),L1.copy(i.boundingSphere),L1.applyMatrix4(s),Ka.copy(e.ray).recast(e.near),!(L1.containsPoint(Ka.origin)===!1&&(Ka.intersectSphere(L1,Y7)===null||Ka.origin.distanceToSquared(Y7)>(e.far-e.near)**2))&&(J7.copy(s).invert(),Ka.copy(e.ray).applyMatrix4(J7),!(i.boundingBox!==null&&Ka.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Ka)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const _=p[v],g=o[_.materialIndex],q=Math.max(_.start,m.start),A=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let M=q,C=A;M<C;M+=3){const w=a.getX(M),b=a.getX(M+1),P=a.getX(M+2);r=z1(this,g,e,i,c,u,d,w,b,P),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let _=v,g=x;_<g;_+=3){const q=a.getX(_),A=a.getX(_+1),M=a.getX(_+2);r=z1(this,o,e,i,c,u,d,q,A,M),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const _=p[v],g=o[_.materialIndex],q=Math.max(_.start,m.start),A=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let M=q,C=A;M<C;M+=3){const w=M,b=M+1,P=M+2;r=z1(this,g,e,i,c,u,d,w,b,P),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let _=v,g=x;_<g;_+=3){const q=_,A=_+1,M=_+2;r=z1(this,o,e,i,c,u,d,q,A,M),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function pb(n,e,t,i,r,s,o,a){let l;if(e.side===Pi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===qs,a),l===null)return null;k1.copy(a),k1.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(k1);return c<t.near||c>t.far?null:{distance:c,point:k1.clone(),object:n}}function z1(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Tc),n.getVertexPosition(l,bc),n.getVertexPosition(c,Rc);const u=pb(n,e,t,i,Tc,bc,Rc,N1);if(u){r&&(U1.fromBufferAttribute(r,a),F1.fromBufferAttribute(r,l),O1.fromBufferAttribute(r,c),u.uv=Mr.getInterpolation(N1,Tc,bc,Rc,U1,F1,O1,new Re)),s&&(U1.fromBufferAttribute(s,a),F1.fromBufferAttribute(s,l),O1.fromBufferAttribute(s,c),u.uv1=Mr.getInterpolation(N1,Tc,bc,Rc,U1,F1,O1,new Re)),o&&(K7.fromBufferAttribute(o,a),Q7.fromBufferAttribute(o,l),Z7.fromBufferAttribute(o,c),u.normal=Mr.getInterpolation(N1,Tc,bc,Rc,K7,Q7,Z7,new W),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new W,materialIndex:0};Mr.getNormal(Tc,bc,Rc,d.normal),u.face=d}return u}class Yl extends At{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new ut(c,3)),this.setAttribute("normal",new ut(u,3)),this.setAttribute("uv",new ut(d,2));function v(x,_,g,q,A,M,C,w,b,P,R){const T=M/b,F=C/P,L=M/2,U=C/2,k=w/2,Y=b+1,X=P+1;let ee=0,D=0;const G=new W;for(let N=0;N<X;N++){const O=N*F-U;for(let J=0;J<Y;J++){const Z=J*T-L;G[x]=Z*q,G[_]=O*A,G[g]=k,c.push(G.x,G.y,G.z),G[x]=0,G[_]=0,G[g]=w>0?1:-1,u.push(G.x,G.y,G.z),d.push(J/b),d.push(1-N/P),ee+=1}}for(let N=0;N<P;N++)for(let O=0;O<b;O++){const J=p+O+Y*N,Z=p+O+Y*(N+1),j=p+(O+1)+Y*(N+1),Q=p+(O+1)+Y*N;l.push(J,Z,Q),l.push(Z,j,Q),D+=6}a.addGroup(m,D,R),m+=D,p+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Uu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Gi(n){const e={};for(let t=0;t<n.length;t++){const i=Uu(n[t]);for(const r in i)e[r]=i[r]}return e}function mb(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function UA(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:jt.workingColorSpace}const hg={clone:Uu,merge:Gi};var gb=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vb=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ns extends Hn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=gb,this.fragmentShader=vb,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Uu(e.uniforms),this.uniformsGroups=mb(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}let Wu=class extends Gt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht,this.coordinateSystem=Fs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};const Xo=new W,$7=new Re,ev=new Re;class bn extends Wu{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Du*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Du*2*Math.atan(Math.tan(bl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Xo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Xo.x,Xo.y).multiplyScalar(-e/Xo.z),Xo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Xo.x,Xo.y).multiplyScalar(-e/Xo.z)}getViewSize(e,t){return this.getViewBounds(e,$7,ev),t.subVectors(ev,$7)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(bl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Pc=-90,Bc=1;class FA extends Gt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new bn(Pc,Bc,e,t);r.layers=this.layers,this.add(r);const s=new bn(Pc,Bc,e,t);s.layers=this.layers,this.add(s);const o=new bn(Pc,Bc,e,t);o.layers=this.layers,this.add(o);const a=new bn(Pc,Bc,e,t);a.layers=this.layers,this.add(a);const l=new bn(Pc,Bc,e,t);l.layers=this.layers,this.add(l);const c=new bn(Pc,Bc,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Fs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Xf)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(d,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class ad extends ln{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Mo,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OA extends ur{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new ad(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:$t}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Yl(5,5,5),s=new ns({name:"CubemapFromEquirect",uniforms:Uu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Pi,blending:ks});s.uniforms.tEquirect.value=t;const o=new fn(r,s),a=t.minFilter;return t.minFilter===Zr&&(t.minFilter=$t),new FA(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const s3=new W,_b=new W,yb=new wt;class co{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=s3.subVectors(i,t).cross(_b.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(s3),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||yb.getNormalMatrix(e),r=this.coplanarPoint(s3).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Qa=new Jn,G1=new W;class ld{constructor(e=new co,t=new co,i=new co,r=new co,s=new co,o=new co){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Fs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],p=r[7],m=r[8],v=r[9],x=r[10],_=r[11],g=r[12],q=r[13],A=r[14],M=r[15];if(i[0].setComponents(l-s,p-c,_-m,M-g).normalize(),i[1].setComponents(l+s,p+c,_+m,M+g).normalize(),i[2].setComponents(l+o,p+u,_+v,M+q).normalize(),i[3].setComponents(l-o,p-u,_-v,M-q).normalize(),i[4].setComponents(l-a,p-d,_-x,M-A).normalize(),t===Fs)i[5].setComponents(l+a,p+d,_+x,M+A).normalize();else if(t===Xf)i[5].setComponents(a,d,x,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Qa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qa)}intersectsSprite(e){return Qa.center.set(0,0,0),Qa.radius=.7071067811865476,Qa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qa)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(G1.x=r.normal.x>0?e.max.x:e.min.x,G1.y=r.normal.y>0?e.max.y:e.min.y,G1.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(G1)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function NA(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function xb(n){const e=new WeakMap;function t(a,l){const c=a.array,u=a.usage,d=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const u=l.array,d=l._updateRange,p=l.updateRanges;if(n.bindBuffer(c,a),d.count===-1&&p.length===0&&n.bufferSubData(c,0,u),p.length!==0){for(let m=0,v=p.length;m<v;m++){const x=p[m];n.bufferSubData(c,x.start*u.BYTES_PER_ELEMENT,u,x.start,x.count)}l.clearUpdateRanges()}d.count!==-1&&(n.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class bo extends At{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,p=t/l,m=[],v=[],x=[],_=[];for(let g=0;g<u;g++){const q=g*p-o;for(let A=0;A<c;A++){const M=A*d-s;v.push(M,-q,0),x.push(0,0,1),_.push(A/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let q=0;q<a;q++){const A=q+c*g,M=q+c*(g+1),C=q+1+c*(g+1),w=q+1+c*g;m.push(A,M,w),m.push(M,C,w)}this.setIndex(m),this.setAttribute("position",new ut(v,3)),this.setAttribute("normal",new ut(x,3)),this.setAttribute("uv",new ut(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bo(e.width,e.height,e.widthSegments,e.heightSegments)}}var qb=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Ab=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Sb=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Mb=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Eb=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,wb=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Cb=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Tb=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,bb=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Rb=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Pb=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Bb=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ib=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Lb=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Db=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ub=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Fb=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ob=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Nb=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kb=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zb=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gb=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Hb=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,Vb=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Wb=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Xb=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jb=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Jb=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Yb=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kb=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Qb="gl_FragColor = linearToOutputTexel( gl_FragColor );",Zb=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,$b=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,eR=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,tR=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,nR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,iR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,rR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,sR=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,oR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,aR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,lR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,cR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,uR=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hR=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dR=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,pR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,mR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,gR=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_R=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yR=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,xR=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,qR=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,AR=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,SR=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,MR=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ER=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wR=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,CR=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,TR=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,RR=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PR=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,BR=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,IR=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,LR=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,DR=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UR=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,FR=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,OR=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,NR=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,kR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zR=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GR=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HR=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,VR=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,WR=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,XR=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,jR=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,JR=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,YR=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,KR=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,QR=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ZR=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,$R=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,eP=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tP=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nP=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,iP=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,rP=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sP=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,oP=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,aP=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,lP=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,cP=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,uP=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hP=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fP=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dP=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,pP=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mP=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,gP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_P=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yP=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xP=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qP=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,AP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SP=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,MP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,EP=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wP=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,CP=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,TP=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bP=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,RP=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,PP=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BP=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,IP=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,LP=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,DP=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UP=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FP=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OP=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,NP=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kP=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zP=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,GP=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HP=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VP=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,WP=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XP=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jP=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JP=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,YP=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,KP=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QP=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ZP=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$P=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Tt={alphahash_fragment:qb,alphahash_pars_fragment:Ab,alphamap_fragment:Sb,alphamap_pars_fragment:Mb,alphatest_fragment:Eb,alphatest_pars_fragment:wb,aomap_fragment:Cb,aomap_pars_fragment:Tb,batching_pars_vertex:bb,batching_vertex:Rb,begin_vertex:Pb,beginnormal_vertex:Bb,bsdfs:Ib,iridescence_fragment:Lb,bumpmap_pars_fragment:Db,clipping_planes_fragment:Ub,clipping_planes_pars_fragment:Fb,clipping_planes_pars_vertex:Ob,clipping_planes_vertex:Nb,color_fragment:kb,color_pars_fragment:zb,color_pars_vertex:Gb,color_vertex:Hb,common:Vb,cube_uv_reflection_fragment:Wb,defaultnormal_vertex:Xb,displacementmap_pars_vertex:jb,displacementmap_vertex:Jb,emissivemap_fragment:Yb,emissivemap_pars_fragment:Kb,colorspace_fragment:Qb,colorspace_pars_fragment:Zb,envmap_fragment:$b,envmap_common_pars_fragment:eR,envmap_pars_fragment:tR,envmap_pars_vertex:nR,envmap_physical_pars_fragment:dR,envmap_vertex:iR,fog_vertex:rR,fog_pars_vertex:sR,fog_fragment:oR,fog_pars_fragment:aR,gradientmap_pars_fragment:lR,lightmap_pars_fragment:cR,lights_lambert_fragment:uR,lights_lambert_pars_fragment:hR,lights_pars_begin:fR,lights_toon_fragment:pR,lights_toon_pars_fragment:mR,lights_phong_fragment:gR,lights_phong_pars_fragment:vR,lights_physical_fragment:_R,lights_physical_pars_fragment:yR,lights_fragment_begin:xR,lights_fragment_maps:qR,lights_fragment_end:AR,logdepthbuf_fragment:SR,logdepthbuf_pars_fragment:MR,logdepthbuf_pars_vertex:ER,logdepthbuf_vertex:wR,map_fragment:CR,map_pars_fragment:TR,map_particle_fragment:bR,map_particle_pars_fragment:RR,metalnessmap_fragment:PR,metalnessmap_pars_fragment:BR,morphinstance_vertex:IR,morphcolor_vertex:LR,morphnormal_vertex:DR,morphtarget_pars_vertex:UR,morphtarget_vertex:FR,normal_fragment_begin:OR,normal_fragment_maps:NR,normal_pars_fragment:kR,normal_pars_vertex:zR,normal_vertex:GR,normalmap_pars_fragment:HR,clearcoat_normal_fragment_begin:VR,clearcoat_normal_fragment_maps:WR,clearcoat_pars_fragment:XR,iridescence_pars_fragment:jR,opaque_fragment:JR,packing:YR,premultiplied_alpha_fragment:KR,project_vertex:QR,dithering_fragment:ZR,dithering_pars_fragment:$R,roughnessmap_fragment:eP,roughnessmap_pars_fragment:tP,shadowmap_pars_fragment:nP,shadowmap_pars_vertex:iP,shadowmap_vertex:rP,shadowmask_pars_fragment:sP,skinbase_vertex:oP,skinning_pars_vertex:aP,skinning_vertex:lP,skinnormal_vertex:cP,specularmap_fragment:uP,specularmap_pars_fragment:hP,tonemapping_fragment:fP,tonemapping_pars_fragment:dP,transmission_fragment:pP,transmission_pars_fragment:mP,uv_pars_fragment:gP,uv_pars_vertex:vP,uv_vertex:_P,worldpos_vertex:yP,background_vert:xP,background_frag:qP,backgroundCube_vert:AP,backgroundCube_frag:SP,cube_vert:MP,cube_frag:EP,depth_vert:wP,depth_frag:CP,distanceRGBA_vert:TP,distanceRGBA_frag:bP,equirect_vert:RP,equirect_frag:PP,linedashed_vert:BP,linedashed_frag:IP,meshbasic_vert:LP,meshbasic_frag:DP,meshlambert_vert:UP,meshlambert_frag:FP,meshmatcap_vert:OP,meshmatcap_frag:NP,meshnormal_vert:kP,meshnormal_frag:zP,meshphong_vert:GP,meshphong_frag:HP,meshphysical_vert:VP,meshphysical_frag:WP,meshtoon_vert:XP,meshtoon_frag:jP,points_vert:JP,points_frag:YP,shadow_vert:KP,shadow_frag:QP,sprite_vert:ZP,sprite_frag:$P},Ze={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wt}},envmap:{envMap:{value:null},envMapRotation:{value:new wt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wt},normalScale:{value:new Re(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0},uvTransform:{value:new wt}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new Re(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}}},vs={basic:{uniforms:Gi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.fog]),vertexShader:Tt.meshbasic_vert,fragmentShader:Tt.meshbasic_frag},lambert:{uniforms:Gi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Tt.meshlambert_vert,fragmentShader:Tt.meshlambert_frag},phong:{uniforms:Gi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:Tt.meshphong_vert,fragmentShader:Tt.meshphong_frag},standard:{uniforms:Gi([Ze.common,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.roughnessmap,Ze.metalnessmap,Ze.fog,Ze.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag},toon:{uniforms:Gi([Ze.common,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.gradientmap,Ze.fog,Ze.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Tt.meshtoon_vert,fragmentShader:Tt.meshtoon_frag},matcap:{uniforms:Gi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,{matcap:{value:null}}]),vertexShader:Tt.meshmatcap_vert,fragmentShader:Tt.meshmatcap_frag},points:{uniforms:Gi([Ze.points,Ze.fog]),vertexShader:Tt.points_vert,fragmentShader:Tt.points_frag},dashed:{uniforms:Gi([Ze.common,Ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tt.linedashed_vert,fragmentShader:Tt.linedashed_frag},depth:{uniforms:Gi([Ze.common,Ze.displacementmap]),vertexShader:Tt.depth_vert,fragmentShader:Tt.depth_frag},normal:{uniforms:Gi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,{opacity:{value:1}}]),vertexShader:Tt.meshnormal_vert,fragmentShader:Tt.meshnormal_frag},sprite:{uniforms:Gi([Ze.sprite,Ze.fog]),vertexShader:Tt.sprite_vert,fragmentShader:Tt.sprite_frag},background:{uniforms:{uvTransform:{value:new wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tt.background_vert,fragmentShader:Tt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new wt}},vertexShader:Tt.backgroundCube_vert,fragmentShader:Tt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tt.cube_vert,fragmentShader:Tt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tt.equirect_vert,fragmentShader:Tt.equirect_frag},distanceRGBA:{uniforms:Gi([Ze.common,Ze.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tt.distanceRGBA_vert,fragmentShader:Tt.distanceRGBA_frag},shadow:{uniforms:Gi([Ze.lights,Ze.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:Tt.shadow_vert,fragmentShader:Tt.shadow_frag}};vs.physical={uniforms:Gi([vs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wt},clearcoatNormalScale:{value:new Re(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wt},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wt},transmissionSamplerSize:{value:new Re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wt},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wt},anisotropyVector:{value:new Re},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wt}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag};const H1={r:0,b:0,g:0},Za=new Pr,eB=new ht;function tB(n,e,t,i,r,s,o){const a=new Ke(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function v(q){let A=q.isScene===!0?q.background:null;return A&&A.isTexture&&(A=(q.backgroundBlurriness>0?t:e).get(A)),A}function x(q){let A=!1;const M=v(q);M===null?g(a,l):M&&M.isColor&&(g(M,1),A=!0);const C=n.xr.getEnvironmentBlendMode();C==="additive"?i.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||A)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function _(q,A){const M=v(A);M&&(M.isCubeTexture||M.mapping===Hu)?(u===void 0&&(u=new fn(new Yl(1,1,1),new ns({name:"BackgroundCubeMaterial",uniforms:Uu(vs.backgroundCube.uniforms),vertexShader:vs.backgroundCube.vertexShader,fragmentShader:vs.backgroundCube.fragmentShader,side:Pi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,w,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Za.copy(A.backgroundRotation),Za.x*=-1,Za.y*=-1,Za.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Za.y*=-1,Za.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(eB.makeRotationFromEuler(Za)),u.material.toneMapped=jt.getTransfer(M.colorSpace)!==sn,(d!==M||p!==M.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),u.layers.enableAll(),q.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new fn(new bo(2,2),new ns({name:"BackgroundMaterial",uniforms:Uu(vs.background.uniforms),vertexShader:vs.background.vertexShader,fragmentShader:vs.background.fragmentShader,side:qs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=jt.getTransfer(M.colorSpace)!==sn,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(d!==M||p!==M.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),c.layers.enableAll(),q.unshift(c,c.geometry,c.material,0,0,null))}function g(q,A){q.getRGB(H1,UA(n)),i.buffers.color.setClear(H1.r,H1.g,H1.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(q,A=1){a.set(q),l=A,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(q){l=q,g(a,l)},render:x,addToRenderList:_}}function nB(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(T,F,L,U,k){let Y=!1;const X=d(U,L,F);s!==X&&(s=X,c(s.object)),Y=m(T,U,L,k),Y&&v(T,U,L,k),k!==null&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(Y||o)&&(o=!1,M(T,F,L,U),k!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))}function l(){return n.createVertexArray()}function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function d(T,F,L){const U=L.wireframe===!0;let k=i[T.id];k===void 0&&(k={},i[T.id]=k);let Y=k[F.id];Y===void 0&&(Y={},k[F.id]=Y);let X=Y[U];return X===void 0&&(X=p(l()),Y[U]=X),X}function p(T){const F=[],L=[],U=[];for(let k=0;k<t;k++)F[k]=0,L[k]=0,U[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:L,attributeDivisors:U,object:T,attributes:{},index:null}}function m(T,F,L,U){const k=s.attributes,Y=F.attributes;let X=0;const ee=L.getAttributes();for(const D in ee)if(ee[D].location>=0){const N=k[D];let O=Y[D];if(O===void 0&&(D==="instanceMatrix"&&T.instanceMatrix&&(O=T.instanceMatrix),D==="instanceColor"&&T.instanceColor&&(O=T.instanceColor)),N===void 0||N.attribute!==O||O&&N.data!==O.data)return!0;X++}return s.attributesNum!==X||s.index!==U}function v(T,F,L,U){const k={},Y=F.attributes;let X=0;const ee=L.getAttributes();for(const D in ee)if(ee[D].location>=0){let N=Y[D];N===void 0&&(D==="instanceMatrix"&&T.instanceMatrix&&(N=T.instanceMatrix),D==="instanceColor"&&T.instanceColor&&(N=T.instanceColor));const O={};O.attribute=N,N&&N.data&&(O.data=N.data),k[D]=O,X++}s.attributes=k,s.attributesNum=X,s.index=U}function x(){const T=s.newAttributes;for(let F=0,L=T.length;F<L;F++)T[F]=0}function _(T){g(T,0)}function g(T,F){const L=s.newAttributes,U=s.enabledAttributes,k=s.attributeDivisors;L[T]=1,U[T]===0&&(n.enableVertexAttribArray(T),U[T]=1),k[T]!==F&&(n.vertexAttribDivisor(T,F),k[T]=F)}function q(){const T=s.newAttributes,F=s.enabledAttributes;for(let L=0,U=F.length;L<U;L++)F[L]!==T[L]&&(n.disableVertexAttribArray(L),F[L]=0)}function A(T,F,L,U,k,Y,X){X===!0?n.vertexAttribIPointer(T,F,L,k,Y):n.vertexAttribPointer(T,F,L,U,k,Y)}function M(T,F,L,U){x();const k=U.attributes,Y=L.getAttributes(),X=F.defaultAttributeValues;for(const ee in Y){const D=Y[ee];if(D.location>=0){let G=k[ee];if(G===void 0&&(ee==="instanceMatrix"&&T.instanceMatrix&&(G=T.instanceMatrix),ee==="instanceColor"&&T.instanceColor&&(G=T.instanceColor)),G!==void 0){const N=G.normalized,O=G.itemSize,J=e.get(G);if(J===void 0)continue;const Z=J.buffer,j=J.type,Q=J.bytesPerElement,ie=j===n.INT||j===n.UNSIGNED_INT||G.gpuType===J6;if(G.isInterleavedBufferAttribute){const $=G.data,ge=$.stride,De=G.offset;if($.isInstancedInterleavedBuffer){for(let Ie=0;Ie<D.locationSize;Ie++)g(D.location+Ie,$.meshPerAttribute);T.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let Ie=0;Ie<D.locationSize;Ie++)_(D.location+Ie);n.bindBuffer(n.ARRAY_BUFFER,Z);for(let Ie=0;Ie<D.locationSize;Ie++)A(D.location+Ie,O/D.locationSize,j,N,ge*Q,(De+O/D.locationSize*Ie)*Q,ie)}else{if(G.isInstancedBufferAttribute){for(let $=0;$<D.locationSize;$++)g(D.location+$,G.meshPerAttribute);T.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=G.meshPerAttribute*G.count)}else for(let $=0;$<D.locationSize;$++)_(D.location+$);n.bindBuffer(n.ARRAY_BUFFER,Z);for(let $=0;$<D.locationSize;$++)A(D.location+$,O/D.locationSize,j,N,O*Q,O/D.locationSize*$*Q,ie)}}else if(X!==void 0){const N=X[ee];if(N!==void 0)switch(N.length){case 2:n.vertexAttrib2fv(D.location,N);break;case 3:n.vertexAttrib3fv(D.location,N);break;case 4:n.vertexAttrib4fv(D.location,N);break;default:n.vertexAttrib1fv(D.location,N)}}}}q()}function C(){P();for(const T in i){const F=i[T];for(const L in F){const U=F[L];for(const k in U)u(U[k].object),delete U[k];delete F[L]}delete i[T]}}function w(T){if(i[T.id]===void 0)return;const F=i[T.id];for(const L in F){const U=F[L];for(const k in U)u(U[k].object),delete U[k];delete F[L]}delete i[T.id]}function b(T){for(const F in i){const L=i[F];if(L[T.id]===void 0)continue;const U=L[T.id];for(const k in U)u(U[k].object),delete U[k];delete L[T.id]}}function P(){R(),o=!0,s!==r&&(s=r,c(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:P,resetDefaultState:R,dispose:C,releaseStatesOfGeometry:w,releaseStatesOfProgram:b,initAttributes:x,enableAttribute:_,disableUnusedAttributes:q}}function iB(n,e,t){let i;function r(c){i=c}function s(c,u){n.drawArrays(i,c,u),t.update(u,i,1)}function o(c,u,d){d!==0&&(n.drawArraysInstanced(i,c,u,d),t.update(u,i,d))}function a(c,u,d){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<d;m++)this.render(c[m],u[m]);else{p.multiDrawArraysWEBGL(i,c,0,u,0,d);let m=0;for(let v=0;v<d;v++)m+=u[v];t.update(m,i,1)}}function l(c,u,d,p){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],u[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,u,0,p,0,d);let v=0;for(let x=0;x<d;x++)v+=u[x];for(let x=0;x<p.length;x++)t.update(v,i,p[x])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function rB(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const w=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(w){return!(w!==Wi&&i.convert(w)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(w){const b=w===Jl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(w!==Hs&&i.convert(w)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&w!==Cr&&!b)}function l(w){if(w==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";w="mediump"}return w==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),q=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=m>0,C=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:x,maxAttributes:_,maxVertexUniforms:g,maxVaryings:q,maxFragmentUniforms:A,vertexTextures:M,maxSamples:C}}function sB(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new co,a=new wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=u(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,x=d.clipIntersection,_=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!_)s?u(null):c();else{const q=s?0:i,A=q*4;let M=g.clippingState||null;l.value=M,M=u(v,p,A,m);for(let C=0;C!==A;++C)M[C]=t[C];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=q}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,p,m,v){const x=d!==null?d.length:0;let _=null;if(x!==0){if(_=l.value,v!==!0||_===null){const g=m+x*4,q=p.matrixWorldInverse;a.getNormalMatrix(q),(_===null||_.length<g)&&(_=new Float32Array(g));for(let A=0,M=m;A!==x;++A,M+=4)o.copy(d[A]).applyMatrix4(q,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}}function oB(n){let e=new WeakMap;function t(o,a){return a===Nf?o.mapping=Mo:a===kf&&(o.mapping=ya),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Nf||a===kf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new OA(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Ta extends Wu{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hu=4,tv=[.125,.215,.35,.446,.526,.582],ml=20,o3=new Ta,nv=new Ke;let a3=null,l3=0,c3=0,u3=!1;const dl=(1+Math.sqrt(5))/2,Ic=1/dl,iv=[new W(-dl,Ic,0),new W(dl,Ic,0),new W(-Ic,0,dl),new W(Ic,0,dl),new W(0,dl,-Ic),new W(0,dl,Ic),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)];class b5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){a3=this._renderer.getRenderTarget(),l3=this._renderer.getActiveCubeFace(),c3=this._renderer.getActiveMipmapLevel(),u3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ov(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=sv(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(a3,l3,c3),this._renderer.xr.enabled=u3,e.scissorTest=!1,V1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Mo||e.mapping===ya?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),a3=this._renderer.getRenderTarget(),l3=this._renderer.getActiveCubeFace(),c3=this._renderer.getActiveMipmapLevel(),u3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:$t,minFilter:$t,generateMipmaps:!1,type:Jl,format:Wi,colorSpace:Co,depthBuffer:!1},r=rv(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rv(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=aB(s)),this._blurMaterial=lB(s,e,t)}return r}_compileMaterial(e){const t=new fn(this._lodPlanes[0],e);this._renderer.compile(t,o3)}_sceneToCubeUV(e,t,i,r){const a=new bn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(nv),u.toneMapping=zs,u.autoClear=!1;const m=new or({name:"PMREM.Background",side:Pi,depthWrite:!1,depthTest:!1}),v=new fn(new Yl,m);let x=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,x=!0):(m.color.copy(nv),x=!0);for(let g=0;g<6;g++){const q=g%3;q===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):q===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const A=this._cubeSize;V1(r,q*A,g>2?A:0,A,A),u.setRenderTarget(r),x&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Mo||e.mapping===ya;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=ov()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=sv());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new fn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;V1(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,o3)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=iv[(r-s-1)%iv.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new fn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ml-1),x=s/v,_=isFinite(s)?1+Math.floor(u*x):ml;_>ml&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${ml}`);const g=[];let q=0;for(let b=0;b<ml;++b){const P=b/x,R=Math.exp(-P*P/2);g.push(R),b===0?q+=R:b<_&&(q+=2*R)}for(let b=0;b<g.length;b++)g[b]=g[b]/q;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=v,p.mipInt.value=A-i;const M=this._sizeLods[r],C=3*M*(r>A-hu?r-A+hu:0),w=4*(this._cubeSize-M);V1(t,C,w,3*M,2*M),l.setRenderTarget(t),l.render(d,o3)}}function aB(n){const e=[],t=[],i=[];let r=n;const s=n-hu+1+tv.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-hu?l=tv[o-n+hu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,v=6,x=3,_=2,g=1,q=new Float32Array(x*v*m),A=new Float32Array(_*v*m),M=new Float32Array(g*v*m);for(let w=0;w<m;w++){const b=w%3*2/3-1,P=w>2?0:-1,R=[b,P,0,b+2/3,P,0,b+2/3,P+1,0,b,P,0,b+2/3,P+1,0,b,P+1,0];q.set(R,x*v*w),A.set(p,_*v*w);const T=[w,w,w,w,w,w];M.set(T,g*v*w)}const C=new At;C.setAttribute("position",new Ut(q,x)),C.setAttribute("uv",new Ut(A,_)),C.setAttribute("faceIndex",new Ut(M,g)),e.push(C),r>hu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function rv(n,e,t){const i=new ur(n,e,t);return i.texture.mapping=Hu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function V1(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function lB(n,e,t){const i=new Float32Array(ml),r=new W(0,1,0);return new ns({name:"SphericalGaussianBlur",defines:{n:ml,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:fg(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ks,depthTest:!1,depthWrite:!1})}function sv(){return new ns({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fg(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ks,depthTest:!1,depthWrite:!1})}function ov(){return new ns({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fg(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ks,depthTest:!1,depthWrite:!1})}function fg(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cB(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Nf||l===kf,u=l===Mo||l===ya;if(c||u){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new b5(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&r(m)?(t===null&&(t=new b5(n)),d=c?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function uB(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&ag("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function hB(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let _=0,g=x.length;_<g;_++)e.remove(x[_])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const x=m[v];for(let _=0,g=x.length;_<g;_++)e.update(x[_],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,v=d.attributes.position;let x=0;if(m!==null){const q=m.array;x=m.version;for(let A=0,M=q.length;A<M;A+=3){const C=q[A+0],w=q[A+1],b=q[A+2];p.push(C,w,w,b,b,C)}}else if(v!==void 0){const q=v.array;x=v.version;for(let A=0,M=q.length/3-1;A<M;A+=3){const C=A+0,w=A+1,b=A+2;p.push(C,w,w,b,b,C)}}else return;const _=new(PA(p)?ug:cg)(p,1);_.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,_)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function fB(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function c(p,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,p*o,v),t.update(m,i,v))}function u(p,m,v){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let _=0;_<v;_++)this.render(p[_]/o,m[_]);else{x.multiDrawElementsWEBGL(i,m,0,s,p,0,v);let _=0;for(let g=0;g<v;g++)_+=m[g];t.update(_,i,1)}}function d(p,m,v,x){if(v===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let g=0;g<p.length;g++)c(p[g]/o,m[g],x[g]);else{_.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,x,0,v);let g=0;for(let q=0;q<v;q++)g+=m[q];for(let q=0;q<x.length;q++)t.update(g,i,x[q])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function dB(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function pB(n,e,t){const i=new WeakMap,r=new zt;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let p=i.get(a);if(p===void 0||p.count!==d){let T=function(){P.dispose(),i.delete(a),a.removeEventListener("dispose",T)};var m=T;p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],q=a.morphAttributes.normal||[],A=a.morphAttributes.color||[];let M=0;v===!0&&(M=1),x===!0&&(M=2),_===!0&&(M=3);let C=a.attributes.position.count*M,w=1;C>e.maxTextureSize&&(w=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const b=new Float32Array(C*w*4*d),P=new J0(b,C,w,d);P.type=Cr,P.needsUpdate=!0;const R=M*4;for(let F=0;F<d;F++){const L=g[F],U=q[F],k=A[F],Y=C*w*4*F;for(let X=0;X<L.count;X++){const ee=X*R;v===!0&&(r.fromBufferAttribute(L,X),b[Y+ee+0]=r.x,b[Y+ee+1]=r.y,b[Y+ee+2]=r.z,b[Y+ee+3]=0),x===!0&&(r.fromBufferAttribute(U,X),b[Y+ee+4]=r.x,b[Y+ee+5]=r.y,b[Y+ee+6]=r.z,b[Y+ee+7]=0),_===!0&&(r.fromBufferAttribute(k,X),b[Y+ee+8]=r.x,b[Y+ee+9]=r.y,b[Y+ee+10]=r.z,b[Y+ee+11]=k.itemSize===4?r.w:1)}}p={count:d,texture:P,size:new Re(C,w)},i.set(a,p),a.addEventListener("dispose",T)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let _=0;_<c.length;_++)v+=c[_];const x=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",x),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function mB(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class Y0 extends ln{constructor(e,t,i,r,s,o,a,l,c,u=pa){if(u!==pa&&u!==kl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===pa&&(i=Ol),i===void 0&&u===kl&&(i=Nl),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Dn,this.minFilter=l!==void 0?l:Dn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const kA=new ln,zA=new Y0(1,1);zA.compareFunction=rg;const GA=new J0,HA=new lg,VA=new ad,av=[],lv=[],cv=new Float32Array(16),uv=new Float32Array(9),hv=new Float32Array(4);function Xu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=av[r];if(s===void 0&&(s=new Float32Array(r),av[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Yn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Kn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function K0(n,e){let t=lv[e];t===void 0&&(t=new Int32Array(e),lv[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function gB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function vB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yn(t,e))return;n.uniform2fv(this.addr,e),Kn(t,e)}}function _B(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Yn(t,e))return;n.uniform3fv(this.addr,e),Kn(t,e)}}function yB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yn(t,e))return;n.uniform4fv(this.addr,e),Kn(t,e)}}function xB(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Kn(t,e)}else{if(Yn(t,i))return;hv.set(i),n.uniformMatrix2fv(this.addr,!1,hv),Kn(t,i)}}function qB(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Kn(t,e)}else{if(Yn(t,i))return;uv.set(i),n.uniformMatrix3fv(this.addr,!1,uv),Kn(t,i)}}function AB(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Yn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Kn(t,e)}else{if(Yn(t,i))return;cv.set(i),n.uniformMatrix4fv(this.addr,!1,cv),Kn(t,i)}}function SB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function MB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yn(t,e))return;n.uniform2iv(this.addr,e),Kn(t,e)}}function EB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yn(t,e))return;n.uniform3iv(this.addr,e),Kn(t,e)}}function wB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yn(t,e))return;n.uniform4iv(this.addr,e),Kn(t,e)}}function CB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function TB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yn(t,e))return;n.uniform2uiv(this.addr,e),Kn(t,e)}}function bB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yn(t,e))return;n.uniform3uiv(this.addr,e),Kn(t,e)}}function RB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yn(t,e))return;n.uniform4uiv(this.addr,e),Kn(t,e)}}function PB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?zA:kA;t.setTexture2D(e||s,r)}function BB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||HA,r)}function IB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||VA,r)}function LB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||GA,r)}function DB(n){switch(n){case 5126:return gB;case 35664:return vB;case 35665:return _B;case 35666:return yB;case 35674:return xB;case 35675:return qB;case 35676:return AB;case 5124:case 35670:return SB;case 35667:case 35671:return MB;case 35668:case 35672:return EB;case 35669:case 35673:return wB;case 5125:return CB;case 36294:return TB;case 36295:return bB;case 36296:return RB;case 35678:case 36198:case 36298:case 36306:case 35682:return PB;case 35679:case 36299:case 36307:return BB;case 35680:case 36300:case 36308:case 36293:return IB;case 36289:case 36303:case 36311:case 36292:return LB}}function UB(n,e){n.uniform1fv(this.addr,e)}function FB(n,e){const t=Xu(e,this.size,2);n.uniform2fv(this.addr,t)}function OB(n,e){const t=Xu(e,this.size,3);n.uniform3fv(this.addr,t)}function NB(n,e){const t=Xu(e,this.size,4);n.uniform4fv(this.addr,t)}function kB(n,e){const t=Xu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function zB(n,e){const t=Xu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function GB(n,e){const t=Xu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function HB(n,e){n.uniform1iv(this.addr,e)}function VB(n,e){n.uniform2iv(this.addr,e)}function WB(n,e){n.uniform3iv(this.addr,e)}function XB(n,e){n.uniform4iv(this.addr,e)}function jB(n,e){n.uniform1uiv(this.addr,e)}function JB(n,e){n.uniform2uiv(this.addr,e)}function YB(n,e){n.uniform3uiv(this.addr,e)}function KB(n,e){n.uniform4uiv(this.addr,e)}function QB(n,e,t){const i=this.cache,r=e.length,s=K0(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Kn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||kA,s[o])}function ZB(n,e,t){const i=this.cache,r=e.length,s=K0(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Kn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||HA,s[o])}function $B(n,e,t){const i=this.cache,r=e.length,s=K0(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Kn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||VA,s[o])}function eI(n,e,t){const i=this.cache,r=e.length,s=K0(t,r);Yn(i,s)||(n.uniform1iv(this.addr,s),Kn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||GA,s[o])}function tI(n){switch(n){case 5126:return UB;case 35664:return FB;case 35665:return OB;case 35666:return NB;case 35674:return kB;case 35675:return zB;case 35676:return GB;case 5124:case 35670:return HB;case 35667:case 35671:return VB;case 35668:case 35672:return WB;case 35669:case 35673:return XB;case 5125:return jB;case 36294:return JB;case 36295:return YB;case 36296:return KB;case 35678:case 36198:case 36298:case 36306:case 35682:return QB;case 35679:case 36299:case 36307:return ZB;case 35680:case 36300:case 36308:case 36293:return $B;case 36289:case 36303:case 36311:case 36292:return eI}}class nI{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=DB(t.type)}}class iI{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=tI(t.type)}}class rI{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const h3=/(\w+)(\])?(\[|\.)?/g;function fv(n,e){n.seq.push(e),n.map[e.id]=e}function sI(n,e,t){const i=n.name,r=i.length;for(h3.lastIndex=0;;){const s=h3.exec(i),o=h3.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){fv(t,c===void 0?new nI(a,n,e):new iI(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new rI(a),fv(t,d)),t=d}}}class Wp{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);sI(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function dv(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const oI=37297;let aI=0;function lI(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function cI(n){const e=jt.getPrimaries(jt.workingColorSpace),t=jt.getPrimaries(n);let i;switch(e===t?i="":e===Vf&&t===Hf?i="LinearDisplayP3ToLinearSRGB":e===Hf&&t===Vf&&(i="LinearSRGBToLinearDisplayP3"),n){case Co:case od:return[i,"LinearTransferOETF"];case Jr:case j0:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function pv(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+lI(n.getShaderSource(e),o)}else return r}function uI(n,e){const t=cI(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function hI(n,e){let t;switch(e){case nA:t="Linear";break;case iA:t="Reinhard";break;case rA:t="OptimizedCineon";break;case j6:t="ACESFilmic";break;case oA:t="AgX";break;case aA:t="Neutral";break;case sA:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function fI(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rf).join(`
`)}function dI(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function pI(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function rf(n){return n!==""}function mv(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gv(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mI=/^[ \t]*#include +<([\w\d./]+)>/gm;function R5(n){return n.replace(mI,vI)}const gI=new Map;function vI(n,e){let t=Tt[e];if(t===void 0){const i=gI.get(e);if(i!==void 0)t=Tt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return R5(t)}const _I=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vv(n){return n.replace(_I,yI)}function yI(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function _v(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function xI(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===H0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===mf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ds&&(e="SHADOWMAP_TYPE_VSM"),e}function qI(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Mo:case ya:e="ENVMAP_TYPE_CUBE";break;case Hu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function AI(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ya:e="ENVMAP_MODE_REFRACTION";break}return e}function SI(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case sd:e="ENVMAP_BLENDING_MULTIPLY";break;case eA:e="ENVMAP_BLENDING_MIX";break;case tA:e="ENVMAP_BLENDING_ADD";break}return e}function MI(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function EI(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=xI(t),c=qI(t),u=AI(t),d=SI(t),p=MI(t),m=fI(t),v=dI(s),x=r.createProgram();let _,g,q=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(rf).join(`
`),_.length>0&&(_+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(rf).join(`
`),g.length>0&&(g+=`
`)):(_=[_v(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rf).join(`
`),g=[_v(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==zs?"#define TONE_MAPPING":"",t.toneMapping!==zs?Tt.tonemapping_pars_fragment:"",t.toneMapping!==zs?hI("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Tt.colorspace_pars_fragment,uI("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rf).join(`
`)),o=R5(o),o=mv(o,t),o=gv(o,t),a=R5(a),a=mv(a,t),a=gv(a,t),o=vv(o),a=vv(a),t.isRawShaderMaterial!==!0&&(q=`#version 300 es
`,_=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===T5?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===T5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const A=q+_+o,M=q+g+a,C=dv(r,r.VERTEX_SHADER,A),w=dv(r,r.FRAGMENT_SHADER,M);r.attachShader(x,C),r.attachShader(x,w),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function b(F){if(n.debug.checkShaderErrors){const L=r.getProgramInfoLog(x).trim(),U=r.getShaderInfoLog(C).trim(),k=r.getShaderInfoLog(w).trim();let Y=!0,X=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(Y=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,C,w);else{const ee=pv(r,C,"vertex"),D=pv(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+L+`
`+ee+`
`+D)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(U===""||k==="")&&(X=!1);X&&(F.diagnostics={runnable:Y,programLog:L,vertexShader:{log:U,prefix:_},fragmentShader:{log:k,prefix:g}})}r.deleteShader(C),r.deleteShader(w),P=new Wp(r,x),R=pI(r,x)}let P;this.getUniforms=function(){return P===void 0&&b(this),P};let R;this.getAttributes=function(){return R===void 0&&b(this),R};let T=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return T===!1&&(T=r.getProgramParameter(x,oI)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=aI++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=C,this.fragmentShader=w,this}let wI=0;class CI{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new TI(e),t.set(e,i)),i}}class TI{constructor(e){this.id=wI++,this.code=e,this.usedTimes=0}}function bI(n,e,t,i,r,s,o){const a=new Rl,l=new CI,c=new Set,u=[],d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return c.add(R),R===0?"uv":`uv${R}`}function _(R,T,F,L,U){const k=L.fog,Y=U.geometry,X=R.isMeshStandardMaterial?L.environment:null,ee=(R.isMeshStandardMaterial?t:e).get(R.envMap||X),D=ee&&ee.mapping===Hu?ee.image.height:null,G=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const N=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,O=N!==void 0?N.length:0;let J=0;Y.morphAttributes.position!==void 0&&(J=1),Y.morphAttributes.normal!==void 0&&(J=2),Y.morphAttributes.color!==void 0&&(J=3);let Z,j,Q,ie;if(G){const tt=vs[G];Z=tt.vertexShader,j=tt.fragmentShader}else Z=R.vertexShader,j=R.fragmentShader,l.update(R),Q=l.getVertexShaderID(R),ie=l.getFragmentShaderID(R);const $=n.getRenderTarget(),ge=U.isInstancedMesh===!0,De=U.isBatchedMesh===!0,Ie=!!R.map,z=!!R.matcap,ne=!!ee,pe=!!R.aoMap,Me=!!R.lightMap,xe=!!R.bumpMap,Se=!!R.normalMap,Be=!!R.displacementMap,ve=!!R.emissiveMap,Ue=!!R.metalnessMap,H=!!R.roughnessMap,I=R.anisotropy>0,re=R.clearcoat>0,ae=R.dispersion>0,he=R.iridescence>0,de=R.sheen>0,Je=R.transmission>0,Ae=I&&!!R.anisotropyMap,Te=re&&!!R.clearcoatMap,Ve=re&&!!R.clearcoatNormalMap,Pe=re&&!!R.clearcoatRoughnessMap,ze=he&&!!R.iridescenceMap,st=he&&!!R.iridescenceThicknessMap,We=de&&!!R.sheenColorMap,Le=de&&!!R.sheenRoughnessMap,Oe=!!R.specularMap,rt=!!R.specularColorMap,vt=!!R.specularIntensityMap,te=Je&&!!R.transmissionMap,Ne=Je&&!!R.thicknessMap,me=!!R.gradientMap,Ee=!!R.alphaMap,Ge=R.alphaTest>0,Qe=!!R.alphaHash,it=!!R.extensions;let yt=zs;R.toneMapped&&($===null||$.isXRRenderTarget===!0)&&(yt=n.toneMapping);const xt={shaderID:G,shaderType:R.type,shaderName:R.name,vertexShader:Z,fragmentShader:j,defines:R.defines,customVertexShaderID:Q,customFragmentShaderID:ie,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:De,batchingColor:De&&U._colorsTexture!==null,instancing:ge,instancingColor:ge&&U.instanceColor!==null,instancingMorph:ge&&U.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:$===null?n.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:Co,alphaToCoverage:!!R.alphaToCoverage,map:Ie,matcap:z,envMap:ne,envMapMode:ne&&ee.mapping,envMapCubeUVHeight:D,aoMap:pe,lightMap:Me,bumpMap:xe,normalMap:Se,displacementMap:p&&Be,emissiveMap:ve,normalMapObjectSpace:Se&&R.normalMapType===SA,normalMapTangentSpace:Se&&R.normalMapType===Ca,metalnessMap:Ue,roughnessMap:H,anisotropy:I,anisotropyMap:Ae,clearcoat:re,clearcoatMap:Te,clearcoatNormalMap:Ve,clearcoatRoughnessMap:Pe,dispersion:ae,iridescence:he,iridescenceMap:ze,iridescenceThicknessMap:st,sheen:de,sheenColorMap:We,sheenRoughnessMap:Le,specularMap:Oe,specularColorMap:rt,specularIntensityMap:vt,transmission:Je,transmissionMap:te,thicknessMap:Ne,gradientMap:me,opaque:R.transparent===!1&&R.blending===Tl&&R.alphaToCoverage===!1,alphaMap:Ee,alphaTest:Ge,alphaHash:Qe,combine:R.combine,mapUv:Ie&&x(R.map.channel),aoMapUv:pe&&x(R.aoMap.channel),lightMapUv:Me&&x(R.lightMap.channel),bumpMapUv:xe&&x(R.bumpMap.channel),normalMapUv:Se&&x(R.normalMap.channel),displacementMapUv:Be&&x(R.displacementMap.channel),emissiveMapUv:ve&&x(R.emissiveMap.channel),metalnessMapUv:Ue&&x(R.metalnessMap.channel),roughnessMapUv:H&&x(R.roughnessMap.channel),anisotropyMapUv:Ae&&x(R.anisotropyMap.channel),clearcoatMapUv:Te&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:Ve&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pe&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:ze&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:st&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:We&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:Le&&x(R.sheenRoughnessMap.channel),specularMapUv:Oe&&x(R.specularMap.channel),specularColorMapUv:rt&&x(R.specularColorMap.channel),specularIntensityMapUv:vt&&x(R.specularIntensityMap.channel),transmissionMapUv:te&&x(R.transmissionMap.channel),thicknessMapUv:Ne&&x(R.thicknessMap.channel),alphaMapUv:Ee&&x(R.alphaMap.channel),vertexTangents:!!Y.attributes.tangent&&(Se||I),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,pointsUvs:U.isPoints===!0&&!!Y.attributes.uv&&(Ie||Ee),fog:!!k,useFog:R.fog===!0,fogExp2:!!k&&k.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:U.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:J,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:yt,decodeVideoTexture:Ie&&R.map.isVideoTexture===!0&&jt.getTransfer(R.map.colorSpace)===sn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===rr,flipSided:R.side===Pi,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:it&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:it&&R.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return xt.vertexUv1s=c.has(1),xt.vertexUv2s=c.has(2),xt.vertexUv3s=c.has(3),c.clear(),xt}function g(R){const T=[];if(R.shaderID?T.push(R.shaderID):(T.push(R.customVertexShaderID),T.push(R.customFragmentShaderID)),R.defines!==void 0)for(const F in R.defines)T.push(F),T.push(R.defines[F]);return R.isRawShaderMaterial===!1&&(q(T,R),A(T,R),T.push(n.outputColorSpace)),T.push(R.customProgramCacheKey),T.join()}function q(R,T){R.push(T.precision),R.push(T.outputColorSpace),R.push(T.envMapMode),R.push(T.envMapCubeUVHeight),R.push(T.mapUv),R.push(T.alphaMapUv),R.push(T.lightMapUv),R.push(T.aoMapUv),R.push(T.bumpMapUv),R.push(T.normalMapUv),R.push(T.displacementMapUv),R.push(T.emissiveMapUv),R.push(T.metalnessMapUv),R.push(T.roughnessMapUv),R.push(T.anisotropyMapUv),R.push(T.clearcoatMapUv),R.push(T.clearcoatNormalMapUv),R.push(T.clearcoatRoughnessMapUv),R.push(T.iridescenceMapUv),R.push(T.iridescenceThicknessMapUv),R.push(T.sheenColorMapUv),R.push(T.sheenRoughnessMapUv),R.push(T.specularMapUv),R.push(T.specularColorMapUv),R.push(T.specularIntensityMapUv),R.push(T.transmissionMapUv),R.push(T.thicknessMapUv),R.push(T.combine),R.push(T.fogExp2),R.push(T.sizeAttenuation),R.push(T.morphTargetsCount),R.push(T.morphAttributeCount),R.push(T.numDirLights),R.push(T.numPointLights),R.push(T.numSpotLights),R.push(T.numSpotLightMaps),R.push(T.numHemiLights),R.push(T.numRectAreaLights),R.push(T.numDirLightShadows),R.push(T.numPointLightShadows),R.push(T.numSpotLightShadows),R.push(T.numSpotLightShadowsWithMaps),R.push(T.numLightProbes),R.push(T.shadowMapType),R.push(T.toneMapping),R.push(T.numClippingPlanes),R.push(T.numClipIntersection),R.push(T.depthPacking)}function A(R,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),R.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.skinning&&a.enable(4),T.morphTargets&&a.enable(5),T.morphNormals&&a.enable(6),T.morphColors&&a.enable(7),T.premultipliedAlpha&&a.enable(8),T.shadowMapEnabled&&a.enable(9),T.doubleSided&&a.enable(10),T.flipSided&&a.enable(11),T.useDepthPacking&&a.enable(12),T.dithering&&a.enable(13),T.transmission&&a.enable(14),T.sheen&&a.enable(15),T.opaque&&a.enable(16),T.pointsUvs&&a.enable(17),T.decodeVideoTexture&&a.enable(18),T.alphaToCoverage&&a.enable(19),R.push(a.mask)}function M(R){const T=v[R.type];let F;if(T){const L=vs[T];F=hg.clone(L.uniforms)}else F=R.uniforms;return F}function C(R,T){let F;for(let L=0,U=u.length;L<U;L++){const k=u[L];if(k.cacheKey===T){F=k,++F.usedTimes;break}}return F===void 0&&(F=new EI(n,T,R,s),u.push(F)),F}function w(R){if(--R.usedTimes===0){const T=u.indexOf(R);u[T]=u[u.length-1],u.pop(),R.destroy()}}function b(R){l.remove(R)}function P(){l.dispose()}return{getParameters:_,getProgramCacheKey:g,getUniforms:M,acquireProgram:C,releaseProgram:w,releaseShaderCache:b,programs:u,dispose:P}}function RI(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function PI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function yv(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function xv(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,x,_){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:x,group:_},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=x,g.group=_),e++,g}function a(d,p,m,v,x,_){const g=o(d,p,m,v,x,_);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,v,x,_){const g=o(d,p,m,v,x,_);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||PI),i.length>1&&i.sort(p||yv),r.length>1&&r.sort(p||yv)}function u(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function BI(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new xv,n.set(i,[o])):r>=s.length?(o=new xv,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function II(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new Ke};break;case"SpotLight":t={position:new W,direction:new W,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":t={color:new Ke,position:new W,halfWidth:new W,halfHeight:new W};break}return n[e.id]=t,t}}}function LI(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let DI=0;function UI(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function FI(n){const e=new II,t=LI(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new W);const r=new W,s=new ht,o=new ht;function a(c){let u=0,d=0,p=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let m=0,v=0,x=0,_=0,g=0,q=0,A=0,M=0,C=0,w=0,b=0;c.sort(UI);for(let R=0,T=c.length;R<T;R++){const F=c[R],L=F.color,U=F.intensity,k=F.distance,Y=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)u+=L.r*U,d+=L.g*U,p+=L.b*U;else if(F.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(F.sh.coefficients[X],U);b++}else if(F.isDirectionalLight){const X=e.get(F);if(X.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const ee=F.shadow,D=t.get(F);D.shadowBias=ee.bias,D.shadowNormalBias=ee.normalBias,D.shadowRadius=ee.radius,D.shadowMapSize=ee.mapSize,i.directionalShadow[m]=D,i.directionalShadowMap[m]=Y,i.directionalShadowMatrix[m]=F.shadow.matrix,q++}i.directional[m]=X,m++}else if(F.isSpotLight){const X=e.get(F);X.position.setFromMatrixPosition(F.matrixWorld),X.color.copy(L).multiplyScalar(U),X.distance=k,X.coneCos=Math.cos(F.angle),X.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),X.decay=F.decay,i.spot[x]=X;const ee=F.shadow;if(F.map&&(i.spotLightMap[C]=F.map,C++,ee.updateMatrices(F),F.castShadow&&w++),i.spotLightMatrix[x]=ee.matrix,F.castShadow){const D=t.get(F);D.shadowBias=ee.bias,D.shadowNormalBias=ee.normalBias,D.shadowRadius=ee.radius,D.shadowMapSize=ee.mapSize,i.spotShadow[x]=D,i.spotShadowMap[x]=Y,M++}x++}else if(F.isRectAreaLight){const X=e.get(F);X.color.copy(L).multiplyScalar(U),X.halfWidth.set(F.width*.5,0,0),X.halfHeight.set(0,F.height*.5,0),i.rectArea[_]=X,_++}else if(F.isPointLight){const X=e.get(F);if(X.color.copy(F.color).multiplyScalar(F.intensity),X.distance=F.distance,X.decay=F.decay,F.castShadow){const ee=F.shadow,D=t.get(F);D.shadowBias=ee.bias,D.shadowNormalBias=ee.normalBias,D.shadowRadius=ee.radius,D.shadowMapSize=ee.mapSize,D.shadowCameraNear=ee.camera.near,D.shadowCameraFar=ee.camera.far,i.pointShadow[v]=D,i.pointShadowMap[v]=Y,i.pointShadowMatrix[v]=F.shadow.matrix,A++}i.point[v]=X,v++}else if(F.isHemisphereLight){const X=e.get(F);X.skyColor.copy(F.color).multiplyScalar(U),X.groundColor.copy(F.groundColor).multiplyScalar(U),i.hemi[g]=X,g++}}_>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ze.LTC_FLOAT_1,i.rectAreaLTC2=Ze.LTC_FLOAT_2):(i.rectAreaLTC1=Ze.LTC_HALF_1,i.rectAreaLTC2=Ze.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=p;const P=i.hash;(P.directionalLength!==m||P.pointLength!==v||P.spotLength!==x||P.rectAreaLength!==_||P.hemiLength!==g||P.numDirectionalShadows!==q||P.numPointShadows!==A||P.numSpotShadows!==M||P.numSpotMaps!==C||P.numLightProbes!==b)&&(i.directional.length=m,i.spot.length=x,i.rectArea.length=_,i.point.length=v,i.hemi.length=g,i.directionalShadow.length=q,i.directionalShadowMap.length=q,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=q,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=M+C-w,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=w,i.numLightProbes=b,P.directionalLength=m,P.pointLength=v,P.spotLength=x,P.rectAreaLength=_,P.hemiLength=g,P.numDirectionalShadows=q,P.numPointShadows=A,P.numSpotShadows=M,P.numSpotMaps=C,P.numLightProbes=b,i.version=DI++)}function l(c,u){let d=0,p=0,m=0,v=0,x=0;const _=u.matrixWorldInverse;for(let g=0,q=c.length;g<q;g++){const A=c[g];if(A.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(_),d++}else if(A.isSpotLight){const M=i.spot[m];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(_),M.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(_),m++}else if(A.isRectAreaLight){const M=i.rectArea[v];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(_),o.identity(),s.copy(A.matrixWorld),s.premultiply(_),o.extractRotation(s),M.halfWidth.set(A.width*.5,0,0),M.halfHeight.set(0,A.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),v++}else if(A.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(_),p++}else if(A.isHemisphereLight){const M=i.hemi[x];M.direction.setFromMatrixPosition(A.matrixWorld),M.direction.transformDirection(_),x++}}}return{setup:a,setupView:l,state:i}}function qv(n){const e=new FI(n),t=[],i=[];function r(u){c.camera=u,t.length=0,i.length=0}function s(u){t.push(u)}function o(u){i.push(u)}function a(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function OI(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new qv(n),e.set(r,[a])):s>=o.length?(a=new qv(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}class Q0 extends Hn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=AA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Z0 extends Hn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const NI=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,kI=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zI(n,e,t){let i=new ld;const r=new Re,s=new Re,o=new zt,a=new Q0({depthPacking:ig}),l=new Z0,c={},u=t.maxTextureSize,d={[qs]:Pi,[Pi]:qs,[rr]:rr},p=new ns({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Re},radius:{value:4}},vertexShader:NI,fragmentShader:kI}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new At;v.setAttribute("position",new Ut(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new fn(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=H0;let g=this.type;this.render=function(w,b,P){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),T=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),L=n.state;L.setBlending(ks),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const U=g!==ds&&this.type===ds,k=g===ds&&this.type!==ds;for(let Y=0,X=w.length;Y<X;Y++){const ee=w[Y],D=ee.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const G=D.getFrameExtents();if(r.multiply(G),s.copy(D.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/G.x),r.x=s.x*G.x,D.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/G.y),r.y=s.y*G.y,D.mapSize.y=s.y)),D.map===null||U===!0||k===!0){const O=this.type!==ds?{minFilter:Dn,magFilter:Dn}:{};D.map!==null&&D.map.dispose(),D.map=new ur(r.x,r.y,O),D.map.texture.name=ee.name+".shadowMap",D.camera.updateProjectionMatrix()}n.setRenderTarget(D.map),n.clear();const N=D.getViewportCount();for(let O=0;O<N;O++){const J=D.getViewport(O);o.set(s.x*J.x,s.y*J.y,s.x*J.z,s.y*J.w),L.viewport(o),D.updateMatrices(ee,O),i=D.getFrustum(),M(b,P,D.camera,ee,this.type)}D.isPointLightShadow!==!0&&this.type===ds&&q(D,P),D.needsUpdate=!1}g=this.type,_.needsUpdate=!1,n.setRenderTarget(R,T,F)};function q(w,b){const P=e.update(x);p.defines.VSM_SAMPLES!==w.blurSamples&&(p.defines.VSM_SAMPLES=w.blurSamples,m.defines.VSM_SAMPLES=w.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new ur(r.x,r.y)),p.uniforms.shadow_pass.value=w.map.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(b,null,P,p,x,null),m.uniforms.shadow_pass.value=w.mapPass.texture,m.uniforms.resolution.value=w.mapSize,m.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(b,null,P,m,x,null)}function A(w,b,P,R){let T=null;const F=P.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(F!==void 0)T=F;else if(T=P.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const L=T.uuid,U=b.uuid;let k=c[L];k===void 0&&(k={},c[L]=k);let Y=k[U];Y===void 0&&(Y=T.clone(),k[U]=Y,b.addEventListener("dispose",C)),T=Y}if(T.visible=b.visible,T.wireframe=b.wireframe,R===ds?T.side=b.shadowSide!==null?b.shadowSide:b.side:T.side=b.shadowSide!==null?b.shadowSide:d[b.side],T.alphaMap=b.alphaMap,T.alphaTest=b.alphaTest,T.map=b.map,T.clipShadows=b.clipShadows,T.clippingPlanes=b.clippingPlanes,T.clipIntersection=b.clipIntersection,T.displacementMap=b.displacementMap,T.displacementScale=b.displacementScale,T.displacementBias=b.displacementBias,T.wireframeLinewidth=b.wireframeLinewidth,T.linewidth=b.linewidth,P.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const L=n.properties.get(T);L.light=P}return T}function M(w,b,P,R,T){if(w.visible===!1)return;if(w.layers.test(b.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&T===ds)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,w.matrixWorld);const U=e.update(w),k=w.material;if(Array.isArray(k)){const Y=U.groups;for(let X=0,ee=Y.length;X<ee;X++){const D=Y[X],G=k[D.materialIndex];if(G&&G.visible){const N=A(w,G,R,T);w.onBeforeShadow(n,w,b,P,U,N,D),n.renderBufferDirect(P,null,U,N,w,D),w.onAfterShadow(n,w,b,P,U,N,D)}}}else if(k.visible){const Y=A(w,k,R,T);w.onBeforeShadow(n,w,b,P,U,Y,null),n.renderBufferDirect(P,null,U,Y,w,null),w.onAfterShadow(n,w,b,P,U,Y,null)}}const L=w.children;for(let U=0,k=L.length;U<k;U++)M(L[U],b,P,R,T)}function C(w){w.target.removeEventListener("dispose",C);for(const P in c){const R=c[P],T=w.target.uuid;T in R&&(R[T].dispose(),delete R[T])}}}function GI(n){function e(){let te=!1;const Ne=new zt;let me=null;const Ee=new zt(0,0,0,0);return{setMask:function(Ge){me!==Ge&&!te&&(n.colorMask(Ge,Ge,Ge,Ge),me=Ge)},setLocked:function(Ge){te=Ge},setClear:function(Ge,Qe,it,yt,xt){xt===!0&&(Ge*=yt,Qe*=yt,it*=yt),Ne.set(Ge,Qe,it,yt),Ee.equals(Ne)===!1&&(n.clearColor(Ge,Qe,it,yt),Ee.copy(Ne))},reset:function(){te=!1,me=null,Ee.set(-1,0,0,0)}}}function t(){let te=!1,Ne=null,me=null,Ee=null;return{setTest:function(Ge){Ge?ie(n.DEPTH_TEST):$(n.DEPTH_TEST)},setMask:function(Ge){Ne!==Ge&&!te&&(n.depthMask(Ge),Ne=Ge)},setFunc:function(Ge){if(me!==Ge){switch(Ge){case jq:n.depthFunc(n.NEVER);break;case Jq:n.depthFunc(n.ALWAYS);break;case Yq:n.depthFunc(n.LESS);break;case Of:n.depthFunc(n.LEQUAL);break;case Kq:n.depthFunc(n.EQUAL);break;case Qq:n.depthFunc(n.GEQUAL);break;case Zq:n.depthFunc(n.GREATER);break;case $q:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}me=Ge}},setLocked:function(Ge){te=Ge},setClear:function(Ge){Ee!==Ge&&(n.clearDepth(Ge),Ee=Ge)},reset:function(){te=!1,Ne=null,me=null,Ee=null}}}function i(){let te=!1,Ne=null,me=null,Ee=null,Ge=null,Qe=null,it=null,yt=null,xt=null;return{setTest:function(tt){te||(tt?ie(n.STENCIL_TEST):$(n.STENCIL_TEST))},setMask:function(tt){Ne!==tt&&!te&&(n.stencilMask(tt),Ne=tt)},setFunc:function(tt,Lt,Yt){(me!==tt||Ee!==Lt||Ge!==Yt)&&(n.stencilFunc(tt,Lt,Yt),me=tt,Ee=Lt,Ge=Yt)},setOp:function(tt,Lt,Yt){(Qe!==tt||it!==Lt||yt!==Yt)&&(n.stencilOp(tt,Lt,Yt),Qe=tt,it=Lt,yt=Yt)},setLocked:function(tt){te=tt},setClear:function(tt){xt!==tt&&(n.clearStencil(tt),xt=tt)},reset:function(){te=!1,Ne=null,me=null,Ee=null,Ge=null,Qe=null,it=null,yt=null,xt=null}}}const r=new e,s=new t,o=new i,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,p=[],m=null,v=!1,x=null,_=null,g=null,q=null,A=null,M=null,C=null,w=new Ke(0,0,0),b=0,P=!1,R=null,T=null,F=null,L=null,U=null;const k=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,X=0;const ee=n.getParameter(n.VERSION);ee.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(ee)[1]),Y=X>=1):ee.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),Y=X>=2);let D=null,G={};const N=n.getParameter(n.SCISSOR_BOX),O=n.getParameter(n.VIEWPORT),J=new zt().fromArray(N),Z=new zt().fromArray(O);function j(te,Ne,me,Ee){const Ge=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(te,Qe),n.texParameteri(te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let it=0;it<me;it++)te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY?n.texImage3D(Ne,0,n.RGBA,1,1,Ee,0,n.RGBA,n.UNSIGNED_BYTE,Ge):n.texImage2D(Ne+it,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ge);return Qe}const Q={};Q[n.TEXTURE_2D]=j(n.TEXTURE_2D,n.TEXTURE_2D,1),Q[n.TEXTURE_CUBE_MAP]=j(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Q[n.TEXTURE_2D_ARRAY]=j(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Q[n.TEXTURE_3D]=j(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ie(n.DEPTH_TEST),s.setFunc(Of),xe(!1),Se(K4),ie(n.CULL_FACE),pe(ks);function ie(te){c[te]!==!0&&(n.enable(te),c[te]=!0)}function $(te){c[te]!==!1&&(n.disable(te),c[te]=!1)}function ge(te,Ne){return u[te]!==Ne?(n.bindFramebuffer(te,Ne),u[te]=Ne,te===n.DRAW_FRAMEBUFFER&&(u[n.FRAMEBUFFER]=Ne),te===n.FRAMEBUFFER&&(u[n.DRAW_FRAMEBUFFER]=Ne),!0):!1}function De(te,Ne){let me=p,Ee=!1;if(te){me=d.get(Ne),me===void 0&&(me=[],d.set(Ne,me));const Ge=te.textures;if(me.length!==Ge.length||me[0]!==n.COLOR_ATTACHMENT0){for(let Qe=0,it=Ge.length;Qe<it;Qe++)me[Qe]=n.COLOR_ATTACHMENT0+Qe;me.length=Ge.length,Ee=!0}}else me[0]!==n.BACK&&(me[0]=n.BACK,Ee=!0);Ee&&n.drawBuffers(me)}function Ie(te){return m!==te?(n.useProgram(te),m=te,!0):!1}const z={[ta]:n.FUNC_ADD,[Rq]:n.FUNC_SUBTRACT,[Pq]:n.FUNC_REVERSE_SUBTRACT};z[Bq]=n.MIN,z[Iq]=n.MAX;const ne={[Lq]:n.ZERO,[Dq]:n.ONE,[Uq]:n.SRC_COLOR,[x0]:n.SRC_ALPHA,[Gq]:n.SRC_ALPHA_SATURATE,[kq]:n.DST_COLOR,[Oq]:n.DST_ALPHA,[Fq]:n.ONE_MINUS_SRC_COLOR,[q0]:n.ONE_MINUS_SRC_ALPHA,[zq]:n.ONE_MINUS_DST_COLOR,[Nq]:n.ONE_MINUS_DST_ALPHA,[Hq]:n.CONSTANT_COLOR,[Vq]:n.ONE_MINUS_CONSTANT_COLOR,[Wq]:n.CONSTANT_ALPHA,[Xq]:n.ONE_MINUS_CONSTANT_ALPHA};function pe(te,Ne,me,Ee,Ge,Qe,it,yt,xt,tt){if(te===ks){v===!0&&($(n.BLEND),v=!1);return}if(v===!1&&(ie(n.BLEND),v=!0),te!==bq){if(te!==x||tt!==P){if((_!==ta||A!==ta)&&(n.blendEquation(n.FUNC_ADD),_=ta,A=ta),tt)switch(te){case Tl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Q4:n.blendFunc(n.ONE,n.ONE);break;case Z4:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Tl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Q4:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Z4:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}g=null,q=null,M=null,C=null,w.set(0,0,0),b=0,x=te,P=tt}return}Ge=Ge||Ne,Qe=Qe||me,it=it||Ee,(Ne!==_||Ge!==A)&&(n.blendEquationSeparate(z[Ne],z[Ge]),_=Ne,A=Ge),(me!==g||Ee!==q||Qe!==M||it!==C)&&(n.blendFuncSeparate(ne[me],ne[Ee],ne[Qe],ne[it]),g=me,q=Ee,M=Qe,C=it),(yt.equals(w)===!1||xt!==b)&&(n.blendColor(yt.r,yt.g,yt.b,xt),w.copy(yt),b=xt),x=te,P=!1}function Me(te,Ne){te.side===rr?$(n.CULL_FACE):ie(n.CULL_FACE);let me=te.side===Pi;Ne&&(me=!me),xe(me),te.blending===Tl&&te.transparent===!1?pe(ks):pe(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),s.setFunc(te.depthFunc),s.setTest(te.depthTest),s.setMask(te.depthWrite),r.setMask(te.colorWrite);const Ee=te.stencilWrite;o.setTest(Ee),Ee&&(o.setMask(te.stencilWriteMask),o.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),o.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),ve(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?ie(n.SAMPLE_ALPHA_TO_COVERAGE):$(n.SAMPLE_ALPHA_TO_COVERAGE)}function xe(te){R!==te&&(te?n.frontFace(n.CW):n.frontFace(n.CCW),R=te)}function Se(te){te!==wq?(ie(n.CULL_FACE),te!==T&&(te===K4?n.cullFace(n.BACK):te===Cq?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):$(n.CULL_FACE),T=te}function Be(te){te!==F&&(Y&&n.lineWidth(te),F=te)}function ve(te,Ne,me){te?(ie(n.POLYGON_OFFSET_FILL),(L!==Ne||U!==me)&&(n.polygonOffset(Ne,me),L=Ne,U=me)):$(n.POLYGON_OFFSET_FILL)}function Ue(te){te?ie(n.SCISSOR_TEST):$(n.SCISSOR_TEST)}function H(te){te===void 0&&(te=n.TEXTURE0+k-1),D!==te&&(n.activeTexture(te),D=te)}function I(te,Ne,me){me===void 0&&(D===null?me=n.TEXTURE0+k-1:me=D);let Ee=G[me];Ee===void 0&&(Ee={type:void 0,texture:void 0},G[me]=Ee),(Ee.type!==te||Ee.texture!==Ne)&&(D!==me&&(n.activeTexture(me),D=me),n.bindTexture(te,Ne||Q[te]),Ee.type=te,Ee.texture=Ne)}function re(){const te=G[D];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function he(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function de(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Je(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ae(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Te(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ve(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Pe(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ze(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function st(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function We(te){J.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),J.copy(te))}function Le(te){Z.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),Z.copy(te))}function Oe(te,Ne){let me=l.get(Ne);me===void 0&&(me=new WeakMap,l.set(Ne,me));let Ee=me.get(te);Ee===void 0&&(Ee=n.getUniformBlockIndex(Ne,te.name),me.set(te,Ee))}function rt(te,Ne){const Ee=l.get(Ne).get(te);a.get(Ne)!==Ee&&(n.uniformBlockBinding(Ne,Ee,te.__bindingPointIndex),a.set(Ne,Ee))}function vt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},D=null,G={},u={},d=new WeakMap,p=[],m=null,v=!1,x=null,_=null,g=null,q=null,A=null,M=null,C=null,w=new Ke(0,0,0),b=0,P=!1,R=null,T=null,F=null,L=null,U=null,J.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:ie,disable:$,bindFramebuffer:ge,drawBuffers:De,useProgram:Ie,setBlending:pe,setMaterial:Me,setFlipSided:xe,setCullFace:Se,setLineWidth:Be,setPolygonOffset:ve,setScissorTest:Ue,activeTexture:H,bindTexture:I,unbindTexture:re,compressedTexImage2D:ae,compressedTexImage3D:he,texImage2D:ze,texImage3D:st,updateUBOMapping:Oe,uniformBlockBinding:rt,texStorage2D:Ve,texStorage3D:Pe,texSubImage2D:de,texSubImage3D:Je,compressedTexSubImage2D:Ae,compressedTexSubImage3D:Te,scissor:We,viewport:Le,reset:vt}}function HI(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Re,u=new WeakMap;let d;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(H,I){return m?new OffscreenCanvas(H,I):jf("canvas")}function x(H,I,re){let ae=1;const he=Ue(H);if((he.width>re||he.height>re)&&(ae=re/Math.max(he.width,he.height)),ae<1)if(typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&H instanceof ImageBitmap||typeof VideoFrame<"u"&&H instanceof VideoFrame){const de=Math.floor(ae*he.width),Je=Math.floor(ae*he.height);d===void 0&&(d=v(de,Je));const Ae=I?v(de,Je):d;return Ae.width=de,Ae.height=Je,Ae.getContext("2d").drawImage(H,0,0,de,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+he.width+"x"+he.height+") to ("+de+"x"+Je+")."),Ae}else return"data"in H&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+he.width+"x"+he.height+")."),H;return H}function _(H){return H.generateMipmaps&&H.minFilter!==Dn&&H.minFilter!==$t}function g(H){n.generateMipmap(H)}function q(H,I,re,ae,he=!1){if(H!==null){if(n[H]!==void 0)return n[H];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+H+"'")}let de=I;if(I===n.RED&&(re===n.FLOAT&&(de=n.R32F),re===n.HALF_FLOAT&&(de=n.R16F),re===n.UNSIGNED_BYTE&&(de=n.R8)),I===n.RED_INTEGER&&(re===n.UNSIGNED_BYTE&&(de=n.R8UI),re===n.UNSIGNED_SHORT&&(de=n.R16UI),re===n.UNSIGNED_INT&&(de=n.R32UI),re===n.BYTE&&(de=n.R8I),re===n.SHORT&&(de=n.R16I),re===n.INT&&(de=n.R32I)),I===n.RG&&(re===n.FLOAT&&(de=n.RG32F),re===n.HALF_FLOAT&&(de=n.RG16F),re===n.UNSIGNED_BYTE&&(de=n.RG8)),I===n.RG_INTEGER&&(re===n.UNSIGNED_BYTE&&(de=n.RG8UI),re===n.UNSIGNED_SHORT&&(de=n.RG16UI),re===n.UNSIGNED_INT&&(de=n.RG32UI),re===n.BYTE&&(de=n.RG8I),re===n.SHORT&&(de=n.RG16I),re===n.INT&&(de=n.RG32I)),I===n.RGB&&re===n.UNSIGNED_INT_5_9_9_9_REV&&(de=n.RGB9_E5),I===n.RGBA){const Je=he?Gf:jt.getTransfer(ae);re===n.FLOAT&&(de=n.RGBA32F),re===n.HALF_FLOAT&&(de=n.RGBA16F),re===n.UNSIGNED_BYTE&&(de=Je===sn?n.SRGB8_ALPHA8:n.RGBA8),re===n.UNSIGNED_SHORT_4_4_4_4&&(de=n.RGBA4),re===n.UNSIGNED_SHORT_5_5_5_1&&(de=n.RGB5_A1)}return(de===n.R16F||de===n.R32F||de===n.RG16F||de===n.RG32F||de===n.RGBA16F||de===n.RGBA32F)&&e.get("EXT_color_buffer_float"),de}function A(H,I){let re;return H?I===null||I===Ol||I===Nl?re=n.DEPTH24_STENCIL8:I===Cr?re=n.DEPTH32F_STENCIL8:I===Bu&&(re=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):I===null||I===Ol||I===Nl?re=n.DEPTH_COMPONENT24:I===Cr?re=n.DEPTH_COMPONENT32F:I===Bu&&(re=n.DEPTH_COMPONENT16),re}function M(H,I){return _(H)===!0||H.isFramebufferTexture&&H.minFilter!==Dn&&H.minFilter!==$t?Math.log2(Math.max(I.width,I.height))+1:H.mipmaps!==void 0&&H.mipmaps.length>0?H.mipmaps.length:H.isCompressedTexture&&Array.isArray(H.image)?I.mipmaps.length:1}function C(H){const I=H.target;I.removeEventListener("dispose",C),b(I),I.isVideoTexture&&u.delete(I)}function w(H){const I=H.target;I.removeEventListener("dispose",w),R(I)}function b(H){const I=i.get(H);if(I.__webglInit===void 0)return;const re=H.source,ae=p.get(re);if(ae){const he=ae[I.__cacheKey];he.usedTimes--,he.usedTimes===0&&P(H),Object.keys(ae).length===0&&p.delete(re)}i.remove(H)}function P(H){const I=i.get(H);n.deleteTexture(I.__webglTexture);const re=H.source,ae=p.get(re);delete ae[I.__cacheKey],o.memory.textures--}function R(H){const I=i.get(H);if(H.depthTexture&&H.depthTexture.dispose(),H.isWebGLCubeRenderTarget)for(let ae=0;ae<6;ae++){if(Array.isArray(I.__webglFramebuffer[ae]))for(let he=0;he<I.__webglFramebuffer[ae].length;he++)n.deleteFramebuffer(I.__webglFramebuffer[ae][he]);else n.deleteFramebuffer(I.__webglFramebuffer[ae]);I.__webglDepthbuffer&&n.deleteRenderbuffer(I.__webglDepthbuffer[ae])}else{if(Array.isArray(I.__webglFramebuffer))for(let ae=0;ae<I.__webglFramebuffer.length;ae++)n.deleteFramebuffer(I.__webglFramebuffer[ae]);else n.deleteFramebuffer(I.__webglFramebuffer);if(I.__webglDepthbuffer&&n.deleteRenderbuffer(I.__webglDepthbuffer),I.__webglMultisampledFramebuffer&&n.deleteFramebuffer(I.__webglMultisampledFramebuffer),I.__webglColorRenderbuffer)for(let ae=0;ae<I.__webglColorRenderbuffer.length;ae++)I.__webglColorRenderbuffer[ae]&&n.deleteRenderbuffer(I.__webglColorRenderbuffer[ae]);I.__webglDepthRenderbuffer&&n.deleteRenderbuffer(I.__webglDepthRenderbuffer)}const re=H.textures;for(let ae=0,he=re.length;ae<he;ae++){const de=i.get(re[ae]);de.__webglTexture&&(n.deleteTexture(de.__webglTexture),o.memory.textures--),i.remove(re[ae])}i.remove(H)}let T=0;function F(){T=0}function L(){const H=T;return H>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+H+" texture units while this GPU supports only "+r.maxTextures),T+=1,H}function U(H){const I=[];return I.push(H.wrapS),I.push(H.wrapT),I.push(H.wrapR||0),I.push(H.magFilter),I.push(H.minFilter),I.push(H.anisotropy),I.push(H.internalFormat),I.push(H.format),I.push(H.type),I.push(H.generateMipmaps),I.push(H.premultiplyAlpha),I.push(H.flipY),I.push(H.unpackAlignment),I.push(H.colorSpace),I.join()}function k(H,I){const re=i.get(H);if(H.isVideoTexture&&Be(H),H.isRenderTargetTexture===!1&&H.version>0&&re.__version!==H.version){const ae=H.image;if(ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(re,H,I);return}}t.bindTexture(n.TEXTURE_2D,re.__webglTexture,n.TEXTURE0+I)}function Y(H,I){const re=i.get(H);if(H.version>0&&re.__version!==H.version){Z(re,H,I);return}t.bindTexture(n.TEXTURE_2D_ARRAY,re.__webglTexture,n.TEXTURE0+I)}function X(H,I){const re=i.get(H);if(H.version>0&&re.__version!==H.version){Z(re,H,I);return}t.bindTexture(n.TEXTURE_3D,re.__webglTexture,n.TEXTURE0+I)}function ee(H,I){const re=i.get(H);if(H.version>0&&re.__version!==H.version){j(re,H,I);return}t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+I)}const D={[xa]:n.REPEAT,[wr]:n.CLAMP_TO_EDGE,[Pu]:n.MIRRORED_REPEAT},G={[Dn]:n.NEAREST,[W0]:n.NEAREST_MIPMAP_NEAREST,[yl]:n.NEAREST_MIPMAP_LINEAR,[$t]:n.LINEAR,[qu]:n.LINEAR_MIPMAP_NEAREST,[Zr]:n.LINEAR_MIPMAP_LINEAR},N={[MA]:n.NEVER,[RA]:n.ALWAYS,[EA]:n.LESS,[rg]:n.LEQUAL,[wA]:n.EQUAL,[bA]:n.GEQUAL,[CA]:n.GREATER,[TA]:n.NOTEQUAL};function O(H,I){if(I.type===Cr&&e.has("OES_texture_float_linear")===!1&&(I.magFilter===$t||I.magFilter===qu||I.magFilter===yl||I.magFilter===Zr||I.minFilter===$t||I.minFilter===qu||I.minFilter===yl||I.minFilter===Zr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(H,n.TEXTURE_WRAP_S,D[I.wrapS]),n.texParameteri(H,n.TEXTURE_WRAP_T,D[I.wrapT]),(H===n.TEXTURE_3D||H===n.TEXTURE_2D_ARRAY)&&n.texParameteri(H,n.TEXTURE_WRAP_R,D[I.wrapR]),n.texParameteri(H,n.TEXTURE_MAG_FILTER,G[I.magFilter]),n.texParameteri(H,n.TEXTURE_MIN_FILTER,G[I.minFilter]),I.compareFunction&&(n.texParameteri(H,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(H,n.TEXTURE_COMPARE_FUNC,N[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(I.magFilter===Dn||I.minFilter!==yl&&I.minFilter!==Zr||I.type===Cr&&e.has("OES_texture_float_linear")===!1)return;if(I.anisotropy>1||i.get(I).__currentAnisotropy){const re=e.get("EXT_texture_filter_anisotropic");n.texParameterf(H,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy}}}function J(H,I){let re=!1;H.__webglInit===void 0&&(H.__webglInit=!0,I.addEventListener("dispose",C));const ae=I.source;let he=p.get(ae);he===void 0&&(he={},p.set(ae,he));const de=U(I);if(de!==H.__cacheKey){he[de]===void 0&&(he[de]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,re=!0),he[de].usedTimes++;const Je=he[H.__cacheKey];Je!==void 0&&(he[H.__cacheKey].usedTimes--,Je.usedTimes===0&&P(I)),H.__cacheKey=de,H.__webglTexture=he[de].texture}return re}function Z(H,I,re){let ae=n.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(ae=n.TEXTURE_2D_ARRAY),I.isData3DTexture&&(ae=n.TEXTURE_3D);const he=J(H,I),de=I.source;t.bindTexture(ae,H.__webglTexture,n.TEXTURE0+re);const Je=i.get(de);if(de.version!==Je.__version||he===!0){t.activeTexture(n.TEXTURE0+re);const Ae=jt.getPrimaries(jt.workingColorSpace),Te=I.colorSpace===uo?null:jt.getPrimaries(I.colorSpace),Ve=I.colorSpace===uo||Ae===Te?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ve);let Pe=x(I.image,!1,r.maxTextureSize);Pe=ve(I,Pe);const ze=s.convert(I.format,I.colorSpace),st=s.convert(I.type);let We=q(I.internalFormat,ze,st,I.colorSpace,I.isVideoTexture);O(ae,I);let Le;const Oe=I.mipmaps,rt=I.isVideoTexture!==!0,vt=Je.__version===void 0||he===!0,te=de.dataReady,Ne=M(I,Pe);if(I.isDepthTexture)We=A(I.format===kl,I.type),vt&&(rt?t.texStorage2D(n.TEXTURE_2D,1,We,Pe.width,Pe.height):t.texImage2D(n.TEXTURE_2D,0,We,Pe.width,Pe.height,0,ze,st,null));else if(I.isDataTexture)if(Oe.length>0){rt&&vt&&t.texStorage2D(n.TEXTURE_2D,Ne,We,Oe[0].width,Oe[0].height);for(let me=0,Ee=Oe.length;me<Ee;me++)Le=Oe[me],rt?te&&t.texSubImage2D(n.TEXTURE_2D,me,0,0,Le.width,Le.height,ze,st,Le.data):t.texImage2D(n.TEXTURE_2D,me,We,Le.width,Le.height,0,ze,st,Le.data);I.generateMipmaps=!1}else rt?(vt&&t.texStorage2D(n.TEXTURE_2D,Ne,We,Pe.width,Pe.height),te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Pe.width,Pe.height,ze,st,Pe.data)):t.texImage2D(n.TEXTURE_2D,0,We,Pe.width,Pe.height,0,ze,st,Pe.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){rt&&vt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ne,We,Oe[0].width,Oe[0].height,Pe.depth);for(let me=0,Ee=Oe.length;me<Ee;me++)if(Le=Oe[me],I.format!==Wi)if(ze!==null)if(rt){if(te)if(I.layerUpdates.size>0){for(const Ge of I.layerUpdates){const Qe=Le.width*Le.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,Ge,Le.width,Le.height,1,ze,Le.data.slice(Qe*Ge,Qe*(Ge+1)),0,0)}I.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Le.width,Le.height,Pe.depth,ze,Le.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,me,We,Le.width,Le.height,Pe.depth,0,Le.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else rt?te&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Le.width,Le.height,Pe.depth,ze,st,Le.data):t.texImage3D(n.TEXTURE_2D_ARRAY,me,We,Le.width,Le.height,Pe.depth,0,ze,st,Le.data)}else{rt&&vt&&t.texStorage2D(n.TEXTURE_2D,Ne,We,Oe[0].width,Oe[0].height);for(let me=0,Ee=Oe.length;me<Ee;me++)Le=Oe[me],I.format!==Wi?ze!==null?rt?te&&t.compressedTexSubImage2D(n.TEXTURE_2D,me,0,0,Le.width,Le.height,ze,Le.data):t.compressedTexImage2D(n.TEXTURE_2D,me,We,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?te&&t.texSubImage2D(n.TEXTURE_2D,me,0,0,Le.width,Le.height,ze,st,Le.data):t.texImage2D(n.TEXTURE_2D,me,We,Le.width,Le.height,0,ze,st,Le.data)}else if(I.isDataArrayTexture)if(rt){if(vt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ne,We,Pe.width,Pe.height,Pe.depth),te)if(I.layerUpdates.size>0){let me;switch(st){case n.UNSIGNED_BYTE:switch(ze){case n.ALPHA:me=1;break;case n.LUMINANCE:me=1;break;case n.LUMINANCE_ALPHA:me=2;break;case n.RGB:me=3;break;case n.RGBA:me=4;break;default:throw new Error(`Unknown texel size for format ${ze}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:me=1;break;default:throw new Error(`Unknown texel size for type ${st}.`)}const Ee=Pe.width*Pe.height*me;for(const Ge of I.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ge,Pe.width,Pe.height,1,ze,st,Pe.data.slice(Ee*Ge,Ee*(Ge+1)));I.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,ze,st,Pe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,We,Pe.width,Pe.height,Pe.depth,0,ze,st,Pe.data);else if(I.isData3DTexture)rt?(vt&&t.texStorage3D(n.TEXTURE_3D,Ne,We,Pe.width,Pe.height,Pe.depth),te&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,ze,st,Pe.data)):t.texImage3D(n.TEXTURE_3D,0,We,Pe.width,Pe.height,Pe.depth,0,ze,st,Pe.data);else if(I.isFramebufferTexture){if(vt)if(rt)t.texStorage2D(n.TEXTURE_2D,Ne,We,Pe.width,Pe.height);else{let me=Pe.width,Ee=Pe.height;for(let Ge=0;Ge<Ne;Ge++)t.texImage2D(n.TEXTURE_2D,Ge,We,me,Ee,0,ze,st,null),me>>=1,Ee>>=1}}else if(Oe.length>0){if(rt&&vt){const me=Ue(Oe[0]);t.texStorage2D(n.TEXTURE_2D,Ne,We,me.width,me.height)}for(let me=0,Ee=Oe.length;me<Ee;me++)Le=Oe[me],rt?te&&t.texSubImage2D(n.TEXTURE_2D,me,0,0,ze,st,Le):t.texImage2D(n.TEXTURE_2D,me,We,ze,st,Le);I.generateMipmaps=!1}else if(rt){if(vt){const me=Ue(Pe);t.texStorage2D(n.TEXTURE_2D,Ne,We,me.width,me.height)}te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ze,st,Pe)}else t.texImage2D(n.TEXTURE_2D,0,We,ze,st,Pe);_(I)&&g(ae),Je.__version=de.version,I.onUpdate&&I.onUpdate(I)}H.__version=I.version}function j(H,I,re){if(I.image.length!==6)return;const ae=J(H,I),he=I.source;t.bindTexture(n.TEXTURE_CUBE_MAP,H.__webglTexture,n.TEXTURE0+re);const de=i.get(he);if(he.version!==de.__version||ae===!0){t.activeTexture(n.TEXTURE0+re);const Je=jt.getPrimaries(jt.workingColorSpace),Ae=I.colorSpace===uo?null:jt.getPrimaries(I.colorSpace),Te=I.colorSpace===uo||Je===Ae?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const Ve=I.isCompressedTexture||I.image[0].isCompressedTexture,Pe=I.image[0]&&I.image[0].isDataTexture,ze=[];for(let Ee=0;Ee<6;Ee++)!Ve&&!Pe?ze[Ee]=x(I.image[Ee],!0,r.maxCubemapSize):ze[Ee]=Pe?I.image[Ee].image:I.image[Ee],ze[Ee]=ve(I,ze[Ee]);const st=ze[0],We=s.convert(I.format,I.colorSpace),Le=s.convert(I.type),Oe=q(I.internalFormat,We,Le,I.colorSpace),rt=I.isVideoTexture!==!0,vt=de.__version===void 0||ae===!0,te=he.dataReady;let Ne=M(I,st);O(n.TEXTURE_CUBE_MAP,I);let me;if(Ve){rt&&vt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ne,Oe,st.width,st.height);for(let Ee=0;Ee<6;Ee++){me=ze[Ee].mipmaps;for(let Ge=0;Ge<me.length;Ge++){const Qe=me[Ge];I.format!==Wi?We!==null?rt?te&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge,0,0,Qe.width,Qe.height,We,Qe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge,Oe,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge,0,0,Qe.width,Qe.height,We,Le,Qe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge,Oe,Qe.width,Qe.height,0,We,Le,Qe.data)}}}else{if(me=I.mipmaps,rt&&vt){me.length>0&&Ne++;const Ee=Ue(ze[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ne,Oe,Ee.width,Ee.height)}for(let Ee=0;Ee<6;Ee++)if(Pe){rt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,ze[Ee].width,ze[Ee].height,We,Le,ze[Ee].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,Oe,ze[Ee].width,ze[Ee].height,0,We,Le,ze[Ee].data);for(let Ge=0;Ge<me.length;Ge++){const it=me[Ge].image[Ee].image;rt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge+1,0,0,it.width,it.height,We,Le,it.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge+1,Oe,it.width,it.height,0,We,Le,it.data)}}else{rt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,We,Le,ze[Ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,Oe,We,Le,ze[Ee]);for(let Ge=0;Ge<me.length;Ge++){const Qe=me[Ge];rt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge+1,0,0,We,Le,Qe.image[Ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ge+1,Oe,We,Le,Qe.image[Ee])}}}_(I)&&g(n.TEXTURE_CUBE_MAP),de.__version=he.version,I.onUpdate&&I.onUpdate(I)}H.__version=I.version}function Q(H,I,re,ae,he,de){const Je=s.convert(re.format,re.colorSpace),Ae=s.convert(re.type),Te=q(re.internalFormat,Je,Ae,re.colorSpace);if(!i.get(I).__hasExternalTextures){const Pe=Math.max(1,I.width>>de),ze=Math.max(1,I.height>>de);he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY?t.texImage3D(he,de,Te,Pe,ze,I.depth,0,Je,Ae,null):t.texImage2D(he,de,Te,Pe,ze,0,Je,Ae,null)}t.bindFramebuffer(n.FRAMEBUFFER,H),Se(I)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ae,he,i.get(re).__webglTexture,0,xe(I)):(he===n.TEXTURE_2D||he>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&he<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ae,he,i.get(re).__webglTexture,de),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ie(H,I,re){if(n.bindRenderbuffer(n.RENDERBUFFER,H),I.depthBuffer){const ae=I.depthTexture,he=ae&&ae.isDepthTexture?ae.type:null,de=A(I.stencilBuffer,he),Je=I.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ae=xe(I);Se(I)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ae,de,I.width,I.height):re?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ae,de,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,de,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Je,n.RENDERBUFFER,H)}else{const ae=I.textures;for(let he=0;he<ae.length;he++){const de=ae[he],Je=s.convert(de.format,de.colorSpace),Ae=s.convert(de.type),Te=q(de.internalFormat,Je,Ae,de.colorSpace),Ve=xe(I);re&&Se(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ve,Te,I.width,I.height):Se(I)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ve,Te,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,Te,I.width,I.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function $(H,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,H),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),k(I.depthTexture,0);const ae=i.get(I.depthTexture).__webglTexture,he=xe(I);if(I.depthTexture.format===pa)Se(I)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ae,0,he):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ae,0);else if(I.depthTexture.format===kl)Se(I)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ae,0,he):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ae,0);else throw new Error("Unknown depthTexture format")}function ge(H){const I=i.get(H),re=H.isWebGLCubeRenderTarget===!0;if(H.depthTexture&&!I.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");$(I.__webglFramebuffer,H)}else if(re){I.__webglDepthbuffer=[];for(let ae=0;ae<6;ae++)t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer[ae]),I.__webglDepthbuffer[ae]=n.createRenderbuffer(),ie(I.__webglDepthbuffer[ae],H,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),ie(I.__webglDepthbuffer,H,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function De(H,I,re){const ae=i.get(H);I!==void 0&&Q(ae.__webglFramebuffer,H,H.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),re!==void 0&&ge(H)}function Ie(H){const I=H.texture,re=i.get(H),ae=i.get(I);H.addEventListener("dispose",w);const he=H.textures,de=H.isWebGLCubeRenderTarget===!0,Je=he.length>1;if(Je||(ae.__webglTexture===void 0&&(ae.__webglTexture=n.createTexture()),ae.__version=I.version,o.memory.textures++),de){re.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(I.mipmaps&&I.mipmaps.length>0){re.__webglFramebuffer[Ae]=[];for(let Te=0;Te<I.mipmaps.length;Te++)re.__webglFramebuffer[Ae][Te]=n.createFramebuffer()}else re.__webglFramebuffer[Ae]=n.createFramebuffer()}else{if(I.mipmaps&&I.mipmaps.length>0){re.__webglFramebuffer=[];for(let Ae=0;Ae<I.mipmaps.length;Ae++)re.__webglFramebuffer[Ae]=n.createFramebuffer()}else re.__webglFramebuffer=n.createFramebuffer();if(Je)for(let Ae=0,Te=he.length;Ae<Te;Ae++){const Ve=i.get(he[Ae]);Ve.__webglTexture===void 0&&(Ve.__webglTexture=n.createTexture(),o.memory.textures++)}if(H.samples>0&&Se(H)===!1){re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let Ae=0;Ae<he.length;Ae++){const Te=he[Ae];re.__webglColorRenderbuffer[Ae]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,re.__webglColorRenderbuffer[Ae]);const Ve=s.convert(Te.format,Te.colorSpace),Pe=s.convert(Te.type),ze=q(Te.internalFormat,Ve,Pe,Te.colorSpace,H.isXRRenderTarget===!0),st=xe(H);n.renderbufferStorageMultisample(n.RENDERBUFFER,st,ze,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,re.__webglColorRenderbuffer[Ae])}n.bindRenderbuffer(n.RENDERBUFFER,null),H.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),ie(re.__webglDepthRenderbuffer,H,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(de){t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture),O(n.TEXTURE_CUBE_MAP,I);for(let Ae=0;Ae<6;Ae++)if(I.mipmaps&&I.mipmaps.length>0)for(let Te=0;Te<I.mipmaps.length;Te++)Q(re.__webglFramebuffer[Ae][Te],H,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Te);else Q(re.__webglFramebuffer[Ae],H,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);_(I)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Je){for(let Ae=0,Te=he.length;Ae<Te;Ae++){const Ve=he[Ae],Pe=i.get(Ve);t.bindTexture(n.TEXTURE_2D,Pe.__webglTexture),O(n.TEXTURE_2D,Ve),Q(re.__webglFramebuffer,H,Ve,n.COLOR_ATTACHMENT0+Ae,n.TEXTURE_2D,0),_(Ve)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ae=n.TEXTURE_2D;if((H.isWebGL3DRenderTarget||H.isWebGLArrayRenderTarget)&&(Ae=H.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ae,ae.__webglTexture),O(Ae,I),I.mipmaps&&I.mipmaps.length>0)for(let Te=0;Te<I.mipmaps.length;Te++)Q(re.__webglFramebuffer[Te],H,I,n.COLOR_ATTACHMENT0,Ae,Te);else Q(re.__webglFramebuffer,H,I,n.COLOR_ATTACHMENT0,Ae,0);_(I)&&g(Ae),t.unbindTexture()}H.depthBuffer&&ge(H)}function z(H){const I=H.textures;for(let re=0,ae=I.length;re<ae;re++){const he=I[re];if(_(he)){const de=H.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Je=i.get(he).__webglTexture;t.bindTexture(de,Je),g(de),t.unbindTexture()}}}const ne=[],pe=[];function Me(H){if(H.samples>0){if(Se(H)===!1){const I=H.textures,re=H.width,ae=H.height;let he=n.COLOR_BUFFER_BIT;const de=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Je=i.get(H),Ae=I.length>1;if(Ae)for(let Te=0;Te<I.length;Te++)t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Je.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Je.__webglFramebuffer);for(let Te=0;Te<I.length;Te++){if(H.resolveDepthBuffer&&(H.depthBuffer&&(he|=n.DEPTH_BUFFER_BIT),H.stencilBuffer&&H.resolveStencilBuffer&&(he|=n.STENCIL_BUFFER_BIT)),Ae){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Je.__webglColorRenderbuffer[Te]);const Ve=i.get(I[Te]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ve,0)}n.blitFramebuffer(0,0,re,ae,0,0,re,ae,he,n.NEAREST),l===!0&&(ne.length=0,pe.length=0,ne.push(n.COLOR_ATTACHMENT0+Te),H.depthBuffer&&H.resolveDepthBuffer===!1&&(ne.push(de),pe.push(de),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,pe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ae)for(let Te=0;Te<I.length;Te++){t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,Je.__webglColorRenderbuffer[Te]);const Ve=i.get(I[Te]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Je.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,Ve,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Je.__webglMultisampledFramebuffer)}else if(H.depthBuffer&&H.resolveDepthBuffer===!1&&l){const I=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[I])}}}function xe(H){return Math.min(r.maxSamples,H.samples)}function Se(H){const I=i.get(H);return H.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Be(H){const I=o.render.frame;u.get(H)!==I&&(u.set(H,I),H.update())}function ve(H,I){const re=H.colorSpace,ae=H.format,he=H.type;return H.isCompressedTexture===!0||H.isVideoTexture===!0||re!==Co&&re!==uo&&(jt.getTransfer(re)===sn?(ae!==Wi||he!==Hs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),I}function Ue(H){return typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement?(c.width=H.naturalWidth||H.width,c.height=H.naturalHeight||H.height):typeof VideoFrame<"u"&&H instanceof VideoFrame?(c.width=H.displayWidth,c.height=H.displayHeight):(c.width=H.width,c.height=H.height),c}this.allocateTextureUnit=L,this.resetTextureUnits=F,this.setTexture2D=k,this.setTexture2DArray=Y,this.setTexture3D=X,this.setTextureCube=ee,this.rebindTextures=De,this.setupRenderTarget=Ie,this.updateRenderTargetMipmap=z,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=Q,this.useMultisampledRTT=Se}function WA(n,e){function t(i,r=uo){let s;const o=jt.getTransfer(r);if(i===Hs)return n.UNSIGNED_BYTE;if(i===Y6)return n.UNSIGNED_SHORT_4_4_4_4;if(i===K6)return n.UNSIGNED_SHORT_5_5_5_1;if(i===hA)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===cA)return n.BYTE;if(i===uA)return n.SHORT;if(i===Bu)return n.UNSIGNED_SHORT;if(i===J6)return n.INT;if(i===Ol)return n.UNSIGNED_INT;if(i===Cr)return n.FLOAT;if(i===Jl)return n.HALF_FLOAT;if(i===fA)return n.ALPHA;if(i===dA)return n.RGB;if(i===Wi)return n.RGBA;if(i===pA)return n.LUMINANCE;if(i===mA)return n.LUMINANCE_ALPHA;if(i===pa)return n.DEPTH_COMPONENT;if(i===kl)return n.DEPTH_STENCIL;if(i===Q6)return n.RED;if(i===Z6)return n.RED_INTEGER;if(i===gA)return n.RG;if(i===$6)return n.RG_INTEGER;if(i===eg)return n.RGBA_INTEGER;if(i===Np||i===kp||i===zp||i===Gp)if(o===sn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Np)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===kp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===zp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Gp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Np)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===kp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===zp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Gp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===t5||i===n5||i===i5||i===r5)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===t5)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===n5)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===i5)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===r5)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===s5||i===o5||i===a5)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===s5||i===o5)return o===sn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===a5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===l5||i===c5||i===u5||i===h5||i===f5||i===d5||i===p5||i===m5||i===g5||i===v5||i===_5||i===y5||i===x5||i===q5)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===l5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===c5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===u5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===h5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===f5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===d5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===p5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===m5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===g5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===v5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===_5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===y5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===x5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===q5)return o===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Hp||i===A5||i===S5)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Hp)return o===sn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===A5)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===S5)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===vA||i===M5||i===E5||i===w5)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Hp)return s.COMPRESSED_RED_RGTC1_EXT;if(i===M5)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===E5)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===w5)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Nl?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class XA extends bn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class mo extends Gt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const VI={type:"move"};class f3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const _=t.getJointPose(x,i),g=this._getHandJoint(c,x);_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=_!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(VI)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new mo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const WI=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,XI=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class jI{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ln,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new ns({vertexShader:WI,fragmentShader:XI,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new fn(new bo(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class JI extends To{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,m=null,v=null;const x=new jI,_=t.getContextAttributes();let g=null,q=null;const A=[],M=[],C=new Re;let w=null;const b=new bn;b.layers.enable(1),b.viewport=new zt;const P=new bn;P.layers.enable(2),P.viewport=new zt;const R=[b,P],T=new XA;T.layers.enable(1),T.layers.enable(2);let F=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let Q=A[j];return Q===void 0&&(Q=new f3,A[j]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(j){let Q=A[j];return Q===void 0&&(Q=new f3,A[j]=Q),Q.getGripSpace()},this.getHand=function(j){let Q=A[j];return Q===void 0&&(Q=new f3,A[j]=Q),Q.getHandSpace()};function U(j){const Q=M.indexOf(j.inputSource);if(Q===-1)return;const ie=A[Q];ie!==void 0&&(ie.update(j.inputSource,j.frame,c||o),ie.dispatchEvent({type:j.type,data:j.inputSource}))}function k(){r.removeEventListener("select",U),r.removeEventListener("selectstart",U),r.removeEventListener("selectend",U),r.removeEventListener("squeeze",U),r.removeEventListener("squeezestart",U),r.removeEventListener("squeezeend",U),r.removeEventListener("end",k),r.removeEventListener("inputsourceschange",Y);for(let j=0;j<A.length;j++){const Q=M[j];Q!==null&&(M[j]=null,A[j].disconnect(Q))}F=null,L=null,x.reset(),e.setRenderTarget(g),m=null,p=null,d=null,r=null,q=null,Z.stop(),i.isPresenting=!1,e.setPixelRatio(w),e.setSize(C.width,C.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){s=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){a=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(j){c=j},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(j){if(r=j,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",U),r.addEventListener("selectstart",U),r.addEventListener("selectend",U),r.addEventListener("squeeze",U),r.addEventListener("squeezestart",U),r.addEventListener("squeezeend",U),r.addEventListener("end",k),r.addEventListener("inputsourceschange",Y),_.xrCompatible!==!0&&await t.makeXRCompatible(),w=e.getPixelRatio(),e.getSize(C),r.renderState.layers===void 0){const Q={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,Q),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),q=new ur(m.framebufferWidth,m.framebufferHeight,{format:Wi,type:Hs,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let Q=null,ie=null,$=null;_.depth&&($=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Q=_.stencil?kl:pa,ie=_.stencil?Nl:Ol);const ge={colorFormat:t.RGBA8,depthFormat:$,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(ge),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),q=new ur(p.textureWidth,p.textureHeight,{format:Wi,type:Hs,depthTexture:new Y0(p.textureWidth,p.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}q.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Z.setContext(r),Z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Y(j){for(let Q=0;Q<j.removed.length;Q++){const ie=j.removed[Q],$=M.indexOf(ie);$>=0&&(M[$]=null,A[$].disconnect(ie))}for(let Q=0;Q<j.added.length;Q++){const ie=j.added[Q];let $=M.indexOf(ie);if($===-1){for(let De=0;De<A.length;De++)if(De>=M.length){M.push(ie),$=De;break}else if(M[De]===null){M[De]=ie,$=De;break}if($===-1)break}const ge=A[$];ge&&ge.connect(ie)}}const X=new W,ee=new W;function D(j,Q,ie){X.setFromMatrixPosition(Q.matrixWorld),ee.setFromMatrixPosition(ie.matrixWorld);const $=X.distanceTo(ee),ge=Q.projectionMatrix.elements,De=ie.projectionMatrix.elements,Ie=ge[14]/(ge[10]-1),z=ge[14]/(ge[10]+1),ne=(ge[9]+1)/ge[5],pe=(ge[9]-1)/ge[5],Me=(ge[8]-1)/ge[0],xe=(De[8]+1)/De[0],Se=Ie*Me,Be=Ie*xe,ve=$/(-Me+xe),Ue=ve*-Me;Q.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Ue),j.translateZ(ve),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const H=Ie+ve,I=z+ve,re=Se-Ue,ae=Be+($-Ue),he=ne*z/I*H,de=pe*z/I*H;j.projectionMatrix.makePerspective(re,ae,he,de,H,I),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}function G(j,Q){Q===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(Q.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(r===null)return;x.texture!==null&&(j.near=x.depthNear,j.far=x.depthFar),T.near=P.near=b.near=j.near,T.far=P.far=b.far=j.far,(F!==T.near||L!==T.far)&&(r.updateRenderState({depthNear:T.near,depthFar:T.far}),F=T.near,L=T.far,b.near=F,b.far=L,P.near=F,P.far=L,b.updateProjectionMatrix(),P.updateProjectionMatrix(),j.updateProjectionMatrix());const Q=j.parent,ie=T.cameras;G(T,Q);for(let $=0;$<ie.length;$++)G(ie[$],Q);ie.length===2?D(T,b,P):T.projectionMatrix.copy(b.projectionMatrix),N(j,T,Q)};function N(j,Q,ie){ie===null?j.matrix.copy(Q.matrixWorld):(j.matrix.copy(ie.matrixWorld),j.matrix.invert(),j.matrix.multiply(Q.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0),j.projectionMatrix.copy(Q.projectionMatrix),j.projectionMatrixInverse.copy(Q.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=Du*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(j){l=j,p!==null&&(p.fixedFoveation=j),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=j)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(T)};let O=null;function J(j,Q){if(u=Q.getViewerPose(c||o),v=Q,u!==null){const ie=u.views;m!==null&&(e.setRenderTargetFramebuffer(q,m.framebuffer),e.setRenderTarget(q));let $=!1;ie.length!==T.cameras.length&&(T.cameras.length=0,$=!0);for(let De=0;De<ie.length;De++){const Ie=ie[De];let z=null;if(m!==null)z=m.getViewport(Ie);else{const pe=d.getViewSubImage(p,Ie);z=pe.viewport,De===0&&(e.setRenderTargetTextures(q,pe.colorTexture,p.ignoreDepthValues?void 0:pe.depthStencilTexture),e.setRenderTarget(q))}let ne=R[De];ne===void 0&&(ne=new bn,ne.layers.enable(De),ne.viewport=new zt,R[De]=ne),ne.matrix.fromArray(Ie.transform.matrix),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.projectionMatrix.fromArray(Ie.projectionMatrix),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert(),ne.viewport.set(z.x,z.y,z.width,z.height),De===0&&(T.matrix.copy(ne.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),$===!0&&T.cameras.push(ne)}const ge=r.enabledFeatures;if(ge&&ge.includes("depth-sensing")){const De=d.getDepthInformation(ie[0]);De&&De.isValid&&De.texture&&x.init(e,De,r.renderState)}}for(let ie=0;ie<A.length;ie++){const $=M[ie],ge=A[ie];$!==null&&ge!==void 0&&ge.update($,Q,c||o)}O&&O(j,Q),Q.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Q}),v=null}const Z=new NA;Z.setAnimationLoop(J),this.setAnimationLoop=function(j){O=j},this.dispose=function(){}}}const $a=new Pr,YI=new ht;function KI(n,e){function t(_,g){_.matrixAutoUpdate===!0&&_.updateMatrix(),g.value.copy(_.matrix)}function i(_,g){g.color.getRGB(_.fogColor.value,UA(n)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)}function r(_,g,q,A,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(_,g):g.isMeshToonMaterial?(s(_,g),d(_,g)):g.isMeshPhongMaterial?(s(_,g),u(_,g)):g.isMeshStandardMaterial?(s(_,g),p(_,g),g.isMeshPhysicalMaterial&&m(_,g,M)):g.isMeshMatcapMaterial?(s(_,g),v(_,g)):g.isMeshDepthMaterial?s(_,g):g.isMeshDistanceMaterial?(s(_,g),x(_,g)):g.isMeshNormalMaterial?s(_,g):g.isLineBasicMaterial?(o(_,g),g.isLineDashedMaterial&&a(_,g)):g.isPointsMaterial?l(_,g,q,A):g.isSpriteMaterial?c(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,g.side===Pi&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),g.side===Pi&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const q=e.get(g),A=q.envMap,M=q.envMapRotation;A&&(_.envMap.value=A,$a.copy(M),$a.x*=-1,$a.y*=-1,$a.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&($a.y*=-1,$a.z*=-1),_.envMapRotation.value.setFromMatrix4(YI.makeRotationFromEuler($a)),_.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap&&(_.lightMap.value=g.lightMap,_.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,_.lightMapTransform)),g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}function l(_,g,q,A){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*q,_.scale.value=A*.5,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function u(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}function d(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}function p(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),g.envMap&&(_.envMapIntensity.value=g.envMapIntensity)}function m(_,g,q){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Pi&&_.clearcoatNormalScale.value.negate())),g.dispersion>0&&(_.dispersion.value=g.dispersion),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=q.texture,_.transmissionSamplerSize.value.set(q.width,q.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(_.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(_.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,g){g.matcap&&(_.matcap.value=g.matcap)}function x(_,g){const q=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(q.matrixWorld),_.nearDistance.value=q.shadow.camera.near,_.farDistance.value=q.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function QI(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(q,A){const M=A.program;i.uniformBlockBinding(q,M)}function c(q,A){let M=r[q.id];M===void 0&&(v(q),M=u(q),r[q.id]=M,q.addEventListener("dispose",_));const C=A.program;i.updateUBOMapping(q,C);const w=e.render.frame;s[q.id]!==w&&(p(q),s[q.id]=w)}function u(q){const A=d();q.__bindingPointIndex=A;const M=n.createBuffer(),C=q.__size,w=q.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,C,w),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,M),M}function d(){for(let q=0;q<a;q++)if(o.indexOf(q)===-1)return o.push(q),q;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(q){const A=r[q.id],M=q.uniforms,C=q.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let w=0,b=M.length;w<b;w++){const P=Array.isArray(M[w])?M[w]:[M[w]];for(let R=0,T=P.length;R<T;R++){const F=P[R];if(m(F,w,R,C)===!0){const L=F.__offset,U=Array.isArray(F.value)?F.value:[F.value];let k=0;for(let Y=0;Y<U.length;Y++){const X=U[Y],ee=x(X);typeof X=="number"||typeof X=="boolean"?(F.__data[0]=X,n.bufferSubData(n.UNIFORM_BUFFER,L+k,F.__data)):X.isMatrix3?(F.__data[0]=X.elements[0],F.__data[1]=X.elements[1],F.__data[2]=X.elements[2],F.__data[3]=0,F.__data[4]=X.elements[3],F.__data[5]=X.elements[4],F.__data[6]=X.elements[5],F.__data[7]=0,F.__data[8]=X.elements[6],F.__data[9]=X.elements[7],F.__data[10]=X.elements[8],F.__data[11]=0):(X.toArray(F.__data,k),k+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,L,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(q,A,M,C){const w=q.value,b=A+"_"+M;if(C[b]===void 0)return typeof w=="number"||typeof w=="boolean"?C[b]=w:C[b]=w.clone(),!0;{const P=C[b];if(typeof w=="number"||typeof w=="boolean"){if(P!==w)return C[b]=w,!0}else if(P.equals(w)===!1)return P.copy(w),!0}return!1}function v(q){const A=q.uniforms;let M=0;const C=16;for(let b=0,P=A.length;b<P;b++){const R=Array.isArray(A[b])?A[b]:[A[b]];for(let T=0,F=R.length;T<F;T++){const L=R[T],U=Array.isArray(L.value)?L.value:[L.value];for(let k=0,Y=U.length;k<Y;k++){const X=U[k],ee=x(X),D=M%C;D!==0&&C-D<ee.boundary&&(M+=C-D),L.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=M,M+=ee.storage}}}const w=M%C;return w>0&&(M+=C-w),q.__size=M,q.__cache={},this}function x(q){const A={boundary:0,storage:0};return typeof q=="number"||typeof q=="boolean"?(A.boundary=4,A.storage=4):q.isVector2?(A.boundary=8,A.storage=8):q.isVector3||q.isColor?(A.boundary=16,A.storage=12):q.isVector4?(A.boundary=16,A.storage=16):q.isMatrix3?(A.boundary=48,A.storage=48):q.isMatrix4?(A.boundary=64,A.storage=64):q.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",q),A}function _(q){const A=q.target;A.removeEventListener("dispose",_);const M=o.indexOf(A.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function g(){for(const q in r)n.deleteBuffer(r[q]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class jA{constructor(e={}){const{canvas:t=BA(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,_=null;const g=[],q=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Jr,this.toneMapping=zs,this.toneMappingExposure=1;const A=this;let M=!1,C=0,w=0,b=null,P=-1,R=null;const T=new zt,F=new zt;let L=null;const U=new Ke(0);let k=0,Y=t.width,X=t.height,ee=1,D=null,G=null;const N=new zt(0,0,Y,X),O=new zt(0,0,Y,X);let J=!1;const Z=new ld;let j=!1,Q=!1;const ie=new ht,$=new W,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let De=!1;function Ie(){return b===null?ee:1}let z=i;function ne(V,le){return t.getContext(V,le)}try{const V={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Gu}`),t.addEventListener("webglcontextlost",Ne,!1),t.addEventListener("webglcontextrestored",me,!1),t.addEventListener("webglcontextcreationerror",Ee,!1),z===null){const le="webgl2";if(z=ne(le,V),z===null)throw ne(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let pe,Me,xe,Se,Be,ve,Ue,H,I,re,ae,he,de,Je,Ae,Te,Ve,Pe,ze,st,We,Le,Oe,rt;function vt(){pe=new uB(z),pe.init(),Le=new WA(z,pe),Me=new rB(z,pe,e,Le),xe=new GI(z),Se=new dB(z),Be=new RI,ve=new HI(z,pe,xe,Be,Me,Le,Se),Ue=new oB(A),H=new cB(A),I=new xb(z),Oe=new nB(z,I),re=new hB(z,I,Se,Oe),ae=new mB(z,re,I,Se),ze=new pB(z,Me,ve),Te=new sB(Be),he=new bI(A,Ue,H,pe,Me,Oe,Te),de=new KI(A,Be),Je=new BI,Ae=new OI(pe),Pe=new tB(A,Ue,H,xe,ae,p,l),Ve=new zI(A,ae,Me),rt=new QI(z,Se,Me,xe),st=new iB(z,pe,Se),We=new fB(z,pe,Se),Se.programs=he.programs,A.capabilities=Me,A.extensions=pe,A.properties=Be,A.renderLists=Je,A.shadowMap=Ve,A.state=xe,A.info=Se}vt();const te=new JI(A,z);this.xr=te,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const V=pe.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=pe.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(V){V!==void 0&&(ee=V,this.setSize(Y,X,!1))},this.getSize=function(V){return V.set(Y,X)},this.setSize=function(V,le,_e=!0){if(te.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=V,X=le,t.width=Math.floor(V*ee),t.height=Math.floor(le*ee),_e===!0&&(t.style.width=V+"px",t.style.height=le+"px"),this.setViewport(0,0,V,le)},this.getDrawingBufferSize=function(V){return V.set(Y*ee,X*ee).floor()},this.setDrawingBufferSize=function(V,le,_e){Y=V,X=le,ee=_e,t.width=Math.floor(V*_e),t.height=Math.floor(le*_e),this.setViewport(0,0,V,le)},this.getCurrentViewport=function(V){return V.copy(T)},this.getViewport=function(V){return V.copy(N)},this.setViewport=function(V,le,_e,qe){V.isVector4?N.set(V.x,V.y,V.z,V.w):N.set(V,le,_e,qe),xe.viewport(T.copy(N).multiplyScalar(ee).round())},this.getScissor=function(V){return V.copy(O)},this.setScissor=function(V,le,_e,qe){V.isVector4?O.set(V.x,V.y,V.z,V.w):O.set(V,le,_e,qe),xe.scissor(F.copy(O).multiplyScalar(ee).round())},this.getScissorTest=function(){return J},this.setScissorTest=function(V){xe.setScissorTest(J=V)},this.setOpaqueSort=function(V){D=V},this.setTransparentSort=function(V){G=V},this.getClearColor=function(V){return V.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor.apply(Pe,arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha.apply(Pe,arguments)},this.clear=function(V=!0,le=!0,_e=!0){let qe=0;if(V){let fe=!1;if(b!==null){const Xe=b.texture.format;fe=Xe===eg||Xe===$6||Xe===Z6}if(fe){const Xe=b.texture.type,$e=Xe===Hs||Xe===Ol||Xe===Bu||Xe===Nl||Xe===Y6||Xe===K6,ot=Pe.getClearColor(),ct=Pe.getClearAlpha(),Fe=ot.r,ft=ot.g,mt=ot.b;$e?(m[0]=Fe,m[1]=ft,m[2]=mt,m[3]=ct,z.clearBufferuiv(z.COLOR,0,m)):(v[0]=Fe,v[1]=ft,v[2]=mt,v[3]=ct,z.clearBufferiv(z.COLOR,0,v))}else qe|=z.COLOR_BUFFER_BIT}le&&(qe|=z.DEPTH_BUFFER_BIT),_e&&(qe|=z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),z.clear(qe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ne,!1),t.removeEventListener("webglcontextrestored",me,!1),t.removeEventListener("webglcontextcreationerror",Ee,!1),Je.dispose(),Ae.dispose(),Be.dispose(),Ue.dispose(),H.dispose(),ae.dispose(),Oe.dispose(),rt.dispose(),he.dispose(),te.dispose(),te.removeEventListener("sessionstart",Lt),te.removeEventListener("sessionend",Yt),nn.stop()};function Ne(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const V=Se.autoReset,le=Ve.enabled,_e=Ve.autoUpdate,qe=Ve.needsUpdate,fe=Ve.type;vt(),Se.autoReset=V,Ve.enabled=le,Ve.autoUpdate=_e,Ve.needsUpdate=qe,Ve.type=fe}function Ee(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function Ge(V){const le=V.target;le.removeEventListener("dispose",Ge),Qe(le)}function Qe(V){it(V),Be.remove(V)}function it(V){const le=Be.get(V).programs;le!==void 0&&(le.forEach(function(_e){he.releaseProgram(_e)}),V.isShaderMaterial&&he.releaseShaderCache(V))}this.renderBufferDirect=function(V,le,_e,qe,fe,Xe){le===null&&(le=ge);const $e=fe.isMesh&&fe.matrixWorld.determinant()<0,ot=rs(V,le,_e,qe,fe);xe.setMaterial(qe,$e);let ct=_e.index,Fe=1;if(qe.wireframe===!0){if(ct=re.getWireframeAttribute(_e),ct===void 0)return;Fe=2}const ft=_e.drawRange,mt=_e.attributes.position;let Rt=ft.start*Fe,Kt=(ft.start+ft.count)*Fe;Xe!==null&&(Rt=Math.max(Rt,Xe.start*Fe),Kt=Math.min(Kt,(Xe.start+Xe.count)*Fe)),ct!==null?(Rt=Math.max(Rt,0),Kt=Math.min(Kt,ct.count)):mt!=null&&(Rt=Math.max(Rt,0),Kt=Math.min(Kt,mt.count));const Qt=Kt-Rt;if(Qt<0||Qt===1/0)return;Oe.setup(fe,qe,ot,_e,ct);let dn,St=st;if(ct!==null&&(dn=I.get(ct),St=We,St.setIndex(dn)),fe.isMesh)qe.wireframe===!0?(xe.setLineWidth(qe.wireframeLinewidth*Ie()),St.setMode(z.LINES)):St.setMode(z.TRIANGLES);else if(fe.isLine){let Ye=qe.linewidth;Ye===void 0&&(Ye=1),xe.setLineWidth(Ye*Ie()),fe.isLineSegments?St.setMode(z.LINES):fe.isLineLoop?St.setMode(z.LINE_LOOP):St.setMode(z.LINE_STRIP)}else fe.isPoints?St.setMode(z.POINTS):fe.isSprite&&St.setMode(z.TRIANGLES);if(fe.isBatchedMesh)fe._multiDrawInstances!==null?St.renderMultiDrawInstances(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount,fe._multiDrawInstances):St.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else if(fe.isInstancedMesh)St.renderInstances(Rt,Qt,fe.count);else if(_e.isInstancedBufferGeometry){const Ye=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,qt=Math.min(_e.instanceCount,Ye);St.renderInstances(Rt,Qt,qt)}else St.render(Rt,Qt)};function yt(V,le,_e){V.transparent===!0&&V.side===rr&&V.forceSinglePass===!1?(V.side=Pi,V.needsUpdate=!0,Zn(V,le,_e),V.side=qs,V.needsUpdate=!0,Zn(V,le,_e),V.side=rr):Zn(V,le,_e)}this.compile=function(V,le,_e=null){_e===null&&(_e=V),_=Ae.get(_e),_.init(le),q.push(_),_e.traverseVisible(function(fe){fe.isLight&&fe.layers.test(le.layers)&&(_.pushLight(fe),fe.castShadow&&_.pushShadow(fe))}),V!==_e&&V.traverseVisible(function(fe){fe.isLight&&fe.layers.test(le.layers)&&(_.pushLight(fe),fe.castShadow&&_.pushShadow(fe))}),_.setupLights();const qe=new Set;return V.traverse(function(fe){const Xe=fe.material;if(Xe)if(Array.isArray(Xe))for(let $e=0;$e<Xe.length;$e++){const ot=Xe[$e];yt(ot,_e,fe),qe.add(ot)}else yt(Xe,_e,fe),qe.add(Xe)}),q.pop(),_=null,qe},this.compileAsync=function(V,le,_e=null){const qe=this.compile(V,le,_e);return new Promise(fe=>{function Xe(){if(qe.forEach(function($e){Be.get($e).currentProgram.isReady()&&qe.delete($e)}),qe.size===0){fe(V);return}setTimeout(Xe,10)}pe.get("KHR_parallel_shader_compile")!==null?Xe():setTimeout(Xe,10)})};let xt=null;function tt(V){xt&&xt(V)}function Lt(){nn.stop()}function Yt(){nn.start()}const nn=new NA;nn.setAnimationLoop(tt),typeof self<"u"&&nn.setContext(self),this.setAnimationLoop=function(V){xt=V,te.setAnimationLoop(V),V===null?nn.stop():nn.start()},te.addEventListener("sessionstart",Lt),te.addEventListener("sessionend",Yt),this.render=function(V,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),te.enabled===!0&&te.isPresenting===!0&&(te.cameraAutoUpdate===!0&&te.updateCamera(le),le=te.getCamera()),V.isScene===!0&&V.onBeforeRender(A,V,le,b),_=Ae.get(V,q.length),_.init(le),q.push(_),ie.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),Z.setFromProjectionMatrix(ie),Q=this.localClippingEnabled,j=Te.init(this.clippingPlanes,Q),x=Je.get(V,g.length),x.init(),g.push(x),te.enabled===!0&&te.isPresenting===!0){const Xe=A.xr.getDepthSensingMesh();Xe!==null&&cn(Xe,le,-1/0,A.sortObjects)}cn(V,le,0,A.sortObjects),x.finish(),A.sortObjects===!0&&x.sort(D,G),De=te.enabled===!1||te.isPresenting===!1||te.hasDepthSensing()===!1,De&&Pe.addToRenderList(x,V),this.info.render.frame++,j===!0&&Te.beginShadows();const _e=_.state.shadowsArray;Ve.render(_e,V,le),j===!0&&Te.endShadows(),this.info.autoReset===!0&&this.info.reset();const qe=x.opaque,fe=x.transmissive;if(_.setupLights(),le.isArrayCamera){const Xe=le.cameras;if(fe.length>0)for(let $e=0,ot=Xe.length;$e<ot;$e++){const ct=Xe[$e];Yi(qe,fe,V,ct)}De&&Pe.render(V);for(let $e=0,ot=Xe.length;$e<ot;$e++){const ct=Xe[$e];gi(x,V,ct,ct.viewport)}}else fe.length>0&&Yi(qe,fe,V,le),De&&Pe.render(V),gi(x,V,le);b!==null&&(ve.updateMultisampleRenderTarget(b),ve.updateRenderTargetMipmap(b)),V.isScene===!0&&V.onAfterRender(A,V,le),Oe.resetDefaultState(),P=-1,R=null,q.pop(),q.length>0?(_=q[q.length-1],j===!0&&Te.setGlobalState(A.clippingPlanes,_.state.camera)):_=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function cn(V,le,_e,qe){if(V.visible===!1)return;if(V.layers.test(le.layers)){if(V.isGroup)_e=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(le);else if(V.isLight)_.pushLight(V),V.castShadow&&_.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||Z.intersectsSprite(V)){qe&&$.setFromMatrixPosition(V.matrixWorld).applyMatrix4(ie);const $e=ae.update(V),ot=V.material;ot.visible&&x.push(V,$e,ot,_e,$.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||Z.intersectsObject(V))){const $e=ae.update(V),ot=V.material;if(qe&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),$.copy(V.boundingSphere.center)):($e.boundingSphere===null&&$e.computeBoundingSphere(),$.copy($e.boundingSphere.center)),$.applyMatrix4(V.matrixWorld).applyMatrix4(ie)),Array.isArray(ot)){const ct=$e.groups;for(let Fe=0,ft=ct.length;Fe<ft;Fe++){const mt=ct[Fe],Rt=ot[mt.materialIndex];Rt&&Rt.visible&&x.push(V,$e,Rt,_e,$.z,mt)}}else ot.visible&&x.push(V,$e,ot,_e,$.z,null)}}const Xe=V.children;for(let $e=0,ot=Xe.length;$e<ot;$e++)cn(Xe[$e],le,_e,qe)}function gi(V,le,_e,qe){const fe=V.opaque,Xe=V.transmissive,$e=V.transparent;_.setupLightsView(_e),j===!0&&Te.setGlobalState(A.clippingPlanes,_e),qe&&xe.viewport(T.copy(qe)),fe.length>0&&Qn(fe,le,_e),Xe.length>0&&Qn(Xe,le,_e),$e.length>0&&Qn($e,le,_e),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function Yi(V,le,_e,qe){if((_e.isScene===!0?_e.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[qe.id]===void 0&&(_.state.transmissionRenderTarget[qe.id]=new ur(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float")?Jl:Hs,minFilter:Zr,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:jt.workingColorSpace}));const Xe=_.state.transmissionRenderTarget[qe.id],$e=qe.viewport||T;Xe.setSize($e.z,$e.w);const ot=A.getRenderTarget();A.setRenderTarget(Xe),A.getClearColor(U),k=A.getClearAlpha(),k<1&&A.setClearColor(16777215,.5),De?Pe.render(_e):A.clear();const ct=A.toneMapping;A.toneMapping=zs;const Fe=qe.viewport;if(qe.viewport!==void 0&&(qe.viewport=void 0),_.setupLightsView(qe),j===!0&&Te.setGlobalState(A.clippingPlanes,qe),Qn(V,_e,qe),ve.updateMultisampleRenderTarget(Xe),ve.updateRenderTargetMipmap(Xe),pe.has("WEBGL_multisampled_render_to_texture")===!1){let ft=!1;for(let mt=0,Rt=le.length;mt<Rt;mt++){const Kt=le[mt],Qt=Kt.object,dn=Kt.geometry,St=Kt.material,Ye=Kt.group;if(St.side===rr&&Qt.layers.test(qe.layers)){const qt=St.side;St.side=Pi,St.needsUpdate=!0,fr(Qt,_e,qe,dn,St,Ye),St.side=qt,St.needsUpdate=!0,ft=!0}}ft===!0&&(ve.updateMultisampleRenderTarget(Xe),ve.updateRenderTargetMipmap(Xe))}A.setRenderTarget(ot),A.setClearColor(U,k),Fe!==void 0&&(qe.viewport=Fe),A.toneMapping=ct}function Qn(V,le,_e){const qe=le.isScene===!0?le.overrideMaterial:null;for(let fe=0,Xe=V.length;fe<Xe;fe++){const $e=V[fe],ot=$e.object,ct=$e.geometry,Fe=qe===null?$e.material:qe,ft=$e.group;ot.layers.test(_e.layers)&&fr(ot,le,_e,ct,Fe,ft)}}function fr(V,le,_e,qe,fe,Xe){V.onBeforeRender(A,le,_e,qe,fe,Xe),V.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),fe.onBeforeRender(A,le,_e,qe,V,Xe),fe.transparent===!0&&fe.side===rr&&fe.forceSinglePass===!1?(fe.side=Pi,fe.needsUpdate=!0,A.renderBufferDirect(_e,le,qe,fe,V,Xe),fe.side=qs,fe.needsUpdate=!0,A.renderBufferDirect(_e,le,qe,fe,V,Xe),fe.side=rr):A.renderBufferDirect(_e,le,qe,fe,V,Xe),V.onAfterRender(A,le,_e,qe,fe,Xe)}function Zn(V,le,_e){le.isScene!==!0&&(le=ge);const qe=Be.get(V),fe=_.state.lights,Xe=_.state.shadowsArray,$e=fe.state.version,ot=he.getParameters(V,fe.state,Xe,le,_e),ct=he.getProgramCacheKey(ot);let Fe=qe.programs;qe.environment=V.isMeshStandardMaterial?le.environment:null,qe.fog=le.fog,qe.envMap=(V.isMeshStandardMaterial?H:Ue).get(V.envMap||qe.environment),qe.envMapRotation=qe.environment!==null&&V.envMap===null?le.environmentRotation:V.envMapRotation,Fe===void 0&&(V.addEventListener("dispose",Ge),Fe=new Map,qe.programs=Fe);let ft=Fe.get(ct);if(ft!==void 0){if(qe.currentProgram===ft&&qe.lightsStateVersion===$e)return Un(V,ot),ft}else ot.uniforms=he.getUniforms(V),V.onBuild(_e,ot,A),V.onBeforeCompile(ot,A),ft=he.acquireProgram(ot,ct),Fe.set(ct,ft),qe.uniforms=ot.uniforms;const mt=qe.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(mt.clippingPlanes=Te.uniform),Un(V,ot),qe.needsLights=Pa(V),qe.lightsStateVersion=$e,qe.needsLights&&(mt.ambientLightColor.value=fe.state.ambient,mt.lightProbe.value=fe.state.probe,mt.directionalLights.value=fe.state.directional,mt.directionalLightShadows.value=fe.state.directionalShadow,mt.spotLights.value=fe.state.spot,mt.spotLightShadows.value=fe.state.spotShadow,mt.rectAreaLights.value=fe.state.rectArea,mt.ltc_1.value=fe.state.rectAreaLTC1,mt.ltc_2.value=fe.state.rectAreaLTC2,mt.pointLights.value=fe.state.point,mt.pointLightShadows.value=fe.state.pointShadow,mt.hemisphereLights.value=fe.state.hemi,mt.directionalShadowMap.value=fe.state.directionalShadowMap,mt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,mt.spotShadowMap.value=fe.state.spotShadowMap,mt.spotLightMatrix.value=fe.state.spotLightMatrix,mt.spotLightMap.value=fe.state.spotLightMap,mt.pointShadowMap.value=fe.state.pointShadowMap,mt.pointShadowMatrix.value=fe.state.pointShadowMatrix),qe.currentProgram=ft,qe.uniformsList=null,ft}function Ki(V){if(V.uniformsList===null){const le=V.currentProgram.getUniforms();V.uniformsList=Wp.seqWithValue(le.seq,V.uniforms)}return V.uniformsList}function Un(V,le){const _e=Be.get(V);_e.outputColorSpace=le.outputColorSpace,_e.batching=le.batching,_e.batchingColor=le.batchingColor,_e.instancing=le.instancing,_e.instancingColor=le.instancingColor,_e.instancingMorph=le.instancingMorph,_e.skinning=le.skinning,_e.morphTargets=le.morphTargets,_e.morphNormals=le.morphNormals,_e.morphColors=le.morphColors,_e.morphTargetsCount=le.morphTargetsCount,_e.numClippingPlanes=le.numClippingPlanes,_e.numIntersection=le.numClipIntersection,_e.vertexAlphas=le.vertexAlphas,_e.vertexTangents=le.vertexTangents,_e.toneMapping=le.toneMapping}function rs(V,le,_e,qe,fe){le.isScene!==!0&&(le=ge),ve.resetTextureUnits();const Xe=le.fog,$e=qe.isMeshStandardMaterial?le.environment:null,ot=b===null?A.outputColorSpace:b.isXRRenderTarget===!0?b.texture.colorSpace:Co,ct=(qe.isMeshStandardMaterial?H:Ue).get(qe.envMap||$e),Fe=qe.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,ft=!!_e.attributes.tangent&&(!!qe.normalMap||qe.anisotropy>0),mt=!!_e.morphAttributes.position,Rt=!!_e.morphAttributes.normal,Kt=!!_e.morphAttributes.color;let Qt=zs;qe.toneMapped&&(b===null||b.isXRRenderTarget===!0)&&(Qt=A.toneMapping);const dn=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,St=dn!==void 0?dn.length:0,Ye=Be.get(qe),qt=_.state.lights;if(j===!0&&(Q===!0||V!==R)){const Vn=V===R&&qe.id===P;Te.setState(qe,V,Vn)}let Ct=!1;qe.version===Ye.__version?(Ye.needsLights&&Ye.lightsStateVersion!==qt.state.version||Ye.outputColorSpace!==ot||fe.isBatchedMesh&&Ye.batching===!1||!fe.isBatchedMesh&&Ye.batching===!0||fe.isBatchedMesh&&Ye.batchingColor===!0&&fe.colorTexture===null||fe.isBatchedMesh&&Ye.batchingColor===!1&&fe.colorTexture!==null||fe.isInstancedMesh&&Ye.instancing===!1||!fe.isInstancedMesh&&Ye.instancing===!0||fe.isSkinnedMesh&&Ye.skinning===!1||!fe.isSkinnedMesh&&Ye.skinning===!0||fe.isInstancedMesh&&Ye.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&Ye.instancingColor===!1&&fe.instanceColor!==null||fe.isInstancedMesh&&Ye.instancingMorph===!0&&fe.morphTexture===null||fe.isInstancedMesh&&Ye.instancingMorph===!1&&fe.morphTexture!==null||Ye.envMap!==ct||qe.fog===!0&&Ye.fog!==Xe||Ye.numClippingPlanes!==void 0&&(Ye.numClippingPlanes!==Te.numPlanes||Ye.numIntersection!==Te.numIntersection)||Ye.vertexAlphas!==Fe||Ye.vertexTangents!==ft||Ye.morphTargets!==mt||Ye.morphNormals!==Rt||Ye.morphColors!==Kt||Ye.toneMapping!==Qt||Ye.morphTargetsCount!==St)&&(Ct=!0):(Ct=!0,Ye.__version=qe.version);let Zt=Ye.currentProgram;Ct===!0&&(Zt=Zn(qe,le,fe));let vn=!1,$n=!1,vi=!1;const Ft=Zt.getUniforms(),Fn=Ye.uniforms;if(xe.useProgram(Zt.program)&&(vn=!0,$n=!0,vi=!0),qe.id!==P&&(P=qe.id,$n=!0),vn||R!==V){Ft.setValue(z,"projectionMatrix",V.projectionMatrix),Ft.setValue(z,"viewMatrix",V.matrixWorldInverse);const Vn=Ft.map.cameraPosition;Vn!==void 0&&Vn.setValue(z,$.setFromMatrixPosition(V.matrixWorld)),Me.logarithmicDepthBuffer&&Ft.setValue(z,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(qe.isMeshPhongMaterial||qe.isMeshToonMaterial||qe.isMeshLambertMaterial||qe.isMeshBasicMaterial||qe.isMeshStandardMaterial||qe.isShaderMaterial)&&Ft.setValue(z,"isOrthographic",V.isOrthographicCamera===!0),R!==V&&(R=V,$n=!0,vi=!0)}if(fe.isSkinnedMesh){Ft.setOptional(z,fe,"bindMatrix"),Ft.setOptional(z,fe,"bindMatrixInverse");const Vn=fe.skeleton;Vn&&(Vn.boneTexture===null&&Vn.computeBoneTexture(),Ft.setValue(z,"boneTexture",Vn.boneTexture,ve))}fe.isBatchedMesh&&(Ft.setOptional(z,fe,"batchingTexture"),Ft.setValue(z,"batchingTexture",fe._matricesTexture,ve),Ft.setOptional(z,fe,"batchingColorTexture"),fe._colorsTexture!==null&&Ft.setValue(z,"batchingColorTexture",fe._colorsTexture,ve));const Es=_e.morphAttributes;if((Es.position!==void 0||Es.normal!==void 0||Es.color!==void 0)&&ze.update(fe,_e,Zt),($n||Ye.receiveShadow!==fe.receiveShadow)&&(Ye.receiveShadow=fe.receiveShadow,Ft.setValue(z,"receiveShadow",fe.receiveShadow)),qe.isMeshGouraudMaterial&&qe.envMap!==null&&(Fn.envMap.value=ct,Fn.flipEnvMap.value=ct.isCubeTexture&&ct.isRenderTargetTexture===!1?-1:1),qe.isMeshStandardMaterial&&qe.envMap===null&&le.environment!==null&&(Fn.envMapIntensity.value=le.environmentIntensity),$n&&(Ft.setValue(z,"toneMappingExposure",A.toneMappingExposure),Ye.needsLights&&tc(Fn,vi),Xe&&qe.fog===!0&&de.refreshFogUniforms(Fn,Xe),de.refreshMaterialUniforms(Fn,qe,ee,X,_.state.transmissionRenderTarget[V.id]),Wp.upload(z,Ki(Ye),Fn,ve)),qe.isShaderMaterial&&qe.uniformsNeedUpdate===!0&&(Wp.upload(z,Ki(Ye),Fn,ve),qe.uniformsNeedUpdate=!1),qe.isSpriteMaterial&&Ft.setValue(z,"center",fe.center),Ft.setValue(z,"modelViewMatrix",fe.modelViewMatrix),Ft.setValue(z,"normalMatrix",fe.normalMatrix),Ft.setValue(z,"modelMatrix",fe.matrixWorld),qe.isShaderMaterial||qe.isRawShaderMaterial){const Vn=qe.uniformsGroups;for(let Dr=0,Li=Vn.length;Dr<Li;Dr++){const _i=Vn[Dr];rt.update(_i,Zt),rt.bind(_i,Zt)}}return Zt}function tc(V,le){V.ambientLightColor.needsUpdate=le,V.lightProbe.needsUpdate=le,V.directionalLights.needsUpdate=le,V.directionalLightShadows.needsUpdate=le,V.pointLights.needsUpdate=le,V.pointLightShadows.needsUpdate=le,V.spotLights.needsUpdate=le,V.spotLightShadows.needsUpdate=le,V.rectAreaLights.needsUpdate=le,V.hemisphereLights.needsUpdate=le}function Pa(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(V,le,_e){Be.get(V.texture).__webglTexture=le,Be.get(V.depthTexture).__webglTexture=_e;const qe=Be.get(V);qe.__hasExternalTextures=!0,qe.__autoAllocateDepthBuffer=_e===void 0,qe.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),qe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(V,le){const _e=Be.get(V);_e.__webglFramebuffer=le,_e.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(V,le=0,_e=0){b=V,C=le,w=_e;let qe=!0,fe=null,Xe=!1,$e=!1;if(V){const ct=Be.get(V);ct.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(z.FRAMEBUFFER,null),qe=!1):ct.__webglFramebuffer===void 0?ve.setupRenderTarget(V):ct.__hasExternalTextures&&ve.rebindTextures(V,Be.get(V.texture).__webglTexture,Be.get(V.depthTexture).__webglTexture);const Fe=V.texture;(Fe.isData3DTexture||Fe.isDataArrayTexture||Fe.isCompressedArrayTexture)&&($e=!0);const ft=Be.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(ft[le])?fe=ft[le][_e]:fe=ft[le],Xe=!0):V.samples>0&&ve.useMultisampledRTT(V)===!1?fe=Be.get(V).__webglMultisampledFramebuffer:Array.isArray(ft)?fe=ft[_e]:fe=ft,T.copy(V.viewport),F.copy(V.scissor),L=V.scissorTest}else T.copy(N).multiplyScalar(ee).floor(),F.copy(O).multiplyScalar(ee).floor(),L=J;if(xe.bindFramebuffer(z.FRAMEBUFFER,fe)&&qe&&xe.drawBuffers(V,fe),xe.viewport(T),xe.scissor(F),xe.setScissorTest(L),Xe){const ct=Be.get(V.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+le,ct.__webglTexture,_e)}else if($e){const ct=Be.get(V.texture),Fe=le||0;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,ct.__webglTexture,_e||0,Fe)}P=-1},this.readRenderTargetPixels=function(V,le,_e,qe,fe,Xe,$e){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=Be.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&$e!==void 0&&(ot=ot[$e]),ot){xe.bindFramebuffer(z.FRAMEBUFFER,ot);try{const ct=V.texture,Fe=ct.format,ft=ct.type;if(!Me.textureFormatReadable(Fe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Me.textureTypeReadable(ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=V.width-qe&&_e>=0&&_e<=V.height-fe&&z.readPixels(le,_e,qe,fe,Le.convert(Fe),Le.convert(ft),Xe)}finally{const ct=b!==null?Be.get(b).__webglFramebuffer:null;xe.bindFramebuffer(z.FRAMEBUFFER,ct)}}},this.readRenderTargetPixelsAsync=async function(V,le,_e,qe,fe,Xe,$e){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ot=Be.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&$e!==void 0&&(ot=ot[$e]),ot){xe.bindFramebuffer(z.FRAMEBUFFER,ot);try{const ct=V.texture,Fe=ct.format,ft=ct.type;if(!Me.textureFormatReadable(Fe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Me.textureTypeReadable(ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(le>=0&&le<=V.width-qe&&_e>=0&&_e<=V.height-fe){const mt=z.createBuffer();z.bindBuffer(z.PIXEL_PACK_BUFFER,mt),z.bufferData(z.PIXEL_PACK_BUFFER,Xe.byteLength,z.STREAM_READ),z.readPixels(le,_e,qe,fe,Le.convert(Fe),Le.convert(ft),0),z.flush();const Rt=z.fenceSync(z.SYNC_GPU_COMMANDS_COMPLETE,0);await WT(z,Rt,4);try{z.bindBuffer(z.PIXEL_PACK_BUFFER,mt),z.getBufferSubData(z.PIXEL_PACK_BUFFER,0,Xe)}finally{z.deleteBuffer(mt),z.deleteSync(Rt)}return Xe}}finally{const ct=b!==null?Be.get(b).__webglFramebuffer:null;xe.bindFramebuffer(z.FRAMEBUFFER,ct)}}},this.copyFramebufferToTexture=function(V,le=null,_e=0){V.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),le=arguments[0]||null,V=arguments[1]);const qe=Math.pow(2,-_e),fe=Math.floor(V.image.width*qe),Xe=Math.floor(V.image.height*qe),$e=le!==null?le.x:0,ot=le!==null?le.y:0;ve.setTexture2D(V,0),z.copyTexSubImage2D(z.TEXTURE_2D,_e,0,0,$e,ot,fe,Xe),xe.unbindTexture()},this.copyTextureToTexture=function(V,le,_e=null,qe=null,fe=0){V.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),qe=arguments[0]||null,V=arguments[1],le=arguments[2],fe=arguments[3]||0,_e=null);let Xe,$e,ot,ct,Fe,ft;_e!==null?(Xe=_e.max.x-_e.min.x,$e=_e.max.y-_e.min.y,ot=_e.min.x,ct=_e.min.y):(Xe=V.image.width,$e=V.image.height,ot=0,ct=0),qe!==null?(Fe=qe.x,ft=qe.y):(Fe=0,ft=0);const mt=Le.convert(le.format),Rt=Le.convert(le.type);ve.setTexture2D(le,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,le.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,le.unpackAlignment);const Kt=z.getParameter(z.UNPACK_ROW_LENGTH),Qt=z.getParameter(z.UNPACK_IMAGE_HEIGHT),dn=z.getParameter(z.UNPACK_SKIP_PIXELS),St=z.getParameter(z.UNPACK_SKIP_ROWS),Ye=z.getParameter(z.UNPACK_SKIP_IMAGES),qt=V.isCompressedTexture?V.mipmaps[fe]:V.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,qt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,qt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,ot),z.pixelStorei(z.UNPACK_SKIP_ROWS,ct),V.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,fe,Fe,ft,Xe,$e,mt,Rt,qt.data):V.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,fe,Fe,ft,qt.width,qt.height,mt,qt.data):z.texSubImage2D(z.TEXTURE_2D,fe,Fe,ft,mt,Rt,qt),z.pixelStorei(z.UNPACK_ROW_LENGTH,Kt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Qt),z.pixelStorei(z.UNPACK_SKIP_PIXELS,dn),z.pixelStorei(z.UNPACK_SKIP_ROWS,St),z.pixelStorei(z.UNPACK_SKIP_IMAGES,Ye),fe===0&&le.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),xe.unbindTexture()},this.copyTextureToTexture3D=function(V,le,_e=null,qe=null,fe=0){V.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),_e=arguments[0]||null,qe=arguments[1]||null,V=arguments[2],le=arguments[3],fe=arguments[4]||0);let Xe,$e,ot,ct,Fe,ft,mt,Rt,Kt;const Qt=V.isCompressedTexture?V.mipmaps[fe]:V.image;_e!==null?(Xe=_e.max.x-_e.min.x,$e=_e.max.y-_e.min.y,ot=_e.max.z-_e.min.z,ct=_e.min.x,Fe=_e.min.y,ft=_e.min.z):(Xe=Qt.width,$e=Qt.height,ot=Qt.depth,ct=0,Fe=0,ft=0),qe!==null?(mt=qe.x,Rt=qe.y,Kt=qe.z):(mt=0,Rt=0,Kt=0);const dn=Le.convert(le.format),St=Le.convert(le.type);let Ye;if(le.isData3DTexture)ve.setTexture3D(le,0),Ye=z.TEXTURE_3D;else if(le.isDataArrayTexture||le.isCompressedArrayTexture)ve.setTexture2DArray(le,0),Ye=z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,le.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,le.unpackAlignment);const qt=z.getParameter(z.UNPACK_ROW_LENGTH),Ct=z.getParameter(z.UNPACK_IMAGE_HEIGHT),Zt=z.getParameter(z.UNPACK_SKIP_PIXELS),vn=z.getParameter(z.UNPACK_SKIP_ROWS),$n=z.getParameter(z.UNPACK_SKIP_IMAGES);z.pixelStorei(z.UNPACK_ROW_LENGTH,Qt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Qt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,ct),z.pixelStorei(z.UNPACK_SKIP_ROWS,Fe),z.pixelStorei(z.UNPACK_SKIP_IMAGES,ft),V.isDataTexture||V.isData3DTexture?z.texSubImage3D(Ye,fe,mt,Rt,Kt,Xe,$e,ot,dn,St,Qt.data):le.isCompressedArrayTexture?z.compressedTexSubImage3D(Ye,fe,mt,Rt,Kt,Xe,$e,ot,dn,Qt.data):z.texSubImage3D(Ye,fe,mt,Rt,Kt,Xe,$e,ot,dn,St,Qt),z.pixelStorei(z.UNPACK_ROW_LENGTH,qt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Ct),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Zt),z.pixelStorei(z.UNPACK_SKIP_ROWS,vn),z.pixelStorei(z.UNPACK_SKIP_IMAGES,$n),fe===0&&le.generateMipmaps&&z.generateMipmap(Ye),xe.unbindTexture()},this.initRenderTarget=function(V){Be.get(V).__webglFramebuffer===void 0&&ve.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?ve.setTextureCube(V,0):V.isData3DTexture?ve.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?ve.setTexture2DArray(V,0):ve.setTexture2D(V,0),xe.unbindTexture()},this.resetState=function(){C=0,w=0,b=null,xe.reset(),Oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===j0?"display-p3":"srgb",t.unpackColorSpace=jt.workingColorSpace===od?"display-p3":"srgb"}}class $0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ke(e),this.density=t}clone(){return new $0(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class em{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ke(e),this.near=t,this.far=i}clone(){return new em(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Jf extends Gt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Pr,this.environmentIntensity=1,this.environmentRotation=new Pr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class cd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Wf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=br()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return ag("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=br()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=br()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zi=new W;class qa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)zi.fromBufferAttribute(this,t),zi.applyMatrix4(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)zi.fromBufferAttribute(this,t),zi.applyNormalMatrix(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)zi.fromBufferAttribute(this,t),zi.transformDirection(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Vi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=bt(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Vi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Vi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Vi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Vi(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=bt(t,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ut(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class dg extends Hn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Lc;const Dh=new W,Dc=new W,Uc=new W,Fc=new Re,Uh=new Re,JA=new ht,W1=new W,Fh=new W,X1=new W,Av=new Re,d3=new Re,Sv=new Re;class YA extends Gt{constructor(e=new dg){if(super(),this.isSprite=!0,this.type="Sprite",Lc===void 0){Lc=new At;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new cd(t,5);Lc.setIndex([0,1,2,0,2,3]),Lc.setAttribute("position",new qa(i,3,0,!1)),Lc.setAttribute("uv",new qa(i,2,3,!1))}this.geometry=Lc,this.material=e,this.center=new Re(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Dc.setFromMatrixScale(this.matrixWorld),JA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Uc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Dc.multiplyScalar(-Uc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;j1(W1.set(-.5,-.5,0),Uc,o,Dc,r,s),j1(Fh.set(.5,-.5,0),Uc,o,Dc,r,s),j1(X1.set(.5,.5,0),Uc,o,Dc,r,s),Av.set(0,0),d3.set(1,0),Sv.set(1,1);let a=e.ray.intersectTriangle(W1,Fh,X1,!1,Dh);if(a===null&&(j1(Fh.set(-.5,.5,0),Uc,o,Dc,r,s),d3.set(0,1),a=e.ray.intersectTriangle(W1,X1,Fh,!1,Dh),a===null))return;const l=e.ray.origin.distanceTo(Dh);l<e.near||l>e.far||t.push({distance:l,point:Dh.clone(),uv:Mr.getInterpolation(Dh,W1,Fh,X1,Av,d3,Sv,new Re),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function j1(n,e,t,i,r,s){Fc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Uh.x=s*Fc.x-r*Fc.y,Uh.y=r*Fc.x+s*Fc.y):Uh.copy(Fc),n.copy(e),n.x+=Uh.x,n.y+=Uh.y,n.applyMatrix4(JA)}const J1=new W,Mv=new W;class KA extends Gt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){J1.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(J1);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){J1.setFromMatrixPosition(e.matrixWorld),Mv.setFromMatrixPosition(this.matrixWorld);const i=J1.distanceTo(Mv)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Ev=new W,wv=new zt,Cv=new zt,ZI=new W,Tv=new ht,Y1=new W,p3=new Jn,bv=new ht,m3=new Vu;class pg extends fn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=e5,this.bindMatrix=new ht,this.bindMatrixInverse=new ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new li),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Y1),this.boundingBox.expandByPoint(Y1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Jn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Y1),this.boundingSphere.expandByPoint(Y1)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),p3.copy(this.boundingSphere),p3.applyMatrix4(r),e.ray.intersectsSphere(p3)!==!1&&(bv.copy(r).invert(),m3.copy(e.ray).applyMatrix4(bv),!(this.boundingBox!==null&&m3.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,m3)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===e5?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===lA?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;wv.fromBufferAttribute(r.attributes.skinIndex,e),Cv.fromBufferAttribute(r.attributes.skinWeight,e),Ev.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Cv.getComponent(s);if(o!==0){const a=wv.getComponent(s);Tv.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(ZI.copy(Ev).applyMatrix4(Tv),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tm extends Gt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class _o extends ln{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Dn,u=Dn,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Rv=new ht,$I=new ht;class ud{constructor(e=[],t=[]){this.uuid=br(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ht;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:$I;Rv.multiplyMatrices(a,t[s]),Rv.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ud(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new _o(t,e,e,Wi,Cr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new tm),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Aa extends Ut{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Oc=new ht,Pv=new ht,K1=[],Bv=new li,eL=new ht,Oh=new fn,Nh=new Jn;class mg extends fn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Aa(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,eL)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new li),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Oc),Bv.copy(e.boundingBox).applyMatrix4(Oc),this.boundingBox.union(Bv)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Jn),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Oc),Nh.copy(e.boundingSphere).applyMatrix4(Oc),this.boundingSphere.union(Nh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Oh.geometry=this.geometry,Oh.material=this.material,Oh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Nh.copy(this.boundingSphere),Nh.applyMatrix4(i),e.ray.intersectsSphere(Nh)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Oc),Pv.multiplyMatrices(i,Oc),Oh.matrixWorld=Pv,Oh.raycast(e,K1);for(let o=0,a=K1.length;o<a;o++){const l=K1[o];l.instanceId=s,l.object=this,t.push(l)}K1.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Aa(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new _o(new Float32Array(r*this.count),r,this.count,Q6,Cr));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function tL(n,e){return n.z-e.z}function nL(n,e){return e.z-n.z}class iL{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Nc="batchId",jo=new ht,g3=new ht,rL=new ht,sL=new Ke(1,1,1),Iv=new ht,v3=new ld,Q1=new li,el=new Jn,kh=new W,Lv=new W,oL=new W,_3=new iL,Ci=new fn,Z1=[];function aL(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class QA extends fn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new At,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new _o(t,e,e,Wi,Cr);this._matricesTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new _o(t,e,e,Wi,Cr);i.colorSpace=jt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,p=new c.constructor(i*u),m=new Ut(p,u,d);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Ut(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(Nc,new Ut(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Nc))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Nc}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===Nc)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new li);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,jo),this.getBoundingBoxAt(r,Q1).applyMatrix4(jo),t.union(Q1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jn);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,jo),this.getBoundingSphereAt(r,el).applyMatrix4(jo),t.union(el))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data,x=this._colorsTexture;d.push(!0),p.push(!0);const _=this._geometryCount;this._geometryCount++,rL.toArray(v,_*16),m.needsUpdate=!0,x!==null&&(sL.toArray(x.image.data,_*4),x.needsUpdate=!0),o.push(r),a.push({start:u?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new li,sphereInitialized:!1,sphere:new Jn});const g=this.geometry.getAttribute(Nc);for(let q=0;q<r.vertexCount;q++)g.setX(r.vertexStart+q,_);return g.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===Nc)continue;const v=t.getAttribute(m),x=i.getAttribute(m);aL(v,x,l);const _=v.itemSize;for(let g=v.count,q=c;g<q;g++){const A=l+g;for(let M=0;M<_;M++)x.setComponent(A,M,0)}x.needsUpdate=!0,x.addUpdateRange(l*_,c*_)}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,x=a.indexCount;v<x;v++)s.setX(m+v,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],p=t.getAttribute("position");return d.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(kh.fromBufferAttribute(l,p))}r.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Q1),Q1.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,p=c.start+c.count;d<p;d++){let m=d;a&&(m=a.getX(m)),kh.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(kh))}s.radius=Math.sqrt(u),r.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._active,r=this._colorsTexture,s=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*4),r.needsUpdate=!0,this)}getColorAt(e,t){const i=this._active,r=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*4)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ci.material=this.material,Ci.geometry.index=l.index,Ci.geometry.attributes=l.attributes,Ci.geometry.boundingBox===null&&(Ci.geometry.boundingBox=new li),Ci.geometry.boundingSphere===null&&(Ci.geometry.boundingSphere=new Jn);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const u=s[c];Ci.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Ci.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ci.geometry.boundingBox),this.getBoundingSphereAt(c,Ci.geometry.boundingSphere),Ci.raycast(e,Z1);for(let d=0,p=Z1.length;d<p;d++){const m=Z1[d];m.object=this,m.batchId=c,t.push(m)}Z1.length=0}Ci.material=null,Ci.geometry.index=null,Ci.geometry.attributes={},Ci.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,d=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(Iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),v3.setFromProjectionMatrix(Iv,e.coordinateSystem));let v=0;if(this.sortObjects){g3.copy(this.matrixWorld).invert(),kh.setFromMatrixPosition(i.matrixWorld).applyMatrix4(g3),Lv.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(g3);for(let g=0,q=c.length;g<q;g++)if(c[g]&&l[g]){this.getMatrixAt(g,jo),this.getBoundingSphereAt(g,el).applyMatrix4(jo);let A=!1;if(m&&(A=!v3.intersectsSphere(el)),!A){const M=oL.subVectors(el.center,kh).dot(Lv);_3.push(p[g],M)}}const x=_3.list,_=this.customSort;_===null?x.sort(s.transparent?nL:tL):_.call(this,x,i);for(let g=0,q=x.length;g<q;g++){const A=x[g];u[v]=A.start*a,d[v]=A.count,v++}_3.reset()}else for(let x=0,_=c.length;x<_;x++)if(c[x]&&l[x]){let g=!1;if(m&&(this.getMatrixAt(x,jo),this.getBoundingSphereAt(x,el).applyMatrix4(jo),g=!v3.intersectsSphere(el)),!g){const q=p[x];u[v]=q.start*a,d[v]=q.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Ii extends Hn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const S0=new W,M0=new W,Dv=new ht,zh=new Vu,$1=new Jn,y3=new W,Uv=new W;class Eo extends Gt{constructor(e=new At,t=new Ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)S0.fromBufferAttribute(t,r-1),M0.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=S0.distanceTo(M0);e.setAttribute("lineDistance",new ut(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),$1.copy(i.boundingSphere),$1.applyMatrix4(r),$1.radius+=s,e.ray.intersectsSphere($1)===!1)return;Dv.copy(r).invert(),zh.copy(e.ray).applyMatrix4(Dv);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=i.index,p=i.attributes.position;if(u!==null){const m=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let x=m,_=v-1;x<_;x+=c){const g=u.getX(x),q=u.getX(x+1),A=ep(this,e,zh,l,g,q);A&&t.push(A)}if(this.isLineLoop){const x=u.getX(v-1),_=u.getX(m),g=ep(this,e,zh,l,x,_);g&&t.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let x=m,_=v-1;x<_;x+=c){const g=ep(this,e,zh,l,x,x+1);g&&t.push(g)}if(this.isLineLoop){const x=ep(this,e,zh,l,v-1,m);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function ep(n,e,t,i,r,s){const o=n.geometry.attributes.position;if(S0.fromBufferAttribute(o,r),M0.fromBufferAttribute(o,s),t.distanceSqToSegment(S0,M0,y3,Uv)>i)return;y3.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(y3);if(!(l<e.near||l>e.far))return{distance:l,point:Uv.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,object:n}}const Fv=new W,Ov=new W;class As extends Eo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Fv.fromBufferAttribute(t,r),Ov.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Fv.distanceTo(Ov);e.setAttribute("lineDistance",new ut(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gg extends Eo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class nm extends Hn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Nv=new ht,P5=new Vu,tp=new Jn,np=new W;class vg extends Gt{constructor(e=new At,t=new nm){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),tp.copy(i.boundingSphere),tp.applyMatrix4(r),tp.radius+=s,e.ray.intersectsSphere(tp)===!1)return;Nv.copy(r).invert(),P5.copy(e.ray).applyMatrix4(Nv);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const _=c.getX(v);np.fromBufferAttribute(d,_),kv(np,_,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,x=m;v<x;v++)np.fromBufferAttribute(d,v),kv(np,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function kv(n,e,t,i,r,s,o){const a=P5.distanceSqToPoint(n);if(a<t){const l=new W;P5.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class lL extends ln{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:$t,this.magFilter=s!==void 0?s:$t,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class cL extends ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Dn,this.minFilter=Dn,this.generateMipmaps=!1,this.needsUpdate=!0}}class im extends ln{constructor(e,t,i,r,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uL extends im{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=wr,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class hL extends im{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Mo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class fL extends ln{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ss{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],p=i[r+1]-u,m=(o-u)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Re:new W);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new W,r=[],s=[],o=[],a=new W,l=new ht;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new W)}s[0]=new W,o[0]=new W;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Tn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Tn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rm extends Ss{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new Re){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZA extends rm{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _g(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const ip=new W,x3=new _g,q3=new _g,A3=new _g;class $A extends Ss{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new W){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(ip.subVectors(r[0],r[1]).add(r[0]),c=ip);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(ip.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=ip),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),v<1e-4&&(v=x),_<1e-4&&(_=x),x3.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,v,x,_),q3.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,v,x,_),A3.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,v,x,_)}else this.curveType==="catmullrom"&&(x3.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),q3.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),A3.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return i.set(x3.calc(l),q3.calc(l),A3.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new W().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function zv(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function dL(n,e){const t=1-n;return t*t*e}function pL(n,e){return 2*(1-n)*n*e}function mL(n,e){return n*n*e}function vf(n,e,t,i){return dL(n,e)+pL(n,t)+mL(n,i)}function gL(n,e){const t=1-n;return t*t*t*e}function vL(n,e){const t=1-n;return 3*t*t*n*e}function _L(n,e){return 3*(1-n)*n*n*e}function yL(n,e){return n*n*n*e}function _f(n,e,t,i,r){return gL(n,e)+vL(n,t)+_L(n,i)+yL(n,r)}class yg extends Ss{constructor(e=new Re,t=new Re,i=new Re,r=new Re){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Re){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(_f(e,r.x,s.x,o.x,a.x),_f(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eS extends Ss{constructor(e=new W,t=new W,i=new W,r=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new W){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(_f(e,r.x,s.x,o.x,a.x),_f(e,r.y,s.y,o.y,a.y),_f(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xg extends Ss{constructor(e=new Re,t=new Re){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Re){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tS extends Ss{constructor(e=new W,t=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new W){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new W){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qg extends Ss{constructor(e=new Re,t=new Re,i=new Re){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Re){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(vf(e,r.x,s.x,o.x),vf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ag extends Ss{constructor(e=new W,t=new W,i=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new W){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(vf(e,r.x,s.x,o.x),vf(e,r.y,s.y,o.y),vf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sg extends Ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Re){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(zv(a,l.x,c.x,u.x,d.x),zv(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Re().fromArray(r))}return this}}var E0=Object.freeze({__proto__:null,ArcCurve:ZA,CatmullRomCurve3:$A,CubicBezierCurve:yg,CubicBezierCurve3:eS,EllipseCurve:rm,LineCurve:xg,LineCurve3:tS,QuadraticBezierCurve:qg,QuadraticBezierCurve3:Ag,SplineCurve:Sg});class nS extends Ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new E0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new E0[r.type]().fromJSON(r))}return this}}class Yf extends nS{constructor(e){super(),this.type="Path",this.currentPoint=new Re,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new xg(this.currentPoint.clone(),new Re(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new qg(this.currentPoint.clone(),new Re(e,t),new Re(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new yg(this.currentPoint.clone(),new Re(e,t),new Re(i,r),new Re(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Sg(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new rm(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hd extends At{constructor(e=[new Re(0,-.5),new Re(.5,0),new Re(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Tn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new W,p=new Re,m=new W,v=new W,x=new W;let _=0,g=0;for(let q=0;q<=e.length-1;q++)switch(q){case 0:_=e[q+1].x-e[q].x,g=e[q+1].y-e[q].y,m.x=g*1,m.y=-_,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:_=e[q+1].x-e[q].x,g=e[q+1].y-e[q].y,m.x=g*1,m.y=-_,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let q=0;q<=t;q++){const A=i+q*u*r,M=Math.sin(A),C=Math.cos(A);for(let w=0;w<=e.length-1;w++){d.x=e[w].x*M,d.y=e[w].y,d.z=e[w].x*C,o.push(d.x,d.y,d.z),p.x=q/t,p.y=w/(e.length-1),a.push(p.x,p.y);const b=l[3*w+0]*M,P=l[3*w+1],R=l[3*w+0]*C;c.push(b,P,R)}}for(let q=0;q<t;q++)for(let A=0;A<e.length-1;A++){const M=A+q*e.length,C=M,w=M+e.length,b=M+e.length+1,P=M+1;s.push(C,w,P),s.push(b,P,w)}this.setIndex(s),this.setAttribute("position",new ut(o,3)),this.setAttribute("uv",new ut(a,2)),this.setAttribute("normal",new ut(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.points,e.segments,e.phiStart,e.phiLength)}}class sm extends hd{constructor(e=1,t=1,i=4,r=8){const s=new Yf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new sm(e.radius,e.length,e.capSegments,e.radialSegments)}}class om extends At{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new W,u=new Re;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new ut(o,3)),this.setAttribute("normal",new ut(a,3)),this.setAttribute("uv",new ut(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new om(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ju extends At{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],p=[],m=[];let v=0;const x=[],_=i/2;let g=0;q(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(u),this.setAttribute("position",new ut(d,3)),this.setAttribute("normal",new ut(p,3)),this.setAttribute("uv",new ut(m,2));function q(){const M=new W,C=new W;let w=0;const b=(t-e)/i;for(let P=0;P<=s;P++){const R=[],T=P/s,F=T*(t-e)+e;for(let L=0;L<=r;L++){const U=L/r,k=U*l+a,Y=Math.sin(k),X=Math.cos(k);C.x=F*Y,C.y=-T*i+_,C.z=F*X,d.push(C.x,C.y,C.z),M.set(Y,b,X).normalize(),p.push(M.x,M.y,M.z),m.push(U,1-T),R.push(v++)}x.push(R)}for(let P=0;P<r;P++)for(let R=0;R<s;R++){const T=x[R][P],F=x[R+1][P],L=x[R+1][P+1],U=x[R][P+1];u.push(T,F,U),u.push(F,L,U),w+=6}c.addGroup(g,w,0),g+=w}function A(M){const C=v,w=new Re,b=new W;let P=0;const R=M===!0?e:t,T=M===!0?1:-1;for(let L=1;L<=r;L++)d.push(0,_*T,0),p.push(0,T,0),m.push(.5,.5),v++;const F=v;for(let L=0;L<=r;L++){const k=L/r*l+a,Y=Math.cos(k),X=Math.sin(k);b.x=R*X,b.y=_*T,b.z=R*Y,d.push(b.x,b.y,b.z),p.push(0,T,0),w.x=Y*.5+.5,w.y=X*.5*T+.5,m.push(w.x,w.y),v++}for(let L=0;L<r;L++){const U=C+L,k=F+L;M===!0?u.push(k,k+1,U):u.push(k+1,k,U),P+=3}c.addGroup(g,P,M===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ju(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class am extends ju{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new am(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ba extends At{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new ut(s,3)),this.setAttribute("normal",new ut(s.slice(),3)),this.setAttribute("uv",new ut(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(q){const A=new W,M=new W,C=new W;for(let w=0;w<t.length;w+=3)m(t[w+0],A),m(t[w+1],M),m(t[w+2],C),l(A,M,C,q)}function l(q,A,M,C){const w=C+1,b=[];for(let P=0;P<=w;P++){b[P]=[];const R=q.clone().lerp(M,P/w),T=A.clone().lerp(M,P/w),F=w-P;for(let L=0;L<=F;L++)L===0&&P===w?b[P][L]=R:b[P][L]=R.clone().lerp(T,L/F)}for(let P=0;P<w;P++)for(let R=0;R<2*(w-P)-1;R++){const T=Math.floor(R/2);R%2===0?(p(b[P][T+1]),p(b[P+1][T]),p(b[P][T])):(p(b[P][T+1]),p(b[P+1][T+1]),p(b[P+1][T]))}}function c(q){const A=new W;for(let M=0;M<s.length;M+=3)A.x=s[M+0],A.y=s[M+1],A.z=s[M+2],A.normalize().multiplyScalar(q),s[M+0]=A.x,s[M+1]=A.y,s[M+2]=A.z}function u(){const q=new W;for(let A=0;A<s.length;A+=3){q.x=s[A+0],q.y=s[A+1],q.z=s[A+2];const M=_(q)/2/Math.PI+.5,C=g(q)/Math.PI+.5;o.push(M,1-C)}v(),d()}function d(){for(let q=0;q<o.length;q+=6){const A=o[q+0],M=o[q+2],C=o[q+4],w=Math.max(A,M,C),b=Math.min(A,M,C);w>.9&&b<.1&&(A<.2&&(o[q+0]+=1),M<.2&&(o[q+2]+=1),C<.2&&(o[q+4]+=1))}}function p(q){s.push(q.x,q.y,q.z)}function m(q,A){const M=q*3;A.x=e[M+0],A.y=e[M+1],A.z=e[M+2]}function v(){const q=new W,A=new W,M=new W,C=new W,w=new Re,b=new Re,P=new Re;for(let R=0,T=0;R<s.length;R+=9,T+=6){q.set(s[R+0],s[R+1],s[R+2]),A.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),w.set(o[T+0],o[T+1]),b.set(o[T+2],o[T+3]),P.set(o[T+4],o[T+5]),C.copy(q).add(A).add(M).divideScalar(3);const F=_(C);x(w,T+0,q,F),x(b,T+2,A,F),x(P,T+4,M,F)}}function x(q,A,M,C){C<0&&q.x===1&&(o[A]=q.x-1),M.x===0&&M.z===0&&(o[A]=C/2/Math.PI+.5)}function _(q){return Math.atan2(q.z,-q.x)}function g(q){return Math.atan2(-q.y,Math.sqrt(q.x*q.x+q.z*q.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ba(e.vertices,e.indices,e.radius,e.details)}}class lm extends ba{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lm(e.radius,e.detail)}}const rp=new W,sp=new W,S3=new W,op=new Mr;class iS extends At{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(bl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:_,c:g}=op;if(x.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),op.getNormal(S3),d[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let q=0;q<3;q++){const A=(q+1)%3,M=d[q],C=d[A],w=op[u[q]],b=op[u[A]],P=`${M}_${C}`,R=`${C}_${M}`;R in p&&p[R]?(S3.dot(p[R].normal)<=s&&(m.push(w.x,w.y,w.z),m.push(b.x,b.y,b.z)),p[R]=null):P in p||(p[P]={index0:c[q],index1:c[A],normal:S3.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:_}=p[v];rp.fromBufferAttribute(a,x),sp.fromBufferAttribute(a,_),m.push(rp.x,rp.y,rp.z),m.push(sp.x,sp.y,sp.z)}this.setAttribute("position",new ut(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Pl extends Yf{constructor(e){super(e),this.uuid=br(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Yf().fromJSON(r))}return this}}const xL={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=rS(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(i&&(s=EL(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Kf(s,o,t,a,l,m,0),o}};function rS(n,e,t,i,r){let s,o;if(r===UL(n,e,t,i)>0)for(s=e;s<t;s+=i)o=Gv(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=Gv(s,n[s],n[s+1],o);return o&&cm(o,o.next)&&(Zf(o),o=o.next),o}function zl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(cm(t,t.next)||An(t.prev,t,t.next)===0)){if(Zf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Kf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&RL(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?AL(n,i,r,s):qL(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Zf(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=SL(zl(n),e,t),Kf(n,e,t,i,r,s,2)):o===2&&ML(n,e,t,i,r,s):Kf(zl(n),e,t,i,r,s,1);break}}}function qL(n){const e=n.prev,t=n,i=n.next;if(An(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=d&&v.y<=m&&fu(r,a,s,l,o,c,v.x,v.y)&&An(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function AL(n,e,t,i){const r=n.prev,s=n,o=n.next;if(An(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<d?u<p?u:p:d<p?d:p,x=a>l?a>c?a:c:l>c?l:c,_=u>d?u>p?u:p:d>p?d:p,g=B5(m,v,e,t,i),q=B5(x,_,e,t,i);let A=n.prevZ,M=n.nextZ;for(;A&&A.z>=g&&M&&M.z<=q;){if(A.x>=m&&A.x<=x&&A.y>=v&&A.y<=_&&A!==r&&A!==o&&fu(a,u,l,d,c,p,A.x,A.y)&&An(A.prev,A,A.next)>=0||(A=A.prevZ,M.x>=m&&M.x<=x&&M.y>=v&&M.y<=_&&M!==r&&M!==o&&fu(a,u,l,d,c,p,M.x,M.y)&&An(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;A&&A.z>=g;){if(A.x>=m&&A.x<=x&&A.y>=v&&A.y<=_&&A!==r&&A!==o&&fu(a,u,l,d,c,p,A.x,A.y)&&An(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;M&&M.z<=q;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=_&&M!==r&&M!==o&&fu(a,u,l,d,c,p,M.x,M.y)&&An(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function SL(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!cm(r,s)&&sS(r,i,i.next,s)&&Qf(r,s)&&Qf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Zf(i),Zf(i.next),i=n=s),i=i.next}while(i!==n);return zl(i)}function ML(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&IL(o,a)){let l=oS(o,a);o=zl(o,o.next),l=zl(l,l.next),Kf(o,e,t,i,r,s,0),Kf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function EL(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=rS(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(BL(c));for(r.sort(wL),s=0;s<r.length;s++)t=CL(r[s],t);return t}function wL(n,e){return n.x-e.x}function CL(n,e){const t=TL(n,e);if(!t)return e;const i=oS(t,n);return zl(i,i.next),zl(t,t.next)}function TL(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&fu(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Qf(t,n)&&(d<u||d===u&&(t.x>r.x||t.x===r.x&&bL(r,t)))&&(r=t,u=d)),t=t.next;while(t!==a);return r}function bL(n,e){return An(n.prev,n,e.prev)<0&&An(e.next,n,n.next)<0}function RL(n,e,t,i){let r=n;do r.z===0&&(r.z=B5(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,PL(r)}function PL(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function B5(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function BL(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function fu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function IL(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!LL(n,e)&&(Qf(n,e)&&Qf(e,n)&&DL(n,e)&&(An(n.prev,n,e.prev)||An(n,e.prev,e))||cm(n,e)&&An(n.prev,n,n.next)>0&&An(e.prev,e,e.next)>0)}function An(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function cm(n,e){return n.x===e.x&&n.y===e.y}function sS(n,e,t,i){const r=lp(An(n,e,t)),s=lp(An(n,e,i)),o=lp(An(t,i,n)),a=lp(An(t,i,e));return!!(r!==s&&o!==a||r===0&&ap(n,t,e)||s===0&&ap(n,i,e)||o===0&&ap(t,n,i)||a===0&&ap(t,e,i))}function ap(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function lp(n){return n>0?1:n<0?-1:0}function LL(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&sS(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Qf(n,e){return An(n.prev,n,n.next)<0?An(n,e,n.next)>=0&&An(n,n.prev,e)>=0:An(n,e,n.prev)<0||An(n,n.next,e)<0}function DL(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function oS(n,e){const t=new I5(n.i,n.x,n.y),i=new I5(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Gv(n,e,t,i){const r=new I5(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Zf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function I5(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function UL(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Gs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Gs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Hv(e),Vv(i,e);let o=e.length;t.forEach(Hv);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,Vv(i,t[l]);const a=xL.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Hv(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Vv(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class fd extends At{constructor(e=new Pl([new Re(.5,.5),new Re(-.5,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ut(r,3)),this.setAttribute("uv",new ut(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,q=t.UVGenerator!==void 0?t.UVGenerator:FL;let A,M=!1,C,w,b,P;g&&(A=g.getSpacedPoints(u),M=!0,p=!1,C=g.computeFrenetFrames(u,!1),w=new W,b=new W,P=new W),p||(_=0,m=0,v=0,x=0);const R=a.extractPoints(c);let T=R.shape;const F=R.holes;if(!Gs.isClockWise(T)){T=T.reverse();for(let ne=0,pe=F.length;ne<pe;ne++){const Me=F[ne];Gs.isClockWise(Me)&&(F[ne]=Me.reverse())}}const U=Gs.triangulateShape(T,F),k=T;for(let ne=0,pe=F.length;ne<pe;ne++){const Me=F[ne];T=T.concat(Me)}function Y(ne,pe,Me){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(pe,Me)}const X=T.length,ee=U.length;function D(ne,pe,Me){let xe,Se,Be;const ve=ne.x-pe.x,Ue=ne.y-pe.y,H=Me.x-ne.x,I=Me.y-ne.y,re=ve*ve+Ue*Ue,ae=ve*I-Ue*H;if(Math.abs(ae)>Number.EPSILON){const he=Math.sqrt(re),de=Math.sqrt(H*H+I*I),Je=pe.x-Ue/he,Ae=pe.y+ve/he,Te=Me.x-I/de,Ve=Me.y+H/de,Pe=((Te-Je)*I-(Ve-Ae)*H)/(ve*I-Ue*H);xe=Je+ve*Pe-ne.x,Se=Ae+Ue*Pe-ne.y;const ze=xe*xe+Se*Se;if(ze<=2)return new Re(xe,Se);Be=Math.sqrt(ze/2)}else{let he=!1;ve>Number.EPSILON?H>Number.EPSILON&&(he=!0):ve<-Number.EPSILON?H<-Number.EPSILON&&(he=!0):Math.sign(Ue)===Math.sign(I)&&(he=!0),he?(xe=-Ue,Se=ve,Be=Math.sqrt(re)):(xe=ve,Se=Ue,Be=Math.sqrt(re/2))}return new Re(xe/Be,Se/Be)}const G=[];for(let ne=0,pe=k.length,Me=pe-1,xe=ne+1;ne<pe;ne++,Me++,xe++)Me===pe&&(Me=0),xe===pe&&(xe=0),G[ne]=D(k[ne],k[Me],k[xe]);const N=[];let O,J=G.concat();for(let ne=0,pe=F.length;ne<pe;ne++){const Me=F[ne];O=[];for(let xe=0,Se=Me.length,Be=Se-1,ve=xe+1;xe<Se;xe++,Be++,ve++)Be===Se&&(Be=0),ve===Se&&(ve=0),O[xe]=D(Me[xe],Me[Be],Me[ve]);N.push(O),J=J.concat(O)}for(let ne=0;ne<_;ne++){const pe=ne/_,Me=m*Math.cos(pe*Math.PI/2),xe=v*Math.sin(pe*Math.PI/2)+x;for(let Se=0,Be=k.length;Se<Be;Se++){const ve=Y(k[Se],G[Se],xe);$(ve.x,ve.y,-Me)}for(let Se=0,Be=F.length;Se<Be;Se++){const ve=F[Se];O=N[Se];for(let Ue=0,H=ve.length;Ue<H;Ue++){const I=Y(ve[Ue],O[Ue],xe);$(I.x,I.y,-Me)}}}const Z=v+x;for(let ne=0;ne<X;ne++){const pe=p?Y(T[ne],J[ne],Z):T[ne];M?(b.copy(C.normals[0]).multiplyScalar(pe.x),w.copy(C.binormals[0]).multiplyScalar(pe.y),P.copy(A[0]).add(b).add(w),$(P.x,P.y,P.z)):$(pe.x,pe.y,0)}for(let ne=1;ne<=u;ne++)for(let pe=0;pe<X;pe++){const Me=p?Y(T[pe],J[pe],Z):T[pe];M?(b.copy(C.normals[ne]).multiplyScalar(Me.x),w.copy(C.binormals[ne]).multiplyScalar(Me.y),P.copy(A[ne]).add(b).add(w),$(P.x,P.y,P.z)):$(Me.x,Me.y,d/u*ne)}for(let ne=_-1;ne>=0;ne--){const pe=ne/_,Me=m*Math.cos(pe*Math.PI/2),xe=v*Math.sin(pe*Math.PI/2)+x;for(let Se=0,Be=k.length;Se<Be;Se++){const ve=Y(k[Se],G[Se],xe);$(ve.x,ve.y,d+Me)}for(let Se=0,Be=F.length;Se<Be;Se++){const ve=F[Se];O=N[Se];for(let Ue=0,H=ve.length;Ue<H;Ue++){const I=Y(ve[Ue],O[Ue],xe);M?$(I.x,I.y+A[u-1].y,A[u-1].x+Me):$(I.x,I.y,d+Me)}}}j(),Q();function j(){const ne=r.length/3;if(p){let pe=0,Me=X*pe;for(let xe=0;xe<ee;xe++){const Se=U[xe];ge(Se[2]+Me,Se[1]+Me,Se[0]+Me)}pe=u+_*2,Me=X*pe;for(let xe=0;xe<ee;xe++){const Se=U[xe];ge(Se[0]+Me,Se[1]+Me,Se[2]+Me)}}else{for(let pe=0;pe<ee;pe++){const Me=U[pe];ge(Me[2],Me[1],Me[0])}for(let pe=0;pe<ee;pe++){const Me=U[pe];ge(Me[0]+X*u,Me[1]+X*u,Me[2]+X*u)}}i.addGroup(ne,r.length/3-ne,0)}function Q(){const ne=r.length/3;let pe=0;ie(k,pe),pe+=k.length;for(let Me=0,xe=F.length;Me<xe;Me++){const Se=F[Me];ie(Se,pe),pe+=Se.length}i.addGroup(ne,r.length/3-ne,1)}function ie(ne,pe){let Me=ne.length;for(;--Me>=0;){const xe=Me;let Se=Me-1;Se<0&&(Se=ne.length-1);for(let Be=0,ve=u+_*2;Be<ve;Be++){const Ue=X*Be,H=X*(Be+1),I=pe+xe+Ue,re=pe+Se+Ue,ae=pe+Se+H,he=pe+xe+H;De(I,re,ae,he)}}}function $(ne,pe,Me){l.push(ne),l.push(pe),l.push(Me)}function ge(ne,pe,Me){Ie(ne),Ie(pe),Ie(Me);const xe=r.length/3,Se=q.generateTopUV(i,r,xe-3,xe-2,xe-1);z(Se[0]),z(Se[1]),z(Se[2])}function De(ne,pe,Me,xe){Ie(ne),Ie(pe),Ie(xe),Ie(pe),Ie(Me),Ie(xe);const Se=r.length/3,Be=q.generateSideWallUV(i,r,Se-6,Se-3,Se-2,Se-1);z(Be[0]),z(Be[1]),z(Be[3]),z(Be[1]),z(Be[2]),z(Be[3])}function Ie(ne){r.push(l[ne*3+0]),r.push(l[ne*3+1]),r.push(l[ne*3+2])}function z(ne){s.push(ne.x),s.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return OL(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new E0[r.type]().fromJSON(r)),new fd(i,e.options)}}const FL={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Re(s,o),new Re(a,l),new Re(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],x=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Re(o,1-l),new Re(c,1-d),new Re(p,1-v),new Re(x,1-g)]:[new Re(a,1-l),new Re(u,1-d),new Re(m,1-v),new Re(_,1-g)]}};function OL(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class um extends ba{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new um(e.radius,e.detail)}}class dd extends ba{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dd(e.radius,e.detail)}}class hm extends At{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const p=(t-e)/r,m=new W,v=new Re;for(let x=0;x<=r;x++){for(let _=0;_<=i;_++){const g=s+_/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}d+=p}for(let x=0;x<r;x++){const _=x*(i+1);for(let g=0;g<i;g++){const q=g+_,A=q,M=q+i+1,C=q+i+2,w=q+1;a.push(A,M,w),a.push(M,C,w)}}this.setIndex(a),this.setAttribute("position",new ut(l,3)),this.setAttribute("normal",new ut(c,3)),this.setAttribute("uv",new ut(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fm extends At{constructor(e=new Pl([new Re(0,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new ut(r,3)),this.setAttribute("normal",new ut(s,3)),this.setAttribute("uv",new ut(o,2));function c(u){const d=r.length/3,p=u.extractPoints(t);let m=p.shape;const v=p.holes;Gs.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,g=v.length;_<g;_++){const q=v[_];Gs.isClockWise(q)===!0&&(v[_]=q.reverse())}const x=Gs.triangulateShape(m,v);for(let _=0,g=v.length;_<g;_++){const q=v[_];m=m.concat(q)}for(let _=0,g=m.length;_<g;_++){const q=m[_];r.push(q.x,q.y,0),s.push(0,0,1),o.push(q.x,q.y)}for(let _=0,g=x.length;_<g;_++){const q=x[_],A=q[0]+d,M=q[1]+d,C=q[2]+d;i.push(A,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return NL(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new fm(i,e.curveSegments)}}function NL(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class pd extends At{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new W,p=new W,m=[],v=[],x=[],_=[];for(let g=0;g<=i;g++){const q=[],A=g/i;let M=0;g===0&&o===0?M=.5/t:g===i&&l===Math.PI&&(M=-.5/t);for(let C=0;C<=t;C++){const w=C/t;d.x=-e*Math.cos(r+w*s)*Math.sin(o+A*a),d.y=e*Math.cos(o+A*a),d.z=e*Math.sin(r+w*s)*Math.sin(o+A*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),_.push(w+M,1-A),q.push(c++)}u.push(q)}for(let g=0;g<i;g++)for(let q=0;q<t;q++){const A=u[g][q+1],M=u[g][q],C=u[g+1][q],w=u[g+1][q+1];(g!==0||o>0)&&m.push(A,M,w),(g!==i-1||l<Math.PI)&&m.push(M,C,w)}this.setIndex(m),this.setAttribute("position",new ut(v,3)),this.setAttribute("normal",new ut(x,3)),this.setAttribute("uv",new ut(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class dm extends ba{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dm(e.radius,e.detail)}}class pm extends At{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new W,d=new W,p=new W;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const x=v/r*s,_=m/i*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(x),d.y=(e+t*Math.cos(_))*Math.sin(x),d.z=t*Math.sin(_),a.push(d.x,d.y,d.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const x=(r+1)*m+v-1,_=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,q=(r+1)*m+v;o.push(x,_,q),o.push(_,g,q)}this.setIndex(o),this.setAttribute("position",new ut(a,3)),this.setAttribute("normal",new ut(l,3)),this.setAttribute("uv",new ut(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mm extends At{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new W,p=new W,m=new W,v=new W,x=new W,_=new W,g=new W;for(let A=0;A<=i;++A){const M=A/i*s*Math.PI*2;q(M,s,o,e,m),q(M+.01,s,o,e,v),_.subVectors(v,m),g.addVectors(v,m),x.crossVectors(_,g),g.crossVectors(x,_),x.normalize(),g.normalize();for(let C=0;C<=r;++C){const w=C/r*Math.PI*2,b=-t*Math.cos(w),P=t*Math.sin(w);d.x=m.x+(b*g.x+P*x.x),d.y=m.y+(b*g.y+P*x.y),d.z=m.z+(b*g.z+P*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(A/i),u.push(C/r)}}for(let A=1;A<=i;A++)for(let M=1;M<=r;M++){const C=(r+1)*(A-1)+(M-1),w=(r+1)*A+(M-1),b=(r+1)*A+M,P=(r+1)*(A-1)+M;a.push(C,w,P),a.push(w,b,P)}this.setIndex(a),this.setAttribute("position",new ut(l,3)),this.setAttribute("normal",new ut(c,3)),this.setAttribute("uv",new ut(u,2));function q(A,M,C,w,b){const P=Math.cos(A),R=Math.sin(A),T=C/M*A,F=Math.cos(T);b.x=w*(2+F)*.5*P,b.y=w*(2+F)*R*.5,b.z=w*Math.sin(T)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gm extends At{constructor(e=new Ag(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new W,l=new W,c=new Re;let u=new W;const d=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new ut(d,3)),this.setAttribute("normal",new ut(p,3)),this.setAttribute("uv",new ut(m,2));function x(){for(let A=0;A<t;A++)_(A);_(s===!1?t:0),q(),g()}function _(A){u=e.getPointAt(A/t,u);const M=o.normals[A],C=o.binormals[A];for(let w=0;w<=r;w++){const b=w/r*Math.PI*2,P=Math.sin(b),R=-Math.cos(b);l.x=R*M.x+P*C.x,l.y=R*M.y+P*C.y,l.z=R*M.z+P*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let A=1;A<=t;A++)for(let M=1;M<=r;M++){const C=(r+1)*(A-1)+(M-1),w=(r+1)*A+(M-1),b=(r+1)*A+M,P=(r+1)*(A-1)+M;v.push(C,w,P),v.push(w,b,P)}}function q(){for(let A=0;A<=t;A++)for(let M=0;M<=r;M++)c.x=A/t,c.y=M/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gm(new E0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aS extends At{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new W,s=new W;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let v=p,x=p+m;v<x;v+=3)for(let _=0;_<3;_++){const g=a.getX(v+_),q=a.getX(v+(_+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,q),Wv(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),Wv(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ut(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Wv(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Xv=Object.freeze({__proto__:null,BoxGeometry:Yl,CapsuleGeometry:sm,CircleGeometry:om,ConeGeometry:am,CylinderGeometry:ju,DodecahedronGeometry:lm,EdgesGeometry:iS,ExtrudeGeometry:fd,IcosahedronGeometry:um,LatheGeometry:hd,OctahedronGeometry:dd,PlaneGeometry:bo,PolyhedronGeometry:ba,RingGeometry:hm,ShapeGeometry:fm,SphereGeometry:pd,TetrahedronGeometry:dm,TorusGeometry:pm,TorusKnotGeometry:mm,TubeGeometry:gm,WireframeGeometry:aS});class lS extends Hn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cS extends ns{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ju extends Hn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class is extends Ju{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Re(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uS extends Hn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ke(16777215),this.specular=new Ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pr,this.combine=sd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hS extends Hn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fS extends Hn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dS extends Hn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pr,this.combine=sd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pS extends Hn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mS extends Ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Sl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function gS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function vS(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function L5(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function Mg(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function kL(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){d.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}d.length!==0&&(c.times=Sl(d,c.times.constructor),c.values=Sl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function zL(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=u,q=d-u;x=a.values.slice(g,q)}else if(s>=a.times[v]){const g=v*d+u,q=g+d-u;x=a.values.slice(g,q)}else{const g=a.createInterpolant(),q=u,A=d-u;g.evaluate(s),x=g.resultBuffer.slice(q,A)}l==="quaternion"&&new ai().fromArray(x).normalize().conjugate().toArray(x);const _=c.times.length;for(let g=0;g<_;++g){const q=g*m+p;if(l==="quaternion")ai.multiplyQuaternionsFlat(c.values,q,x,0,c.values,q);else{const A=m-p*2;for(let M=0;M<A;++M)c.values[q+M]-=x[M]}}}return n.blendMode=tg,n}const GL={convertArray:Sl,isTypedArray:gS,getKeyframeOrder:vS,sortedArray:L5,flattenJSON:Mg,subclip:kL,makeClipAdditive:zL};class Yu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _S extends Yu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:xl,endingEnd:xl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case ql:s=e,a=2*t-i;break;case zf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ql:o=e,l=2*i-t;break;case zf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),x=v*v,_=x*v,g=-p*_+2*p*x-p*v,q=(1+p)*_+(-1.5-2*p)*x+(-.5+p)*v+1,A=(-1-m)*_+(1.5+m)*x+.5*v,M=m*_-m*x;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+q*o[c+C]+A*o[l+C]+M*o[d+C];return s}}class Eg extends Yu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class yS extends Yu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ms{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Sl(t,this.TimeBufferType),this.values=Sl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Sl(e.times,Array),values:Sl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new yS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Eg(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _S(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Iu:t=this.InterpolantFactoryMethodDiscrete;break;case Lu:t=this.InterpolantFactoryMethodLinear;break;case Vp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Iu;case this.InterpolantFactoryMethodLinear:return Lu;case this.InterpolantFactoryMethodSmooth:return Vp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&gS(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Vp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const x=t[d+v];if(x!==t[p+v]||x!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ms.prototype.TimeBufferType=Float32Array;Ms.prototype.ValueBufferType=Float32Array;Ms.prototype.DefaultInterpolation=Lu;class Kl extends Ms{constructor(e,t,i){super(e,t,i)}}Kl.prototype.ValueTypeName="bool";Kl.prototype.ValueBufferType=Array;Kl.prototype.DefaultInterpolation=Iu;Kl.prototype.InterpolantFactoryMethodLinear=void 0;Kl.prototype.InterpolantFactoryMethodSmooth=void 0;class wg extends Ms{}wg.prototype.ValueTypeName="color";class Gl extends Ms{}Gl.prototype.ValueTypeName="number";class xS extends Yu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)ai.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Hl extends Ms{InterpolantFactoryMethodLinear(e){return new xS(this.times,this.values,this.getValueSize(),e)}}Hl.prototype.ValueTypeName="quaternion";Hl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ql extends Ms{constructor(e,t,i){super(e,t,i)}}Ql.prototype.ValueTypeName="string";Ql.prototype.ValueBufferType=Array;Ql.prototype.DefaultInterpolation=Iu;Ql.prototype.InterpolantFactoryMethodLinear=void 0;Ql.prototype.InterpolantFactoryMethodSmooth=void 0;class Vl extends Ms{}Vl.prototype.ValueTypeName="vector";class Fu{constructor(e="",t=-1,i=[],r=X0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=br(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(VL(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Ms.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=vS(l);l=L5(l,1,u),c=L5(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Gl(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,x){if(m.length!==0){const _=[],g=[];Mg(m,_,g,v),_.length!==0&&x.push(new d(p,_,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const _=[],g=[];for(let q=0;q!==p[v].morphTargets.length;++q){const A=p[v];_.push(A.time),g.push(A.morphTarget===x?1:0)}r.push(new Gl(".morphTargetInfluence["+x+"]",_,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(Vl,m+".position",p,"pos",r),i(Hl,m+".quaternion",p,"rot",r),i(Vl,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function HL(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gl;case"vector":case"vector2":case"vector3":case"vector4":return Vl;case"color":return wg;case"quaternion":return Hl;case"bool":case"boolean":return Kl;case"string":return Ql}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function VL(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=HL(n.type);if(n.times===void 0){const t=[],i=[];Mg(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const go={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Cg{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const du=new Cg;class mi{constructor(e){this.manager=e!==void 0?e:du,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}mi.DEFAULT_MATERIAL_NAME="__DEFAULT";const so={};class WL extends Error{constructor(e,t){super(e),this.response=t}}class hr extends mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=go.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(so[e]!==void 0){so[e].push({onLoad:t,onProgress:i,onError:r});return}so[e]=[],so[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=so[e],d=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let x=0;const _=new ReadableStream({start(g){q();function q(){d.read().then(({done:A,value:M})=>{if(A)g.close();else{x+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let w=0,b=u.length;w<b;w++){const P=u[w];P.onProgress&&P.onProgress(C)}g.enqueue(M),q()}},A=>{g.error(A)})}}});return new Response(_)}else throw new WL(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{go.add(e,c);const u=so[e];delete so[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=so[e];if(u===void 0)throw this.manager.itemError(e),c;delete so[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class XL extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new hr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Fu.parse(e[i]);t.push(r)}return t}}class jL extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new im,l=new hr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=$t),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=$t),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class $f extends mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=go.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=jf("img");function l(){u(),go.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class JL extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new ad;s.colorSpace=Jr;const o=new $f(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class YL extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new _o,a=new hr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:wr,o.wrapT=c.wrapT!==void 0?c.wrapT:wr,o.magFilter=c.magFilter!==void 0?c.magFilter:$t,o.minFilter=c.minFilter!==void 0?c.minFilter:$t,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Zr),c.mipmapCount===1&&(o.minFilter=$t),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class Tg extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new ln,o=new $f(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Ra extends Gt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class qS extends Ra{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Gt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const M3=new ht,jv=new W,Jv=new W;class bg{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Re(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ld,this._frameExtents=new Re(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;jv.setFromMatrixPosition(e.matrixWorld),t.position.copy(jv),Jv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Jv),t.updateMatrixWorld(),M3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(M3),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(M3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KL extends bg{constructor(){super(new bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Du*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Rg extends Ra{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Gt.DEFAULT_UP),this.updateMatrix(),this.target=new Gt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new KL}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Yv=new ht,Gh=new W,E3=new W;class QL extends bg{constructor(){super(new bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Re(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Gh.setFromMatrixPosition(e.matrixWorld),i.position.copy(Gh),E3.copy(i.position),E3.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(E3),i.updateMatrixWorld(),r.makeTranslation(-Gh.x,-Gh.y,-Gh.z),Yv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Yv)}}class Pg extends Ra{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new QL}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ZL extends bg{constructor(){super(new Ta(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Bg extends Ra{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Gt.DEFAULT_UP),this.updateMatrix(),this.target=new Gt,this.shadow=new ZL}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AS extends Ra{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class SS extends Ra{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class MS{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new W)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class ES extends Ra{constructor(e=new MS,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class vm extends mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new hr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=vm.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ke().setHex(o.value);break;case"v2":r.uniforms[s].value=new Re().fromArray(o.value);break;case"v3":r.uniforms[s].value=new W().fromArray(o.value);break;case"v4":r.uniforms[s].value=new zt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new wt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ht().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Re().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Re().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:lS,SpriteMaterial:dg,RawShaderMaterial:cS,ShaderMaterial:ns,PointsMaterial:nm,MeshPhysicalMaterial:is,MeshStandardMaterial:Ju,MeshPhongMaterial:uS,MeshToonMaterial:hS,MeshNormalMaterial:fS,MeshLambertMaterial:dS,MeshDepthMaterial:Q0,MeshDistanceMaterial:Z0,MeshBasicMaterial:or,MeshMatcapMaterial:pS,LineDashedMaterial:mS,LineBasicMaterial:Ii,Material:Hn};return new t[e]}}class ma{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Ig extends At{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class wS extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new hr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],g=s(m,_.buffer),q=uu(_.type,g),A=new cd(q,_.stride);return A.uuid=_.uuid,t[v]=A,A}function s(m,v){if(i[v]!==void 0)return i[v];const _=m.arrayBuffers[v],g=new Uint32Array(_).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new Ig:new At,a=e.data.index;if(a!==void 0){const m=uu(a.type,a.array);o.setIndex(new Ut(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const _=r(e.data,v.data);x=new qa(_,v.itemSize,v.offset,v.normalized)}else{const _=uu(v.type,v.array),g=v.isInstancedBufferAttribute?Aa:Ut;x=new g(_,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let _=0,g=v.length;_<g;_++){const q=v[_];let A;if(q.isInterleavedBufferAttribute){const M=r(e.data,q.data);A=new qa(M,q.itemSize,q.offset,q.normalized)}else{const M=uu(q.type,q.array);A=new Ut(M,q.itemSize,q.normalized)}q.name!==void 0&&(A.name=q.name),x.push(A)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const x=d[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new W;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Jn(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class $L extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?ma.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new hr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?ma.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new hr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Pl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ud().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new wS;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in Xv?a=Xv[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new vm;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Fu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:uu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Cg(t);s=new $f(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],g=a(_);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new _o(g.data,g.width,g.height)))}r[d.uuid]=new Al(m)}else{const m=a(d.url);r[d.uuid]=new Al(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:uu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new $f(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new _o(v.data,v.width,v.height)))}i[l.uuid]=new Al(u)}else{const u=await s(l.url);i[l.uuid]=new Al(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new ad,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new _o:u=new ln,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,eD)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],Kv),u.wrapT=i(a.wrap[1],Kv)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,Qv)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,Qv)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let u,d;switch(e.type){case"Scene":o=new Jf,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new em(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new $0(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ta(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new AS(e.color,e.intensity);break;case"DirectionalLight":o=new Bg(e.color,e.intensity);break;case"PointLight":o=new Pg(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new SS(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Rg(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new qS(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new ES().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new pg(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new fn(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new mg(u,d,p),o.instanceMatrix=new Aa(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Aa(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new QA(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const _=new li;_.min.fromArray(x.boxMin),_.max.fromArray(x.boxMax);const g=new Jn;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:_,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new KA;break;case"Line":o=new Eo(a(e.geometry),l(e.material));break;case"LineLoop":o=new gg(a(e.geometry),l(e.material));break;case"LineSegments":o=new As(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new vg(a(e.geometry),l(e.material));break;case"Sprite":o=new YA(l(e.material));break;case"Group":o=new mo;break;case"Bone":o=new tm;break;default:o=new Gt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const eD={UVMapping:V0,CubeReflectionMapping:Mo,CubeRefractionMapping:ya,EquirectangularReflectionMapping:Nf,EquirectangularRefractionMapping:kf,CubeUVReflectionMapping:Hu},Kv={RepeatWrapping:xa,ClampToEdgeWrapping:wr,MirroredRepeatWrapping:Pu},Qv={NearestFilter:Dn,NearestMipmapNearestFilter:W0,NearestMipmapLinearFilter:yl,LinearFilter:$t,LinearMipmapNearestFilter:qu,LinearMipmapLinearFilter:Zr};class CS extends mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=go.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return go.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),go.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});go.add(e,l),s.manager.itemStart(e)}}let cp;class Lg{static getContext(){return cp===void 0&&(cp=new(window.AudioContext||window.webkitAudioContext)),cp}static setContext(e){cp=e}}class tD extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new hr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);Lg.getContext().decodeAudioData(c,function(d){t(d)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const Zv=new ht,$v=new ht,tl=new ht;class nD{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,tl.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(bl*t.fov*.5)/t.zoom;let a,l;$v.elements[12]=-r,Zv.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,tl.elements[0]=2*t.near/(l-a),tl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(tl),a=-o*t.aspect-s,l=o*t.aspect-s,tl.elements[0]=2*t.near/(l-a),tl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(tl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($v),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Zv)}}let Dg=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=e_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=e_();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function e_(){return(typeof performance>"u"?Date:performance).now()}const nl=new W,t_=new ai,iD=new W,il=new W;class rD extends Gt{constructor(){super(),this.type="AudioListener",this.context=Lg.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Dg}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(nl,t_,iD),il.set(0,0,-1).applyQuaternion(t_),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(nl.x,r),t.positionY.linearRampToValueAtTime(nl.y,r),t.positionZ.linearRampToValueAtTime(nl.z,r),t.forwardX.linearRampToValueAtTime(il.x,r),t.forwardY.linearRampToValueAtTime(il.y,r),t.forwardZ.linearRampToValueAtTime(il.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(nl.x,nl.y,nl.z),t.setOrientation(il.x,il.y,il.z,i.x,i.y,i.z)}}let TS=class extends Gt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const rl=new W,n_=new ai,sD=new W,sl=new W;class oD extends TS{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rl,n_,sD),sl.set(0,0,1).applyQuaternion(n_);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(rl.x,i),t.positionY.linearRampToValueAtTime(rl.y,i),t.positionZ.linearRampToValueAtTime(rl.z,i),t.orientationX.linearRampToValueAtTime(sl.x,i),t.orientationY.linearRampToValueAtTime(sl.y,i),t.orientationZ.linearRampToValueAtTime(sl.z,i)}else t.setPosition(rl.x,rl.y,rl.z),t.setOrientation(sl.x,sl.y,sl.z)}}class aD{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class bS{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){ai.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;ai.multiplyQuaternionsFlat(e,o,e,t,e,i),ai.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Ug="\\[\\]\\.:\\/",lD=new RegExp("["+Ug+"]","g"),Fg="[^"+Ug+"]",cD="[^"+Ug.replace("\\.","")+"]",uD=/((?:WC+[\/:])*)/.source.replace("WC",Fg),hD=/(WCOD+)?/.source.replace("WCOD",cD),fD=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Fg),dD=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Fg),pD=new RegExp("^"+uD+hD+fD+dD+"$"),mD=["material","materials","bones","map"];class gD{constructor(e,t,i){const r=i||kt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class kt{constructor(e,t,i){this.path=t,this.parsedPath=i||kt.parseTrackName(t),this.node=kt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new kt.Composite(e,t,i):new kt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lD,"")}static parseTrackName(e){const t=pD.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);mD.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=kt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}kt.Composite=gD;kt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};kt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};kt.prototype.GetterByBindingType=[kt.prototype._getValue_direct,kt.prototype._getValue_array,kt.prototype._getValue_arrayElement,kt.prototype._getValue_toArray];kt.prototype.SetterByBindingTypeAndVersioning=[[kt.prototype._setValue_direct,kt.prototype._setValue_direct_setNeedsUpdate,kt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_array,kt.prototype._setValue_array_setNeedsUpdate,kt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_arrayElement,kt.prototype._setValue_arrayElement_setNeedsUpdate,kt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_fromArray,kt.prototype._setValue_fromArray_setNeedsUpdate,kt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class vD{constructor(){this.isAnimationObjectGroup=!0,this.uuid=br(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let x=0,_=o;x!==_;++x)s[x].push(new kt(p,i[x],r[x]))}else if(v<c){a=e[v];const x=--c,_=e[x];t[_.uuid]=v,e[v]=_,t[m]=x,e[x]=p;for(let g=0,q=o;g!==q;++g){const A=s[g],M=A[x];let C=A[v];A[v]=M,C===void 0&&(C=new kt(p,i[g],r[g])),A[x]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const x=i[m],_=x[d],g=x[u];x[u]=_,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const p=--s,m=e[p],v=--o,x=e[v];t[m.uuid]=d,e[d]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let _=0,g=r;_!==g;++_){const q=i[_],A=q[p],M=q[v];q[d]=A,q[p]=M,q.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,x=r;v!==x;++v){const _=i[v];_[d]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=u,m=l.length;p!==m;++p){const v=l[p];d[p]=new kt(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class RS{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:xl,endingEnd:xl};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=yA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case tg:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case X0:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===xA;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===_A){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ql,r.endingEnd=ql):(e?r.endingStart=this.zeroSlopeAtStart?ql:xl:r.endingStart=zf,t?r.endingEnd=this.zeroSlopeAtEnd?ql:xl:r.endingEnd=zf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const _D=new Float32Array(1);class yD extends To{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;v=new bS(kt.create(i,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new Eg(new Float32Array(2),new Float32Array(2),1,_D),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Fu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=X0),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new RS(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Fu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Ti{constructor(e){this.value=e}clone(){return new Ti(this.value.clone===void 0?this.value:this.value.clone())}}let xD=0;class qD extends To{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:xD++}),this.name="",this.usage=Wf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class AD extends cd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class SD{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const i_=new ht;class _m{constructor(e,t,i=0,r=1/0){this.ray=new Vu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Rl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return i_.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(i_),this}intersectObject(e,t=!0,i=[]){return D5(e,this,i,t),i.sort(r_),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)D5(e[r],this,i,t);return i.sort(r_),i}}function r_(n,e){return n.distance-e.distance}function D5(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)D5(s[o],e,t,!0)}}class PS{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Tn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class MD{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const s_=new Re;class ED{constructor(e=new Re(1/0,1/0),t=new Re(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=s_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,s_).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const o_=new W,up=new W;class wD{constructor(e=new W,t=new W){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){o_.subVectors(e,this.start),up.subVectors(this.end,this.start);const i=up.dot(up);let s=up.dot(o_)/i;return t&&(s=Tn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const a_=new W;class CD extends Gt{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new At,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new ut(r,3));const s=new Ii({fog:!1,toneMapped:!1});this.cone=new As(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),a_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(a_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Jo=new W,hp=new ht,w3=new ht;class TD extends As{constructor(e){const t=BS(e),i=new At,r=[],s=[],o=new Ke(0,0,1),a=new Ke(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new ut(r,3)),i.setAttribute("color",new ut(s,3));const l=new Ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");w3.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(hp.multiplyMatrices(w3,a.matrixWorld),Jo.setFromMatrixPosition(hp),r.setXYZ(o,Jo.x,Jo.y,Jo.z),hp.multiplyMatrices(w3,a.parent.matrixWorld),Jo.setFromMatrixPosition(hp),r.setXYZ(o+1,Jo.x,Jo.y,Jo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BS(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,BS(n.children[t]));return e}class bD extends fn{constructor(e,t,i){const r=new pd(t,4,2),s=new or({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const RD=new W,l_=new Ke,c_=new Ke;class PD extends Gt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new dd(t);r.rotateY(Math.PI*.5),this.material=new or({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ut(o,3)),this.add(new fn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");l_.copy(this.light.color),c_.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?l_:c_;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(RD.setFromMatrixPosition(this.light.matrixWorld).negate())}}class BD extends As{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ke(i),r=new Ke(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new At;u.setAttribute("position",new ut(l,3)),u.setAttribute("color",new ut(c,3));const d=new Ii({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ID extends As{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ke(s),o=new Ke(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let x=v/r*(Math.PI*2),_=Math.sin(x)*m,g=Math.cos(x)*m;a.push(_,0,g),l.push(p.r,p.g,p.b),x=(v+1)/r*(Math.PI*2),_=Math.sin(x)*m,g=Math.cos(x)*m,a.push(_,0,g),l.push(p.r,p.g,p.b)}}const c=new At;c.setAttribute("position",new ut(a,3)),c.setAttribute("color",new ut(l,3));const u=new Ii({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const u_=new W,fp=new W,h_=new W;class LD extends Gt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new At;r.setAttribute("position",new ut([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ii({fog:!1,toneMapped:!1});this.lightPlane=new Eo(r,s),this.add(this.lightPlane),r=new At,r.setAttribute("position",new ut([0,0,0,0,0,1],3)),this.targetLine=new Eo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),u_.setFromMatrixPosition(this.light.matrixWorld),fp.setFromMatrixPosition(this.light.target.matrixWorld),h_.subVectors(fp,u_),this.lightPlane.lookAt(fp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fp),this.targetLine.scale.z=h_.length()}}const dp=new W,wn=new Wu;class DD extends As{constructor(e){const t=new At,i=new Ii({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new ut(r,3)),t.setAttribute("color",new ut(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ke(16755200),u=new Ke(16711680),d=new Ke(43775),p=new Ke(16777215),m=new Ke(3355443);this.setColors(c,u,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;wn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),In("c",t,e,wn,0,0,-1),In("t",t,e,wn,0,0,1),In("n1",t,e,wn,-i,-r,-1),In("n2",t,e,wn,i,-r,-1),In("n3",t,e,wn,-i,r,-1),In("n4",t,e,wn,i,r,-1),In("f1",t,e,wn,-i,-r,1),In("f2",t,e,wn,i,-r,1),In("f3",t,e,wn,-i,r,1),In("f4",t,e,wn,i,r,1),In("u1",t,e,wn,i*.7,r*1.1,-1),In("u2",t,e,wn,-i*.7,r*1.1,-1),In("u3",t,e,wn,0,r*2,-1),In("cf1",t,e,wn,-i,0,1),In("cf2",t,e,wn,i,0,1),In("cf3",t,e,wn,0,-r,1),In("cf4",t,e,wn,0,r,1),In("cn1",t,e,wn,-i,0,-1),In("cn2",t,e,wn,i,0,-1),In("cn3",t,e,wn,0,-r,-1),In("cn4",t,e,wn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function In(n,e,t,i,r,s,o){dp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],dp.x,dp.y,dp.z)}}const pp=new li;class UD extends As{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new At;s.setIndex(new Ut(i,1)),s.setAttribute("position",new Ut(r,3)),super(s,new Ii({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&pp.setFromObject(this.object),pp.isEmpty())return;const t=pp.min,i=pp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class FD extends As{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new At;s.setIndex(new Ut(i,1)),s.setAttribute("position",new ut(r,3)),super(s,new Ii({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class OD extends Eo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new At;o.setAttribute("position",new ut(s,3)),o.computeBoundingSphere(),super(o,new Ii({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new At;l.setAttribute("position",new ut(a,3)),l.computeBoundingSphere(),this.add(new fn(l,new or({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const f_=new W;let mp,C3;class ND extends Gt{constructor(e=new W(0,0,1),t=new W(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",mp===void 0&&(mp=new At,mp.setAttribute("position",new ut([0,0,0,0,1,0],3)),C3=new ju(0,.5,1,5,1),C3.translate(0,-.5,0)),this.position.copy(t),this.line=new Eo(mp,new Ii({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fn(C3,new or({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{f_.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(f_,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kD extends As{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new At;r.setAttribute("position",new ut(t,3)),r.setAttribute("color",new ut(i,3));const s=new Ii({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ke,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class IS{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Yf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const q=[];for(let A=0,M=g.length;A<M;A++){const C=g[A],w=new Pl;w.curves=C.curves,q.push(w)}return q}function i(g,q){const A=q.length;let M=!1;for(let C=A-1,w=0;w<A;C=w++){let b=q[C],P=q[w],R=P.x-b.x,T=P.y-b.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(b=q[w],R=-R,P=q[C],T=-T),g.y<b.y||g.y>P.y)continue;if(g.y===b.y){if(g.x===b.x)return!0}else{const F=T*(g.x-b.x)-R*(g.y-b.y);if(F===0)return!0;if(F<0)continue;M=!M}}else{if(g.y!==b.y)continue;if(P.x<=g.x&&g.x<=b.x||b.x<=g.x&&g.x<=P.x)return!0}}return M}const r=Gs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Pl,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,q=s.length;g<q;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new Pl,p:x},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,q=0;for(let A=0,M=p.length;A<M;A++)d[A]=[];for(let A=0,M=p.length;A<M;A++){const C=m[A];for(let w=0;w<C.length;w++){const b=C[w];let P=!0;for(let R=0;R<p.length;R++)i(b.p,p[R].p)&&(A!==R&&q++,P?(P=!1,d[R].push(b)):g=!0);P&&d[A].push(b)}}q>0&&g===!1&&(m=d)}let _;for(let g=0,q=p.length;g<q;g++){l=p[g].s,c.push(l),_=m[g];for(let A=0,M=_.length;A<M;A++)l.holes.push(_[A].h)}return c}}class zD extends ur{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Gu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Gu);const GD=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:j6,AddEquation:ta,AddOperation:tA,AdditiveAnimationBlendMode:tg,AdditiveBlending:Q4,AgXToneMapping:oA,AlphaFormat:fA,AlwaysCompare:RA,AlwaysDepth:Jq,AlwaysStencilFunc:C5,AmbientLight:AS,AnimationAction:RS,AnimationClip:Fu,AnimationLoader:XL,AnimationMixer:yD,AnimationObjectGroup:vD,AnimationUtils:GL,ArcCurve:ZA,ArrayCamera:XA,ArrowHelper:ND,AttachedBindMode:e5,Audio:TS,AudioAnalyser:aD,AudioContext:Lg,AudioListener:rD,AudioLoader:tD,AxesHelper:kD,BackSide:Pi,BasicDepthPacking:AA,BasicShadowMap:Tq,BatchedMesh:QA,Bone:tm,BooleanKeyframeTrack:Kl,Box2:ED,Box3:li,Box3Helper:FD,BoxGeometry:Yl,BoxHelper:UD,BufferAttribute:Ut,BufferGeometry:At,BufferGeometryLoader:wS,ByteType:cA,Cache:go,Camera:Wu,CameraHelper:DD,CanvasTexture:fL,CapsuleGeometry:sm,CatmullRomCurve3:$A,CineonToneMapping:rA,CircleGeometry:om,ClampToEdgeWrapping:wr,Clock:Dg,Color:Ke,ColorKeyframeTrack:wg,ColorManagement:jt,CompressedArrayTexture:uL,CompressedCubeTexture:hL,CompressedTexture:im,CompressedTextureLoader:jL,ConeGeometry:am,ConstantAlphaFactor:Wq,ConstantColorFactor:Hq,CubeCamera:FA,CubeReflectionMapping:Mo,CubeRefractionMapping:ya,CubeTexture:ad,CubeTextureLoader:JL,CubeUVReflectionMapping:Hu,CubicBezierCurve:yg,CubicBezierCurve3:eS,CubicInterpolant:_S,CullFaceBack:K4,CullFaceFront:Cq,CullFaceFrontBack:eT,CullFaceNone:wq,Curve:Ss,CurvePath:nS,CustomBlending:bq,CustomToneMapping:sA,CylinderGeometry:ju,Cylindrical:MD,Data3DTexture:lg,DataArrayTexture:J0,DataTexture:_o,DataTextureLoader:YL,DataUtils:ob,DecrementStencilOp:lT,DecrementWrapStencilOp:uT,DefaultLoadingManager:du,DepthFormat:pa,DepthStencilFormat:kl,DepthTexture:Y0,DetachedBindMode:lA,DirectionalLight:Bg,DirectionalLightHelper:LD,DiscreteInterpolant:yS,DisplayP3ColorSpace:j0,DodecahedronGeometry:lm,DoubleSide:rr,DstAlphaFactor:Oq,DstColorFactor:kq,DynamicCopyUsage:ET,DynamicDrawUsage:yT,DynamicReadUsage:AT,EdgesGeometry:iS,EllipseCurve:rm,EqualCompare:wA,EqualDepth:Kq,EqualStencilFunc:pT,EquirectangularReflectionMapping:Nf,EquirectangularRefractionMapping:kf,Euler:Pr,EventDispatcher:To,ExtrudeGeometry:fd,FileLoader:hr,Float16BufferAttribute:fb,Float32BufferAttribute:ut,FloatType:Cr,Fog:em,FogExp2:$0,FramebufferTexture:cL,FrontSide:qs,Frustum:ld,GLBufferAttribute:SD,GLSL1:CT,GLSL3:T5,GreaterCompare:CA,GreaterDepth:Zq,GreaterEqualCompare:bA,GreaterEqualDepth:Qq,GreaterEqualStencilFunc:_T,GreaterStencilFunc:gT,GridHelper:BD,Group:mo,HalfFloatType:Jl,HemisphereLight:qS,HemisphereLightHelper:PD,IcosahedronGeometry:um,ImageBitmapLoader:CS,ImageLoader:$f,ImageUtils:IA,IncrementStencilOp:aT,IncrementWrapStencilOp:cT,InstancedBufferAttribute:Aa,InstancedBufferGeometry:Ig,InstancedInterleavedBuffer:AD,InstancedMesh:mg,Int16BufferAttribute:ub,Int32BufferAttribute:hb,Int8BufferAttribute:ab,IntType:J6,InterleavedBuffer:cd,InterleavedBufferAttribute:qa,Interpolant:Yu,InterpolateDiscrete:Iu,InterpolateLinear:Lu,InterpolateSmooth:Vp,InvertStencilOp:hT,KeepStencilOp:fl,KeyframeTrack:Ms,LOD:KA,LatheGeometry:hd,Layers:Rl,LessCompare:EA,LessDepth:Yq,LessEqualCompare:rg,LessEqualDepth:Of,LessEqualStencilFunc:mT,LessStencilFunc:dT,Light:Ra,LightProbe:ES,Line:Eo,Line3:wD,LineBasicMaterial:Ii,LineCurve:xg,LineCurve3:tS,LineDashedMaterial:mS,LineLoop:gg,LineSegments:As,LinearDisplayP3ColorSpace:od,LinearFilter:$t,LinearInterpolant:Eg,LinearMipMapLinearFilter:rT,LinearMipMapNearestFilter:iT,LinearMipmapLinearFilter:Zr,LinearMipmapNearestFilter:qu,LinearSRGBColorSpace:Co,LinearToneMapping:nA,LinearTransfer:Gf,Loader:mi,LoaderUtils:ma,LoadingManager:Cg,LoopOnce:_A,LoopPingPong:xA,LoopRepeat:yA,LuminanceAlphaFormat:mA,LuminanceFormat:pA,MOUSE:ZC,Material:Hn,MaterialLoader:vm,MathUtils:og,Matrix3:wt,Matrix4:ht,MaxEquation:Iq,Mesh:fn,MeshBasicMaterial:or,MeshDepthMaterial:Q0,MeshDistanceMaterial:Z0,MeshLambertMaterial:dS,MeshMatcapMaterial:pS,MeshNormalMaterial:fS,MeshPhongMaterial:uS,MeshPhysicalMaterial:is,MeshStandardMaterial:Ju,MeshToonMaterial:hS,MinEquation:Bq,MirroredRepeatWrapping:Pu,MixOperation:eA,MultiplyBlending:$4,MultiplyOperation:sd,NearestFilter:Dn,NearestMipMapLinearFilter:nT,NearestMipMapNearestFilter:tT,NearestMipmapLinearFilter:yl,NearestMipmapNearestFilter:W0,NeutralToneMapping:aA,NeverCompare:MA,NeverDepth:jq,NeverStencilFunc:fT,NoBlending:ks,NoColorSpace:uo,NoToneMapping:zs,NormalAnimationBlendMode:X0,NormalBlending:Tl,NotEqualCompare:TA,NotEqualDepth:$q,NotEqualStencilFunc:vT,NumberKeyframeTrack:Gl,Object3D:Gt,ObjectLoader:$L,ObjectSpaceNormalMap:SA,OctahedronGeometry:dd,OneFactor:Dq,OneMinusConstantAlphaFactor:Xq,OneMinusConstantColorFactor:Vq,OneMinusDstAlphaFactor:Nq,OneMinusDstColorFactor:zq,OneMinusSrcAlphaFactor:q0,OneMinusSrcColorFactor:Fq,OrthographicCamera:Ta,P3Primaries:Vf,PCFShadowMap:H0,PCFSoftShadowMap:mf,PMREMGenerator:b5,Path:Yf,PerspectiveCamera:bn,Plane:co,PlaneGeometry:bo,PlaneHelper:OD,PointLight:Pg,PointLightHelper:bD,Points:vg,PointsMaterial:nm,PolarGridHelper:ID,PolyhedronGeometry:ba,PositionalAudio:oD,PropertyBinding:kt,PropertyMixer:bS,QuadraticBezierCurve:qg,QuadraticBezierCurve3:Ag,Quaternion:ai,QuaternionKeyframeTrack:Hl,QuaternionLinearInterpolant:xS,RED_GREEN_RGTC2_Format:E5,RED_RGTC1_Format:vA,REVISION:Gu,RGBADepthPacking:ig,RGBAFormat:Wi,RGBAIntegerFormat:eg,RGBA_ASTC_10x10_Format:y5,RGBA_ASTC_10x5_Format:g5,RGBA_ASTC_10x6_Format:v5,RGBA_ASTC_10x8_Format:_5,RGBA_ASTC_12x10_Format:x5,RGBA_ASTC_12x12_Format:q5,RGBA_ASTC_4x4_Format:l5,RGBA_ASTC_5x4_Format:c5,RGBA_ASTC_5x5_Format:u5,RGBA_ASTC_6x5_Format:h5,RGBA_ASTC_6x6_Format:f5,RGBA_ASTC_8x5_Format:d5,RGBA_ASTC_8x6_Format:p5,RGBA_ASTC_8x8_Format:m5,RGBA_BPTC_Format:Hp,RGBA_ETC2_EAC_Format:a5,RGBA_PVRTC_2BPPV1_Format:r5,RGBA_PVRTC_4BPPV1_Format:i5,RGBA_S3TC_DXT1_Format:kp,RGBA_S3TC_DXT3_Format:zp,RGBA_S3TC_DXT5_Format:Gp,RGBFormat:dA,RGB_BPTC_SIGNED_Format:A5,RGB_BPTC_UNSIGNED_Format:S5,RGB_ETC1_Format:s5,RGB_ETC2_Format:o5,RGB_PVRTC_2BPPV1_Format:n5,RGB_PVRTC_4BPPV1_Format:t5,RGB_S3TC_DXT1_Format:Np,RGFormat:gA,RGIntegerFormat:$6,RawShaderMaterial:cS,Ray:Vu,Raycaster:_m,Rec709Primaries:Hf,RectAreaLight:SS,RedFormat:Q6,RedIntegerFormat:Z6,ReinhardToneMapping:iA,RenderTarget:LA,RepeatWrapping:xa,ReplaceStencilOp:oT,ReverseSubtractEquation:Pq,RingGeometry:hm,SIGNED_RED_GREEN_RGTC2_Format:w5,SIGNED_RED_RGTC1_Format:M5,SRGBColorSpace:Jr,SRGBTransfer:sn,Scene:Jf,ShaderChunk:Tt,ShaderLib:vs,ShaderMaterial:ns,ShadowMaterial:lS,Shape:Pl,ShapeGeometry:fm,ShapePath:IS,ShapeUtils:Gs,ShortType:uA,Skeleton:ud,SkeletonHelper:TD,SkinnedMesh:pg,Source:Al,Sphere:Jn,SphereGeometry:pd,Spherical:PS,SphericalHarmonics3:MS,SplineCurve:Sg,SpotLight:Rg,SpotLightHelper:CD,Sprite:YA,SpriteMaterial:dg,SrcAlphaFactor:x0,SrcAlphaSaturateFactor:Gq,SrcColorFactor:Uq,StaticCopyUsage:MT,StaticDrawUsage:Wf,StaticReadUsage:qT,StereoCamera:nD,StreamCopyUsage:wT,StreamDrawUsage:xT,StreamReadUsage:ST,StringKeyframeTrack:Ql,SubtractEquation:Rq,SubtractiveBlending:Z4,TOUCH:$C,TangentSpaceNormalMap:Ca,TetrahedronGeometry:dm,Texture:ln,TextureLoader:Tg,TorusGeometry:pm,TorusKnotGeometry:mm,Triangle:Mr,TriangleFanDrawMode:A0,TriangleStripDrawMode:ng,TrianglesDrawMode:qA,TubeGeometry:gm,UVMapping:V0,Uint16BufferAttribute:cg,Uint32BufferAttribute:ug,Uint8BufferAttribute:lb,Uint8ClampedBufferAttribute:cb,Uniform:Ti,UniformsGroup:qD,UniformsLib:Ze,UniformsUtils:hg,UnsignedByteType:Hs,UnsignedInt248Type:Nl,UnsignedInt5999Type:hA,UnsignedIntType:Ol,UnsignedShort4444Type:Y6,UnsignedShort5551Type:K6,UnsignedShortType:Bu,VSMShadowMap:ds,Vector2:Re,Vector3:W,Vector4:zt,VectorKeyframeTrack:Vl,VideoTexture:lL,WebGL3DRenderTarget:KT,WebGLArrayRenderTarget:YT,WebGLCoordinateSystem:Fs,WebGLCubeRenderTarget:OA,WebGLMultipleRenderTargets:zD,WebGLRenderTarget:ur,WebGLRenderer:jA,WebGLUtils:WA,WebGPUCoordinateSystem:Xf,WireframeGeometry:aS,WrapAroundEnding:zf,ZeroCurvatureEnding:xl,ZeroFactor:Lq,ZeroSlopeEnding:ql,ZeroStencilOp:sT,createCanvasElement:BA},Symbol.toStringTag,{value:"Module"}));var LS={exports:{}},Zl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Zl.ConcurrentRoot=1;Zl.ContinuousEventPriority=4;Zl.DefaultEventPriority=16;Zl.DiscreteEventPriority=1;Zl.IdleEventPriority=536870912;Zl.LegacyRoot=0;LS.exports=Zl;var pu=LS.exports;function HD(n){let e;const t=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!d(p,v)){const x=p;c(p=v,x)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const VD=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),d_=VD?ue.useEffect:ue.useLayoutEffect;function ym(n){const e=typeof n=="function"?HD(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=ue.useReducer(_=>_+1,0),o=e.getState(),a=ue.useRef(o),l=ue.useRef(i),c=ue.useRef(r),u=ue.useRef(!1),d=ue.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(p=i(o),m=!r(d.current,p)),d_(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,u.current=!1});const v=ue.useRef(o);d_(()=>{const _=()=>{try{const q=e.getState(),A=l.current(q);c.current(d.current,A)||(a.current=q,d.current=A,s())}catch{u.current=!0,s()}},g=e.subscribe(_);return e.getState()!==v.current&&_(),g},[]);const x=m?p:d.current;return ue.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const WD=Object.freeze(Object.defineProperty({__proto__:null,default:ym},Symbol.toStringTag,{value:"Module"}));var DS={exports:{}},T3={exports:{}},b3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function XD(){return p_||(p_=1,function(n){function e(D,G){var N=D.length;D.push(G);e:for(;0<N;){var O=N-1>>>1,J=D[O];if(0<r(J,G))D[O]=G,D[N]=J,N=O;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],N=D.pop();if(N!==G){D[0]=N;e:for(var O=0,J=D.length,Z=J>>>1;O<Z;){var j=2*(O+1)-1,Q=D[j],ie=j+1,$=D[ie];if(0>r(Q,N))ie<J&&0>r($,Q)?(D[O]=$,D[ie]=N,O=ie):(D[O]=Q,D[j]=N,O=j);else if(ie<J&&0>r($,N))D[O]=$,D[ie]=N,O=ie;else break e}}return G}function r(D,G){var N=D.sortIndex-G.sortIndex;return N!==0?N:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var G=t(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=D)i(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function M(D){if(x=!1,A(D),!v)if(t(l)!==null)v=!0,X(C);else{var G=t(c);G!==null&&ee(M,G.startTime-D)}}function C(D,G){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var N=p;try{for(A(G),d=t(l);d!==null&&(!(d.expirationTime>G)||D&&!F());){var O=d.callback;if(typeof O=="function"){d.callback=null,p=d.priorityLevel;var J=O(d.expirationTime<=G);G=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),A(G)}else i(l);d=t(l)}if(d!==null)var Z=!0;else{var j=t(c);j!==null&&ee(M,j.startTime-G),Z=!1}return Z}finally{d=null,p=N,m=!1}}var w=!1,b=null,P=-1,R=5,T=-1;function F(){return!(n.unstable_now()-T<R)}function L(){if(b!==null){var D=n.unstable_now();T=D;var G=!0;try{G=b(!0,D)}finally{G?U():(w=!1,b=null)}}else w=!1}var U;if(typeof q=="function")U=function(){q(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Y=k.port2;k.port1.onmessage=L,U=function(){Y.postMessage(null)}}else U=function(){_(L,0)};function X(D){b=D,w||(w=!0,U())}function ee(D,G){P=_(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var N=p;p=G;try{return D()}finally{p=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var N=p;p=D;try{return G()}finally{p=N}},n.unstable_scheduleCallback=function(D,G,N){var O=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=N+J,D={id:u++,callback:G,priorityLevel:D,startTime:N,expirationTime:J,sortIndex:-1},N>O?(D.sortIndex=N,e(c,D),t(l)===null&&D===t(c)&&(x?(g(P),P=-1):x=!0,ee(M,N-O))):(D.sortIndex=J,e(l,D),v||m||(v=!0,X(C))),D},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(D){var G=p;return function(){var N=p;p=G;try{return D.apply(this,arguments)}finally{p=N}}}}(b3)),b3}var m_;function jD(){return m_||(m_=1,T3.exports=XD()),T3.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD=function(e){var t={},i=ue,r=jD(),s=Object.assign;function o(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function w(h){return h===null||typeof h!="object"?null:(h=C&&h[C]||h["@@iterator"],typeof h=="function"?h:null)}function b(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case v:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case x:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case q:return f=h.displayName||null,f!==null?f:b(h.type)||"Memo";case A:f=h._payload,h=h._init;try{return b(h(f))}catch{}}return null}function P(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(h){var f=h,y=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,f.flags&4098&&(y=f.return),h=f.return;while(h)}return f.tag===3?y:null}function T(h){if(R(h)!==h)throw Error(o(188))}function F(h){var f=h.alternate;if(!f){if(f=R(h),f===null)throw Error(o(188));return f!==h?null:h}for(var y=h,S=f;;){var E=y.return;if(E===null)break;var B=E.alternate;if(B===null){if(S=E.return,S!==null){y=S;continue}break}if(E.child===B.child){for(B=E.child;B;){if(B===y)return T(E),h;if(B===S)return T(E),f;B=B.sibling}throw Error(o(188))}if(y.return!==S.return)y=E,S=B;else{for(var K=!1,oe=E.child;oe;){if(oe===y){K=!0,y=E,S=B;break}if(oe===S){K=!0,S=E,y=B;break}oe=oe.sibling}if(!K){for(oe=B.child;oe;){if(oe===y){K=!0,y=B,S=E;break}if(oe===S){K=!0,S=B,y=E;break}oe=oe.sibling}if(!K)throw Error(o(189))}}if(y.alternate!==S)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?h:f}function L(h){return h=F(h),h!==null?U(h):null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=U(h);if(f!==null)return f;h=h.sibling}return null}function k(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var f=k(h);if(f!==null)return f}h=h.sibling}return null}var Y=Array.isArray,X=e.getPublicInstance,ee=e.getRootHostContext,D=e.getChildHostContext,G=e.prepareForCommit,N=e.resetAfterCommit,O=e.createInstance,J=e.appendInitialChild,Z=e.finalizeInitialChildren,j=e.prepareUpdate,Q=e.shouldSetTextContent,ie=e.createTextInstance,$=e.scheduleTimeout,ge=e.cancelTimeout,De=e.noTimeout,Ie=e.isPrimaryRenderer,z=e.supportsMutation,ne=e.supportsPersistence,pe=e.supportsHydration,Me=e.getInstanceFromNode,xe=e.preparePortalMount,Se=e.getCurrentEventPriority,Be=e.detachDeletedInstance,ve=e.supportsMicrotasks,Ue=e.scheduleMicrotask,H=e.supportsTestSelectors,I=e.findFiberRoot,re=e.getBoundingRect,ae=e.getTextContent,he=e.isHiddenSubtree,de=e.matchAccessibilityRole,Je=e.setFocusIfFocusable,Ae=e.setupIntersectionObserver,Te=e.appendChild,Ve=e.appendChildToContainer,Pe=e.commitTextUpdate,ze=e.commitMount,st=e.commitUpdate,We=e.insertBefore,Le=e.insertInContainerBefore,Oe=e.removeChild,rt=e.removeChildFromContainer,vt=e.resetTextContent,te=e.hideInstance,Ne=e.hideTextInstance,me=e.unhideInstance,Ee=e.unhideTextInstance,Ge=e.clearContainer,Qe=e.cloneInstance,it=e.createContainerChildSet,yt=e.appendChildToContainerChildSet,xt=e.finalizeContainerChildren,tt=e.replaceContainerChildren,Lt=e.cloneHiddenInstance,Yt=e.cloneHiddenTextInstance,nn=e.canHydrateInstance,cn=e.canHydrateTextInstance,gi=e.canHydrateSuspenseInstance,Yi=e.isSuspenseInstancePending,Qn=e.isSuspenseInstanceFallback,fr=e.registerSuspenseInstanceRetry,Zn=e.getNextHydratableSibling,Ki=e.getFirstHydratableChild,Un=e.getFirstHydratableChildWithinContainer,rs=e.getFirstHydratableChildWithinSuspenseInstance,tc=e.hydrateInstance,Pa=e.hydrateTextInstance,V=e.hydrateSuspenseInstance,le=e.getNextHydratableInstanceAfterSuspenseInstance,_e=e.commitHydratedContainer,qe=e.commitHydratedSuspenseInstance,fe=e.clearSuspenseBoundary,Xe=e.clearSuspenseBoundaryFromContainer,$e=e.shouldDeleteUnhydratedTailInstances,ot=e.didNotMatchHydratedContainerTextInstance,ct=e.didNotMatchHydratedTextInstance,Fe;function ft(h){if(Fe===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Fe=f&&f[1]||""}return`
`+Fe+h}var mt=!1;function Rt(h,f){if(!h||mt)return"";mt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(je){var S=je}Reflect.construct(h,[],f)}else{try{f.call()}catch(je){S=je}h.call(f.prototype)}else{try{throw Error()}catch(je){S=je}h()}}catch(je){if(je&&S&&typeof je.stack=="string"){for(var E=je.stack.split(`
`),B=S.stack.split(`
`),K=E.length-1,oe=B.length-1;1<=K&&0<=oe&&E[K]!==B[oe];)oe--;for(;1<=K&&0<=oe;K--,oe--)if(E[K]!==B[oe]){if(K!==1||oe!==1)do if(K--,oe--,0>oe||E[K]!==B[oe]){var Ce=`
`+E[K].replace(" at new "," at ");return h.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",h.displayName)),Ce}while(1<=K&&0<=oe);break}}}finally{mt=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?ft(h):""}var Kt=Object.prototype.hasOwnProperty,Qt=[],dn=-1;function St(h){return{current:h}}function Ye(h){0>dn||(h.current=Qt[dn],Qt[dn]=null,dn--)}function qt(h,f){dn++,Qt[dn]=h.current,h.current=f}var Ct={},Zt=St(Ct),vn=St(!1),$n=Ct;function vi(h,f){var y=h.type.contextTypes;if(!y)return Ct;var S=h.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var E={},B;for(B in y)E[B]=f[B];return S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=E),E}function Ft(h){return h=h.childContextTypes,h!=null}function Fn(){Ye(vn),Ye(Zt)}function Es(h,f,y){if(Zt.current!==Ct)throw Error(o(168));qt(Zt,f),qt(vn,y)}function Vn(h,f,y){var S=h.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var E in S)if(!(E in f))throw Error(o(108,P(h)||"Unknown",E));return s({},y,S)}function Dr(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ct,$n=Zt.current,qt(Zt,h),qt(vn,vn.current),!0}function Li(h,f,y){var S=h.stateNode;if(!S)throw Error(o(169));y?(h=Vn(h,f,$n),S.__reactInternalMemoizedMergedChildContext=h,Ye(vn),Ye(Zt),qt(Zt,h)):Ye(vn),qt(vn,y)}var _i=Math.clz32?Math.clz32:vd,nc=Math.log,Ba=Math.LN2;function vd(h){return h>>>=0,h===0?32:31-(nc(h)/Ba|0)|0}var Vs=64,Ws=4194304;function Xs(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ia(h,f){var y=h.pendingLanes;if(y===0)return 0;var S=0,E=h.suspendedLanes,B=h.pingedLanes,K=y&268435455;if(K!==0){var oe=K&~E;oe!==0?S=Xs(oe):(B&=K,B!==0&&(S=Xs(B)))}else K=y&~E,K!==0?S=Xs(K):B!==0&&(S=Xs(B));if(S===0)return 0;if(f!==0&&f!==S&&!(f&E)&&(E=S&-S,B=f&-f,E>=B||E===16&&(B&4194240)!==0))return f;if(S&4&&(S|=y&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=S;0<f;)y=31-_i(f),E=1<<y,S|=h[y],f&=~E;return S}function _d(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(h,f){for(var y=h.suspendedLanes,S=h.pingedLanes,E=h.expirationTimes,B=h.pendingLanes;0<B;){var K=31-_i(B),oe=1<<K,Ce=E[K];Ce===-1?(!(oe&y)||oe&S)&&(E[K]=_d(oe,f)):Ce<=f&&(h.expiredLanes|=oe),B&=~oe}}function js(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function ic(h){for(var f=[],y=0;31>y;y++)f.push(h);return f}function ws(h,f,y){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-_i(f),h[f]=y}function Ro(h,f){var y=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var S=h.eventTimes;for(h=h.expirationTimes;0<y;){var E=31-_i(y),B=1<<E;f[E]=0,S[E]=-1,h[E]=-1,y&=~B}}function Cs(h,f){var y=h.entangledLanes|=f;for(h=h.entanglements;y;){var S=31-_i(y),E=1<<S;E&f|h[S]&f&&(h[S]|=f),y&=~E}}var Dt=0;function eh(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Js=r.unstable_scheduleCallback,rc=r.unstable_cancelCallback,th=r.unstable_shouldYield,yd=r.unstable_requestPaint,_n=r.unstable_now,La=r.unstable_ImmediatePriority,xd=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,nh=r.unstable_IdlePriority,Da=null,dr=null;function ih(h){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Da,h,void 0,(h.current.flags&128)===128)}catch{}}function qd(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var pr=typeof Object.is=="function"?Object.is:qd,Ui=null,Ts=!1,Ur=!1;function rh(h){Ui===null?Ui=[h]:Ui.push(h)}function sh(h){Ts=!0,rh(h)}function Qi(){if(!Ur&&Ui!==null){Ur=!0;var h=0,f=Dt;try{var y=Ui;for(Dt=1;h<y.length;h++){var S=y[h];do S=S(!0);while(S!==null)}Ui=null,Ts=!1}catch(E){throw Ui!==null&&(Ui=Ui.slice(h+1)),Js(La,Qi),E}finally{Dt=f,Ur=!1}}return null}var Ua=a.ReactCurrentBatchConfig;function Fa(h,f){if(pr(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var y=Object.keys(h),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var E=y[S];if(!Kt.call(f,E)||!pr(h[E],f[E]))return!1}return!0}function Oa(h){switch(h.tag){case 5:return ft(h.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return h=Rt(h.type,!1),h;case 11:return h=Rt(h.type.render,!1),h;case 1:return h=Rt(h.type,!0),h;default:return""}}function Fi(h,f){if(h&&h.defaultProps){f=s({},f),h=h.defaultProps;for(var y in h)f[y]===void 0&&(f[y]=h[y]);return f}return f}var ei=St(null),sc=null,ss=null,Po=null;function oc(){Po=ss=sc=null}function Ad(h,f,y){Ie?(qt(ei,f._currentValue),f._currentValue=y):(qt(ei,f._currentValue2),f._currentValue2=y)}function ti(h){var f=ei.current;Ye(ei),Ie?h._currentValue=f:h._currentValue2=f}function Oi(h,f,y){for(;h!==null;){var S=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),h===y)break;h=h.return}}function Rn(h,f){sc=h,Po=ss=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&f&&(_r=!0),h.firstContext=null)}function Pn(h){var f=Ie?h._currentValue:h._currentValue2;if(Po!==h)if(h={context:h,memoizedValue:f,next:null},ss===null){if(sc===null)throw Error(o(308));ss=h,sc.dependencies={lanes:0,firstContext:h}}else ss=ss.next=h;return f}var mr=null,Bo=!1;function Sm(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ys(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function Io(h,f){var y=h.updateQueue;y!==null&&(y=y.shared,On!==null&&h.mode&1&&!(It&2)?(h=y.interleaved,h===null?(f.next=f,mr===null?mr=[y]:mr.push(y)):(f.next=h.next,h.next=f),y.interleaved=f):(h=y.pending,h===null?f.next=f:(f.next=h.next,h.next=f),y.pending=f))}function Sd(h,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var S=f.lanes;S&=h.pendingLanes,y|=S,f.lanes=y,Cs(h,y)}}function e8(h,f){var y=h.updateQueue,S=h.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var E=null,B=null;if(y=y.firstBaseUpdate,y!==null){do{var K={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};B===null?E=B=K:B=B.next=K,y=y.next}while(y!==null);B===null?E=B=f:B=B.next=f}else E=B=f;y={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:B,shared:S.shared,effects:S.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=f:h.next=f,y.lastBaseUpdate=f}function Md(h,f,y,S){var E=h.updateQueue;Bo=!1;var B=E.firstBaseUpdate,K=E.lastBaseUpdate,oe=E.shared.pending;if(oe!==null){E.shared.pending=null;var Ce=oe,je=Ce.next;Ce.next=null,K===null?B=je:K.next=je,K=Ce;var lt=h.alternate;lt!==null&&(lt=lt.updateQueue,oe=lt.lastBaseUpdate,oe!==K&&(oe===null?lt.firstBaseUpdate=je:oe.next=je,lt.lastBaseUpdate=Ce))}if(B!==null){var Mt=E.baseState;K=0,lt=je=Ce=null,oe=B;do{var gt=oe.lane,tn=oe.eventTime;if((S&gt)===gt){lt!==null&&(lt=lt.next={eventTime:tn,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var pt=h,Ai=oe;switch(gt=f,tn=y,Ai.tag){case 1:if(pt=Ai.payload,typeof pt=="function"){Mt=pt.call(tn,Mt,gt);break e}Mt=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Ai.payload,gt=typeof pt=="function"?pt.call(tn,Mt,gt):pt,gt==null)break e;Mt=s({},Mt,gt);break e;case 2:Bo=!0}}oe.callback!==null&&oe.lane!==0&&(h.flags|=64,gt=E.effects,gt===null?E.effects=[oe]:gt.push(oe))}else tn={eventTime:tn,lane:gt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},lt===null?(je=lt=tn,Ce=Mt):lt=lt.next=tn,K|=gt;if(oe=oe.next,oe===null){if(oe=E.shared.pending,oe===null)break;gt=oe,oe=gt.next,gt.next=null,E.lastBaseUpdate=gt,E.shared.pending=null}}while(!0);if(lt===null&&(Ce=Mt),E.baseState=Ce,E.firstBaseUpdate=je,E.lastBaseUpdate=lt,f=E.shared.interleaved,f!==null){E=f;do K|=E.lane,E=E.next;while(E!==f)}else B===null&&(E.shared.lanes=0);mc|=K,h.lanes=K,h.memoizedState=Mt}}function t8(h,f,y){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var S=h[f],E=S.callback;if(E!==null){if(S.callback=null,S=y,typeof E!="function")throw Error(o(191,E));E.call(S)}}}var n8=new i.Component().refs;function Mm(h,f,y,S){f=h.memoizedState,y=y(S,f),y=y==null?f:s({},f,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var Ed={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,f,y){h=h._reactInternals;var S=ki(),E=Uo(h),B=Ys(S,E);B.payload=f,y!=null&&(B.callback=y),Io(h,B),f=zr(h,E,S),f!==null&&Sd(f,h,E)},enqueueReplaceState:function(h,f,y){h=h._reactInternals;var S=ki(),E=Uo(h),B=Ys(S,E);B.tag=1,B.payload=f,y!=null&&(B.callback=y),Io(h,B),f=zr(h,E,S),f!==null&&Sd(f,h,E)},enqueueForceUpdate:function(h,f){h=h._reactInternals;var y=ki(),S=Uo(h),E=Ys(y,S);E.tag=2,f!=null&&(E.callback=f),Io(h,E),f=zr(h,S,y),f!==null&&Sd(f,h,S)}};function i8(h,f,y,S,E,B,K){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,B,K):f.prototype&&f.prototype.isPureReactComponent?!Fa(y,S)||!Fa(E,B):!0}function r8(h,f,y){var S=!1,E=Ct,B=f.contextType;return typeof B=="object"&&B!==null?B=Pn(B):(E=Ft(f)?$n:Zt.current,S=f.contextTypes,B=(S=S!=null)?vi(h,E):Ct),f=new f(y,B),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ed,h.stateNode=f,f._reactInternals=h,S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=E,h.__reactInternalMemoizedMaskedChildContext=B),f}function s8(h,f,y,S){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==h&&Ed.enqueueReplaceState(f,f.state,null)}function Em(h,f,y,S){var E=h.stateNode;E.props=y,E.state=h.memoizedState,E.refs=n8,Sm(h);var B=f.contextType;typeof B=="object"&&B!==null?E.context=Pn(B):(B=Ft(f)?$n:Zt.current,E.context=vi(h,B)),E.state=h.memoizedState,B=f.getDerivedStateFromProps,typeof B=="function"&&(Mm(h,f,B,y),E.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&Ed.enqueueReplaceState(E,E.state,null),Md(h,y,E,S),E.state=h.memoizedState),typeof E.componentDidMount=="function"&&(h.flags|=4194308)}var ac=[],lc=0,wd=null,Cd=0,Fr=[],Or=0,Na=null,Ks=1,Qs="";function ka(h,f){ac[lc++]=Cd,ac[lc++]=wd,wd=h,Cd=f}function o8(h,f,y){Fr[Or++]=Ks,Fr[Or++]=Qs,Fr[Or++]=Na,Na=h;var S=Ks;h=Qs;var E=32-_i(S)-1;S&=~(1<<E),y+=1;var B=32-_i(f)+E;if(30<B){var K=E-E%5;B=(S&(1<<K)-1).toString(32),S>>=K,E-=K,Ks=1<<32-_i(f)+E|y<<E|S,Qs=B+h}else Ks=1<<B|y<<E|S,Qs=h}function wm(h){h.return!==null&&(ka(h,1),o8(h,1,0))}function Cm(h){for(;h===wd;)wd=ac[--lc],ac[lc]=null,Cd=ac[--lc],ac[lc]=null;for(;h===Na;)Na=Fr[--Or],Fr[Or]=null,Qs=Fr[--Or],Fr[Or]=null,Ks=Fr[--Or],Fr[Or]=null}var gr=null,vr=null,pn=!1,oh=!1,os=null;function a8(h,f){var y=Gr(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=h,f=h.deletions,f===null?(h.deletions=[y],h.flags|=16):f.push(y)}function l8(h,f){switch(h.tag){case 5:return f=nn(f,h.type,h.pendingProps),f!==null?(h.stateNode=f,gr=h,vr=Ki(f),!0):!1;case 6:return f=cn(f,h.pendingProps),f!==null?(h.stateNode=f,gr=h,vr=null,!0):!1;case 13:if(f=gi(f),f!==null){var y=Na!==null?{id:Ks,overflow:Qs}:null;return h.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=Gr(18,null,null,0),y.stateNode=f,y.return=h,h.child=y,gr=h,vr=null,!0}return!1;default:return!1}}function Tm(h){return(h.mode&1)!==0&&(h.flags&128)===0}function bm(h){if(pn){var f=vr;if(f){var y=f;if(!l8(h,f)){if(Tm(h))throw Error(o(418));f=Zn(y);var S=gr;f&&l8(h,f)?a8(S,y):(h.flags=h.flags&-4097|2,pn=!1,gr=h)}}else{if(Tm(h))throw Error(o(418));h.flags=h.flags&-4097|2,pn=!1,gr=h}}}function c8(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;gr=h}function ah(h){if(!pe||h!==gr)return!1;if(!pn)return c8(h),pn=!0,!1;if(h.tag!==3&&(h.tag!==5||$e(h.type)&&!Q(h.type,h.memoizedProps))){var f=vr;if(f){if(Tm(h)){for(h=vr;h;)h=Zn(h);throw Error(o(418))}for(;f;)a8(h,f),f=Zn(f)}}if(c8(h),h.tag===13){if(!pe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));vr=le(h)}else vr=gr?Zn(h.stateNode):null;return!0}function cc(){pe&&(vr=gr=null,oh=pn=!1)}function Rm(h){os===null?os=[h]:os.push(h)}function lh(h,f,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var S=y.stateNode}if(!S)throw Error(o(147,h));var E=S,B=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===B?f.ref:(f=function(K){var oe=E.refs;oe===n8&&(oe=E.refs={}),K===null?delete oe[B]:oe[B]=K},f._stringRef=B,f)}if(typeof h!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,h))}return h}function Td(h,f){throw h=Object.prototype.toString.call(f),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function u8(h){var f=h._init;return f(h._payload)}function h8(h){function f(ye,ce){if(h){var we=ye.deletions;we===null?(ye.deletions=[ce],ye.flags|=16):we.push(ce)}}function y(ye,ce){if(!h)return null;for(;ce!==null;)f(ye,ce),ce=ce.sibling;return null}function S(ye,ce){for(ye=new Map;ce!==null;)ce.key!==null?ye.set(ce.key,ce):ye.set(ce.index,ce),ce=ce.sibling;return ye}function E(ye,ce){return ye=Oo(ye,ce),ye.index=0,ye.sibling=null,ye}function B(ye,ce,we){return ye.index=we,h?(we=ye.alternate,we!==null?(we=we.index,we<ce?(ye.flags|=2,ce):we):(ye.flags|=2,ce)):(ye.flags|=1048576,ce)}function K(ye){return h&&ye.alternate===null&&(ye.flags|=2),ye}function oe(ye,ce,we,nt){return ce===null||ce.tag!==6?(ce=d2(we,ye.mode,nt),ce.return=ye,ce):(ce=E(ce,we),ce.return=ye,ce)}function Ce(ye,ce,we,nt){var dt=we.type;return dt===u?lt(ye,ce,we.props.children,nt,we.key):ce!==null&&(ce.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&u8(dt)===ce.type)?(nt=E(ce,we.props),nt.ref=lh(ye,ce,we),nt.return=ye,nt):(nt=s1(we.type,we.key,we.props,null,ye.mode,nt),nt.ref=lh(ye,ce,we),nt.return=ye,nt)}function je(ye,ce,we,nt){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==we.containerInfo||ce.stateNode.implementation!==we.implementation?(ce=p2(we,ye.mode,nt),ce.return=ye,ce):(ce=E(ce,we.children||[]),ce.return=ye,ce)}function lt(ye,ce,we,nt,dt){return ce===null||ce.tag!==7?(ce=ja(we,ye.mode,nt,dt),ce.return=ye,ce):(ce=E(ce,we),ce.return=ye,ce)}function Mt(ye,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=d2(""+ce,ye.mode,we),ce.return=ye,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return we=s1(ce.type,ce.key,ce.props,null,ye.mode,we),we.ref=lh(ye,null,ce),we.return=ye,we;case c:return ce=p2(ce,ye.mode,we),ce.return=ye,ce;case A:var nt=ce._init;return Mt(ye,nt(ce._payload),we)}if(Y(ce)||w(ce))return ce=ja(ce,ye.mode,we,null),ce.return=ye,ce;Td(ye,ce)}return null}function gt(ye,ce,we,nt){var dt=ce!==null?ce.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return dt!==null?null:oe(ye,ce,""+we,nt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return we.key===dt?Ce(ye,ce,we,nt):null;case c:return we.key===dt?je(ye,ce,we,nt):null;case A:return dt=we._init,gt(ye,ce,dt(we._payload),nt)}if(Y(we)||w(we))return dt!==null?null:lt(ye,ce,we,nt,null);Td(ye,we)}return null}function tn(ye,ce,we,nt,dt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return ye=ye.get(we)||null,oe(ce,ye,""+nt,dt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case l:return ye=ye.get(nt.key===null?we:nt.key)||null,Ce(ce,ye,nt,dt);case c:return ye=ye.get(nt.key===null?we:nt.key)||null,je(ce,ye,nt,dt);case A:var Bt=nt._init;return tn(ye,ce,we,Bt(nt._payload),dt)}if(Y(nt)||w(nt))return ye=ye.get(we)||null,lt(ce,ye,nt,dt,null);Td(ce,nt)}return null}function pt(ye,ce,we,nt){for(var dt=null,Bt=null,Et=ce,Vt=ce=0,ii=null;Et!==null&&Vt<we.length;Vt++){Et.index>Vt?(ii=Et,Et=null):ii=Et.sibling;var Wt=gt(ye,Et,we[Vt],nt);if(Wt===null){Et===null&&(Et=ii);break}h&&Et&&Wt.alternate===null&&f(ye,Et),ce=B(Wt,ce,Vt),Bt===null?dt=Wt:Bt.sibling=Wt,Bt=Wt,Et=ii}if(Vt===we.length)return y(ye,Et),pn&&ka(ye,Vt),dt;if(Et===null){for(;Vt<we.length;Vt++)Et=Mt(ye,we[Vt],nt),Et!==null&&(ce=B(Et,ce,Vt),Bt===null?dt=Et:Bt.sibling=Et,Bt=Et);return pn&&ka(ye,Vt),dt}for(Et=S(ye,Et);Vt<we.length;Vt++)ii=tn(Et,ye,Vt,we[Vt],nt),ii!==null&&(h&&ii.alternate!==null&&Et.delete(ii.key===null?Vt:ii.key),ce=B(ii,ce,Vt),Bt===null?dt=ii:Bt.sibling=ii,Bt=ii);return h&&Et.forEach(function(No){return f(ye,No)}),pn&&ka(ye,Vt),dt}function Ai(ye,ce,we,nt){var dt=w(we);if(typeof dt!="function")throw Error(o(150));if(we=dt.call(we),we==null)throw Error(o(151));for(var Bt=dt=null,Et=ce,Vt=ce=0,ii=null,Wt=we.next();Et!==null&&!Wt.done;Vt++,Wt=we.next()){Et.index>Vt?(ii=Et,Et=null):ii=Et.sibling;var No=gt(ye,Et,Wt.value,nt);if(No===null){Et===null&&(Et=ii);break}h&&Et&&No.alternate===null&&f(ye,Et),ce=B(No,ce,Vt),Bt===null?dt=No:Bt.sibling=No,Bt=No,Et=ii}if(Wt.done)return y(ye,Et),pn&&ka(ye,Vt),dt;if(Et===null){for(;!Wt.done;Vt++,Wt=we.next())Wt=Mt(ye,Wt.value,nt),Wt!==null&&(ce=B(Wt,ce,Vt),Bt===null?dt=Wt:Bt.sibling=Wt,Bt=Wt);return pn&&ka(ye,Vt),dt}for(Et=S(ye,Et);!Wt.done;Vt++,Wt=we.next())Wt=tn(Et,ye,Vt,Wt.value,nt),Wt!==null&&(h&&Wt.alternate!==null&&Et.delete(Wt.key===null?Vt:Wt.key),ce=B(Wt,ce,Vt),Bt===null?dt=Wt:Bt.sibling=Wt,Bt=Wt);return h&&Et.forEach(function(wE){return f(ye,wE)}),pn&&ka(ye,Vt),dt}function Hr(ye,ce,we,nt){if(typeof we=="object"&&we!==null&&we.type===u&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case l:e:{for(var dt=we.key,Bt=ce;Bt!==null;){if(Bt.key===dt){if(dt=we.type,dt===u){if(Bt.tag===7){y(ye,Bt.sibling),ce=E(Bt,we.props.children),ce.return=ye,ye=ce;break e}}else if(Bt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&u8(dt)===Bt.type){y(ye,Bt.sibling),ce=E(Bt,we.props),ce.ref=lh(ye,Bt,we),ce.return=ye,ye=ce;break e}y(ye,Bt);break}else f(ye,Bt);Bt=Bt.sibling}we.type===u?(ce=ja(we.props.children,ye.mode,nt,we.key),ce.return=ye,ye=ce):(nt=s1(we.type,we.key,we.props,null,ye.mode,nt),nt.ref=lh(ye,ce,we),nt.return=ye,ye=nt)}return K(ye);case c:e:{for(Bt=we.key;ce!==null;){if(ce.key===Bt)if(ce.tag===4&&ce.stateNode.containerInfo===we.containerInfo&&ce.stateNode.implementation===we.implementation){y(ye,ce.sibling),ce=E(ce,we.children||[]),ce.return=ye,ye=ce;break e}else{y(ye,ce);break}else f(ye,ce);ce=ce.sibling}ce=p2(we,ye.mode,nt),ce.return=ye,ye=ce}return K(ye);case A:return Bt=we._init,Hr(ye,ce,Bt(we._payload),nt)}if(Y(we))return pt(ye,ce,we,nt);if(w(we))return Ai(ye,ce,we,nt);Td(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ce!==null&&ce.tag===6?(y(ye,ce.sibling),ce=E(ce,we),ce.return=ye,ye=ce):(y(ye,ce),ce=d2(we,ye.mode,nt),ce.return=ye,ye=ce),K(ye)):y(ye,ce)}return Hr}var uc=h8(!0),f8=h8(!1),ch={},Nr=St(ch),uh=St(ch),hc=St(ch);function bs(h){if(h===ch)throw Error(o(174));return h}function Pm(h,f){qt(hc,f),qt(uh,h),qt(Nr,ch),h=ee(f),Ye(Nr),qt(Nr,h)}function fc(){Ye(Nr),Ye(uh),Ye(hc)}function d8(h){var f=bs(hc.current),y=bs(Nr.current);f=D(y,h.type,f),y!==f&&(qt(uh,h),qt(Nr,f))}function Bm(h){uh.current===h&&(Ye(Nr),Ye(uh))}var yn=St(0);function bd(h){for(var f=h;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Yi(y)||Qn(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Im=[];function Lm(){for(var h=0;h<Im.length;h++){var f=Im[h];Ie?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Im.length=0}var Rd=a.ReactCurrentDispatcher,kr=a.ReactCurrentBatchConfig,dc=0,En=null,yi=null,ni=null,Pd=!1,hh=!1,fh=0,QM=0;function xi(){throw Error(o(321))}function Dm(h,f){if(f===null)return!1;for(var y=0;y<f.length&&y<h.length;y++)if(!pr(h[y],f[y]))return!1;return!0}function Um(h,f,y,S,E,B){if(dc=B,En=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Rd.current=h===null||h.memoizedState===null?tE:nE,h=y(S,E),hh){B=0;do{if(hh=!1,fh=0,25<=B)throw Error(o(301));B+=1,ni=yi=null,f.updateQueue=null,Rd.current=iE,h=y(S,E)}while(hh)}if(Rd.current=Ud,f=yi!==null&&yi.next!==null,dc=0,ni=yi=En=null,Pd=!1,f)throw Error(o(300));return h}function Fm(){var h=fh!==0;return fh=0,h}function Zs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?En.memoizedState=ni=h:ni=ni.next=h,ni}function Rs(){if(yi===null){var h=En.alternate;h=h!==null?h.memoizedState:null}else h=yi.next;var f=ni===null?En.memoizedState:ni.next;if(f!==null)ni=f,yi=h;else{if(h===null)throw Error(o(310));yi=h,h={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},ni===null?En.memoizedState=ni=h:ni=ni.next=h}return ni}function za(h,f){return typeof f=="function"?f(h):f}function Bd(h){var f=Rs(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=h;var S=yi,E=S.baseQueue,B=y.pending;if(B!==null){if(E!==null){var K=E.next;E.next=B.next,B.next=K}S.baseQueue=E=B,y.pending=null}if(E!==null){B=E.next,S=S.baseState;var oe=K=null,Ce=null,je=B;do{var lt=je.lane;if((dc&lt)===lt)Ce!==null&&(Ce=Ce.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),S=je.hasEagerState?je.eagerState:h(S,je.action);else{var Mt={lane:lt,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};Ce===null?(oe=Ce=Mt,K=S):Ce=Ce.next=Mt,En.lanes|=lt,mc|=lt}je=je.next}while(je!==null&&je!==B);Ce===null?K=S:Ce.next=oe,pr(S,f.memoizedState)||(_r=!0),f.memoizedState=S,f.baseState=K,f.baseQueue=Ce,y.lastRenderedState=S}if(h=y.interleaved,h!==null){E=h;do B=E.lane,En.lanes|=B,mc|=B,E=E.next;while(E!==h)}else E===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function Id(h){var f=Rs(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=h;var S=y.dispatch,E=y.pending,B=f.memoizedState;if(E!==null){y.pending=null;var K=E=E.next;do B=h(B,K.action),K=K.next;while(K!==E);pr(B,f.memoizedState)||(_r=!0),f.memoizedState=B,f.baseQueue===null&&(f.baseState=B),y.lastRenderedState=B}return[B,S]}function p8(){}function m8(h,f){var y=En,S=Rs(),E=f(),B=!pr(S.memoizedState,E);if(B&&(S.memoizedState=E,_r=!0),S=S.queue,ph(_8.bind(null,y,S,h),[h]),S.getSnapshot!==f||B||ni!==null&&ni.memoizedState.tag&1){if(y.flags|=2048,dh(9,v8.bind(null,y,S,E,f),void 0,null),On===null)throw Error(o(349));dc&30||g8(y,f,E)}return E}function g8(h,f,y){h.flags|=16384,h={getSnapshot:f,value:y},f=En.updateQueue,f===null?(f={lastEffect:null,stores:null},En.updateQueue=f,f.stores=[h]):(y=f.stores,y===null?f.stores=[h]:y.push(h))}function v8(h,f,y,S){f.value=y,f.getSnapshot=S,y8(f)&&zr(h,1,-1)}function _8(h,f,y){return y(function(){y8(f)&&zr(h,1,-1)})}function y8(h){var f=h.getSnapshot;h=h.value;try{var y=f();return!pr(h,y)}catch{return!0}}function Om(h){var f=Zs();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:h},f.queue=h,h=h.dispatch=eE.bind(null,En,h),[f.memoizedState,h]}function dh(h,f,y,S){return h={tag:h,create:f,destroy:y,deps:S,next:null},f=En.updateQueue,f===null?(f={lastEffect:null,stores:null},En.updateQueue=f,f.lastEffect=h.next=h):(y=f.lastEffect,y===null?f.lastEffect=h.next=h:(S=y.next,y.next=h,h.next=S,f.lastEffect=h)),h}function x8(){return Rs().memoizedState}function Ld(h,f,y,S){var E=Zs();En.flags|=h,E.memoizedState=dh(1|f,y,void 0,S===void 0?null:S)}function Dd(h,f,y,S){var E=Rs();S=S===void 0?null:S;var B=void 0;if(yi!==null){var K=yi.memoizedState;if(B=K.destroy,S!==null&&Dm(S,K.deps)){E.memoizedState=dh(f,y,B,S);return}}En.flags|=h,E.memoizedState=dh(1|f,y,B,S)}function Nm(h,f){return Ld(8390656,8,h,f)}function ph(h,f){return Dd(2048,8,h,f)}function q8(h,f){return Dd(4,2,h,f)}function A8(h,f){return Dd(4,4,h,f)}function S8(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function M8(h,f,y){return y=y!=null?y.concat([h]):null,Dd(4,4,S8.bind(null,f,h),y)}function km(){}function E8(h,f){var y=Rs();f=f===void 0?null:f;var S=y.memoizedState;return S!==null&&f!==null&&Dm(f,S[1])?S[0]:(y.memoizedState=[h,f],h)}function w8(h,f){var y=Rs();f=f===void 0?null:f;var S=y.memoizedState;return S!==null&&f!==null&&Dm(f,S[1])?S[0]:(h=h(),y.memoizedState=[h,f],h)}function ZM(h,f){var y=Dt;Dt=y!==0&&4>y?y:4,h(!0);var S=kr.transition;kr.transition={};try{h(!1),f()}finally{Dt=y,kr.transition=S}}function C8(){return Rs().memoizedState}function $M(h,f,y){var S=Uo(h);y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},T8(h)?b8(f,y):(R8(h,f,y),y=ki(),h=zr(h,S,y),h!==null&&P8(h,f,S))}function eE(h,f,y){var S=Uo(h),E={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(T8(h))b8(f,E);else{R8(h,f,E);var B=h.alternate;if(h.lanes===0&&(B===null||B.lanes===0)&&(B=f.lastRenderedReducer,B!==null))try{var K=f.lastRenderedState,oe=B(K,y);if(E.hasEagerState=!0,E.eagerState=oe,pr(oe,K))return}catch{}finally{}y=ki(),h=zr(h,S,y),h!==null&&P8(h,f,S)}}function T8(h){var f=h.alternate;return h===En||f!==null&&f===En}function b8(h,f){hh=Pd=!0;var y=h.pending;y===null?f.next=f:(f.next=y.next,y.next=f),h.pending=f}function R8(h,f,y){On!==null&&h.mode&1&&!(It&2)?(h=f.interleaved,h===null?(y.next=y,mr===null?mr=[f]:mr.push(f)):(y.next=h.next,h.next=y),f.interleaved=y):(h=f.pending,h===null?y.next=y:(y.next=h.next,h.next=y),f.pending=y)}function P8(h,f,y){if(y&4194240){var S=f.lanes;S&=h.pendingLanes,y|=S,f.lanes=y,Cs(h,y)}}var Ud={readContext:Pn,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},tE={readContext:Pn,useCallback:function(h,f){return Zs().memoizedState=[h,f===void 0?null:f],h},useContext:Pn,useEffect:Nm,useImperativeHandle:function(h,f,y){return y=y!=null?y.concat([h]):null,Ld(4194308,4,S8.bind(null,f,h),y)},useLayoutEffect:function(h,f){return Ld(4194308,4,h,f)},useInsertionEffect:function(h,f){return Ld(4,2,h,f)},useMemo:function(h,f){var y=Zs();return f=f===void 0?null:f,h=h(),y.memoizedState=[h,f],h},useReducer:function(h,f,y){var S=Zs();return f=y!==void 0?y(f):f,S.memoizedState=S.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},S.queue=h,h=h.dispatch=$M.bind(null,En,h),[S.memoizedState,h]},useRef:function(h){var f=Zs();return h={current:h},f.memoizedState=h},useState:Om,useDebugValue:km,useDeferredValue:function(h){var f=Om(h),y=f[0],S=f[1];return Nm(function(){var E=kr.transition;kr.transition={};try{S(h)}finally{kr.transition=E}},[h]),y},useTransition:function(){var h=Om(!1),f=h[0];return h=ZM.bind(null,h[1]),Zs().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,y){var S=En,E=Zs();if(pn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),On===null)throw Error(o(349));dc&30||g8(S,f,y)}E.memoizedState=y;var B={value:y,getSnapshot:f};return E.queue=B,Nm(_8.bind(null,S,B,h),[h]),S.flags|=2048,dh(9,v8.bind(null,S,B,y,f),void 0,null),y},useId:function(){var h=Zs(),f=On.identifierPrefix;if(pn){var y=Qs,S=Ks;y=(S&~(1<<32-_i(S)-1)).toString(32)+y,f=":"+f+"R"+y,y=fh++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=QM++,f=":"+f+"r"+y.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},nE={readContext:Pn,useCallback:E8,useContext:Pn,useEffect:ph,useImperativeHandle:M8,useInsertionEffect:q8,useLayoutEffect:A8,useMemo:w8,useReducer:Bd,useRef:x8,useState:function(){return Bd(za)},useDebugValue:km,useDeferredValue:function(h){var f=Bd(za),y=f[0],S=f[1];return ph(function(){var E=kr.transition;kr.transition={};try{S(h)}finally{kr.transition=E}},[h]),y},useTransition:function(){var h=Bd(za)[0],f=Rs().memoizedState;return[h,f]},useMutableSource:p8,useSyncExternalStore:m8,useId:C8,unstable_isNewReconciler:!1},iE={readContext:Pn,useCallback:E8,useContext:Pn,useEffect:ph,useImperativeHandle:M8,useInsertionEffect:q8,useLayoutEffect:A8,useMemo:w8,useReducer:Id,useRef:x8,useState:function(){return Id(za)},useDebugValue:km,useDeferredValue:function(h){var f=Id(za),y=f[0],S=f[1];return ph(function(){var E=kr.transition;kr.transition={};try{S(h)}finally{kr.transition=E}},[h]),y},useTransition:function(){var h=Id(za)[0],f=Rs().memoizedState;return[h,f]},useMutableSource:p8,useSyncExternalStore:m8,useId:C8,unstable_isNewReconciler:!1};function zm(h,f){try{var y="",S=f;do y+=Oa(S),S=S.return;while(S);var E=y}catch(B){E=`
Error generating stack: `+B.message+`
`+B.stack}return{value:h,source:f,stack:E}}function Gm(h,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function B8(h,f,y){y=Ys(-1,y),y.tag=3,y.payload={element:null};var S=f.value;return y.callback=function(){Zd||(Zd=!0,o2=S),Gm(h,f)},y}function I8(h,f,y){y=Ys(-1,y),y.tag=3;var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var E=f.value;y.payload=function(){return S(E)},y.callback=function(){Gm(h,f)}}var B=h.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(y.callback=function(){Gm(h,f),typeof S!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var K=f.stack;this.componentDidCatch(f.value,{componentStack:K!==null?K:""})}),y}function L8(h,f,y){var S=h.pingCache;if(S===null){S=h.pingCache=new rE;var E=new Set;S.set(f,E)}else E=S.get(f),E===void 0&&(E=new Set,S.set(f,E));E.has(y)||(E.add(y),h=_E.bind(null,h,f,y),f.then(h,h))}function D8(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function U8(h,f,y,S,E){return h.mode&1?(h.flags|=65536,h.lanes=E,h):(h===f?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Ys(-1,1),f.tag=2,Io(y,f))),y.lanes|=1),h)}function Ps(h){h.flags|=4}function F8(h,f){if(h!==null&&h.child===f.child)return!0;if(f.flags&16)return!1;for(h=f.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var mh,gh,Fd,Od;if(z)mh=function(h,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)J(h,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},gh=function(){},Fd=function(h,f,y,S,E){if(h=h.memoizedProps,h!==S){var B=f.stateNode,K=bs(Nr.current);y=j(B,y,h,S,E,K),(f.updateQueue=y)&&Ps(f)}},Od=function(h,f,y,S){y!==S&&Ps(f)};else if(ne){mh=function(h,f,y,S){for(var E=f.child;E!==null;){if(E.tag===5){var B=E.stateNode;y&&S&&(B=Lt(B,E.type,E.memoizedProps,E)),J(h,B)}else if(E.tag===6)B=E.stateNode,y&&S&&(B=Yt(B,E.memoizedProps,E)),J(h,B);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)B=E.child,B!==null&&(B.return=E),mh(h,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var O8=function(h,f,y,S){for(var E=f.child;E!==null;){if(E.tag===5){var B=E.stateNode;y&&S&&(B=Lt(B,E.type,E.memoizedProps,E)),yt(h,B)}else if(E.tag===6)B=E.stateNode,y&&S&&(B=Yt(B,E.memoizedProps,E)),yt(h,B);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)B=E.child,B!==null&&(B.return=E),O8(h,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};gh=function(h,f){var y=f.stateNode;if(!F8(h,f)){h=y.containerInfo;var S=it(h);O8(S,f,!1,!1),y.pendingChildren=S,Ps(f),xt(h,S)}},Fd=function(h,f,y,S,E){var B=h.stateNode,K=h.memoizedProps;if((h=F8(h,f))&&K===S)f.stateNode=B;else{var oe=f.stateNode,Ce=bs(Nr.current),je=null;K!==S&&(je=j(oe,y,K,S,E,Ce)),h&&je===null?f.stateNode=B:(B=Qe(B,je,y,K,S,f,h,oe),Z(B,y,S,E,Ce)&&Ps(f),f.stateNode=B,h?Ps(f):mh(B,f,!1,!1))}},Od=function(h,f,y,S){y!==S?(h=bs(hc.current),y=bs(Nr.current),f.stateNode=ie(S,h,y,f),Ps(f)):f.stateNode=h.stateNode}}else gh=function(){},Fd=function(){},Od=function(){};function vh(h,f){if(!pn)switch(h.tailMode){case"hidden":f=h.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function qi(h){var f=h.alternate!==null&&h.alternate.child===h.child,y=0,S=0;if(f)for(var E=h.child;E!==null;)y|=E.lanes|E.childLanes,S|=E.subtreeFlags&14680064,S|=E.flags&14680064,E.return=h,E=E.sibling;else for(E=h.child;E!==null;)y|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=h,E=E.sibling;return h.subtreeFlags|=S,h.childLanes=y,f}function sE(h,f,y){var S=f.pendingProps;switch(Cm(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(f),null;case 1:return Ft(f.type)&&Fn(),qi(f),null;case 3:return S=f.stateNode,fc(),Ye(vn),Ye(Zt),Lm(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(h===null||h.child===null)&&(ah(f)?Ps(f):h===null||h.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,os!==null&&(c2(os),os=null))),gh(h,f),qi(f),null;case 5:Bm(f),y=bs(hc.current);var E=f.type;if(h!==null&&f.stateNode!=null)Fd(h,f,E,S,y),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return qi(f),null}if(h=bs(Nr.current),ah(f)){if(!pe)throw Error(o(175));h=tc(f.stateNode,f.type,f.memoizedProps,y,h,f,!oh),f.updateQueue=h,h!==null&&Ps(f)}else{var B=O(E,S,y,h,f);mh(B,f,!1,!1),f.stateNode=B,Z(B,E,S,y,h)&&Ps(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return qi(f),null;case 6:if(h&&f.stateNode!=null)Od(h,f,h.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(h=bs(hc.current),y=bs(Nr.current),ah(f)){if(!pe)throw Error(o(176));if(h=f.stateNode,S=f.memoizedProps,(y=Pa(h,S,f,!oh))&&(E=gr,E!==null))switch(B=(E.mode&1)!==0,E.tag){case 3:ot(E.stateNode.containerInfo,h,S,B);break;case 5:ct(E.type,E.memoizedProps,E.stateNode,h,S,B)}y&&Ps(f)}else f.stateNode=ie(S,h,y,f)}return qi(f),null;case 13:if(Ye(yn),S=f.memoizedState,pn&&vr!==null&&f.mode&1&&!(f.flags&128)){for(h=vr;h;)h=Zn(h);return cc(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=ah(f),h===null){if(!S)throw Error(o(318));if(!pe)throw Error(o(344));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));V(h,f)}else cc(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return qi(f),null}return os!==null&&(c2(os),os=null),f.flags&128?(f.lanes=y,f):(S=S!==null,y=!1,h===null?ah(f):y=h.memoizedState!==null,S&&!y&&(f.child.flags|=8192,f.mode&1&&(h===null||yn.current&1?Wn===0&&(Wn=3):h2())),f.updateQueue!==null&&(f.flags|=4),qi(f),null);case 4:return fc(),gh(h,f),h===null&&xe(f.stateNode.containerInfo),qi(f),null;case 10:return ti(f.type._context),qi(f),null;case 17:return Ft(f.type)&&Fn(),qi(f),null;case 19:if(Ye(yn),E=f.memoizedState,E===null)return qi(f),null;if(S=(f.flags&128)!==0,B=E.rendering,B===null)if(S)vh(E,!1);else{if(Wn!==0||h!==null&&h.flags&128)for(h=f.child;h!==null;){if(B=bd(h),B!==null){for(f.flags|=128,vh(E,!1),h=B.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),f.subtreeFlags=0,h=y,S=f.child;S!==null;)y=S,E=h,y.flags&=14680066,B=y.alternate,B===null?(y.childLanes=0,y.lanes=E,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=B.childLanes,y.lanes=B.lanes,y.child=B.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=B.memoizedProps,y.memoizedState=B.memoizedState,y.updateQueue=B.updateQueue,y.type=B.type,E=B.dependencies,y.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),S=S.sibling;return qt(yn,yn.current&1|2),f.child}h=h.sibling}E.tail!==null&&_n()>s2&&(f.flags|=128,S=!0,vh(E,!1),f.lanes=4194304)}else{if(!S)if(h=bd(B),h!==null){if(f.flags|=128,S=!0,h=h.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),vh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!B.alternate&&!pn)return qi(f),null}else 2*_n()-E.renderingStartTime>s2&&y!==1073741824&&(f.flags|=128,S=!0,vh(E,!1),f.lanes=4194304);E.isBackwards?(B.sibling=f.child,f.child=B):(h=E.last,h!==null?h.sibling=B:f.child=B,E.last=B)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=_n(),f.sibling=null,h=yn.current,qt(yn,S?h&1|2:h&1),f):(qi(f),null);case 22:case 23:return u2(),S=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?yr&1073741824&&(qi(f),z&&f.subtreeFlags&6&&(f.flags|=8192)):qi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var oE=a.ReactCurrentOwner,_r=!1;function Ni(h,f,y,S){f.child=h===null?f8(f,null,y,S):uc(f,h.child,y,S)}function N8(h,f,y,S,E){y=y.render;var B=f.ref;return Rn(f,E),S=Um(h,f,y,S,B,E),y=Fm(),h!==null&&!_r?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E,$s(h,f,E)):(pn&&y&&wm(f),f.flags|=1,Ni(h,f,S,E),f.child)}function k8(h,f,y,S,E){if(h===null){var B=y.type;return typeof B=="function"&&!f2(B)&&B.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=B,z8(h,f,B,S,E)):(h=s1(y.type,null,S,f,f.mode,E),h.ref=f.ref,h.return=f,f.child=h)}if(B=h.child,!(h.lanes&E)){var K=B.memoizedProps;if(y=y.compare,y=y!==null?y:Fa,y(K,S)&&h.ref===f.ref)return $s(h,f,E)}return f.flags|=1,h=Oo(B,S),h.ref=f.ref,h.return=f,f.child=h}function z8(h,f,y,S,E){if(h!==null&&Fa(h.memoizedProps,S)&&h.ref===f.ref)if(_r=!1,(h.lanes&E)!==0)h.flags&131072&&(_r=!0);else return f.lanes=h.lanes,$s(h,f,E);return Hm(h,f,y,S,E)}function G8(h,f,y){var S=f.pendingProps,E=S.children,B=h!==null?h.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},qt(pc,yr),yr|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},S=B!==null?B.baseLanes:y,qt(pc,yr),yr|=S;else return h=B!==null?B.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null},f.updateQueue=null,qt(pc,yr),yr|=h,null;else B!==null?(S=B.baseLanes|y,f.memoizedState=null):S=y,qt(pc,yr),yr|=S;return Ni(h,f,E,y),f.child}function H8(h,f){var y=f.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function Hm(h,f,y,S,E){var B=Ft(y)?$n:Zt.current;return B=vi(f,B),Rn(f,E),y=Um(h,f,y,S,B,E),S=Fm(),h!==null&&!_r?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E,$s(h,f,E)):(pn&&S&&wm(f),f.flags|=1,Ni(h,f,y,E),f.child)}function V8(h,f,y,S,E){if(Ft(y)){var B=!0;Dr(f)}else B=!1;if(Rn(f,E),f.stateNode===null)h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),r8(f,y,S),Em(f,y,S,E),S=!0;else if(h===null){var K=f.stateNode,oe=f.memoizedProps;K.props=oe;var Ce=K.context,je=y.contextType;typeof je=="object"&&je!==null?je=Pn(je):(je=Ft(y)?$n:Zt.current,je=vi(f,je));var lt=y.getDerivedStateFromProps,Mt=typeof lt=="function"||typeof K.getSnapshotBeforeUpdate=="function";Mt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(oe!==S||Ce!==je)&&s8(f,K,S,je),Bo=!1;var gt=f.memoizedState;K.state=gt,Md(f,S,K,E),Ce=f.memoizedState,oe!==S||gt!==Ce||vn.current||Bo?(typeof lt=="function"&&(Mm(f,y,lt,S),Ce=f.memoizedState),(oe=Bo||i8(f,y,oe,S,gt,Ce,je))?(Mt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(f.flags|=4194308)):(typeof K.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Ce),K.props=S,K.state=Ce,K.context=je,S=oe):(typeof K.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{K=f.stateNode,$g(h,f),oe=f.memoizedProps,je=f.type===f.elementType?oe:Fi(f.type,oe),K.props=je,Mt=f.pendingProps,gt=K.context,Ce=y.contextType,typeof Ce=="object"&&Ce!==null?Ce=Pn(Ce):(Ce=Ft(y)?$n:Zt.current,Ce=vi(f,Ce));var tn=y.getDerivedStateFromProps;(lt=typeof tn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(oe!==Mt||gt!==Ce)&&s8(f,K,S,Ce),Bo=!1,gt=f.memoizedState,K.state=gt,Md(f,S,K,E);var pt=f.memoizedState;oe!==Mt||gt!==pt||vn.current||Bo?(typeof tn=="function"&&(Mm(f,y,tn,S),pt=f.memoizedState),(je=Bo||i8(f,y,je,S,gt,pt,Ce)||!1)?(lt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(S,pt,Ce),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(S,pt,Ce)),typeof K.componentDidUpdate=="function"&&(f.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof K.componentDidUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(f.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=pt),K.props=S,K.state=pt,K.context=Ce,S=je):(typeof K.componentDidUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(f.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||oe===h.memoizedProps&&gt===h.memoizedState||(f.flags|=1024),S=!1)}return Vm(h,f,y,S,B,E)}function Vm(h,f,y,S,E,B){H8(h,f);var K=(f.flags&128)!==0;if(!S&&!K)return E&&Li(f,y,!1),$s(h,f,B);S=f.stateNode,oE.current=f;var oe=K&&typeof y.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,h!==null&&K?(f.child=uc(f,h.child,null,B),f.child=uc(f,null,oe,B)):Ni(h,f,oe,B),f.memoizedState=S.state,E&&Li(f,y,!0),f.child}function W8(h){var f=h.stateNode;f.pendingContext?Es(h,f.pendingContext,f.pendingContext!==f.context):f.context&&Es(h,f.context,!1),Pm(h,f.containerInfo)}function X8(h,f,y,S,E){return cc(),Rm(E),f.flags|=256,Ni(h,f,y,S),f.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function kd(h){return{baseLanes:h,cachePool:null}}function j8(h,f,y){var S=f.pendingProps,E=yn.current,B=!1,K=(f.flags&128)!==0,oe;if((oe=K)||(oe=h!==null&&h.memoizedState===null?!1:(E&2)!==0),oe?(B=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(E|=1),qt(yn,E&1),h===null)return bm(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(f.mode&1?Qn(h)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=S.children,h=S.fallback,B?(S=f.mode,B=f.child,E={mode:"hidden",children:E},!(S&1)&&B!==null?(B.childLanes=0,B.pendingProps=E):B=o1(E,S,0,null),h=ja(h,S,y,null),B.return=f,h.return=f,B.sibling=h,f.child=B,f.child.memoizedState=kd(y),f.memoizedState=Nd,h):Wm(f,E));if(E=h.memoizedState,E!==null){if(oe=E.dehydrated,oe!==null){if(K)return f.flags&256?(f.flags&=-257,zd(h,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(B=S.fallback,E=f.mode,S=o1({mode:"visible",children:S.children},E,0,null),B=ja(B,E,y,null),B.flags|=2,S.return=f,B.return=f,S.sibling=B,f.child=S,f.mode&1&&uc(f,h.child,null,y),f.child.memoizedState=kd(y),f.memoizedState=Nd,B);if(!(f.mode&1))f=zd(h,f,y,null);else if(Qn(oe))f=zd(h,f,y,Error(o(419)));else if(S=(y&h.childLanes)!==0,_r||S){if(S=On,S!==null){switch(y&-y){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}S=B&(S.suspendedLanes|y)?0:B,S!==0&&S!==E.retryLane&&(E.retryLane=S,zr(h,S,-1))}h2(),f=zd(h,f,y,Error(o(421)))}else Yi(oe)?(f.flags|=128,f.child=h.child,f=yE.bind(null,h),fr(oe,f),f=null):(y=E.treeContext,pe&&(vr=rs(oe),gr=f,pn=!0,os=null,oh=!1,y!==null&&(Fr[Or++]=Ks,Fr[Or++]=Qs,Fr[Or++]=Na,Ks=y.id,Qs=y.overflow,Na=f)),f=Wm(f,f.pendingProps.children),f.flags|=4096);return f}return B?(S=Y8(h,f,S.children,S.fallback,y),B=f.child,E=h.child.memoizedState,B.memoizedState=E===null?kd(y):{baseLanes:E.baseLanes|y,cachePool:null},B.childLanes=h.childLanes&~y,f.memoizedState=Nd,S):(y=J8(h,f,S.children,y),f.memoizedState=null,y)}return B?(S=Y8(h,f,S.children,S.fallback,y),B=f.child,E=h.child.memoizedState,B.memoizedState=E===null?kd(y):{baseLanes:E.baseLanes|y,cachePool:null},B.childLanes=h.childLanes&~y,f.memoizedState=Nd,S):(y=J8(h,f,S.children,y),f.memoizedState=null,y)}function Wm(h,f){return f=o1({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function J8(h,f,y,S){var E=h.child;return h=E.sibling,y=Oo(E,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=S),y.return=f,y.sibling=null,h!==null&&(S=f.deletions,S===null?(f.deletions=[h],f.flags|=16):S.push(h)),f.child=y}function Y8(h,f,y,S,E){var B=f.mode;h=h.child;var K=h.sibling,oe={mode:"hidden",children:y};return!(B&1)&&f.child!==h?(y=f.child,y.childLanes=0,y.pendingProps=oe,f.deletions=null):(y=Oo(h,oe),y.subtreeFlags=h.subtreeFlags&14680064),K!==null?S=Oo(K,S):(S=ja(S,B,E,null),S.flags|=2),S.return=f,y.return=f,y.sibling=S,f.child=y,S}function zd(h,f,y,S){return S!==null&&Rm(S),uc(f,h.child,null,y),h=Wm(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function K8(h,f,y){h.lanes|=f;var S=h.alternate;S!==null&&(S.lanes|=f),Oi(h.return,f,y)}function Xm(h,f,y,S,E){var B=h.memoizedState;B===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:E}:(B.isBackwards=f,B.rendering=null,B.renderingStartTime=0,B.last=S,B.tail=y,B.tailMode=E)}function Q8(h,f,y){var S=f.pendingProps,E=S.revealOrder,B=S.tail;if(Ni(h,f,S.children,y),S=yn.current,S&2)S=S&1|2,f.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&K8(h,y,f);else if(h.tag===19)K8(h,y,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}if(qt(yn,S),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(y=f.child,E=null;y!==null;)h=y.alternate,h!==null&&bd(h)===null&&(E=y),y=y.sibling;y=E,y===null?(E=f.child,f.child=null):(E=y.sibling,y.sibling=null),Xm(f,!1,E,y,B);break;case"backwards":for(y=null,E=f.child,f.child=null;E!==null;){if(h=E.alternate,h!==null&&bd(h)===null){f.child=E;break}h=E.sibling,E.sibling=y,y=E,E=h}Xm(f,!0,y,null,B);break;case"together":Xm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function $s(h,f,y){if(h!==null&&(f.dependencies=h.dependencies),mc|=f.lanes,!(y&f.childLanes))return null;if(h!==null&&f.child!==h.child)throw Error(o(153));if(f.child!==null){for(h=f.child,y=Oo(h,h.pendingProps),f.child=y,y.return=f;h.sibling!==null;)h=h.sibling,y=y.sibling=Oo(h,h.pendingProps),y.return=f;y.sibling=null}return f.child}function aE(h,f,y){switch(f.tag){case 3:W8(f),cc();break;case 5:d8(f);break;case 1:Ft(f.type)&&Dr(f);break;case 4:Pm(f,f.stateNode.containerInfo);break;case 10:Ad(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(qt(yn,yn.current&1),f.flags|=128,null):y&f.child.childLanes?j8(h,f,y):(qt(yn,yn.current&1),h=$s(h,f,y),h!==null?h.sibling:null);qt(yn,yn.current&1);break;case 19:if(S=(y&f.childLanes)!==0,h.flags&128){if(S)return Q8(h,f,y);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),qt(yn,yn.current),S)break;return null;case 22:case 23:return f.lanes=0,G8(h,f,y)}return $s(h,f,y)}function lE(h,f){switch(Cm(f),f.tag){case 1:return Ft(f.type)&&Fn(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return fc(),Ye(vn),Ye(Zt),Lm(),h=f.flags,h&65536&&!(h&128)?(f.flags=h&-65537|128,f):null;case 5:return Bm(f),null;case 13:if(Ye(yn),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(o(340));cc()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return Ye(yn),null;case 4:return fc(),null;case 10:return ti(f.type._context),null;case 22:case 23:return u2(),null;case 24:return null;default:return null}}var Gd=!1,Ga=!1,cE=typeof WeakSet=="function"?WeakSet:Set,et=null;function Hd(h,f){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){er(h,f,S)}else y.current=null}function jm(h,f,y){try{y()}catch(S){er(h,f,S)}}var Z8=!1;function uE(h,f){for(G(h.containerInfo),et=f;et!==null;)if(h=et,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,et=f;else for(;et!==null;){h=et;try{var y=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,E=y.memoizedState,B=h.stateNode,K=B.getSnapshotBeforeUpdate(h.elementType===h.type?S:Fi(h.type,S),E);B.__reactInternalSnapshotBeforeUpdate=K}break;case 3:z&&Ge(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){er(h,h.return,oe)}if(f=h.sibling,f!==null){f.return=h.return,et=f;break}et=h.return}return y=Z8,Z8=!1,y}function Ha(h,f,y){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var E=S=S.next;do{if((E.tag&h)===h){var B=E.destroy;E.destroy=void 0,B!==void 0&&jm(f,y,B)}E=E.next}while(E!==S)}}function _h(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&h)===h){var S=y.create;y.destroy=S()}y=y.next}while(y!==f)}}function Jm(h){var f=h.ref;if(f!==null){var y=h.stateNode;switch(h.tag){case 5:h=X(y);break;default:h=y}typeof f=="function"?f(h):f.current=h}}function $8(h,f,y){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Da,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var S=h=h.next;do{var E=S,B=E.destroy;E=E.tag,B!==void 0&&(E&2||E&4)&&jm(f,y,B),S=S.next}while(S!==h)}break;case 1:if(Hd(f,y),h=f.stateNode,typeof h.componentWillUnmount=="function")try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(K){er(f,y,K)}break;case 5:Hd(f,y);break;case 4:z?s9(h,f,y):ne&&ne&&(f=f.stateNode.containerInfo,y=it(f),tt(f,y))}}function e9(h,f,y){for(var S=f;;)if($8(h,S,y),S.child===null||z&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function t9(h){var f=h.alternate;f!==null&&(h.alternate=null,t9(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&Be(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function n9(h){return h.tag===5||h.tag===3||h.tag===4}function i9(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||n9(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function r9(h){if(z){e:{for(var f=h.return;f!==null;){if(n9(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(vt(f),y.flags&=-33),y=i9(h),Km(h,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=i9(h),Ym(h,y,f);break;default:throw Error(o(161))}}}function Ym(h,f,y){var S=h.tag;if(S===5||S===6)h=h.stateNode,f?Le(y,h,f):Ve(y,h);else if(S!==4&&(h=h.child,h!==null))for(Ym(h,f,y),h=h.sibling;h!==null;)Ym(h,f,y),h=h.sibling}function Km(h,f,y){var S=h.tag;if(S===5||S===6)h=h.stateNode,f?We(y,h,f):Te(y,h);else if(S!==4&&(h=h.child,h!==null))for(Km(h,f,y),h=h.sibling;h!==null;)Km(h,f,y),h=h.sibling}function s9(h,f,y){for(var S=f,E=!1,B,K;;){if(!E){E=S.return;e:for(;;){if(E===null)throw Error(o(160));switch(B=E.stateNode,E.tag){case 5:K=!1;break e;case 3:B=B.containerInfo,K=!0;break e;case 4:B=B.containerInfo,K=!0;break e}E=E.return}E=!0}if(S.tag===5||S.tag===6)e9(h,S,y),K?rt(B,S.stateNode):Oe(B,S.stateNode);else if(S.tag===18)K?Xe(B,S.stateNode):fe(B,S.stateNode);else if(S.tag===4){if(S.child!==null){B=S.stateNode.containerInfo,K=!0,S.child.return=S,S=S.child;continue}}else if($8(h,S,y),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(E=!1)}S.sibling.return=S.return,S=S.sibling}}function Qm(h,f){if(z){switch(f.tag){case 0:case 11:case 14:case 15:Ha(3,f,f.return),_h(3,f),Ha(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var S=f.memoizedProps;h=h!==null?h.memoizedProps:S;var E=f.type,B=f.updateQueue;f.updateQueue=null,B!==null&&st(y,B,E,h,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,Pe(f.stateNode,h!==null?h.memoizedProps:y,y);return;case 3:pe&&h!==null&&h.memoizedState.isDehydrated&&_e(f.stateNode.containerInfo);return;case 12:return;case 13:Vd(f);return;case 19:Vd(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Ha(3,f,f.return),_h(3,f),Ha(5,f,f.return);return;case 12:return;case 13:Vd(f);return;case 19:Vd(f);return;case 3:pe&&h!==null&&h.memoizedState.isDehydrated&&_e(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,tt(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Vd(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new cE),f.forEach(function(S){var E=xE.bind(null,h,S);y.has(S)||(y.add(S),S.then(E,E))})}}function hE(h,f){for(et=f;et!==null;){f=et;var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var E=y[S];try{var B=h;z?s9(B,E,f):e9(B,E,f);var K=E.alternate;K!==null&&(K.return=null),E.return=null}catch(dt){er(E,f,dt)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,et=y;else for(;et!==null;){f=et;try{var oe=f.flags;if(oe&32&&z&&vt(f.stateNode),oe&512){var Ce=f.alternate;if(Ce!==null){var je=Ce.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(oe&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var lt=f.alternate;(lt===null||lt.memoizedState===null)&&(r2=_n())}break;case 22:var Mt=f.memoizedState!==null,gt=f.alternate,tn=gt!==null&&gt.memoizedState!==null;if(y=f,z){e:if(S=y,E=Mt,B=null,z)for(var pt=S;;){if(pt.tag===5){if(B===null){B=pt;var Ai=pt.stateNode;E?te(Ai):me(pt.stateNode,pt.memoizedProps)}}else if(pt.tag===6){if(B===null){var Hr=pt.stateNode;E?Ne(Hr):Ee(Hr,pt.memoizedProps)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===S)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===S)break;for(;pt.sibling===null;){if(pt.return===null||pt.return===S)break e;B===pt&&(B=null),pt=pt.return}B===pt&&(B=null),pt.sibling.return=pt.return,pt=pt.sibling}}if(Mt&&!tn&&y.mode&1){et=y;for(var ye=y.child;ye!==null;){for(y=et=ye;et!==null;){S=et;var ce=S.child;switch(S.tag){case 0:case 11:case 14:case 15:Ha(4,S,S.return);break;case 1:Hd(S,S.return);var we=S.stateNode;if(typeof we.componentWillUnmount=="function"){var nt=S.return;try{we.props=S.memoizedProps,we.state=S.memoizedState,we.componentWillUnmount()}catch(dt){er(S,nt,dt)}}break;case 5:Hd(S,S.return);break;case 22:if(S.memoizedState!==null){l9(y);continue}}ce!==null?(ce.return=S,et=ce):l9(y)}ye=ye.sibling}}}switch(oe&4102){case 2:r9(f),f.flags&=-3;break;case 6:r9(f),f.flags&=-3,Qm(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Qm(f.alternate,f);break;case 4:Qm(f.alternate,f)}}catch(dt){er(f,f.return,dt)}if(y=f.sibling,y!==null){y.return=f.return,et=y;break}et=f.return}}}function fE(h,f,y){et=h,o9(h)}function o9(h,f,y){for(var S=(h.mode&1)!==0;et!==null;){var E=et,B=E.child;if(E.tag===22&&S){var K=E.memoizedState!==null||Gd;if(!K){var oe=E.alternate,Ce=oe!==null&&oe.memoizedState!==null||Ga;oe=Gd;var je=Ga;if(Gd=K,(Ga=Ce)&&!je)for(et=E;et!==null;)K=et,Ce=K.child,K.tag===22&&K.memoizedState!==null?c9(E):Ce!==null?(Ce.return=K,et=Ce):c9(E);for(;B!==null;)et=B,o9(B),B=B.sibling;et=E,Gd=oe,Ga=je}a9(h)}else E.subtreeFlags&8772&&B!==null?(B.return=E,et=B):a9(h)}}function a9(h){for(;et!==null;){var f=et;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ga||_h(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!Ga)if(y===null)S.componentDidMount();else{var E=f.elementType===f.type?y.memoizedProps:Fi(f.type,y.memoizedProps);S.componentDidUpdate(E,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var B=f.updateQueue;B!==null&&t8(f,B,S);break;case 3:var K=f.updateQueue;if(K!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=X(f.child.stateNode);break;case 1:y=f.child.stateNode}t8(f,K,y)}break;case 5:var oe=f.stateNode;y===null&&f.flags&4&&ze(oe,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(pe&&f.memoizedState===null){var Ce=f.alternate;if(Ce!==null){var je=Ce.memoizedState;if(je!==null){var lt=je.dehydrated;lt!==null&&qe(lt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ga||f.flags&512&&Jm(f)}catch(Mt){er(f,f.return,Mt)}}if(f===h){et=null;break}if(y=f.sibling,y!==null){y.return=f.return,et=y;break}et=f.return}}function l9(h){for(;et!==null;){var f=et;if(f===h){et=null;break}var y=f.sibling;if(y!==null){y.return=f.return,et=y;break}et=f.return}}function c9(h){for(;et!==null;){var f=et;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{_h(4,f)}catch(Ce){er(f,y,Ce)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var E=f.return;try{S.componentDidMount()}catch(Ce){er(f,E,Ce)}}var B=f.return;try{Jm(f)}catch(Ce){er(f,B,Ce)}break;case 5:var K=f.return;try{Jm(f)}catch(Ce){er(f,K,Ce)}}}catch(Ce){er(f,f.return,Ce)}if(f===h){et=null;break}var oe=f.sibling;if(oe!==null){oe.return=f.return,et=oe;break}et=f.return}}var Wd=0,Xd=1,jd=2,Jd=3,Yd=4;if(typeof Symbol=="function"&&Symbol.for){var yh=Symbol.for;Wd=yh("selector.component"),Xd=yh("selector.has_pseudo_class"),jd=yh("selector.role"),Jd=yh("selector.test_id"),Yd=yh("selector.text")}function Zm(h){var f=Me(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(h=I(h),h===null)throw Error(o(362));return h.stateNode.current}function $m(h,f){switch(f.$$typeof){case Wd:if(h.type===f.value)return!0;break;case Xd:e:{f=f.value,h=[h,0];for(var y=0;y<h.length;){var S=h[y++],E=h[y++],B=f[E];if(S.tag!==5||!he(S)){for(;B!=null&&$m(S,B);)E++,B=f[E];if(E===f.length){f=!0;break e}else for(S=S.child;S!==null;)h.push(S,E),S=S.sibling}}f=!1}return f;case jd:if(h.tag===5&&de(h.stateNode,f.value))return!0;break;case Yd:if((h.tag===5||h.tag===6)&&(h=ae(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case Jd:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function e2(h){switch(h.$$typeof){case Wd:return"<"+(b(h.value)||"Unknown")+">";case Xd:return":has("+(e2(h)||"")+")";case jd:return'[role="'+h.value+'"]';case Yd:return'"'+h.value+'"';case Jd:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function u9(h,f){var y=[];h=[h,0];for(var S=0;S<h.length;){var E=h[S++],B=h[S++],K=f[B];if(E.tag!==5||!he(E)){for(;K!=null&&$m(E,K);)B++,K=f[B];if(B===f.length)y.push(E);else for(E=E.child;E!==null;)h.push(E,B),E=E.sibling}}return y}function t2(h,f){if(!H)throw Error(o(363));h=Zm(h),h=u9(h,f),f=[],h=Array.from(h);for(var y=0;y<h.length;){var S=h[y++];if(S.tag===5)he(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)h.push(S),S=S.sibling}return f}var dE=Math.ceil,Kd=a.ReactCurrentDispatcher,n2=a.ReactCurrentOwner,Bn=a.ReactCurrentBatchConfig,It=0,On=null,Nn=null,ci=0,yr=0,pc=St(0),Wn=0,xh=null,mc=0,Qd=0,i2=0,qh=null,Zi=null,r2=0,s2=1/0;function gc(){s2=_n()+500}var Zd=!1,o2=null,Lo=null,$d=!1,Do=null,e1=0,Ah=0,a2=null,t1=-1,n1=0;function ki(){return It&6?_n():t1!==-1?t1:t1=_n()}function Uo(h){return h.mode&1?It&2&&ci!==0?ci&-ci:Ua.transition!==null?(n1===0&&(h=Vs,Vs<<=1,!(Vs&4194240)&&(Vs=64),n1=h),n1):(h=Dt,h!==0?h:Se()):1}function zr(h,f,y){if(50<Ah)throw Ah=0,a2=null,Error(o(185));var S=i1(h,f);return S===null?null:(ws(S,f,y),(!(It&2)||S!==On)&&(S===On&&(!(It&2)&&(Qd|=f),Wn===4&&Fo(S,ci)),$i(S,y),f===1&&It===0&&!(h.mode&1)&&(gc(),Ts&&Qi())),S)}function i1(h,f){h.lanes|=f;var y=h.alternate;for(y!==null&&(y.lanes|=f),y=h,h=h.return;h!==null;)h.childLanes|=f,y=h.alternate,y!==null&&(y.childLanes|=f),y=h,h=h.return;return y.tag===3?y.stateNode:null}function $i(h,f){var y=h.callbackNode;$u(h,f);var S=Ia(h,h===On?ci:0);if(S===0)y!==null&&rc(y),h.callbackNode=null,h.callbackPriority=0;else if(f=S&-S,h.callbackPriority!==f){if(y!=null&&rc(y),f===1)h.tag===0?sh(f9.bind(null,h)):rh(f9.bind(null,h)),ve?Ue(function(){It===0&&Qi()}):Js(La,Qi),y=null;else{switch(eh(S)){case 1:y=La;break;case 4:y=xd;break;case 16:y=Di;break;case 536870912:y=nh;break;default:y=Di}y=q9(y,h9.bind(null,h))}h.callbackPriority=f,h.callbackNode=y}}function h9(h,f){if(t1=-1,n1=0,It&6)throw Error(o(327));var y=h.callbackNode;if(Xa()&&h.callbackNode!==y)return null;var S=Ia(h,h===On?ci:0);if(S===0)return null;if(S&30||S&h.expiredLanes||f)f=r1(h,S);else{f=S;var E=It;It|=2;var B=m9();(On!==h||ci!==f)&&(gc(),Va(h,f));do try{gE();break}catch(oe){p9(h,oe)}while(!0);oc(),Kd.current=B,It=E,Nn!==null?f=0:(On=null,ci=0,f=Wn)}if(f!==0){if(f===2&&(E=js(h),E!==0&&(S=E,f=l2(h,E))),f===1)throw y=xh,Va(h,0),Fo(h,S),$i(h,_n()),y;if(f===6)Fo(h,S);else{if(E=h.current.alternate,!(S&30)&&!pE(E)&&(f=r1(h,S),f===2&&(B=js(h),B!==0&&(S=B,f=l2(h,B))),f===1))throw y=xh,Va(h,0),Fo(h,S),$i(h,_n()),y;switch(h.finishedWork=E,h.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:Wa(h,Zi);break;case 3:if(Fo(h,S),(S&130023424)===S&&(f=r2+500-_n(),10<f)){if(Ia(h,0)!==0)break;if(E=h.suspendedLanes,(E&S)!==S){ki(),h.pingedLanes|=h.suspendedLanes&E;break}h.timeoutHandle=$(Wa.bind(null,h,Zi),f);break}Wa(h,Zi);break;case 4:if(Fo(h,S),(S&4194240)===S)break;for(f=h.eventTimes,E=-1;0<S;){var K=31-_i(S);B=1<<K,K=f[K],K>E&&(E=K),S&=~B}if(S=E,S=_n()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*dE(S/1960))-S,10<S){h.timeoutHandle=$(Wa.bind(null,h,Zi),S);break}Wa(h,Zi);break;case 5:Wa(h,Zi);break;default:throw Error(o(329))}}}return $i(h,_n()),h.callbackNode===y?h9.bind(null,h):null}function l2(h,f){var y=qh;return h.current.memoizedState.isDehydrated&&(Va(h,f).flags|=256),h=r1(h,f),h!==2&&(f=Zi,Zi=y,f!==null&&c2(f)),h}function c2(h){Zi===null?Zi=h:Zi.push.apply(Zi,h)}function pE(h){for(var f=h;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var E=y[S],B=E.getSnapshot;E=E.value;try{if(!pr(B(),E))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Fo(h,f){for(f&=~i2,f&=~Qd,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var y=31-_i(f),S=1<<y;h[y]=-1,f&=~S}}function f9(h){if(It&6)throw Error(o(327));Xa();var f=Ia(h,0);if(!(f&1))return $i(h,_n()),null;var y=r1(h,f);if(h.tag!==0&&y===2){var S=js(h);S!==0&&(f=S,y=l2(h,S))}if(y===1)throw y=xh,Va(h,0),Fo(h,f),$i(h,_n()),y;if(y===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,Wa(h,Zi),$i(h,_n()),null}function d9(h){Do!==null&&Do.tag===0&&!(It&6)&&Xa();var f=It;It|=1;var y=Bn.transition,S=Dt;try{if(Bn.transition=null,Dt=1,h)return h()}finally{Dt=S,Bn.transition=y,It=f,!(It&6)&&Qi()}}function u2(){yr=pc.current,Ye(pc)}function Va(h,f){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==De&&(h.timeoutHandle=De,ge(y)),Nn!==null)for(y=Nn.return;y!==null;){var S=y;switch(Cm(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Fn();break;case 3:fc(),Ye(vn),Ye(Zt),Lm();break;case 5:Bm(S);break;case 4:fc();break;case 13:Ye(yn);break;case 19:Ye(yn);break;case 10:ti(S.type._context);break;case 22:case 23:u2()}y=y.return}if(On=h,Nn=h=Oo(h.current,null),ci=yr=f,Wn=0,xh=null,i2=Qd=mc=0,Zi=qh=null,mr!==null){for(f=0;f<mr.length;f++)if(y=mr[f],S=y.interleaved,S!==null){y.interleaved=null;var E=S.next,B=y.pending;if(B!==null){var K=B.next;B.next=E,S.next=K}y.pending=S}mr=null}return h}function p9(h,f){do{var y=Nn;try{if(oc(),Rd.current=Ud,Pd){for(var S=En.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}Pd=!1}if(dc=0,ni=yi=En=null,hh=!1,fh=0,n2.current=null,y===null||y.return===null){Wn=1,xh=f,Nn=null;break}e:{var B=h,K=y.return,oe=y,Ce=f;if(f=ci,oe.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var je=Ce,lt=oe,Mt=lt.tag;if(!(lt.mode&1)&&(Mt===0||Mt===11||Mt===15)){var gt=lt.alternate;gt?(lt.updateQueue=gt.updateQueue,lt.memoizedState=gt.memoizedState,lt.lanes=gt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var tn=D8(K);if(tn!==null){tn.flags&=-257,U8(tn,K,oe,B,f),tn.mode&1&&L8(B,je,f),f=tn,Ce=je;var pt=f.updateQueue;if(pt===null){var Ai=new Set;Ai.add(Ce),f.updateQueue=Ai}else pt.add(Ce);break e}else{if(!(f&1)){L8(B,je,f),h2();break e}Ce=Error(o(426))}}else if(pn&&oe.mode&1){var Hr=D8(K);if(Hr!==null){!(Hr.flags&65536)&&(Hr.flags|=256),U8(Hr,K,oe,B,f),Rm(Ce);break e}}B=Ce,Wn!==4&&(Wn=2),qh===null?qh=[B]:qh.push(B),Ce=zm(Ce,oe),oe=K;do{switch(oe.tag){case 3:oe.flags|=65536,f&=-f,oe.lanes|=f;var ye=B8(oe,Ce,f);e8(oe,ye);break e;case 1:B=Ce;var ce=oe.type,we=oe.stateNode;if(!(oe.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Lo===null||!Lo.has(we)))){oe.flags|=65536,f&=-f,oe.lanes|=f;var nt=I8(oe,B,f);e8(oe,nt);break e}}oe=oe.return}while(oe!==null)}v9(y)}catch(dt){f=dt,Nn===y&&y!==null&&(Nn=y=y.return);continue}break}while(!0)}function m9(){var h=Kd.current;return Kd.current=Ud,h===null?Ud:h}function h2(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),On===null||!(mc&268435455)&&!(Qd&268435455)||Fo(On,ci)}function r1(h,f){var y=It;It|=2;var S=m9();On===h&&ci===f||Va(h,f);do try{mE();break}catch(E){p9(h,E)}while(!0);if(oc(),It=y,Kd.current=S,Nn!==null)throw Error(o(261));return On=null,ci=0,Wn}function mE(){for(;Nn!==null;)g9(Nn)}function gE(){for(;Nn!==null&&!th();)g9(Nn)}function g9(h){var f=x9(h.alternate,h,yr);h.memoizedProps=h.pendingProps,f===null?v9(h):Nn=f,n2.current=null}function v9(h){var f=h;do{var y=f.alternate;if(h=f.return,f.flags&32768){if(y=lE(y,f),y!==null){y.flags&=32767,Nn=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Wn=6,Nn=null;return}}else if(y=sE(y,f,yr),y!==null){Nn=y;return}if(f=f.sibling,f!==null){Nn=f;return}Nn=f=h}while(f!==null);Wn===0&&(Wn=5)}function Wa(h,f){var y=Dt,S=Bn.transition;try{Bn.transition=null,Dt=1,vE(h,f,y)}finally{Bn.transition=S,Dt=y}return null}function vE(h,f,y){do Xa();while(Do!==null);if(It&6)throw Error(o(327));var S=h.finishedWork,E=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var B=S.lanes|S.childLanes;if(Ro(h,B),h===On&&(Nn=On=null,ci=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||$d||($d=!0,q9(Di,function(){return Xa(),null})),B=(S.flags&15990)!==0,S.subtreeFlags&15990||B){B=Bn.transition,Bn.transition=null;var K=Dt;Dt=1;var oe=It;It|=4,n2.current=null,uE(h,S),hE(h,S),N(h.containerInfo),h.current=S,fE(S),yd(),It=oe,Dt=K,Bn.transition=B}else h.current=S;if($d&&($d=!1,Do=h,e1=E),B=h.pendingLanes,B===0&&(Lo=null),ih(S.stateNode),$i(h,_n()),f!==null)for(y=h.onRecoverableError,S=0;S<f.length;S++)y(f[S]);if(Zd)throw Zd=!1,h=o2,o2=null,h;return e1&1&&h.tag!==0&&Xa(),B=h.pendingLanes,B&1?h===a2?Ah++:(Ah=0,a2=h):Ah=0,Qi(),null}function Xa(){if(Do!==null){var h=eh(e1),f=Bn.transition,y=Dt;try{if(Bn.transition=null,Dt=16>h?16:h,Do===null)var S=!1;else{if(h=Do,Do=null,e1=0,It&6)throw Error(o(331));var E=It;for(It|=4,et=h.current;et!==null;){var B=et,K=B.child;if(et.flags&16){var oe=B.deletions;if(oe!==null){for(var Ce=0;Ce<oe.length;Ce++){var je=oe[Ce];for(et=je;et!==null;){var lt=et;switch(lt.tag){case 0:case 11:case 15:Ha(8,lt,B)}var Mt=lt.child;if(Mt!==null)Mt.return=lt,et=Mt;else for(;et!==null;){lt=et;var gt=lt.sibling,tn=lt.return;if(t9(lt),lt===je){et=null;break}if(gt!==null){gt.return=tn,et=gt;break}et=tn}}}var pt=B.alternate;if(pt!==null){var Ai=pt.child;if(Ai!==null){pt.child=null;do{var Hr=Ai.sibling;Ai.sibling=null,Ai=Hr}while(Ai!==null)}}et=B}}if(B.subtreeFlags&2064&&K!==null)K.return=B,et=K;else e:for(;et!==null;){if(B=et,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Ha(9,B,B.return)}var ye=B.sibling;if(ye!==null){ye.return=B.return,et=ye;break e}et=B.return}}var ce=h.current;for(et=ce;et!==null;){K=et;var we=K.child;if(K.subtreeFlags&2064&&we!==null)we.return=K,et=we;else e:for(K=ce;et!==null;){if(oe=et,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:_h(9,oe)}}catch(dt){er(oe,oe.return,dt)}if(oe===K){et=null;break e}var nt=oe.sibling;if(nt!==null){nt.return=oe.return,et=nt;break e}et=oe.return}}if(It=E,Qi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Da,h)}catch{}S=!0}return S}finally{Dt=y,Bn.transition=f}}return!1}function _9(h,f,y){f=zm(y,f),f=B8(h,f,1),Io(h,f),f=ki(),h=i1(h,1),h!==null&&(ws(h,1,f),$i(h,f))}function er(h,f,y){if(h.tag===3)_9(h,h,y);else for(;f!==null;){if(f.tag===3){_9(f,h,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Lo===null||!Lo.has(S))){h=zm(y,h),h=I8(f,h,1),Io(f,h),h=ki(),f=i1(f,1),f!==null&&(ws(f,1,h),$i(f,h));break}}f=f.return}}function _E(h,f,y){var S=h.pingCache;S!==null&&S.delete(f),f=ki(),h.pingedLanes|=h.suspendedLanes&y,On===h&&(ci&y)===y&&(Wn===4||Wn===3&&(ci&130023424)===ci&&500>_n()-r2?Va(h,0):i2|=y),$i(h,f)}function y9(h,f){f===0&&(h.mode&1?(f=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):f=1);var y=ki();h=i1(h,f),h!==null&&(ws(h,f,y),$i(h,y))}function yE(h){var f=h.memoizedState,y=0;f!==null&&(y=f.retryLane),y9(h,y)}function xE(h,f){var y=0;switch(h.tag){case 13:var S=h.stateNode,E=h.memoizedState;E!==null&&(y=E.retryLane);break;case 19:S=h.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),y9(h,y)}var x9;x9=function(h,f,y){if(h!==null)if(h.memoizedProps!==f.pendingProps||vn.current)_r=!0;else{if(!(h.lanes&y)&&!(f.flags&128))return _r=!1,aE(h,f,y);_r=!!(h.flags&131072)}else _r=!1,pn&&f.flags&1048576&&o8(f,Cd,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps;var E=vi(f,Zt.current);Rn(f,y),E=Um(null,f,S,h,E,y);var B=Fm();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Ft(S)?(B=!0,Dr(f)):B=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Sm(f),E.updater=Ed,f.stateNode=E,E._reactInternals=f,Em(f,S,h,y),f=Vm(null,f,S,!0,B,y)):(f.tag=0,pn&&B&&wm(f),Ni(null,f,E,y),f=f.child),f;case 16:S=f.elementType;e:{switch(h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps,E=S._init,S=E(S._payload),f.type=S,E=f.tag=AE(S),h=Fi(S,h),E){case 0:f=Hm(null,f,S,h,y);break e;case 1:f=V8(null,f,S,h,y);break e;case 11:f=N8(null,f,S,h,y);break e;case 14:f=k8(null,f,S,Fi(S.type,h),y);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:Fi(S,E),Hm(h,f,S,E,y);case 1:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:Fi(S,E),V8(h,f,S,E,y);case 3:e:{if(W8(f),h===null)throw Error(o(387));S=f.pendingProps,B=f.memoizedState,E=B.element,$g(h,f),Md(f,S,null,y);var K=f.memoizedState;if(S=K.element,pe&&B.isDehydrated)if(B={element:S,isDehydrated:!1,cache:K.cache,transitions:K.transitions},f.updateQueue.baseState=B,f.memoizedState=B,f.flags&256){E=Error(o(423)),f=X8(h,f,S,y,E);break e}else if(S!==E){E=Error(o(424)),f=X8(h,f,S,y,E);break e}else for(pe&&(vr=Un(f.stateNode.containerInfo),gr=f,pn=!0,os=null,oh=!1),y=f8(f,null,S,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(cc(),S===E){f=$s(h,f,y);break e}Ni(h,f,S,y)}f=f.child}return f;case 5:return d8(f),h===null&&bm(f),S=f.type,E=f.pendingProps,B=h!==null?h.memoizedProps:null,K=E.children,Q(S,E)?K=null:B!==null&&Q(S,B)&&(f.flags|=32),H8(h,f),Ni(h,f,K,y),f.child;case 6:return h===null&&bm(f),null;case 13:return j8(h,f,y);case 4:return Pm(f,f.stateNode.containerInfo),S=f.pendingProps,h===null?f.child=uc(f,null,S,y):Ni(h,f,S,y),f.child;case 11:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:Fi(S,E),N8(h,f,S,E,y);case 7:return Ni(h,f,f.pendingProps,y),f.child;case 8:return Ni(h,f,f.pendingProps.children,y),f.child;case 12:return Ni(h,f,f.pendingProps.children,y),f.child;case 10:e:{if(S=f.type._context,E=f.pendingProps,B=f.memoizedProps,K=E.value,Ad(f,S,K),B!==null)if(pr(B.value,K)){if(B.children===E.children&&!vn.current){f=$s(h,f,y);break e}}else for(B=f.child,B!==null&&(B.return=f);B!==null;){var oe=B.dependencies;if(oe!==null){K=B.child;for(var Ce=oe.firstContext;Ce!==null;){if(Ce.context===S){if(B.tag===1){Ce=Ys(-1,y&-y),Ce.tag=2;var je=B.updateQueue;if(je!==null){je=je.shared;var lt=je.pending;lt===null?Ce.next=Ce:(Ce.next=lt.next,lt.next=Ce),je.pending=Ce}}B.lanes|=y,Ce=B.alternate,Ce!==null&&(Ce.lanes|=y),Oi(B.return,y,f),oe.lanes|=y;break}Ce=Ce.next}}else if(B.tag===10)K=B.type===f.type?null:B.child;else if(B.tag===18){if(K=B.return,K===null)throw Error(o(341));K.lanes|=y,oe=K.alternate,oe!==null&&(oe.lanes|=y),Oi(K,y,f),K=B.sibling}else K=B.child;if(K!==null)K.return=B;else for(K=B;K!==null;){if(K===f){K=null;break}if(B=K.sibling,B!==null){B.return=K.return,K=B;break}K=K.return}B=K}Ni(h,f,E.children,y),f=f.child}return f;case 9:return E=f.type,S=f.pendingProps.children,Rn(f,y),E=Pn(E),S=S(E),f.flags|=1,Ni(h,f,S,y),f.child;case 14:return S=f.type,E=Fi(S,f.pendingProps),E=Fi(S.type,E),k8(h,f,S,E,y);case 15:return z8(h,f,f.type,f.pendingProps,y);case 17:return S=f.type,E=f.pendingProps,E=f.elementType===S?E:Fi(S,E),h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Ft(S)?(h=!0,Dr(f)):h=!1,Rn(f,y),r8(f,S,E),Em(f,S,E,y),Vm(null,f,S,!0,h,y);case 19:return Q8(h,f,y);case 22:return G8(h,f,y)}throw Error(o(156,f.tag))};function q9(h,f){return Js(h,f)}function qE(h,f,y,S){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(h,f,y,S){return new qE(h,f,y,S)}function f2(h){return h=h.prototype,!(!h||!h.isReactComponent)}function AE(h){if(typeof h=="function")return f2(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===q)return 14}return 2}function Oo(h,f){var y=h.alternate;return y===null?(y=Gr(h.tag,f,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=f,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,f=h.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function s1(h,f,y,S,E,B){var K=2;if(S=h,typeof h=="function")f2(h)&&(K=1);else if(typeof h=="string")K=5;else e:switch(h){case u:return ja(y.children,E,B,f);case d:K=8,E|=8;break;case p:return h=Gr(12,y,f,E|2),h.elementType=p,h.lanes=B,h;case _:return h=Gr(13,y,f,E),h.elementType=_,h.lanes=B,h;case g:return h=Gr(19,y,f,E),h.elementType=g,h.lanes=B,h;case M:return o1(y,E,B,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:K=10;break e;case v:K=9;break e;case x:K=11;break e;case q:K=14;break e;case A:K=16,S=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return f=Gr(K,y,f,E),f.elementType=h,f.type=S,f.lanes=B,f}function ja(h,f,y,S){return h=Gr(7,h,S,f),h.lanes=y,h}function o1(h,f,y,S){return h=Gr(22,h,S,f),h.elementType=M,h.lanes=y,h.stateNode={},h}function d2(h,f,y){return h=Gr(6,h,null,f),h.lanes=y,h}function p2(h,f,y){return f=Gr(4,h.children!==null?h.children:[],h.key,f),f.lanes=y,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function SE(h,f,y,S,E){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=De,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=S,this.onRecoverableError=E,pe&&(this.mutableSourceEagerHydrationData=null)}function A9(h,f,y,S,E,B,K,oe,Ce){return h=new SE(h,f,y,oe,Ce),f===1?(f=1,B===!0&&(f|=8)):f=0,B=Gr(3,null,null,f),h.current=B,B.stateNode=h,B.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null},Sm(B),h}function S9(h){if(!h)return Ct;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Ft(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(h.tag===1){var y=h.type;if(Ft(y))return Vn(h,y,f)}return f}function M9(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=L(f),h===null?null:h.stateNode}function E9(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<f?y:f}}function m2(h,f){E9(h,f),(h=h.alternate)&&E9(h,f)}function ME(h){return h=L(h),h===null?null:h.stateNode}function EE(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var f=ki();zr(h,134217728,f),m2(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=ki(),y=Uo(h);zr(h,y,f),m2(h,y)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var y=Xs(f.pendingLanes);y!==0&&(Cs(f,y|1),$i(f,_n()),!(It&6)&&(gc(),Qi()))}break;case 13:var S=ki();d9(function(){return zr(h,1,S)}),m2(h,1)}},t.batchedUpdates=function(h,f){var y=It;It|=1;try{return h(f)}finally{It=y,It===0&&(gc(),Ts&&Qi())}},t.createComponentSelector=function(h){return{$$typeof:Wd,value:h}},t.createContainer=function(h,f,y,S,E,B,K){return A9(h,f,!1,null,y,S,E,B,K)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Xd,value:h}},t.createHydrationContainer=function(h,f,y,S,E,B,K,oe,Ce){return h=A9(y,S,!0,h,E,B,K,oe,Ce),h.context=S9(null),y=h.current,S=ki(),E=Uo(y),B=Ys(S,E),B.callback=f??null,Io(y,B),h.current.lanes=E,ws(h,E,S),$i(h,S),h},t.createPortal=function(h,f,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:h,containerInfo:f,implementation:y}},t.createRoleSelector=function(h){return{$$typeof:jd,value:h}},t.createTestNameSelector=function(h){return{$$typeof:Jd,value:h}},t.createTextSelector=function(h){return{$$typeof:Yd,value:h}},t.deferredUpdates=function(h){var f=Dt,y=Bn.transition;try{return Bn.transition=null,Dt=16,h()}finally{Dt=f,Bn.transition=y}},t.discreteUpdates=function(h,f,y,S,E){var B=Dt,K=Bn.transition;try{return Bn.transition=null,Dt=1,h(f,y,S,E)}finally{Dt=B,Bn.transition=K,It===0&&gc()}},t.findAllNodes=t2,t.findBoundingRects=function(h,f){if(!H)throw Error(o(363));f=t2(h,f),h=[];for(var y=0;y<f.length;y++)h.push(re(f[y]));for(f=h.length-1;0<f;f--){y=h[f];for(var S=y.x,E=S+y.width,B=y.y,K=B+y.height,oe=f-1;0<=oe;oe--)if(f!==oe){var Ce=h[oe],je=Ce.x,lt=je+Ce.width,Mt=Ce.y,gt=Mt+Ce.height;if(S>=je&&B>=Mt&&E<=lt&&K<=gt){h.splice(f,1);break}else if(S!==je||y.width!==Ce.width||gt<B||Mt>K){if(!(B!==Mt||y.height!==Ce.height||lt<S||je>E)){je>S&&(Ce.width+=je-S,Ce.x=S),lt<E&&(Ce.width=E-je),h.splice(f,1);break}}else{Mt>B&&(Ce.height+=Mt-B,Ce.y=B),gt<K&&(Ce.height=K-Mt),h.splice(f,1);break}}}return h},t.findHostInstance=M9,t.findHostInstanceWithNoPortals=function(h){return h=F(h),h=h!==null?k(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return M9(h)},t.flushControlled=function(h){var f=It;It|=1;var y=Bn.transition,S=Dt;try{Bn.transition=null,Dt=1,h()}finally{Dt=S,Bn.transition=y,It=f,It===0&&(gc(),Qi())}},t.flushPassiveEffects=Xa,t.flushSync=d9,t.focusWithin=function(h,f){if(!H)throw Error(o(363));for(h=Zm(h),f=u9(h,f),f=Array.from(f),h=0;h<f.length;){var y=f[h++];if(!he(y)){if(y.tag===5&&Je(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(h,f){if(!H)throw Error(o(363));var y=0,S=[];h=[Zm(h),0];for(var E=0;E<h.length;){var B=h[E++],K=h[E++],oe=f[K];if((B.tag!==5||!he(B))&&($m(B,oe)&&(S.push(e2(oe)),K++,K>y&&(y=K)),K<f.length))for(B=B.child;B!==null;)h.push(B,K),B=B.sibling}if(y<f.length){for(h=[];y<f.length;y++)h.push(e2(f[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return X(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:ME,findFiberByHostInstance:h.findFiberByHostInstance||EE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{Da=f.inject(h),dr=f}catch{}h=!!f.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,f,y,S){if(!H)throw Error(o(363));h=t2(h,f);var E=Ae(h,y,S).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(h,f){var y=f._getVersion;y=y(f._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[f,y]:h.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(h,f){var y=Dt;try{return Dt=h,f()}finally{Dt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,f,y,S){var E=f.current,B=ki(),K=Uo(E);return y=S9(y),f.context===null?f.context=y:f.pendingContext=y,f=Ys(B,K),f.payload={element:h},S=S===void 0?null:S,S!==null&&(f.callback=S),Io(E,f),h=zr(E,K,B),h!==null&&Sd(h,E,K),K},t};DS.exports=JD;var YD=DS.exports;const KD=Q5(YD);var US={exports:{}},FS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,G){var N=D.length;D.push(G);e:for(;0<N;){var O=N-1>>>1,J=D[O];if(0<r(J,G))D[O]=G,D[N]=J,N=O;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],N=D.pop();if(N!==G){D[0]=N;e:for(var O=0,J=D.length,Z=J>>>1;O<Z;){var j=2*(O+1)-1,Q=D[j],ie=j+1,$=D[ie];if(0>r(Q,N))ie<J&&0>r($,Q)?(D[O]=$,D[ie]=N,O=ie):(D[O]=Q,D[j]=N,O=j);else if(ie<J&&0>r($,N))D[O]=$,D[ie]=N,O=ie;else break e}}return G}function r(D,G){var N=D.sortIndex-G.sortIndex;return N!==0?N:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var G=t(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=D)i(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function M(D){if(x=!1,A(D),!v)if(t(l)!==null)v=!0,X(C);else{var G=t(c);G!==null&&ee(M,G.startTime-D)}}function C(D,G){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var N=p;try{for(A(G),d=t(l);d!==null&&(!(d.expirationTime>G)||D&&!F());){var O=d.callback;if(typeof O=="function"){d.callback=null,p=d.priorityLevel;var J=O(d.expirationTime<=G);G=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),A(G)}else i(l);d=t(l)}if(d!==null)var Z=!0;else{var j=t(c);j!==null&&ee(M,j.startTime-G),Z=!1}return Z}finally{d=null,p=N,m=!1}}var w=!1,b=null,P=-1,R=5,T=-1;function F(){return!(n.unstable_now()-T<R)}function L(){if(b!==null){var D=n.unstable_now();T=D;var G=!0;try{G=b(!0,D)}finally{G?U():(w=!1,b=null)}}else w=!1}var U;if(typeof q=="function")U=function(){q(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Y=k.port2;k.port1.onmessage=L,U=function(){Y.postMessage(null)}}else U=function(){_(L,0)};function X(D){b=D,w||(w=!0,U())}function ee(D,G){P=_(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var N=p;p=G;try{return D()}finally{p=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var N=p;p=D;try{return G()}finally{p=N}},n.unstable_scheduleCallback=function(D,G,N){var O=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=N+J,D={id:u++,callback:G,priorityLevel:D,startTime:N,expirationTime:J,sortIndex:-1},N>O?(D.sortIndex=N,e(c,D),t(l)===null&&D===t(c)&&(x?(g(P),P=-1):x=!0,ee(M,N-O))):(D.sortIndex=J,e(l,D),v||m||(v=!0,X(C))),D},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(D){var G=p;return function(){var N=p;p=G;try{return D.apply(this,arguments)}finally{p=N}}}})(FS);US.exports=FS;var g_=US.exports;const QD=n=>typeof n=="object"&&typeof n.then=="function",Ml=[];function OS(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function NS(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Ml)if(OS(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Ml.indexOf(r);s!==-1&&Ml.splice(s,1)},promise:(QD(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Ml.push(r),!t)throw r.promise}const Og=(n,e,t)=>NS(n,e,!1,t),kS=(n,e,t)=>void NS(n,e,!0,t),zS=n=>{if(n===void 0||n.length===0)Ml.splice(0,Ml.length);else{const e=Ml.find(t=>OS(n,t.keys,t.equal));e&&e.remove()}};var ZD=Object.freeze({__proto__:null});const Ng={},md=n=>void Object.assign(Ng,n);function $D(n,e){function t(u,{args:d=[],attach:p,...m},v){let x=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;_=Jc(g,{type:u,root:v,attach:p,primitive:!0})}else{const g=Ng[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=Jc(new g(...d),{type:u,root:v,attach:p,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof At?_.__r3f.attach="geometry":_ instanceof Hn&&(_.__r3f.attach="material")),x!=="inject"&&B3(_,m),_}function i(u,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?P3(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Jc(d,{}),d.__r3f.parent=u,F5(d),Yc(d)}}function r(u,d,p){let m=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)P3(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const _=u.children.filter(q=>q!==d),g=_.indexOf(p);u.children=[..._.slice(0,g),d,..._.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(d),d.__r3f||Jc(d,{}),d.__r3f.parent=u,F5(d),Yc(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,v,x;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==d)),(v=d.__r3f)!=null&&v.attach)q_(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var _;u.remove(d),(_=d.__r3f)!=null&&_.root&&sU(Xp(d),d)}const q=(x=d.__r3f)==null?void 0:x.primitive,A=!q&&(p===void 0?d.dispose!==null:p);if(!q){var g;s((g=d.__r3f)==null?void 0:g.objects,d,A),s(d.children,d,A)}if(delete d.__r3f,A&&d.dispose&&d.type!=="Scene"){const M=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?g_.unstable_scheduleCallback(g_.unstable_IdlePriority,M):M()}Yc(u)}}function a(u,d,p,m){var v;const x=(v=u.__r3f)==null?void 0:v.parent;if(!x)return;const _=t(d,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&i(_,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>i(_,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(x,_),_.raycast&&_.__r3f.eventCount&&Xp(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=_,g.ref&&(typeof g.ref=="function"?g.ref(_):g.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:KD({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,i(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:g,...q}=m,{args:A=[],children:M,...C}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((b,P)=>b!==A[P]))return[!0];const w=YS(u,q,C,!0);return w.changes.length?[!1,w]:null}},commitUpdate(u,[d,p],m,v,x,_){d?a(u,m,x,_):B3(u,p)},commitMount(u,d,p,m){var v;const x=(v=u.__r3f)!=null?v:{};u.raycast&&x.handlers&&x.eventCount&&Xp(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Jc(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&q_(m,u,p),u.isObject3D&&(u.visible=!1),Yc(u)},unhideInstance(u,d){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&P3(v,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Yc(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():pu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&on.fun(performance.now)?performance.now:on.fun(Date.now)?Date.now:()=>0,scheduleTimeout:on.fun(setTimeout)?setTimeout:void 0,cancelTimeout:on.fun(clearTimeout)?clearTimeout:void 0}),applyProps:B3}}var v_,__;const R3=n=>"colorSpace"in n||"outputColorSpace"in n,GS=()=>{var n;return(n=Ng.ColorManagement)!=null?n:null},HS=n=>n&&n.isOrthographicCamera,eU=n=>n&&n.hasOwnProperty("current"),Ku=typeof window<"u"&&((v_=window.document)!=null&&v_.createElement||((__=window.navigator)==null?void 0:__.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function VS(n){const e=ue.useRef(n);return Ku(()=>void(e.current=n),[n]),e}function tU({set:n}){return Ku(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class WS extends ue.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}WS.getDerivedStateFromError=()=>({error:!0});const XS="__default",y_=new Map,nU=n=>n&&!!n.memoized&&!!n.changes;function jS(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const jc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Xp(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const on={obj:n=>n===Object(n)&&!on.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(on.str(n)||on.num(n)||on.boo(n))return n===e;const s=on.obj(n);if(s&&i==="reference")return n===e;const o=on.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!on.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(on.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function kg(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function JS(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Jc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function U5(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const x_=/-\d+$/;function P3(n,e,t){if(on.str(t)){if(x_.test(t)){const s=t.replace(x_,""),{target:o,key:a}=U5(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=U5(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function q_(n,e,t){var i,r;if(on.str(t)){const{target:s,key:o}=U5(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function YS(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const u=n.__r3f,d=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||d.unshift([v[x],XS+"remove"])}d.forEach(([v,x])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&v==="object"||on.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,x,!1,g]);for(const q in r){const A=r[q];q.startsWith(`${v}-`)&&p.push([q,A,!1,q.split("-")])}});const m={...r};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:p}}const iU=typeof process<"u"&&!1;function B3(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=nU(e)?e:YS(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let u=0;u<a.length;u++){let[d,p,m,v]=a[u];if(R3(n)){const q="srgb",A="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?q:A):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?q:A)}let x=n,_=x[d];if(v.length&&(_=v.reduce((g,q)=>g[q],n),!(_&&_.set))){const[g,...q]=v.reverse();x=q.reverse().reduce((A,M)=>A[M],n),d=g}if(p===XS+"remove")if(x.constructor){let g=y_.get(x.constructor);g||(g=new x.constructor,y_.set(x.constructor,g)),p=g[d]}else p=0;if(m&&i)p?i.handlers[d]=p:delete i.handlers[d],i.eventCount=Object.keys(i.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Rl)){if(Array.isArray(p))_.fromArray?_.fromArray(p):_.set(...p);else if(_.copy&&p&&p.constructor&&(iU?_.constructor.name===p.constructor.name:_.constructor===p.constructor))_.copy(p);else if(p!==void 0){const g=_ instanceof Ke;!g&&_.setScalar?_.setScalar(p):_ instanceof Rl&&p instanceof Rl?_.mask=p.mask:_.set(p),!GS()&&s&&!s.linear&&g&&_.convertSRGBToLinear()}}else if(x[d]=p,x[d]instanceof ln&&x[d].format===Wi&&x[d].type===Hs&&s){const g=x[d];R3(g)&&R3(s.gl)?g.colorSpace=s.gl.outputColorSpace:g.encoding=s.gl.outputEncoding}Yc(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const u=Xp(n).getState().internal,d=u.interaction.indexOf(n);d>-1&&u.interaction.splice(d,1),i.eventCount&&u.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&F5(n),n}function Yc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function F5(n){n.onUpdate==null||n.onUpdate(n)}function KS(n,e){n.manual||(HS(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function gp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function rU(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return pu.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return pu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return pu.ContinuousEventPriority;default:return pu.DefaultEventPriority}}function QS(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function sU(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{QS(t.capturedMap,e,i,r)})}function ZS(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=n.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const q=jc(m[g]);q&&(q.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const q=jc(g);if(!q||!q.events.enabled||q.raycaster.camera===null)return[];if(q.raycaster.camera===void 0){var A;q.events.compute==null||q.events.compute(l,q,(A=q.previousRoot)==null?void 0:A.getState()),q.raycaster.camera===void 0&&(q.raycaster.camera=null)}return q.raycaster.camera?q.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,q)=>{const A=jc(g.object),M=jc(q.object);return!A||!M?g.distance-q.distance:M.events.priority-A.events.priority||g.distance-q.distance}).filter(g=>{const q=gp(g);return d.has(q)?!1:(d.add(q),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let q=g.object;for(;q;){var _;(_=q.__r3f)!=null&&_.eventCount&&p.push({...g,eventObject:q}),q=q.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())d.has(gp(g.intersection))||p.push(g.intersection);return p}function r(l,c,u,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=jc(v.object)||p,{raycaster:_,pointer:g,camera:q,internal:A}=x,M=new W(g.x,g.y,0).unproject(q),C=T=>{var F,L;return(F=(L=A.capturedMap.get(T))==null?void 0:L.has(v.eventObject))!=null?F:!1},w=T=>{const F={intersection:v,target:c.target};A.capturedMap.has(T)?A.capturedMap.get(T).set(v.eventObject,F):A.capturedMap.set(T,new Map([[v.eventObject,F]])),c.target.setPointerCapture(T)},b=T=>{const F=A.capturedMap.get(T);F&&QS(A.capturedMap,v.eventObject,F,T)};let P={};for(let T in c){let F=c[T];typeof F!="function"&&(P[T]=F)}let R={...v,...P,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:_.ray,camera:q,stopPropagation(){const T="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!T||T.has(v.eventObject))&&(R.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=l.slice(0,l.indexOf(v));s([...F,v])}},target:{hasPointerCapture:C,setPointerCapture:w,releasePointerCapture:b},currentTarget:{hasPointerCapture:C,setPointerCapture:w,releasePointerCapture:b},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(gp(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(u,m?t:void 0),g=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=_.map(A=>A.eventObject)),v&&!_.length&&g<=2&&(o(u,p.interaction),d&&d(u)),m&&s(_);function q(A){const M=A.eventObject,C=M.__r3f,w=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(w.onPointerOver||w.onPointerEnter||w.onPointerOut||w.onPointerLeave){const b=gp(A),P=p.hovered.get(b);P?P.stopped&&A.stopPropagation():(p.hovered.set(b,A),w.onPointerOver==null||w.onPointerOver(A),w.onPointerEnter==null||w.onPointerEnter(A))}w.onPointerMove==null||w.onPointerMove(A)}else{const b=w[l];b?(!v||p.initialHits.includes(M))&&(o(u,p.interaction.filter(P=>!p.initialHits.includes(P))),b(A)):v&&p.initialHits.includes(M)&&o(u,p.interaction.filter(P=>!p.initialHits.includes(P)))}}r(_,u,g,q)}}return{handlePointer:a}}const oU=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],$S=n=>!!(n!=null&&n.render),xm=ue.createContext(null),aU=(n,e)=>{const t=ym((a,l)=>{const c=new W,u=new W,d=new W;function p(g=l().camera,q=u,A=l().size){const{width:M,height:C,top:w,left:b}=A,P=M/C;q instanceof W?d.copy(q):d.set(...q);const R=g.getWorldPosition(c).distanceTo(d);if(HS(g))return{width:M/g.zoom,height:C/g.zoom,top:w,left:b,factor:1,distance:R,aspect:P};{const T=g.fov*Math.PI/180,F=2*Math.tan(T/2)*R,L=F*(M/C);return{width:L,height:F,top:w,left:b,factor:M/L,distance:R,aspect:P}}}let m;const v=g=>a(q=>({performance:{...q.performance,current:g}})),x=new Re;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,q)=>e(g,q,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Dg,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(q=>({...q,events:{...q.events,...g}})),setSize:(g,q,A,M,C)=>{const w=l().camera,b={width:g,height:q,top:M||0,left:C||0,updateStyle:A};a(P=>({size:b,viewport:{...P.viewport,...p(w,u,b)}}))},setDpr:g=>a(q=>{const A=jS(g);return{viewport:{...q.viewport,dpr:A,initialDpr:q.viewport.initialDpr||A}}}),setFrameloop:(g="always")=>{const q=l().clock;q.stop(),q.elapsedTime=0,g!=="never"&&(q.start(),q.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ue.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,q,A)=>{const M=l().internal;return M.priority=M.priority+(q>0?1:0),M.subscribers.push({ref:g,priority:q,store:A}),M.subscribers=M.subscribers.sort((C,w)=>C.priority-w.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(q>0?1:0),C.subscribers=C.subscribers.filter(w=>w.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,KS(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function zg(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let vp,eM=new Set,tM=new Set,nM=new Set;const lU=n=>zg(n,eM),cU=n=>zg(n,tM),uU=n=>zg(n,nM);function I3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Kc(n,e){switch(n){case"before":return I3(eM,e);case"after":return I3(tM,e);case"tail":return I3(nM,e)}}let L3,D3;function U3(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),L3=e.internal.subscribers,vp=0;vp<L3.length;vp++)D3=L3[vp],D3.ref.current(D3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hU(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Kc("before",c),t=!0;for(const d of n.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(i+=U3(c,s))}if(t=!1,Kc("after",c),i===0)return Kc("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,u=1){var d;if(!c)return n.forEach(p=>a(p.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,p){if(u&&Kc("before",c),d)U3(c,d,p);else for(const m of n.values())U3(c,m.store.getState());u&&Kc("after",c)}return{loop:o,invalidate:a,advance:l}}function fU(n){const e=ue.useRef(null);return Ku(()=>void(e.current=n.current.__r3f),[n]),e}function qm(){const n=ue.useContext(xm);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function zn(n=t=>t,e){return qm()(n,e)}function Qu(n,e=0){const t=qm(),i=t.getState().internal.subscribe,r=VS(n);return Ku(()=>i(r,e,t),[e,i,t]),null}function dU(n){return ue.useMemo(()=>kg(n),[n])}const A_=new WeakMap;function iM(n,e){return function(t,...i){let r=A_.get(t);return r||(r=new t,A_.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,kg(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function $l(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Og(iM(t,i),[n,...r],{equal:on.equ});return Array.isArray(e)?s:s[0]}$l.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return kS(iM(t),[n,...i])};$l.clear=function(n,e){const t=Array.isArray(e)?e:[e];return zS([n,...t])};const Wl=new Map,{invalidate:O5,advance:N5}=hU(Wl),{reconciler:Ou,applyProps:pl}=$D(Wl,rU),kc={objects:"shallow",strict:!1},pU=(n,e)=>{const t=typeof n=="function"?n(e):n;return $S(t)?t:new jA({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function mU(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Gg(n){const e=Wl.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||aU(O5,N5),o=t||Ou.createContainer(s,pu.ConcurrentRoot,null,!1,null,"",r,null);e||Wl.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:v,onCreated:x,shadows:_=!1,linear:g=!1,flat:q=!1,legacy:A=!1,orthographic:M=!1,frameloop:C="always",dpr:w=[1,2],performance:b,raycaster:P,camera:R,onPointerMissed:T}=u,F=s.getState(),L=F.gl;F.gl||F.set({gl:L=pU(d,n)});let U=F.raycaster;U||F.set({raycaster:U=new _m});const{params:k,...Y}=P||{};if(on.equ(Y,U,kc)||pl(U,{...Y}),on.equ(k,U.params,kc)||pl(U,{params:{...U.params,...k}}),!F.camera||F.camera===c&&!on.equ(c,R,kc)){c=R;const N=R instanceof Wu,O=N?R:M?new Ta(0,0,0,0,.1,1e3):new bn(75,0,.1,1e3);N||(O.position.z=5,R&&(pl(O,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(O.manual=!0,O.updateProjectionMatrix())),!F.camera&&!(R!=null&&R.rotation)&&O.lookAt(0,0,0)),F.set({camera:O}),U.camera=O}if(!F.scene){let N;m instanceof Jf?N=m:(N=new Jf,m&&pl(N,m)),F.set({scene:Jc(N)})}if(!F.xr){var X;const N=(Z,j)=>{const Q=s.getState();Q.frameloop!=="never"&&N5(Z,!0,Q,j)},O=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?N:null),Z.gl.xr.isPresenting||O5(Z)},J={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",O),Z.xr.addEventListener("sessionend",O)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",O),Z.xr.removeEventListener("sessionend",O)}};typeof((X=L.xr)==null?void 0:X.addEventListener)=="function"&&J.connect(),F.set({xr:J})}if(L.shadowMap){const N=L.shadowMap.enabled,O=L.shadowMap.type;if(L.shadowMap.enabled=!!_,on.boo(_))L.shadowMap.type=mf;else if(on.str(_)){var ee;const J={basic:Tq,percentage:H0,soft:mf,variance:ds};L.shadowMap.type=(ee=J[_])!=null?ee:mf}else on.obj(_)&&Object.assign(L.shadowMap,_);(N!==L.shadowMap.enabled||O!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}const D=GS();D&&("enabled"in D?D.enabled=!A:"legacyMode"in D&&(D.legacyMode=A)),l||pl(L,{outputEncoding:g?3e3:3001,toneMapping:q?zs:j6}),F.legacy!==A&&F.set(()=>({legacy:A})),F.linear!==g&&F.set(()=>({linear:g})),F.flat!==q&&F.set(()=>({flat:q})),d&&!on.fun(d)&&!$S(d)&&!on.equ(d,L,kc)&&pl(L,d),v&&!F.events.handlers&&F.set({events:v(s)});const G=mU(n,p);return on.equ(G,F.size,kc)||F.setSize(G.width,G.height,G.updateStyle,G.top,G.left),w&&F.viewport.dpr!==jS(w)&&F.setDpr(w),F.frameloop!==C&&F.setFrameloop(C),F.onPointerMissed||F.set({onPointerMissed:T}),b&&!on.equ(b,F.performance,kc)&&F.set(N=>({performance:{...N.performance,...b}})),a=x,l=!0,this},render(u){return l||this.configure(),Ou.updateContainer(se.jsx(vU,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Hg(n)}}}function gU(n,e,t){console.warn("R3F.render is no longer supported in React 18. Use createRoot instead!");const i=Gg(e);return i.configure(t),i.render(n)}function vU({store:n,children:e,onCreated:t,rootElement:i}){return Ku(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),se.jsx(xm.Provider,{value:n,children:e})}function Hg(n,e){const t=Wl.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Ou.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),JS(r),Wl.delete(n),e&&e(n)}catch{}},500)})}}function _U(n,e,t){return se.jsx(yU,{children:n,container:e,state:t},e.uuid)}function yU({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=qm(),[a]=ue.useState(()=>new _m),[l]=ue.useState(()=>new Re),c=ue.useCallback((d,p)=>{const m={...d};Object.keys(d).forEach(x=>{(oU.includes(x)||d[x]!==p[x]&&p[x])&&delete m[x]});let v;if(p&&r){const x=p.camera;v=d.viewport.getCurrentViewport(x,new W,r),x!==d.camera&&KS(x,r)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...p==null?void 0:p.events,...i},size:{...d.size,...r},viewport:{...d.viewport,...v},...s}},[n]),[u]=ue.useState(()=>{const d=o.getState();return ym((m,v)=>({...d,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...i},size:{...d.size,...r},...s,set:m,get:v,setEvents:x=>m(_=>({..._,events:{..._.events,...x}}))}))});return ue.useEffect(()=>{const d=o.subscribe(p=>u.setState(m=>c(p,m)));return()=>{d()}},[c]),ue.useEffect(()=>{u.setState(d=>c(o.getState(),d))},[c]),ue.useEffect(()=>()=>{u.destroy()},[]),se.jsx(se.Fragment,{children:Ou.createPortal(se.jsx(xm.Provider,{value:u,children:e}),u,null)})}Ou.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ue.version});const xU=ue.unstable_act;function k5(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=t&&!i;return i||(i=setTimeout(l,e)),u&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}k5.debounce=k5;var qU=k5;const S_=Q5(qU);function AU(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=ue.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ue.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=ue.useRef(!1);ue.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=ue.useMemo(()=>{const q=()=>{if(!l.current.element)return;const{left:A,top:M,width:C,height:w,bottom:b,right:P,x:R,y:T}=l.current.element.getBoundingClientRect(),F={left:A,top:M,width:C,height:w,bottom:b,right:P,x:R,y:T};l.current.element instanceof HTMLElement&&r&&(F.height=l.current.element.offsetHeight,F.width=l.current.element.offsetWidth),Object.freeze(F),d.current&&!wU(l.current.lastBounds,F)&&a(l.current.lastBounds=F)};return[q,u?S_(q,u):q,c?S_(q,c):q]},[a,r,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(q=>q.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(q=>q.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=q=>{!q||q===l.current.element||(x(),l.current.element=q,l.current.scrollContainers=rM(q),_())};return MU(v,!!t),SU(m),ue.useEffect(()=>{x(),_()},[t,v,m]),ue.useEffect(()=>x,[]),[g,o,p]}function SU(n){ue.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function MU(n,e){ue.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function rM(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...rM(n.parentElement)]}const EU=["x","y","top","bottom","left","right","width","height"],wU=(n,e)=>EU.every(t=>n[t]===e[t]);var CU=Object.defineProperty,TU=Object.defineProperties,bU=Object.getOwnPropertyDescriptors,M_=Object.getOwnPropertySymbols,RU=Object.prototype.hasOwnProperty,PU=Object.prototype.propertyIsEnumerable,E_=(n,e,t)=>e in n?CU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,w_=(n,e)=>{for(var t in e||(e={}))RU.call(e,t)&&E_(n,t,e[t]);if(M_)for(var t of M_(e))PU.call(e,t)&&E_(n,t,e[t]);return n},BU=(n,e)=>TU(n,bU(e)),C_,T_;typeof window<"u"&&((C_=window.document)!=null&&C_.createElement||((T_=window.navigator)==null?void 0:T_.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function sM(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=sM(i,e,t);if(r)return r;i=i.sibling}}function oM(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const b_=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=b_;return}return b_.apply(this,arguments)};const Vg=oM(ue.createContext(null));class aM extends ue.Component{render(){return ue.createElement(Vg.Provider,{value:this._reactInternals},this.props.children)}}function IU(){const n=ue.useContext(Vg);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ue.useId();return ue.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=sM(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function LU(){const n=IU(),[e]=ue.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==Vg&&!e.has(r)&&e.set(r,ue.useContext(oM(r)))}t=t.return}return e}function DU(){const n=LU();return ue.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ue.createElement(e,null,ue.createElement(t.Provider,BU(w_({},i),{value:n.get(t)}))),e=>ue.createElement(aM,w_({},e))),[n])}const F3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function lM(n){const{handlePointer:e}=ZS(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(F3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=F3[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=F3[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const UU=ue.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=lM,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:_,raycaster:g,camera:q,scene:A,onPointerMissed:M,onCreated:C,...w},b){ue.useMemo(()=>md(GD),[]);const P=DU(),[R,T]=AU({scroll:!0,debounce:{scroll:50,resize:0},...i}),F=ue.useRef(null),L=ue.useRef(null);ue.useImperativeHandle(b,()=>F.current);const U=VS(M),[k,Y]=ue.useState(!1),[X,ee]=ue.useState(!1);if(k)throw k;if(X)throw X;const D=ue.useRef(null);Ku(()=>{const N=F.current;T.width>0&&T.height>0&&N&&(D.current||(D.current=Gg(N)),D.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:_,raycaster:g,camera:q,scene:A,size:T,onPointerMissed:(...O)=>U.current==null?void 0:U.current(...O),onCreated:O=>{O.events.connect==null||O.events.connect(a?eU(a)?a.current:a:L.current),l&&O.setEvents({compute:(J,Z)=>{const j=J[l+"X"],Q=J[l+"Y"];Z.pointer.set(j/Z.size.width*2-1,-(Q/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),C==null||C(O)}}),D.current.render(se.jsx(P,{children:se.jsx(WS,{set:ee,children:se.jsx(ue.Suspense,{fallback:se.jsx(tU,{set:Y}),children:e})})})))}),ue.useEffect(()=>{const N=F.current;if(N)return()=>Hg(N)},[]);const G=a?"none":"auto";return se.jsx("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...r},...w,children:se.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:se.jsx("canvas",{ref:F,style:{display:"block"},children:t})})})}),cM=ue.forwardRef(function(e,t){return se.jsx(aM,{children:se.jsx(UU,{...e,ref:t})})});function Sa(){return Sa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sa.apply(null,arguments)}const gd=new W,Wg=new W,FU=new W,R_=new Re;function OU(n,e,t){const i=gd.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function NU(n,e){const t=gd.setFromMatrixPosition(n.matrixWorld),i=Wg.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(FU);return r.angleTo(s)>Math.PI/2}function kU(n,e,t,i){const r=gd.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),R_.set(s.x,s.y),t.setFromCamera(R_,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function zU(n,e){if(e instanceof Ta)return e.zoom;if(e instanceof bn){const t=gd.setFromMatrixPosition(n.matrixWorld),i=Wg.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function GU(n,e,t){if(e instanceof bn||e instanceof Ta){const i=gd.setFromMatrixPosition(n.matrixWorld),r=Wg.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const z5=n=>Math.abs(n)<1e-10?0:n;function uM(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=z5(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const HU=(n=>e=>uM(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),VU=(n=>(e,t)=>uM(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function WU(n){return n&&typeof n=="object"&&"current"in n}const hM=ue.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:x,geometry:_,zIndexRange:g=[16777271,0],calculatePosition:q=OU,as:A="div",wrapperClass:M,pointerEvents:C="auto",...w},b)=>{const{gl:P,camera:R,scene:T,size:F,raycaster:L,events:U,viewport:k}=zn(),[Y]=ue.useState(()=>document.createElement(A)),X=ue.useRef(),ee=ue.useRef(null),D=ue.useRef(0),G=ue.useRef([0,0]),N=ue.useRef(null),O=ue.useRef(null),J=(a==null?void 0:a.current)||U.connected||P.domElement.parentNode,Z=ue.useRef(null),j=ue.useRef(!1),Q=ue.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&WU(d[0]),[d]);ue.useLayoutEffect(()=>{const Ie=P.domElement;d&&d==="blending"?(Ie.style.zIndex=`${Math.floor(g[0]/2)}`,Ie.style.position="absolute",Ie.style.pointerEvents="none"):(Ie.style.zIndex=null,Ie.style.position=null,Ie.style.pointerEvents=null)},[d]),ue.useLayoutEffect(()=>{if(ee.current){const Ie=X.current=Eq(Y);if(T.updateMatrixWorld(),u)Y.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const z=q(ee.current,R,F);Y.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${z[0]}px,${z[1]}px,0);transform-origin:0 0;`}return J&&(r?J.prepend(Y):J.appendChild(Y)),()=>{J&&J.removeChild(Y),Ie.unmount()}}},[J,u]),ue.useLayoutEffect(()=>{M&&(Y.className=M)},[M]);const ie=ue.useMemo(()=>u?{position:"absolute",top:0,left:0,width:F.width,height:F.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-F.height/2,left:-F.width/2,width:F.width,height:F.height},...t},[t,s,o,F,u]),$=ue.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);ue.useLayoutEffect(()=>{if(j.current=!1,u){var Ie;(Ie=X.current)==null||Ie.render(ue.createElement("div",{ref:N,style:ie},ue.createElement("div",{ref:O,style:$},ue.createElement("div",{ref:b,className:i,style:t,children:n}))))}else{var z;(z=X.current)==null||z.render(ue.createElement("div",{ref:b,style:ie,className:i,children:n}))}});const ge=ue.useRef(!0);Qu(Ie=>{if(ee.current){R.updateMatrixWorld(),ee.current.updateWorldMatrix(!0,!1);const z=u?G.current:q(ee.current,R,F);if(u||Math.abs(D.current-R.zoom)>e||Math.abs(G.current[0]-z[0])>e||Math.abs(G.current[1]-z[1])>e){const ne=NU(ee.current,R);let pe=!1;Q&&(Array.isArray(d)?pe=d.map(Be=>Be.current):d!=="blending"&&(pe=[T]));const Me=ge.current;if(pe){const Be=kU(ee.current,R,L,pe);ge.current=Be&&!ne}else ge.current=!ne;Me!==ge.current&&(p?p(!ge.current):Y.style.display=ge.current?"block":"none");const xe=Math.floor(g[0]/2),Se=d?Q?[g[0],xe]:[xe-1,0]:g;if(Y.style.zIndex=`${GU(ee.current,R,Se)}`,u){const[Be,ve]=[F.width/2,F.height/2],Ue=R.projectionMatrix.elements[5]*ve,{isOrthographicCamera:H,top:I,left:re,bottom:ae,right:he}=R,de=HU(R.matrixWorldInverse),Je=H?`scale(${Ue})translate(${z5(-(he+re)/2)}px,${z5((I+ae)/2)}px)`:`translateZ(${Ue}px)`;let Ae=ee.current.matrixWorld;c&&(Ae=R.matrixWorldInverse.clone().transpose().copyPosition(Ae).scale(ee.current.scale),Ae.elements[3]=Ae.elements[7]=Ae.elements[11]=0,Ae.elements[15]=1),Y.style.width=F.width+"px",Y.style.height=F.height+"px",Y.style.perspective=H?"":`${Ue}px`,N.current&&O.current&&(N.current.style.transform=`${Je}${de}translate(${Be}px,${ve}px)`,O.current.style.transform=VU(Ae,1/((l||10)/400)))}else{const Be=l===void 0?1:zU(ee.current,R)*l;Y.style.transform=`translate3d(${z[0]}px,${z[1]}px,0) scale(${Be})`}G.current=z,D.current=R.zoom}}if(!Q&&Z.current&&!j.current)if(u){if(N.current){const z=N.current.children[0];if(z!=null&&z.clientWidth&&z!=null&&z.clientHeight){const{isOrthographicCamera:ne}=R;if(ne||_)w.scale&&(Array.isArray(w.scale)?w.scale instanceof W?Z.current.scale.copy(w.scale.clone().divideScalar(1)):Z.current.scale.set(1/w.scale[0],1/w.scale[1],1/w.scale[2]):Z.current.scale.setScalar(1/w.scale));else{const pe=(l||10)/400,Me=z.clientWidth*pe,xe=z.clientHeight*pe;Z.current.scale.set(Me,xe,1)}j.current=!0}}}else{const z=Y.children[0];if(z!=null&&z.clientWidth&&z!=null&&z.clientHeight){const ne=1/k.factor,pe=z.clientWidth*ne,Me=z.clientHeight*ne;Z.current.scale.set(pe,Me,1),j.current=!0}Z.current.lookAt(Ie.camera.position)}});const De=ue.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return ue.createElement("group",Sa({},w,{ref:ee}),d&&!Q&&ue.createElement("mesh",{castShadow:m,receiveShadow:v,ref:Z},_||ue.createElement("planeGeometry",null),x||ue.createElement("shaderMaterial",{side:rr,vertexShader:De.vertexShader,fragmentShader:De.fragmentShader})))});function fM(n,e="pointer",t="auto",i=document.body){ue.useEffect(()=>{if(n)return i.style.cursor=e,()=>void(i.style.cursor=t)},[n])}let Hh=0;const XU=ym(n=>(du.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Hh)/(i-Hh)*100})},du.onLoad=()=>{n({active:!1})},du.onError=e=>n(t=>({errors:[...t.errors,e]})),du.onProgress=(e,t,i)=>{t===i&&(Hh=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Hh)/(i-Hh)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function jU(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},i=n.getIndex(),r=n.getAttribute("position"),s=i?i.count:r.count;let o=0;const a=Object.keys(n.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"];for(let x=0,_=a.length;x<_;x++){const g=a[x];l[g]=[];const q=n.morphAttributes[g];q&&(c[g]=new Array(q.length).fill(0).map(()=>[]))}const p=Math.log10(1/e),m=Math.pow(10,p);for(let x=0;x<s;x++){const _=i?i.getX(x):x;let g="";for(let q=0,A=a.length;q<A;q++){const M=a[q],C=n.getAttribute(M),w=C.itemSize;for(let b=0;b<w;b++)g+=`${~~(C[d[b]](_)*m)},`}if(g in t)u.push(t[g]);else{for(let q=0,A=a.length;q<A;q++){const M=a[q],C=n.getAttribute(M),w=n.morphAttributes[M],b=C.itemSize,P=l[M],R=c[M];for(let T=0;T<b;T++){const F=d[T];if(P.push(C[F](_)),w)for(let L=0,U=w.length;L<U;L++)R[L].push(w[L][F](_))}}t[g]=o,u.push(o),o++}}const v=n.clone();for(let x=0,_=a.length;x<_;x++){const g=a[x],q=n.getAttribute(g),A=new q.array.constructor(l[g]),M=new Ut(A,q.itemSize,q.normalized);if(v.setAttribute(g,M),g in c)for(let C=0;C<c[g].length;C++){const w=n.morphAttributes[g][C],b=new w.array.constructor(c[g][C]),P=new Ut(b,w.itemSize,w.normalized);v.morphAttributes[g][C]=P}}return v.setIndex(u),v}function P_(n,e){if(e===qA)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===A0||e===ng){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===A0)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const JU=parseInt(Gu.replace(/\D+/g,""));function w0(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const El="srgb",yo="srgb-linear",B_=3001,YU=3e3;class Xg extends mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new eF(t)}),this.register(function(t){return new tF(t)}),this.register(function(t){return new uF(t)}),this.register(function(t){return new hF(t)}),this.register(function(t){return new fF(t)}),this.register(function(t){return new iF(t)}),this.register(function(t){return new rF(t)}),this.register(function(t){return new sF(t)}),this.register(function(t){return new oF(t)}),this.register(function(t){return new $U(t)}),this.register(function(t){return new aF(t)}),this.register(function(t){return new nF(t)}),this.register(function(t){return new cF(t)}),this.register(function(t){return new lF(t)}),this.register(function(t){return new QU(t)}),this.register(function(t){return new dF(t)}),this.register(function(t){return new pF(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=ma.extractUrlBase(e);o=ma.resolveURL(c,this.path)}else o=ma.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new hr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(w0(new Uint8Array(e.slice(0,4)))===dM){try{o[Ot.KHR_BINARY_GLTF]=new mF(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Ot.KHR_BINARY_GLTF].content)}else s=JSON.parse(w0(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new TF(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Ot.KHR_MATERIALS_UNLIT:o[u]=new ZU;break;case Ot.KHR_DRACO_MESH_COMPRESSION:o[u]=new gF(s,this.dracoLoader);break;case Ot.KHR_TEXTURE_TRANSFORM:o[u]=new vF;break;case Ot.KHR_MESH_QUANTIZATION:o[u]=new _F;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function KU(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ot={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class QU{constructor(e){this.parser=e,this.name=Ot.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ke(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],yo);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Bg(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Pg(u),c.distance=d;break;case"spot":c=new Rg(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ao(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class ZU{constructor(){this.name=Ot.KHR_MATERIALS_UNLIT}getMaterialType(){return or}extendParams(e,t,i){const r=[];e.color=new Ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],yo),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,El))}return Promise.all(r)}}class $U{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class eF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Re(a,a)}return Promise.all(s)}}class tF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class nF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class iF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],yo)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,El)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class rF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class sF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ke().setRGB(a[0],a[1],a[2],yo),Promise.all(s)}}class oF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class aF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ke().setRGB(a[0],a[1],a[2],yo),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,El)),Promise.all(s)}}class lF{constructor(e){this.parser=e,this.name=Ot.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class cF{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:is}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class uF{constructor(e){this.parser=e,this.name=Ot.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class hF{constructor(e){this.parser=e,this.name=Ot.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class fF{constructor(e){this.parser=e,this.name=Ot.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class dF{constructor(e){this.name=Ot.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,r.mode,r.filter),m})})}else return null}}class pF{constructor(e){this.name=Ot.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==jr.TRIANGLES&&c.mode!==jr.TRIANGLE_STRIP&&c.mode!==jr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const v of d){const x=new ht,_=new W,g=new ai,q=new W(1,1,1),A=new mg(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&q.fromBufferAttribute(l.SCALE,M),A.setMatrixAt(M,x.compose(_,g,q));for(const M in l)if(M==="_COLOR_0"){const C=l[M];A.instanceColor=new Aa(C.array,C.itemSize,C.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);Gt.prototype.copy.call(A,v),this.parser.assignFinalMaterial(A),m.push(A)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const dM="glTF",Vh=12,I_={JSON:1313821514,BIN:5130562};class mF{constructor(e){this.name=Ot.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Vh);if(this.header={magic:w0(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==dM)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Vh,r=new DataView(e,Vh);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===I_.JSON){const l=new Uint8Array(e,Vh+s,o);this.content=w0(l)}else if(a===I_.BIN){const l=Vh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class gF{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ot.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=G5[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=G5[u]||u.toLowerCase();if(o[u]!==void 0){const p=i.accessors[e.attributes[u]],m=Su[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d,p){r.decodeDracoFile(u,function(m){for(const v in m.attributes){const x=m.attributes[v],_=l[v];_!==void 0&&(x.normalized=_)}d(m)},a,c,yo,p)})})}}class vF{constructor(){this.name=Ot.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class _F{constructor(){this.name=Ot.KHR_MESH_QUANTIZATION}}class pM extends Yu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,d=(i-t)/u,p=d*d,m=p*d,v=e*c,x=v-c,_=-2*m+3*p,g=m-p,q=1-_,A=g-p+d;for(let M=0;M!==a;M++){const C=o[x+M+a],w=o[x+M+l]*u,b=o[v+M+a],P=o[v+M]*u;s[M]=q*C+A*w+_*b+g*P}return s}}const yF=new ai;class xF extends pM{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return yF.fromArray(s).normalize().toArray(s),s}}const jr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Su={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},L_={9728:Dn,9729:$t,9984:W0,9985:qu,9986:yl,9987:Zr},D_={33071:wr,33648:Pu,10497:xa},O3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},G5={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...JU>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Yo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},qF={CUBICSPLINE:void 0,LINEAR:Lu,STEP:Iu},N3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function AF(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Ju({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qs})),n.DefaultMaterial}function ol(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ao(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function SF(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function MF(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function EF(n){let e;const t=n.extensions&&n.extensions[Ot.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+k3(t.attributes):e=n.indices+":"+k3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+k3(n.targets[i]);return e}function k3(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function H5(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function wF(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const CF=new ht;class TF{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new KU,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new Tg(this.options.manager):this.textureLoader=new CS(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new hr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return ol(s,a,r),ao(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ot.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(ma.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=O3[r.type],a=Su[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Ut(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=O3[r.type],c=Su[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let x,_;if(m&&m!==d){const g=Math.floor(p/m),q="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let A=t.cache.get(q);A||(x=new c(a,g*m,r.count*m/u),A=new cd(x,m/u),t.cache.add(q,A)),_=new qa(A,l,p%m/u,v)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),_=new Ut(x,l,v);if(r.sparse!==void 0){const g=O3.SCALAR,q=Su[r.sparse.indices.componentType],A=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,C=new q(o[1],A,r.sparse.count*g),w=new c(o[2],M,r.sparse.count*l);a!==null&&(_=new Ut(_.array.slice(),_.itemSize,_.normalized));for(let b=0,P=C.length;b<P;b++){const R=C[b];if(_.setX(R,w[b*l]),l>=2&&_.setY(R,w[b*l+1]),l>=3&&_.setZ(R,w[b*l+2]),l>=4&&_.setW(R,w[b*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=L_[p.magFilter]||$t,u.minFilter=L_[p.minFilter]||Zr,u.wrapS=D_[p.wrapS]||xa,u.wrapT=D_[p.wrapT]||xa,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(x){const _=new ln(x);_.needsUpdate=!0,p(_)}),t.load(ma.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),ao(d,o),d.userData.mimeType=o.mimeType||wF(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Ot.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Ot.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ot.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===B_?El:yo),"colorSpace"in o?o.colorSpace=r:o.encoding=r===El?B_:YU),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new nm,Hn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ii,Hn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Ju}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ot.KHR_MATERIALS_UNLIT]){const d=r[Ot.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ke(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],yo),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,El)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=rr);const u=s.alphaMode||N3.OPAQUE;if(u===N3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===N3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==or&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Re(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==or&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==or){const d=s.emissiveFactor;a.emissive=new Ke().setRGB(d[0],d[1],d[2],yo)}return s.emissiveTexture!==void 0&&o!==or&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,El)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),ao(d,s),t.associations.set(d,{materials:e}),s.extensions&&ol(r,d,s),d})}createUniqueName(e){const t=kt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Ot.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return U_(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=EF(c),d=r[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Ot.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=U_(new At,c,t),r[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?AF(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,v=u.length;m<v;m++){const x=u[m],_=o[m];let g;const q=c[m];if(_.mode===jr.TRIANGLES||_.mode===jr.TRIANGLE_STRIP||_.mode===jr.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new pg(x,q):new fn(x,q),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),_.mode===jr.TRIANGLE_STRIP?g.geometry=P_(g.geometry,ng):_.mode===jr.TRIANGLE_FAN&&(g.geometry=P_(g.geometry,A0));else if(_.mode===jr.LINES)g=new As(x,q);else if(_.mode===jr.LINE_STRIP)g=new Eo(x,q);else if(_.mode===jr.LINE_LOOP)g=new gg(x,q);else if(_.mode===jr.POINTS)g=new vg(x,q);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&MF(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),ao(g,s),_.extensions&&ol(r,g,_),t.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&ol(r,d[0],s),d[0];const p=new mo;s.extensions&&ol(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new bn(og.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Ta(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ao(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new ht;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new ud(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let d=0,p=r.channels.length;d<p;d++){const m=r.channels[d],v=r.samplers[m.sampler],x=m.target,_=x.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,q=r.parameters!==void 0?r.parameters[v.output]:v.output;x.node!==void 0&&(o.push(this.getDependency("node",_)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",q)),c.push(v),u.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const p=d[0],m=d[1],v=d[2],x=d[3],_=d[4],g=[];for(let q=0,A=p.length;q<A;q++){const M=p[q],C=m[q],w=v[q],b=x[q],P=_[q];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const R=i._createAnimationTracks(M,C,w,b,P);if(R)for(let T=0;T<R.length;T++)g.push(R[T])}return new Fu(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,CF)});for(let m=0,v=d.length;m<v;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new tm:c.length>1?u=new mo:c.length===1?u=c[0]:u=new Gt,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),ao(u,s),s.extensions&&ol(i,u,s),s.matrix!==void 0){const d=new ht;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new mo;i.name&&(s.name=r.createUniqueName(i.name)),ao(s,i),i.extensions&&ol(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Hn||p instanceof ln)&&d.set(p,m);return u.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Yo[s.path]===Yo.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(Yo[s.path]){case Yo.weights:c=Gl;break;case Yo.rotation:c=Hl;break;case Yo.position:case Yo.scale:c=Vl;break;default:switch(i.itemSize){case 1:c=Gl;break;case 2:case 3:default:c=Vl;break}break}const u=r.interpolation!==void 0?qF[r.interpolation]:Lu,d=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new c(l[p]+"."+Yo[s.path],t.array,d,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=H5(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Hl?xF:pM;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function bF(n,e,t){const i=e.attributes,r=new li;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new W(l[0],l[1],l[2]),new W(c[0],c[1],c[2])),a.normalized){const u=H5(Su[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new W,l=new W;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const x=H5(Su[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Jn;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function U_(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=G5[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return ao(n,e),bF(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?SF(n,e.targets,t):n})}class RF extends fd{constructor(e,t={}){const{bevelEnabled:i=!1,bevelSize:r=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:c=1,letterSpacing:u=0,...d}=t;if(o===void 0)super();else{const p=o.generateShapes(e,l,{lineHeight:c,letterSpacing:u});super(p,{...d,bevelEnabled:i,bevelSize:r,bevelThickness:s,depth:a})}this.type="TextGeometry"}}var PF=Object.defineProperty,BF=(n,e,t)=>e in n?PF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jg=(n,e,t)=>(BF(n,typeof e!="symbol"?e+"":e,t),t);class IF extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new hr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);t&&t(l)},i,r)}loadAsync(e,t){return super.loadAsync(e,t)}parse(e){return new Jg(e)}}class Jg{constructor(e){jg(this,"data"),this.data=e}generateShapes(e,t=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},o=LF(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(r,o[a].toShapes(!1));return r}}jg(Jg,"isFont");jg(Jg,"type");function LF(n,e,t,i){const r=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<r.length;u++){const d=r[u];if(d===`
`)l=0,c-=o*i.lineHeight;else{const p=DF(d,s,l,c,t);p&&(l+=p.offsetX+i.letterSpacing,a.push(p.path))}}return a}function DF(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new IS;let a,l,c,u,d,p,m,v;if(s.o){const x=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,g=x.length;_<g;)switch(x[_++]){case"m":a=parseInt(x[_++])*e+t,l=parseInt(x[_++])*e+i,o.moveTo(a,l);break;case"l":a=parseInt(x[_++])*e+t,l=parseInt(x[_++])*e+i,o.lineTo(a,l);break;case"q":c=parseInt(x[_++])*e+t,u=parseInt(x[_++])*e+i,d=parseInt(x[_++])*e+t,p=parseInt(x[_++])*e+i,o.quadraticCurveTo(d,p,c,u);break;case"b":c=parseInt(x[_++])*e+t,u=parseInt(x[_++])*e+i,d=parseInt(x[_++])*e+t,p=parseInt(x[_++])*e+i,m=parseInt(x[_++])*e+t,v=parseInt(x[_++])*e+i,o.bezierCurveTo(d,p,m,v,c,u);break}}return{offsetX:s.ha*e,path:o}}const z3=new WeakMap;class UF extends mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new hr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(z3.has(e)){const l=z3.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),z3.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new At;e.index&&t.setIndex(new Ut(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ut(o,a))}return t}_loadLibrary(e,t){const i=new hr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=FF.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function FF(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,p,m,c),x=v.attributes.map(_=>_.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const _ in u){const g=self[d[_]];let q,A;if(c.useUniqueIDs)A=u[_],q=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[u[_]]),A===-1)continue;q=a.GetAttribute(p,A)}x.attributes.push(r(o,a,p,_,g,q))}return v===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,u,d){const p=d.num_components(),v=l.num_points()*p,x=v*u.BYTES_PER_ELEMENT,_=s(o,u),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,_,x,g);const q=new u(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:q,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let _p;const G3=()=>{if(_p)return _p;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const x=d.charCodeAt(v);p[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,x,_){const g=s.exports.sbrk,q=m+3&-4,A=g(q*v),M=g(x.length),C=new Uint8Array(s.exports.memory.buffer);C.set(x,M);const w=d(A,m,v,M,x.length);if(w===0&&_&&_(A,q,v),p.set(C.subarray(A,A+m*v)),g(A-g(0)),w!==0)throw new Error(`Malformed buffer data: ${w}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return _p={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[c[x]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,x,_){l(s.exports[u[x]],d,p,m,v,s.exports[c[_]])}},_p};function OF(){var n=Object.create(null);function e(r,s){var o=r.id,a=r.name,l=r.dependencies;l===void 0&&(l=[]);var c=r.init;c===void 0&&(c=function(){});var u=r.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(p){return p&&p.isWorkerModule&&(e(p,function(m){if(m instanceof Error)throw m}),p=n[p.id].value),p}),c=i("<"+a+">.init",c),u&&(u=i("<"+a+">.getTransferables",u));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:d,getTransferables:u},s(d)}catch(p){p&&p.noLog||console.error(p),s(p)}}function t(r,s){var o,a=r.id,l=r.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(d){return s(d instanceof Error?d:new Error(""+d))}):u(c)}catch(d){s(d)}function u(d){try{var p=n[a].getTransferables&&n[a].getTransferables(d);(!p||!Array.isArray(p)||!p.length)&&(p=void 0),s(d,p)}catch(m){console.error(m),s(m)}}}function i(r,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(r){var s=r.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function NF(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var r=Promise.all(t).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var mM=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return mM=function(){return n},n},kF=0,zF=0,H3=!1,yf=Object.create(null),xf=Object.create(null),V5=Object.create(null);function Zu(n){if((!n||typeof n.init!="function")&&!H3)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId;if(!mM())return NF(n);r==null&&(r="#default");var s="workerModule"+ ++kF,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(H3=!0,c=Zu({workerId:r,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+jp(c)+`
)}`}),H3=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=F_(r,"registerModule",l.workerModuleData);var d=function(){a=null,xf[r].delete(d)};(xf[r]||(xf[r]=new Set)).add(d)}return a.then(function(p){var m=p.isCallable;if(m)return F_(r,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:jp(t),getTransferables:i&&jp(i)},l}function GF(n){xf[n]&&xf[n].forEach(function(e){e()}),yf[n]&&(yf[n].terminate(),delete yf[n])}function jp(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function HF(n){var e=yf[n];if(!e){var t=jp(OF);e=yf[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,o=V5[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete V5[s],o(r)}}return e}function F_(n,e,t){return new Promise(function(i,r){var s=++zF;V5[s]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},HF(n).postMessage({messageId:s,action:e,data:t})})}function gM(){var n=function(e){function t(G,N,O,J,Z,j,Q,ie){var $=1-Q;ie.x=$*$*G+2*$*Q*O+Q*Q*Z,ie.y=$*$*N+2*$*Q*J+Q*Q*j}function i(G,N,O,J,Z,j,Q,ie,$,ge){var De=1-$;ge.x=De*De*De*G+3*De*De*$*O+3*De*$*$*Z+$*$*$*Q,ge.y=De*De*De*N+3*De*De*$*J+3*De*$*$*j+$*$*$*ie}function r(G,N){for(var O=/([MLQCZ])([^MLQCZ]*)/g,J,Z,j,Q,ie;J=O.exec(G);){var $=J[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ge){return parseFloat(ge)});switch(J[1]){case"M":Q=Z=$[0],ie=j=$[1];break;case"L":($[0]!==Q||$[1]!==ie)&&N("L",Q,ie,Q=$[0],ie=$[1]);break;case"Q":{N("Q",Q,ie,Q=$[2],ie=$[3],$[0],$[1]);break}case"C":{N("C",Q,ie,Q=$[4],ie=$[5],$[0],$[1],$[2],$[3]);break}case"Z":(Q!==Z||ie!==j)&&N("L",Q,ie,Z,j);break}}}function s(G,N,O){O===void 0&&(O=16);var J={x:0,y:0};r(G,function(Z,j,Q,ie,$,ge,De,Ie,z){switch(Z){case"L":N(j,Q,ie,$);break;case"Q":{for(var ne=j,pe=Q,Me=1;Me<O;Me++)t(j,Q,ge,De,ie,$,Me/(O-1),J),N(ne,pe,J.x,J.y),ne=J.x,pe=J.y;break}case"C":{for(var xe=j,Se=Q,Be=1;Be<O;Be++)i(j,Q,ge,De,Ie,z,ie,$,Be/(O-1),J),N(xe,Se,J.x,J.y),xe=J.x,Se=J.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(G,N){var O=G.getContext?G.getContext("webgl",c):G,J=l.get(O);if(!J){let xe=function(I){var re=j[I];if(!re&&(re=j[I]=O.getExtension(I),!re))throw new Error(I+" not supported");return re},Se=function(I,re){var ae=O.createShader(re);return O.shaderSource(ae,I),O.compileShader(ae),ae},Be=function(I,re,ae,he){if(!Q[I]){var de={},Je={},Ae=O.createProgram();O.attachShader(Ae,Se(re,O.VERTEX_SHADER)),O.attachShader(Ae,Se(ae,O.FRAGMENT_SHADER)),O.linkProgram(Ae),Q[I]={program:Ae,transaction:function(Ve){O.useProgram(Ae),Ve({setUniform:function(ze,st){for(var We=[],Le=arguments.length-2;Le-- >0;)We[Le]=arguments[Le+2];var Oe=Je[st]||(Je[st]=O.getUniformLocation(Ae,st));O["uniform"+ze].apply(O,[Oe].concat(We))},setAttribute:function(ze,st,We,Le,Oe){var rt=de[ze];rt||(rt=de[ze]={buf:O.createBuffer(),loc:O.getAttribLocation(Ae,ze),data:null}),O.bindBuffer(O.ARRAY_BUFFER,rt.buf),O.vertexAttribPointer(rt.loc,st,O.FLOAT,!1,0,0),O.enableVertexAttribArray(rt.loc),Z?O.vertexAttribDivisor(rt.loc,Le):xe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(rt.loc,Le),Oe!==rt.data&&(O.bufferData(O.ARRAY_BUFFER,Oe,We),rt.data=Oe)}})}}}Q[I].transaction(he)},ve=function(I,re){$++;try{O.activeTexture(O.TEXTURE0+$);var ae=ie[I];ae||(ae=ie[I]=O.createTexture(),O.bindTexture(O.TEXTURE_2D,ae),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST)),O.bindTexture(O.TEXTURE_2D,ae),re(ae,$)}finally{$--}},Ue=function(I,re,ae){var he=O.createFramebuffer();ge.push(he),O.bindFramebuffer(O.FRAMEBUFFER,he),O.activeTexture(O.TEXTURE0+re),O.bindTexture(O.TEXTURE_2D,I),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,I,0);try{ae(he)}finally{O.deleteFramebuffer(he),O.bindFramebuffer(O.FRAMEBUFFER,ge[--ge.length-1]||null)}},H=function(){j={},Q={},ie={},$=-1,ge.length=0};var De=xe,Ie=Se,z=Be,ne=ve,pe=Ue,Me=H,Z=typeof WebGL2RenderingContext<"u"&&O instanceof WebGL2RenderingContext,j={},Q={},ie={},$=-1,ge=[];O.canvas.addEventListener("webglcontextlost",function(I){H(),I.preventDefault()},!1),l.set(O,J={gl:O,isWebGL2:Z,getExtension:xe,withProgram:Be,withTexture:ve,withTextureFramebuffer:Ue,handleContextLoss:H})}N(J)}function d(G,N,O,J,Z,j,Q,ie){Q===void 0&&(Q=15),ie===void 0&&(ie=null),u(G,function($){var ge=$.gl,De=$.withProgram,Ie=$.withTexture;Ie("copy",function(z,ne){ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,Z,j,0,ge.RGBA,ge.UNSIGNED_BYTE,N),De("copy",o,a,function(pe){var Me=pe.setUniform,xe=pe.setAttribute;xe("aUV",2,ge.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",ne),ge.bindFramebuffer(ge.FRAMEBUFFER,ie||null),ge.disable(ge.BLEND),ge.colorMask(Q&8,Q&4,Q&2,Q&1),ge.viewport(O,J,Z,j),ge.scissor(O,J,Z,j),ge.drawArrays(ge.TRIANGLES,0,3)})})})}function p(G,N,O){var J=G.width,Z=G.height;u(G,function(j){var Q=j.gl,ie=new Uint8Array(J*Z*4);Q.readPixels(0,0,J,Z,Q.RGBA,Q.UNSIGNED_BYTE,ie),G.width=N,G.height=O,d(Q,ie,0,0,J,Z)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:d,resizeWebGLCanvasWithoutClearing:p});function v(G,N,O,J,Z,j){j===void 0&&(j=1);var Q=new Uint8Array(G*N),ie=J[2]-J[0],$=J[3]-J[1],ge=[];s(O,function(xe,Se,Be,ve){ge.push({x1:xe,y1:Se,x2:Be,y2:ve,minX:Math.min(xe,Be),minY:Math.min(Se,ve),maxX:Math.max(xe,Be),maxY:Math.max(Se,ve)})}),ge.sort(function(xe,Se){return xe.maxX-Se.maxX});for(var De=0;De<G;De++)for(var Ie=0;Ie<N;Ie++){var z=pe(J[0]+ie*(De+.5)/G,J[1]+$*(Ie+.5)/N),ne=Math.pow(1-Math.abs(z)/Z,j)/2;z<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),Q[Ie*G+De]=ne}return Q;function pe(xe,Se){for(var Be=1/0,ve=1/0,Ue=ge.length;Ue--;){var H=ge[Ue];if(H.maxX+ve<=xe)break;if(xe+ve>H.minX&&Se-ve<H.maxY&&Se+ve>H.minY){var I=g(xe,Se,H.x1,H.y1,H.x2,H.y2);I<Be&&(Be=I,ve=Math.sqrt(Be))}}return Me(xe,Se)&&(ve=-ve),ve}function Me(xe,Se){for(var Be=0,ve=ge.length;ve--;){var Ue=ge[ve];if(Ue.maxX<=xe)break;var H=Ue.y1>Se!=Ue.y2>Se&&xe<(Ue.x2-Ue.x1)*(Se-Ue.y1)/(Ue.y2-Ue.y1)+Ue.x1;H&&(Be+=Ue.y1<Ue.y2?1:-1)}return Be!==0}}function x(G,N,O,J,Z,j,Q,ie,$,ge){j===void 0&&(j=1),ie===void 0&&(ie=0),$===void 0&&($=0),ge===void 0&&(ge=0),_(G,N,O,J,Z,j,Q,null,ie,$,ge)}function _(G,N,O,J,Z,j,Q,ie,$,ge,De){j===void 0&&(j=1),$===void 0&&($=0),ge===void 0&&(ge=0),De===void 0&&(De=0);for(var Ie=v(G,N,O,J,Z,j),z=new Uint8Array(Ie.length*4),ne=0;ne<Ie.length;ne++)z[ne*4+De]=Ie[ne];d(Q,z,$,ge,G,N,1<<3-De,ie)}function g(G,N,O,J,Z,j){var Q=Z-O,ie=j-J,$=Q*Q+ie*ie,ge=$?Math.max(0,Math.min(1,((G-O)*Q+(N-J)*ie)/$)):0,De=G-(O+ge*Q),Ie=N-(J+ge*ie);return De*De+Ie*Ie}var q=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:x,generateIntoFramebuffer:_}),A="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",C="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",w=new Float32Array([0,0,2,0,0,2]),b=null,P=!1,R={},T=new WeakMap;function F(G){if(!P&&!Y(G))throw new Error("WebGL generation not supported")}function L(G,N,O,J,Z,j,Q){if(j===void 0&&(j=1),Q===void 0&&(Q=null),!Q&&(Q=b,!Q)){var ie=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ie)throw new Error("OffscreenCanvas or DOM canvas not supported");Q=b=ie.getContext("webgl",{depth:!1})}F(Q);var $=new Uint8Array(G*N*4);u(Q,function(z){var ne=z.gl,pe=z.withTexture,Me=z.withTextureFramebuffer;pe("readable",function(xe,Se){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,G,N,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Me(xe,Se,function(Be){k(G,N,O,J,Z,j,ne,Be,0,0,0),ne.readPixels(0,0,G,N,ne.RGBA,ne.UNSIGNED_BYTE,$)})})});for(var ge=new Uint8Array(G*N),De=0,Ie=0;De<$.length;De+=4)ge[Ie++]=$[De];return ge}function U(G,N,O,J,Z,j,Q,ie,$,ge){j===void 0&&(j=1),ie===void 0&&(ie=0),$===void 0&&($=0),ge===void 0&&(ge=0),k(G,N,O,J,Z,j,Q,null,ie,$,ge)}function k(G,N,O,J,Z,j,Q,ie,$,ge,De){j===void 0&&(j=1),$===void 0&&($=0),ge===void 0&&(ge=0),De===void 0&&(De=0),F(Q);var Ie=[];s(O,function(z,ne,pe,Me){Ie.push(z,ne,pe,Me)}),Ie=new Float32Array(Ie),u(Q,function(z){var ne=z.gl,pe=z.isWebGL2,Me=z.getExtension,xe=z.withProgram,Se=z.withTexture,Be=z.withTextureFramebuffer,ve=z.handleContextLoss;if(Se("rawDistances",function(Ue,H){(G!==Ue._lastWidth||N!==Ue._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,Ue._lastWidth=G,Ue._lastHeight=N,0,ne.RGBA,ne.UNSIGNED_BYTE,null),xe("main",A,M,function(I){var re=I.setAttribute,ae=I.setUniform,he=!pe&&Me("ANGLE_instanced_arrays"),de=!pe&&Me("EXT_blend_minmax");re("aUV",2,ne.STATIC_DRAW,0,w),re("aLineSegment",4,ne.DYNAMIC_DRAW,1,Ie),ae.apply(void 0,["4f","uGlyphBounds"].concat(J)),ae("1f","uMaxDistance",Z),ae("1f","uExponent",j),Be(Ue,H,function(Je){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,G,N),ne.scissor(0,0,G,N),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,pe?ne.MAX:de.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),pe?ne.drawArraysInstanced(ne.TRIANGLES,0,3,Ie.length/4):he.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,Ie.length/4)})}),xe("post",o,C,function(I){I.setAttribute("aUV",2,ne.STATIC_DRAW,0,w),I.setUniform("1i","tex",H),ne.bindFramebuffer(ne.FRAMEBUFFER,ie),ne.disable(ne.BLEND),ne.colorMask(De===0,De===1,De===2,De===3),ne.viewport($,ge,G,N),ne.scissor($,ge,G,N),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw ve(),new Error("webgl context lost")})}function Y(G){var N=!G||G===b?R:G.canvas||G,O=T.get(N);if(O===void 0){P=!0;var J=null;try{var Z=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],j=L(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,G);O=j&&Z.length===j.length&&j.every(function(Q,ie){return Q===Z[ie]}),O||(J="bad trial run results",console.info(Z,j))}catch(Q){O=!1,J=Q.message}J&&console.warn("WebGL SDF generation not supported:",J),P=!1,T.set(N,O)}return O}var X=Object.freeze({__proto__:null,generate:L,generateIntoCanvas:U,generateIntoFramebuffer:k,isSupported:Y});function ee(G,N,O,J,Z,j){Z===void 0&&(Z=Math.max(J[2]-J[0],J[3]-J[1])/2),j===void 0&&(j=1);try{return L.apply(X,arguments)}catch(Q){return console.info("WebGL SDF generation failed, falling back to JS",Q),v.apply(q,arguments)}}function D(G,N,O,J,Z,j,Q,ie,$,ge){Z===void 0&&(Z=Math.max(J[2]-J[0],J[3]-J[1])/2),j===void 0&&(j=1),ie===void 0&&(ie=0),$===void 0&&($=0),ge===void 0&&(ge=0);try{return U.apply(X,arguments)}catch(De){return console.info("WebGL SDF generation failed, falling back to JS",De),x.apply(q,arguments)}}return e.forEachPathCommand=r,e.generate=ee,e.generateIntoCanvas=D,e.javascript=q,e.pathToLineSegments=s,e.webgl=X,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function VF(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(ve,Ue){i[ve]=1<<Ue+1,r[i[ve]]=ve}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,a=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|s|i.PDI|l,u=null;function d(){if(!u){u=new Map;var ve=function(H){if(t.hasOwnProperty(H)){var I=0;t[H].split(",").forEach(function(re){var ae=re.split("+"),he=ae[0],de=ae[1];he=parseInt(he,36),de=de?parseInt(de,36):0,u.set(I+=he,i[H]);for(var Je=0;Je<de;Je++)u.set(++I,i[H])})}};for(var Ue in t)ve(Ue)}}function p(ve){return d(),u.get(ve.codePointAt(0))||i.L}function m(ve){return r[p(ve)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(ve,Ue){var H=36,I=0,re=new Map,ae=Ue&&new Map,he;return ve.split(",").forEach(function de(Je){if(Je.indexOf("+")!==-1)for(var Ae=+Je;Ae--;)de(he);else{he=Je;var Te=Je.split(">"),Ve=Te[0],Pe=Te[1];Ve=String.fromCodePoint(I+=parseInt(Ve,H)),Pe=String.fromCodePoint(I+=parseInt(Pe,H)),re.set(Ve,Pe),Ue&&ae.set(Pe,Ve)}}),{map:re,reverseMap:ae}}var _,g,q;function A(){if(!_){var ve=x(v.pairs,!0),Ue=ve.map,H=ve.reverseMap;_=Ue,g=H,q=x(v.canonical,!1).map}}function M(ve){return A(),_.get(ve)||null}function C(ve){return A(),g.get(ve)||null}function w(ve){return A(),q.get(ve)||null}var b=i.L,P=i.R,R=i.EN,T=i.ES,F=i.ET,L=i.AN,U=i.CS,k=i.B,Y=i.S,X=i.ON,ee=i.BN,D=i.NSM,G=i.AL,N=i.LRO,O=i.RLO,J=i.LRE,Z=i.RLE,j=i.PDF,Q=i.LRI,ie=i.RLI,$=i.FSI,ge=i.PDI;function De(ve,Ue){for(var H=125,I=new Uint32Array(ve.length),re=0;re<ve.length;re++)I[re]=p(ve[re]);var ae=new Map;function he(ti,Oi){var Rn=I[ti];I[ti]=Oi,ae.set(Rn,ae.get(Rn)-1),Rn&a&&ae.set(a,ae.get(a)-1),ae.set(Oi,(ae.get(Oi)||0)+1),Oi&a&&ae.set(a,(ae.get(a)||0)+1)}for(var de=new Uint8Array(ve.length),Je=new Map,Ae=[],Te=null,Ve=0;Ve<ve.length;Ve++)Te||Ae.push(Te={start:Ve,end:ve.length-1,level:Ue==="rtl"?1:Ue==="ltr"?0:oc(Ve,!1)}),I[Ve]&k&&(Te.end=Ve,Te=null);for(var Pe=Z|J|O|N|s|ge|j|k,ze=function(ti){return ti+(ti&1?1:2)},st=function(ti){return ti+(ti&1?2:1)},We=0;We<Ae.length;We++){Te=Ae[We];var Le=[{_level:Te.level,_override:0,_isolate:0}],Oe=void 0,rt=0,vt=0,te=0;ae.clear();for(var Ne=Te.start;Ne<=Te.end;Ne++){var me=I[Ne];if(Oe=Le[Le.length-1],ae.set(me,(ae.get(me)||0)+1),me&a&&ae.set(a,(ae.get(a)||0)+1),me&Pe)if(me&(Z|J)){de[Ne]=Oe._level;var Ee=(me===Z?st:ze)(Oe._level);Ee<=H&&!rt&&!vt?Le.push({_level:Ee,_override:0,_isolate:0}):rt||vt++}else if(me&(O|N)){de[Ne]=Oe._level;var Ge=(me===O?st:ze)(Oe._level);Ge<=H&&!rt&&!vt?Le.push({_level:Ge,_override:me&O?P:b,_isolate:0}):rt||vt++}else if(me&s){me&$&&(me=oc(Ne+1,!0)===1?ie:Q),de[Ne]=Oe._level,Oe._override&&he(Ne,Oe._override);var Qe=(me===ie?st:ze)(Oe._level);Qe<=H&&rt===0&&vt===0?(te++,Le.push({_level:Qe,_override:0,_isolate:1,_isolInitIndex:Ne})):rt++}else if(me&ge){if(rt>0)rt--;else if(te>0){for(vt=0;!Le[Le.length-1]._isolate;)Le.pop();var it=Le[Le.length-1]._isolInitIndex;it!=null&&(Je.set(it,Ne),Je.set(Ne,it)),Le.pop(),te--}Oe=Le[Le.length-1],de[Ne]=Oe._level,Oe._override&&he(Ne,Oe._override)}else me&j?(rt===0&&(vt>0?vt--:!Oe._isolate&&Le.length>1&&(Le.pop(),Oe=Le[Le.length-1])),de[Ne]=Oe._level):me&k&&(de[Ne]=Te.level);else de[Ne]=Oe._level,Oe._override&&me!==ee&&he(Ne,Oe._override)}for(var yt=[],xt=null,tt=Te.start;tt<=Te.end;tt++){var Lt=I[tt];if(!(Lt&l)){var Yt=de[tt],nn=Lt&s,cn=Lt===ge;xt&&Yt===xt._level?(xt._end=tt,xt._endsWithIsolInit=nn):yt.push(xt={_start:tt,_end:tt,_level:Yt,_startsWithPDI:cn,_endsWithIsolInit:nn})}}for(var gi=[],Yi=0;Yi<yt.length;Yi++){var Qn=yt[Yi];if(!Qn._startsWithPDI||Qn._startsWithPDI&&!Je.has(Qn._start)){for(var fr=[xt=Qn],Zn=void 0;xt&&xt._endsWithIsolInit&&(Zn=Je.get(xt._end))!=null;)for(var Ki=Yi+1;Ki<yt.length;Ki++)if(yt[Ki]._start===Zn){fr.push(xt=yt[Ki]);break}for(var Un=[],rs=0;rs<fr.length;rs++)for(var tc=fr[rs],Pa=tc._start;Pa<=tc._end;Pa++)Un.push(Pa);for(var V=de[Un[0]],le=Te.level,_e=Un[0]-1;_e>=0;_e--)if(!(I[_e]&l)){le=de[_e];break}var qe=Un[Un.length-1],fe=de[qe],Xe=Te.level;if(!(I[qe]&s)){for(var $e=qe+1;$e<=Te.end;$e++)if(!(I[$e]&l)){Xe=de[$e];break}}gi.push({_seqIndices:Un,_sosType:Math.max(le,V)%2?P:b,_eosType:Math.max(Xe,fe)%2?P:b})}}for(var ot=0;ot<gi.length;ot++){var ct=gi[ot],Fe=ct._seqIndices,ft=ct._sosType,mt=ct._eosType,Rt=de[Fe[0]]&1?P:b;if(ae.get(D))for(var Kt=0;Kt<Fe.length;Kt++){var Qt=Fe[Kt];if(I[Qt]&D){for(var dn=ft,St=Kt-1;St>=0;St--)if(!(I[Fe[St]]&l)){dn=I[Fe[St]];break}he(Qt,dn&(s|ge)?X:dn)}}if(ae.get(R))for(var Ye=0;Ye<Fe.length;Ye++){var qt=Fe[Ye];if(I[qt]&R)for(var Ct=Ye-1;Ct>=-1;Ct--){var Zt=Ct===-1?ft:I[Fe[Ct]];if(Zt&o){Zt===G&&he(qt,L);break}}}if(ae.get(G))for(var vn=0;vn<Fe.length;vn++){var $n=Fe[vn];I[$n]&G&&he($n,P)}if(ae.get(T)||ae.get(U))for(var vi=1;vi<Fe.length-1;vi++){var Ft=Fe[vi];if(I[Ft]&(T|U)){for(var Fn=0,Es=0,Vn=vi-1;Vn>=0&&(Fn=I[Fe[Vn]],!!(Fn&l));Vn--);for(var Dr=vi+1;Dr<Fe.length&&(Es=I[Fe[Dr]],!!(Es&l));Dr++);Fn===Es&&(I[Ft]===T?Fn===R:Fn&(R|L))&&he(Ft,Fn)}}if(ae.get(R))for(var Li=0;Li<Fe.length;Li++){var _i=Fe[Li];if(I[_i]&R){for(var nc=Li-1;nc>=0&&I[Fe[nc]]&(F|l);nc--)he(Fe[nc],R);for(Li++;Li<Fe.length&&I[Fe[Li]]&(F|l|R);Li++)I[Fe[Li]]!==R&&he(Fe[Li],R)}}if(ae.get(F)||ae.get(T)||ae.get(U))for(var Ba=0;Ba<Fe.length;Ba++){var vd=Fe[Ba];if(I[vd]&(F|T|U)){he(vd,X);for(var Vs=Ba-1;Vs>=0&&I[Fe[Vs]]&l;Vs--)he(Fe[Vs],X);for(var Ws=Ba+1;Ws<Fe.length&&I[Fe[Ws]]&l;Ws++)he(Fe[Ws],X)}}if(ae.get(R))for(var Xs=0,Ia=ft;Xs<Fe.length;Xs++){var _d=Fe[Xs],$u=I[_d];$u&R?Ia===b&&he(_d,b):$u&o&&(Ia=$u)}if(ae.get(a)){var js=P|R|L,ic=js|b,ws=[];{for(var Ro=[],Cs=0;Cs<Fe.length;Cs++)if(I[Fe[Cs]]&a){var Dt=ve[Fe[Cs]],eh=void 0;if(M(Dt)!==null)if(Ro.length<63)Ro.push({char:Dt,seqIndex:Cs});else break;else if((eh=C(Dt))!==null)for(var Js=Ro.length-1;Js>=0;Js--){var rc=Ro[Js].char;if(rc===eh||rc===C(w(Dt))||M(w(rc))===Dt){ws.push([Ro[Js].seqIndex,Cs]),Ro.length=Js;break}}}ws.sort(function(ti,Oi){return ti[0]-Oi[0]})}for(var th=0;th<ws.length;th++){for(var yd=ws[th],_n=yd[0],La=yd[1],xd=!1,Di=0,nh=_n+1;nh<La;nh++){var Da=Fe[nh];if(I[Da]&ic){xd=!0;var dr=I[Da]&js?P:b;if(dr===Rt){Di=dr;break}}}if(xd&&!Di){Di=ft;for(var ih=_n-1;ih>=0;ih--){var qd=Fe[ih];if(I[qd]&ic){var pr=I[qd]&js?P:b;pr!==Rt?Di=pr:Di=Rt;break}}}if(Di){if(I[Fe[_n]]=I[Fe[La]]=Di,Di!==Rt){for(var Ui=_n+1;Ui<Fe.length;Ui++)if(!(I[Fe[Ui]]&l)){p(ve[Fe[Ui]])&D&&(I[Fe[Ui]]=Di);break}}if(Di!==Rt){for(var Ts=La+1;Ts<Fe.length;Ts++)if(!(I[Fe[Ts]]&l)){p(ve[Fe[Ts]])&D&&(I[Fe[Ts]]=Di);break}}}}for(var Ur=0;Ur<Fe.length;Ur++)if(I[Fe[Ur]]&a){for(var rh=Ur,sh=Ur,Qi=ft,Ua=Ur-1;Ua>=0;Ua--)if(I[Fe[Ua]]&l)rh=Ua;else{Qi=I[Fe[Ua]]&js?P:b;break}for(var Fa=mt,Oa=Ur+1;Oa<Fe.length;Oa++)if(I[Fe[Oa]]&(a|l))sh=Oa;else{Fa=I[Fe[Oa]]&js?P:b;break}for(var Fi=rh;Fi<=sh;Fi++)I[Fe[Fi]]=Qi===Fa?Qi:Rt;Ur=sh}}}for(var ei=Te.start;ei<=Te.end;ei++){var sc=de[ei],ss=I[ei];if(sc&1?ss&(b|R|L)&&de[ei]++:ss&P?de[ei]++:ss&(L|R)&&(de[ei]+=2),ss&l&&(de[ei]=ei===0?Te.level:de[ei-1]),ei===Te.end||p(ve[ei])&(Y|k))for(var Po=ei;Po>=0&&p(ve[Po])&c;Po--)de[Po]=Te.level}}return{levels:de,paragraphs:Ae};function oc(ti,Oi){for(var Rn=ti;Rn<ve.length;Rn++){var Pn=I[Rn];if(Pn&(P|G))return 1;if(Pn&(k|b)||Oi&&Pn===ge)return 0;if(Pn&s){var mr=Ad(Rn);Rn=mr===-1?ve.length:mr}}return 0}function Ad(ti){for(var Oi=1,Rn=ti+1;Rn<ve.length;Rn++){var Pn=I[Rn];if(Pn&k)break;if(Pn&ge){if(--Oi===0)return Rn}else Pn&s&&Oi++}return-1}}var Ie="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",z;function ne(){if(!z){var ve=x(Ie,!0),Ue=ve.map,H=ve.reverseMap;H.forEach(function(I,re){Ue.set(re,I)}),z=Ue}}function pe(ve){return ne(),z.get(ve)||null}function Me(ve,Ue,H,I){var re=ve.length;H=Math.max(0,H==null?0:+H),I=Math.min(re-1,I==null?re-1:+I);for(var ae=new Map,he=H;he<=I;he++)if(Ue[he]&1){var de=pe(ve[he]);de!==null&&ae.set(he,de)}return ae}function xe(ve,Ue,H,I){var re=ve.length;H=Math.max(0,H==null?0:+H),I=Math.min(re-1,I==null?re-1:+I);var ae=[];return Ue.paragraphs.forEach(function(he){var de=Math.max(H,he.start),Je=Math.min(I,he.end);if(de<Je){for(var Ae=Ue.levels.slice(de,Je+1),Te=Je;Te>=de&&p(ve[Te])&c;Te--)Ae[Te]=he.level;for(var Ve=he.level,Pe=1/0,ze=0;ze<Ae.length;ze++){var st=Ae[ze];st>Ve&&(Ve=st),st<Pe&&(Pe=st|1)}for(var We=Ve;We>=Pe;We--)for(var Le=0;Le<Ae.length;Le++)if(Ae[Le]>=We){for(var Oe=Le;Le+1<Ae.length&&Ae[Le+1]>=We;)Le++;Le>Oe&&ae.push([Oe+de,Le+de])}}}),ae}function Se(ve,Ue,H,I){var re=Be(ve,Ue,H,I),ae=[].concat(ve);return re.forEach(function(he,de){ae[de]=(Ue.levels[he]&1?pe(ve[he]):null)||ve[he]}),ae.join("")}function Be(ve,Ue,H,I){for(var re=xe(ve,Ue,H,I),ae=[],he=0;he<ve.length;he++)ae[he]=he;return re.forEach(function(de){for(var Je=de[0],Ae=de[1],Te=ae.slice(Je,Ae+1),Ve=Te.length;Ve--;)ae[Ae-Ve]=Te[Ve]}),ae}return e.closingToOpeningBracket=C,e.getBidiCharType=p,e.getBidiCharTypeName=m,e.getCanonicalBracket=w,e.getEmbeddingLevels=De,e.getMirroredCharacter=pe,e.getMirroredCharactersMap=Me,e.getReorderSegments=xe,e.getReorderedIndices=Be,e.getReorderedString=Se,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const vM=/\bvoid\s+main\s*\(\s*\)\s*{/g;function W5(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let s=Tt[r];return s?W5(s):i}return n.replace(e,t)}const ui=[];for(let n=0;n<256;n++)ui[n]=(n<16?"0":"")+n.toString(16);function WF(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ui[n&255]+ui[n>>8&255]+ui[n>>16&255]+ui[n>>24&255]+"-"+ui[e&255]+ui[e>>8&255]+"-"+ui[e>>16&15|64]+ui[e>>24&255]+"-"+ui[t&63|128]+ui[t>>8&255]+"-"+ui[t>>16&255]+ui[t>>24&255]+ui[i&255]+ui[i>>8&255]+ui[i>>16&255]+ui[i>>24&255]).toUpperCase()}const al=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},XF=Date.now(),O_=new WeakMap,N_=new Map;let jF=1e10;function X5(n,e){const t=QF(e);let i=O_.get(n);if(i||O_.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const d=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let p=N_[d];if(!p){const m=JF(this,c,e,t);p=N_[d]=m}c.vertexShader=p.vertexShader,c.fragmentShader=p.fragmentShader,al(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-XF}}),this[r]&&this[r](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:jF++}),u.uuid=WF(),u.uniforms=al({},c.uniforms,e.uniforms),u.defines=al({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=al({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(al(this.extensions,c.extensions),al(this.defines,c.defines),al(this.uniforms,hg.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=X5(n.isDerivedMaterial?n.getDepthMaterial():new Q0({depthPacking:ig}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=X5(n.isDerivedMaterial?n.getDistanceMaterial():new Z0,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return i[t]=o,new o}function JF(n,{vertexShader:e,fragmentShader:t},i,r){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:p,customRewriter:m,timeUniform:v}=i;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",d=d||"",(l||m)&&(e=W5(e)),(p||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=W5(t)),m){let x=m({vertexShader:e,fragmentShader:t});e=x.vertexShader,t=x.fragmentShader}if(p){let x=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,_=>(x.push(_),"")),d=`${p}
${x.join(`
`)}
${d}`}if(v){const x=`
uniform float ${v};
`;s=x+s,c=x+c}return l&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,_,g,q)=>/\battribute\s+vec[23]\s+$/.test(q.substr(0,g))?_:`troika_${_}_${r}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=k_(e,r,s,o,a),t=k_(t,r,c,u,d),{vertexShader:e,fragmentShader:t}}function k_(n,e,t,i,r){return(i||r||t)&&(n=n.replace(vM,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function YF(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let KF=0;const z_=new Map;function QF(n){const e=JSON.stringify(n,YF);let t=z_.get(e);return t==null&&z_.set(e,t=++KF),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function ZF(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(r){var s=e._bin,o=new Uint8Array(r);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var d=s.readUint(o,a);a+=4,c.push(e._readFont(o,d))}return c}return[e._readFont(o,0)]},_readFont:function(r,s){var o=e._bin,a=s;o.readFixed(r,s),s+=4;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:r,_offset:a},d={},p=0;p<l;p++){var m=o.readASCII(r,s,4);s+=4,o.readUint(r,s),s+=4;var v=o.readUint(r,s);s+=4;var x=o.readUint(r,s);s+=4,d[m]={offset:v,length:x}}for(p=0;p<c.length;p++){var _=c[p];d[_]&&(u[_.trim()]=e[_.trim()].parse(r,d[_].offset,d[_].length,u))}return u},_tabOffset:function(r,s,o){for(var a=e._bin,l=a.readUshort(r,o+4),c=o+12,u=0;u<l;u++){var d=a.readASCII(r,c,4);c+=4,a.readUint(r,c),c+=4;var p=a.readUint(r,c);if(c+=4,a.readUint(r,c),c+=4,d==s)return p}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(r,s+2*l));return a},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(r[s+l]);return a},readUnicode:function(r,s,o){for(var a="",l=0;l<o;l++){var c=r[s++]<<8|r[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,o){var a=e._bin._tdec;return a&&s==0&&o==r.length?a.decode(r):e._bin.readASCII(r,s,o)},readBytes:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(r[s+l]);return a},readASCIIArray:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(r[s+l]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,o,a,l){var c=e._bin,u={},d=s;c.readFixed(r,s),s+=4;var p=c.readUshort(r,s);s+=2;var m=c.readUshort(r,s);s+=2;var v=c.readUshort(r,s);return s+=2,u.scriptList=e._lctf.readScriptList(r,d+p),u.featureList=e._lctf.readFeatureList(r,d+m),u.lookupList=e._lctf.readLookupList(r,d+v,l),u},e._lctf.readLookupList=function(r,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(r,s);s+=2;for(var d=0;d<u;d++){var p=a.readUshort(r,s);s+=2;var m=e._lctf.readLookupTable(r,l+p,o);c.push(m)}return c},e._lctf.readLookupTable=function(r,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(r,s),s+=2,c.flag=a.readUshort(r,s),s+=2;var u=a.readUshort(r,s);s+=2;for(var d=c.ltype,p=0;p<u;p++){var m=a.readUshort(r,s);s+=2;var v=o(r,d,l+m,c);c.tabs.push(v)}return c},e._lctf.numOfOnes=function(r){for(var s=0,o=0;o<32;o++)r>>>o&1&&s++;return s},e._lctf.readClassDef=function(r,s){var o=e._bin,a=[],l=o.readUshort(r,s);if(s+=2,l==1){var c=o.readUshort(r,s);s+=2;var u=o.readUshort(r,s);s+=2;for(var d=0;d<u;d++)a.push(c+d),a.push(c+d),a.push(o.readUshort(r,s)),s+=2}if(l==2){var p=o.readUshort(r,s);for(s+=2,d=0;d<p;d++)a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2}return a},e._lctf.getInterval=function(r,s){for(var o=0;o<r.length;o+=3){var a=r[o],l=r[o+1];if(r[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(r,s){var o=e._bin,a={};a.fmt=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(r,s,l)),a.fmt==2&&(a.tab=o.readUshorts(r,s,3*l)),a},e._lctf.coverageIndex=function(r,s){var o=r.tab;if(r.fmt==1)return o.indexOf(s);if(r.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(r,s,4);s+=4;var p=o.readUshort(r,s);s+=2;var m=e._lctf.readFeatureTable(r,a+p);m.tag=d.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(r,s);s+=2,l.tab=[];for(var d=0;d<u;d++)l.tab.push(o.readUshort(r,s+2*d));return l},e._lctf.readScriptList=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(r,s,4);s+=4;var p=o.readUshort(r,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(r,a+p)}return l},e._lctf.readScriptTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(r,a+c));var u=o.readUshort(r,s);s+=2;for(var d=0;d<u;d++){var p=o.readASCII(r,s,4);s+=4;var m=o.readUshort(r,s);s+=2,l[p.trim()]=e._lctf.readLangSysTable(r,a+m)}return l},e._lctf.readLangSysTable=function(r,s){var o=e._bin,a={};o.readUshort(r,s),s+=2,a.reqFeature=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.features=o.readUshorts(r,s,l),a},e.CFF={},e.CFF.parse=function(r,s,o){var a=e._bin;(r=new Uint8Array(r.buffer,s,o))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(r,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(r,s,d);var p=[];for(u=0;u<d.length-1;u++)p.push(e.CFF.readDict(r,s+d[u],s+d[u+1]));s+=d[d.length-1];var m=p[0],v=[];s=e.CFF.readIndex(r,s,v);var x=[];for(u=0;u<v.length-1;u++)x.push(a.readASCII(r,s+v[u],v[u+1]-v[u]));if(s+=v[v.length-1],e.CFF.readSubrs(r,s,m),m.CharStrings){s=m.CharStrings,v=[],s=e.CFF.readIndex(r,s,v);var _=[];for(u=0;u<v.length-1;u++)_.push(a.readBytes(r,s+v[u],v[u+1]-v[u]));m.CharStrings=_}if(m.ROS){s=m.FDArray;var g=[];for(s=e.CFF.readIndex(r,s,g),m.FDArray=[],u=0;u<g.length-1;u++){var q=e.CFF.readDict(r,s+g[u],s+g[u+1]);e.CFF._readFDict(r,q,x),m.FDArray.push(q)}s+=g[g.length-1],s=m.FDSelect,m.FDSelect=[];var A=r[s];if(s++,A!=3)throw A;var M=a.readUshort(r,s);for(s+=2,u=0;u<M+1;u++)m.FDSelect.push(a.readUshort(r,s),r[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(r,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(r,m.charset,m.CharStrings.length)),e.CFF._readFDict(r,m,x),m},e.CFF._readFDict=function(r,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(r,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(r,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(a.readBytes(r,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,o){e._bin;var a=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=r[s];s++;for(var u=0;u<c;u++)a.push(r[s+u]);return a},e.CFF.readCharset=function(r,s,o){var a=e._bin,l=[".notdef"],c=r[s];if(s++,c==0)for(var u=0;u<o;u++){var d=a.readUshort(r,s);s+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){d=a.readUshort(r,s),s+=2;var p=0;for(c==1?(p=r[s],s++):(p=a.readUshort(r,s),s+=2),u=0;u<=p;u++)l.push(d),d++}}return l},e.CFF.readIndex=function(r,s,o){var a=e._bin,l=a.readUshort(r,s)+1,c=r[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(r[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(r,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(r,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(r,s,o){var a=e._bin,l=r[s],c=r[s+1];r[s+2],r[s+3],r[s+4];var u=1,d=null,p=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+c,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(p=a.readShort(r,s+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(p=l-139,u=1),247<=l&&l<=250&&(p=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(p=256*-(l-251)-c-108,u=2),l==255&&(p=a.readInt(r,s+1)/65535,u=5),o.val=p??"o"+d,o.size=u},e.CFF.readCharString=function(r,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=r[s],d=r[s+1];r[s+2],r[s+3],r[s+4];var p=1,m=null,v=null;u<=20&&(m=u,p=1),u==12&&(m=100*u+d,p=2),u!=19&&u!=20||(m=u,p=2),21<=u&&u<=27&&(m=u,p=1),u==28&&(v=l.readShort(r,s+1),p=3),29<=u&&u<=31&&(m=u,p=1),32<=u&&u<=246&&(v=u-139,p=1),247<=u&&u<=250&&(v=256*(u-247)+d+108,p=2),251<=u&&u<=254&&(v=256*-(u-251)-d-108,p=2),u==255&&(v=l.readInt(r,s+1)/65535,p=5),c.push(v??"o"+m),s+=p}return c},e.CFF.readDict=function(r,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=r[s],d=r[s+1];r[s+2],r[s+3],r[s+4];var p=1,m=null,v=null;if(u==28&&(v=a.readShort(r,s+1),p=3),u==29&&(v=a.readInt(r,s+1),p=5),32<=u&&u<=246&&(v=u-139,p=1),247<=u&&u<=250&&(v=256*(u-247)+d+108,p=2),251<=u&&u<=254&&(v=256*-(u-251)-d-108,p=2),u==255)throw v=a.readInt(r,s+1)/65535,p=5,"unknown number";if(u==30){var x=[];for(p=1;;){var _=r[s+p];p++;var g=_>>4,q=15&_;if(g!=15&&x.push(g),q!=15&&x.push(q),q==15)break}for(var A="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<x.length;C++)A+=M[x[C]];v=parseFloat(A)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],p=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],p=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(v),s+=p}return l},e.cmap={},e.cmap.parse=function(r,s,o){r=new Uint8Array(r.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2;var u=[];l.tables=[];for(var d=0;d<c;d++){var p=a.readUshort(r,s);s+=2;var m=a.readUshort(r,s);s+=2;var v=a.readUint(r,s);s+=4;var x="p"+p+"e"+m,_=u.indexOf(v);if(_==-1){var g;_=l.tables.length,u.push(v);var q=a.readUshort(r,v);q==0?g=e.cmap.parse0(r,v):q==4?g=e.cmap.parse4(r,v):q==6?g=e.cmap.parse6(r,v):q==12?g=e.cmap.parse12(r,v):console.debug("unknown format: "+q,p,m,v),l.tables.push(g)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=_}return l},e.cmap.parse0=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(r[s+c]);return a},e.cmap.parse4=function(r,s){var o=e._bin,a=s,l={};l.format=o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2;var u=o.readUshort(r,s);s+=2;var d=u/2;l.searchRange=o.readUshort(r,s),s+=2,l.entrySelector=o.readUshort(r,s),s+=2,l.rangeShift=o.readUshort(r,s),s+=2,l.endCount=o.readUshorts(r,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(r,s,d),s+=2*d,l.idDelta=[];for(var p=0;p<d;p++)l.idDelta.push(o.readShort(r,s)),s+=2;for(l.idRangeOffset=o.readUshorts(r,s,d),s+=2*d,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,a.firstCode=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(r,s)),s+=2;return a},e.cmap.parse12=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,s+=2,o.readUint(r,s),s+=4,o.readUint(r,s),s+=4;var l=o.readUint(r,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,d=o.readUint(r,u+0),p=o.readUint(r,u+4),m=o.readUint(r,u+8);a.groups.push([d,p,m])}return a},e.glyf={},e.glyf.parse=function(r,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var o=e._bin,a=r._data,l=e._tabOffset(a,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var d=o.readUshort(a,l);if(l+=2,a.length-l<d)return null;c.instructions=o.readBytes(a,l,d),l+=d;var p=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<p;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var v=a[l];l++;for(var x=0;x<v;x++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<p;u++){var _=(2&c.flags[u])!=0,g=(16&c.flags[u])!=0;_?(c.xs.push(g?a[l]:-a[l]),l++):g?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<p;u++)_=(4&c.flags[u])!=0,g=(32&c.flags[u])!=0,_?(c.ys.push(g?a[l]:-a[l]),l++):g?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var q=0,A=0;for(u=0;u<p;u++)q+=c.xs[u],A+=c.ys[u],c.xs[u]=q,c.ys[u]=A}else{var M;c.parts=[];do{M=o.readUshort(a,l),l+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(C),C.glyphIndex=o.readUshort(a,l),l+=2,1&M){var w=o.readShort(a,l);l+=2;var b=o.readShort(a,l);l+=2}else w=o.readInt8(a,l),l++,b=o.readInt8(a,l),l++;2&M?(C.m.tx=w,C.m.ty=b):(C.p1=w,C.p2=b),8&M?(C.m.a=C.m.d=o.readF2dot14(a,l),l+=2):64&M?(C.m.a=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2):128&M&&(C.m.a=o.readF2dot14(a,l),l+=2,C.m.b=o.readF2dot14(a,l),l+=2,C.m.c=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var P=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<P;u++)c.instr.push(a[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(r,s,o,a){var l=s;s+=4;var c=e._bin.readUshort(r,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(r,l+c)}},e.GPOS={},e.GPOS.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var d=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,d+c)}if(s==1&&u.fmt==1){var p=l.readUshort(r,o);o+=2,p!=0&&(u.pos=e.GPOS.readValueRecord(r,o,p))}else if(s==2&&u.fmt>=1&&u.fmt<=2){p=l.readUshort(r,o),o+=2;var m=l.readUshort(r,o);o+=2;var v=e._lctf.numOfOnes(p),x=e._lctf.numOfOnes(m);if(u.fmt==1){u.pairsets=[];var _=l.readUshort(r,o);o+=2;for(var g=0;g<_;g++){var q=c+l.readUshort(r,o);o+=2;var A=l.readUshort(r,q);q+=2;for(var M=[],C=0;C<A;C++){var w=l.readUshort(r,q);q+=2,p!=0&&(L=e.GPOS.readValueRecord(r,q,p),q+=2*v),m!=0&&(U=e.GPOS.readValueRecord(r,q,m),q+=2*x),M.push({gid2:w,val1:L,val2:U})}u.pairsets.push(M)}}if(u.fmt==2){var b=l.readUshort(r,o);o+=2;var P=l.readUshort(r,o);o+=2;var R=l.readUshort(r,o);o+=2;var T=l.readUshort(r,o);for(o+=2,u.classDef1=e._lctf.readClassDef(r,c+b),u.classDef2=e._lctf.readClassDef(r,c+P),u.matrix=[],g=0;g<R;g++){var F=[];for(C=0;C<T;C++){var L=null,U=null;p!=0&&(L=e.GPOS.readValueRecord(r,o,p),o+=2*v),m!=0&&(U=e.GPOS.readValueRecord(r,o,m),o+=2*x),F.push({val1:L,val2:U})}u.matrix.push(F)}}}else if(s==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(r,l.readUshort(r,o)+c),u.baseCoverage=e._lctf.readCoverage(r,l.readUshort(r,o+2)+c),u.markClassCount=l.readUshort(r,o+4),u.markArray=e.GPOS.readMarkArray(r,l.readUshort(r,o+6)+c),u.baseArray=e.GPOS.readBaseArray(r,l.readUshort(r,o+8)+c,u.markClassCount);else if(s==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(r,l.readUshort(r,o)+c),u.mark2Coverage=e._lctf.readCoverage(r,l.readUshort(r,o+2)+c),u.markClassCount=l.readUshort(r,o+4),u.mark1Array=e.GPOS.readMarkArray(r,l.readUshort(r,o+6)+c),u.mark2Array=e.GPOS.readBaseArray(r,l.readUshort(r,o+8)+c,u.markClassCount);else{if(s==9&&u.fmt==1){var k=l.readUshort(r,o);o+=2;var Y=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,c+Y)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(r,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(r,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(r,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(r,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(r,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(r,s,o){var a=e._bin,l=[],c=s,u=a.readUshort(r,s);s+=2;for(var d=0;d<u;d++){for(var p=[],m=0;m<o;m++)p.push(e.GPOS.readAnchorRecord(r,c+a.readUshort(r,s))),s+=2;l.push(p)}return l},e.GPOS.readMarkArray=function(r,s){var o=e._bin,a=[],l=s,c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=e.GPOS.readAnchorRecord(r,o.readUshort(r,s+2)+l);d.markClass=o.readUshort(r,s),a.push(d),s+=4}return a},e.GPOS.readAnchorRecord=function(r,s){var o=e._bin,a={};return a.fmt=o.readUshort(r,s),a.x=o.readShort(r,s+2),a.y=o.readShort(r,s+4),a},e.GSUB={},e.GSUB.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var d=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,c+d)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(r,o),o+=2;else if(u.fmt==2){var p=l.readUshort(r,o);o+=2,u.newg=l.readUshorts(r,o,p),o+=2*u.newg.length}}else if(s==2&&u.fmt==1){p=l.readUshort(r,o),o+=2,u.seqs=[];for(var m=0;m<p;m++){var v=l.readUshort(r,o)+c;o+=2;var x=l.readUshort(r,v);u.seqs.push(l.readUshorts(r,v+2,x))}}else if(s==4)for(u.vals=[],p=l.readUshort(r,o),o+=2,m=0;m<p;m++){var _=l.readUshort(r,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(r,c+_))}else if(s==5&&u.fmt==2){if(u.fmt==2){var g=l.readUshort(r,o);o+=2,u.cDef=e._lctf.readClassDef(r,c+g),u.scset=[];var q=l.readUshort(r,o);for(o+=2,m=0;m<q;m++){var A=l.readUshort(r,o);o+=2,u.scset.push(A==0?null:e.GSUB.readSubClassSet(r,c+A))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){p=l.readUshort(r,o),o+=2;for(var M=[],C=0;C<p;C++)M.push(e._lctf.readCoverage(r,c+l.readUshort(r,o+2*C)));o+=2*p,m==0&&(u.backCvg=M),m==1&&(u.inptCvg=M),m==2&&(u.ahedCvg=M)}p=l.readUshort(r,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(r,o,p)}}else{if(s==7&&u.fmt==1){var w=l.readUshort(r,o);o+=2;var b=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=w;else if(a.ltype!=w)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,c+b)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(r,s){var o=e._bin.readUshort,a=s,l=[],c=o(r,s);s+=2;for(var u=0;u<c;u++){var d=o(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,a+d))}return l},e.GSUB.readSubClassRule=function(r,s){var o=e._bin.readUshort,a={},l=o(r,s),c=o(r,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(r,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,c),a},e.GSUB.readSubstLookupRecords=function(r,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(r,s),a(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,a+d))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(r,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(r,s,u),s+=2*a[l[c]].length}return u=o.readUshort(r,s),s+=2,a.subst=o.readUshorts(r,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,a+d))}return l},e.GSUB.readLigature=function(r,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(r,s)),s+=2;return a},e.head={},e.head.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.fontRevision=a.readFixed(r,s),s+=4,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4,l.flags=a.readUshort(r,s),s+=2,l.unitsPerEm=a.readUshort(r,s),s+=2,l.created=a.readUint64(r,s),s+=8,l.modified=a.readUint64(r,s),s+=8,l.xMin=a.readShort(r,s),s+=2,l.yMin=a.readShort(r,s),s+=2,l.xMax=a.readShort(r,s),s+=2,l.yMax=a.readShort(r,s),s+=2,l.macStyle=a.readUshort(r,s),s+=2,l.lowestRecPPEM=a.readUshort(r,s),s+=2,l.fontDirectionHint=a.readShort(r,s),s+=2,l.indexToLocFormat=a.readShort(r,s),s+=2,l.glyphDataFormat=a.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.ascender=a.readShort(r,s),s+=2,l.descender=a.readShort(r,s),s+=2,l.lineGap=a.readShort(r,s),s+=2,l.advanceWidthMax=a.readUshort(r,s),s+=2,l.minLeftSideBearing=a.readShort(r,s),s+=2,l.minRightSideBearing=a.readShort(r,s),s+=2,l.xMaxExtent=a.readShort(r,s),s+=2,l.caretSlopeRise=a.readShort(r,s),s+=2,l.caretSlopeRun=a.readShort(r,s),s+=2,l.caretOffset=a.readShort(r,s),s+=2,s+=8,l.metricDataFormat=a.readShort(r,s),s+=2,l.numberOfHMetrics=a.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,d=0,p=0;p<a.maxp.numGlyphs;p++)p<a.hhea.numberOfHMetrics&&(u=l.readUshort(r,s),s+=2,d=l.readShort(r,s),s+=2),c.aWidth.push(u),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(r,s,o,a){var l=e._bin,c=l.readUshort(r,s);if(s+=2,c==1)return e.kern.parseV1(r,s-2,o,a);var u=l.readUshort(r,s);s+=2;for(var d={glyph1:[],rval:[]},p=0;p<u;p++){s+=2,o=l.readUshort(r,s),s+=2;var m=l.readUshort(r,s);s+=2;var v=m>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(r,s,d)}return d},e.kern.parseV1=function(r,s,o,a){var l=e._bin;l.readFixed(r,s),s+=4;var c=l.readUint(r,s);s+=4;for(var u={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(r,s),s+=4;var p=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(r,s,u)}return u},e.kern.readFormat0=function(r,s,o){var a=e._bin,l=-1,c=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var u=0;u<c;u++){var d=a.readUshort(r,s);s+=2;var p=a.readUshort(r,s);s+=2;var m=a.readShort(r,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var v=o.rval[o.rval.length-1];v.glyph2.push(p),v.vals.push(m),l=d}return s},e.loca={},e.loca.parse=function(r,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,d=a.maxp.numGlyphs+1;if(u==0)for(var p=0;p<d;p++)c.push(l.readUshort(r,s+(p<<1))<<1);if(u==1)for(p=0;p<d;p++)c.push(l.readUint(r,s+(p<<2)));return c},e.maxp={},e.maxp.parse=function(r,s,o){var a=e._bin,l={},c=a.readUint(r,s);return s+=4,l.numGlyphs=a.readUshort(r,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(r,s),s+=2,l.maxContours=a.readUshort(r,s),s+=2,l.maxCompositePoints=a.readUshort(r,s),s+=2,l.maxCompositeContours=a.readUshort(r,s),s+=2,l.maxZones=a.readUshort(r,s),s+=2,l.maxTwilightPoints=a.readUshort(r,s),s+=2,l.maxStorage=a.readUshort(r,s),s+=2,l.maxFunctionDefs=a.readUshort(r,s),s+=2,l.maxInstructionDefs=a.readUshort(r,s),s+=2,l.maxStackElements=a.readUshort(r,s),s+=2,l.maxSizeOfInstructions=a.readUshort(r,s),s+=2,l.maxComponentElements=a.readUshort(r,s),s+=2,l.maxComponentDepth=a.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,o){var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2,a.readUshort(r,s);for(var u,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=s+=2,m=0;m<c;m++){var v=a.readUshort(r,s);s+=2;var x=a.readUshort(r,s);s+=2;var _=a.readUshort(r,s);s+=2;var g=a.readUshort(r,s);s+=2;var q=a.readUshort(r,s);s+=2;var A=a.readUshort(r,s);s+=2;var M,C=d[g],w=p+12*c+A;if(v==0)M=a.readUnicode(r,w,q/2);else if(v==3&&x==0)M=a.readUnicode(r,w,q/2);else if(x==0)M=a.readASCII(r,w,q);else if(x==1)M=a.readUnicode(r,w,q/2);else if(x==3)M=a.readUnicode(r,w,q/2);else{if(v!=1)throw"unknown encoding "+x+", platformID: "+v;M=a.readASCII(r,w,q),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var b="p"+v+","+_.toString(16);l[b]==null&&(l[b]={}),l[b][C!==void 0?C:g]=M,l[b]._lang=_}for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==1033)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==0)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==3084)return l[P];for(var P in l)if(l[P].postScriptName!=null)return l[P];for(var P in l){u=P;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(r,s,o){var a=e._bin.readUshort(r,s);s+=2;var l={};if(a==0)e["OS/2"].version0(r,s,l);else if(a==1)e["OS/2"].version1(r,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(r,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(r,s),s+=2,o.usWeightClass=a.readUshort(r,s),s+=2,o.usWidthClass=a.readUshort(r,s),s+=2,o.fsType=a.readUshort(r,s),s+=2,o.ySubscriptXSize=a.readShort(r,s),s+=2,o.ySubscriptYSize=a.readShort(r,s),s+=2,o.ySubscriptXOffset=a.readShort(r,s),s+=2,o.ySubscriptYOffset=a.readShort(r,s),s+=2,o.ySuperscriptXSize=a.readShort(r,s),s+=2,o.ySuperscriptYSize=a.readShort(r,s),s+=2,o.ySuperscriptXOffset=a.readShort(r,s),s+=2,o.ySuperscriptYOffset=a.readShort(r,s),s+=2,o.yStrikeoutSize=a.readShort(r,s),s+=2,o.yStrikeoutPosition=a.readShort(r,s),s+=2,o.sFamilyClass=a.readShort(r,s),s+=2,o.panose=a.readBytes(r,s,10),s+=10,o.ulUnicodeRange1=a.readUint(r,s),s+=4,o.ulUnicodeRange2=a.readUint(r,s),s+=4,o.ulUnicodeRange3=a.readUint(r,s),s+=4,o.ulUnicodeRange4=a.readUint(r,s),s+=4,o.achVendID=[a.readInt8(r,s),a.readInt8(r,s+1),a.readInt8(r,s+2),a.readInt8(r,s+3)],s+=4,o.fsSelection=a.readUshort(r,s),s+=2,o.usFirstCharIndex=a.readUshort(r,s),s+=2,o.usLastCharIndex=a.readUshort(r,s),s+=2,o.sTypoAscender=a.readShort(r,s),s+=2,o.sTypoDescender=a.readShort(r,s),s+=2,o.sTypoLineGap=a.readShort(r,s),s+=2,o.usWinAscent=a.readUshort(r,s),s+=2,o.usWinDescent=a.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,o){var a=e._bin;return s=e["OS/2"].version0(r,s,o),o.ulCodePageRange1=a.readUint(r,s),s+=4,o.ulCodePageRange2=a.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,o){var a=e._bin;return s=e["OS/2"].version1(r,s,o),o.sxHeight=a.readShort(r,s),s+=2,o.sCapHeight=a.readShort(r,s),s+=2,o.usDefault=a.readUshort(r,s),s+=2,o.usBreak=a.readUshort(r,s),s+=2,o.usMaxContext=a.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,o){var a=e._bin;return s=e["OS/2"].version2(r,s,o),o.usLowerOpticalPointSize=a.readUshort(r,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,o){var a=e._bin,l={};return l.version=a.readFixed(r,s),s+=4,l.italicAngle=a.readFixed(r,s),s+=4,l.underlinePosition=a.readShort(r,s),s+=2,l.underlineThickness=a.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var o=r.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var d=l.groups[u];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var a=r.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[s]=a),a)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,u=r.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=s;)d+=2;u=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,c,u,o)}else r.glyf&&e.U._drawGlyf(s,r,o);return o},e.U._drawGlyf=function(r,s,o){var a=s.glyf[r];a==null&&(a=s.glyf[r]=e.glyf._parseGlyf(s,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(r,s){for(var o=0;o<r.noc;o++){for(var a=o==0?0:r.endPts[o-1]+1,l=r.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,d=c==l?a:c+1,p=1&r.flags[c],m=1&r.flags[u],v=1&r.flags[d],x=r.xs[c],_=r.ys[c];if(c==a)if(p){if(!m){e.U.P.moveTo(s,x,_);continue}e.U.P.moveTo(s,r.xs[u],r.ys[u])}else m?e.U.P.moveTo(s,r.xs[u],r.ys[u]):e.U.P.moveTo(s,(r.xs[u]+x)/2,(r.ys[u]+_)/2);p?m&&e.U.P.lineTo(s,x,_):v?e.U.P.qcurveTo(s,x,_,r.xs[d],r.ys[d]):e.U.P.qcurveTo(s,x,_,(x+r.xs[d])/2,(_+r.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,o){for(var a=0;a<r.parts.length;a++){var l={cmds:[],crds:[]},c=r.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,d=0;d<l.crds.length;d+=2){var p=l.crds[d],m=l.crds[d+1];o.crds.push(p*u.a+m*u.b+u.tx),o.crds.push(p*u.c+m*u.d+u.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(r,s){var o=e._lctf.getInterval(s,r);return o==-1?0:s[o+2]},e.U._applySubs=function(r,s,o,a){for(var l=r.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,d=o.tabs[c];if(!d.coverage||(u=e._lctf.coverageIndex(d.coverage,r[s]))!=-1){if(o.ltype==1)r[s],d.fmt==1?r[s]=r[s]+d.delta:r[s]=d.newg[u];else if(o.ltype==4)for(var p=d.vals[u],m=0;m<p.length;m++){var v=p[m],x=v.chain.length;if(!(x>l)){for(var _=!0,g=0,q=0;q<x;q++){for(;r[s+g+(1+q)]==-1;)g++;v.chain[q]!=r[s+g+(1+q)]&&(_=!1)}if(_){for(r[s]=v.nglyph,q=0;q<x+g;q++)r[s+q+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var A=e._lctf.getInterval(d.cDef,r[s]),M=d.cDef[A+2],C=d.scset[M],w=0;w<C.length;w++){var b=C[w],P=b.input;if(!(P.length>l)){for(_=!0,q=0;q<P.length;q++){var R=e._lctf.getInterval(d.cDef,r[s+1+q]);if(A==-1&&d.cDef[R+2]!=P[q]){_=!1;break}}if(_){var T=b.substLookupRecords;for(m=0;m<T.length;m+=2)T[m],T[m+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(r,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(r,d.inptCvg,s)||!e.U._glsCovered(r,d.ahedCvg,s+d.inptCvg.length))continue;var F=d.lookupRec;for(w=0;w<F.length;w+=2){A=F[w];var L=a[F[w+1]];e.U._applySubs(r,s+A,L,a)}}}}},e.U._glsCovered=function(r,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],r[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var d=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,p=e.U.glyphToPath(r,u),m=0;m<p.crds.length;m+=2)a.crds.push(p.crds[m]+l),a.crds.push(p.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<p.cmds.length;m++)a.cmds.push(p.cmds[m]);o&&a.cmds.push("X"),l+=r.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(r,u,d))}}return a},e.U.P={},e.U.P.moveTo=function(r,s,o){r.cmds.push("M"),r.crds.push(s,o)},e.U.P.lineTo=function(r,s,o){r.cmds.push("L"),r.crds.push(s,o)},e.U.P.curveTo=function(r,s,o,a,l,c,u){r.cmds.push("C"),r.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(r,s,o,a,l){r.cmds.push("Q"),r.crds.push(s,o,a,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,o,a,l){for(var c=s.stack,u=s.nStems,d=s.haveWidth,p=s.width,m=s.open,v=0,x=s.x,_=s.y,g=0,q=0,A=0,M=0,C=0,w=0,b=0,P=0,R=0,T=0,F={val:0,size:0};v<r.length;){e.CFF.getCharString(r,v,F);var L=F.val;if(v+=F.size,L=="o1"||L=="o18")c.length%2!=0&&!d&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(L=="o3"||L=="o23")c.length%2!=0&&!d&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(L=="o4")c.length>1&&!d&&(p=c.shift()+a.nominalWidthX,d=!0),m&&e.U.P.closePath(l),_+=c.pop(),e.U.P.moveTo(l,x,_),m=!0;else if(L=="o5")for(;c.length>0;)x+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,x,_);else if(L=="o6"||L=="o7")for(var U=c.length,k=L=="o6",Y=0;Y<U;Y++){var X=c.shift();k?x+=X:_+=X,k=!k,e.U.P.lineTo(l,x,_)}else if(L=="o8"||L=="o24"){U=c.length;for(var ee=0;ee+6<=U;)g=x+c.shift(),q=_+c.shift(),A=g+c.shift(),M=q+c.shift(),x=A+c.shift(),_=M+c.shift(),e.U.P.curveTo(l,g,q,A,M,x,_),ee+=6;L=="o24"&&(x+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,x,_))}else{if(L=="o11")break;if(L=="o1234"||L=="o1235"||L=="o1236"||L=="o1237")L=="o1234"&&(q=_,A=(g=x+c.shift())+c.shift(),T=M=q+c.shift(),w=M,P=_,x=(b=(C=(R=A+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,g,q,A,M,R,T),e.U.P.curveTo(l,C,w,b,P,x,_)),L=="o1235"&&(g=x+c.shift(),q=_+c.shift(),A=g+c.shift(),M=q+c.shift(),R=A+c.shift(),T=M+c.shift(),C=R+c.shift(),w=T+c.shift(),b=C+c.shift(),P=w+c.shift(),x=b+c.shift(),_=P+c.shift(),c.shift(),e.U.P.curveTo(l,g,q,A,M,R,T),e.U.P.curveTo(l,C,w,b,P,x,_)),L=="o1236"&&(g=x+c.shift(),q=_+c.shift(),A=g+c.shift(),T=M=q+c.shift(),w=M,b=(C=(R=A+c.shift())+c.shift())+c.shift(),P=w+c.shift(),x=b+c.shift(),e.U.P.curveTo(l,g,q,A,M,R,T),e.U.P.curveTo(l,C,w,b,P,x,_)),L=="o1237"&&(g=x+c.shift(),q=_+c.shift(),A=g+c.shift(),M=q+c.shift(),R=A+c.shift(),T=M+c.shift(),C=R+c.shift(),w=T+c.shift(),b=C+c.shift(),P=w+c.shift(),Math.abs(b-x)>Math.abs(P-_)?x=b+c.shift():_=P+c.shift(),e.U.P.curveTo(l,g,q,A,M,R,T),e.U.P.curveTo(l,C,w,b,P,x,_));else if(L=="o14"){if(c.length>0&&!d&&(p=c.shift()+o.nominalWidthX,d=!0),c.length==4){var D=c.shift(),G=c.shift(),N=c.shift(),O=c.shift(),J=e.CFF.glyphBySE(o,N),Z=e.CFF.glyphBySE(o,O);e.U._drawCFF(o.CharStrings[J],s,o,a,l),s.x=D,s.y=G,e.U._drawCFF(o.CharStrings[Z],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(L=="o19"||L=="o20")c.length%2!=0&&!d&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0,v+=u+7>>3;else if(L=="o21")c.length>2&&!d&&(p=c.shift()+a.nominalWidthX,d=!0),_+=c.pop(),x+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,x,_),m=!0;else if(L=="o22")c.length>1&&!d&&(p=c.shift()+a.nominalWidthX,d=!0),x+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,x,_),m=!0;else if(L=="o25"){for(;c.length>6;)x+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,x,_);g=x+c.shift(),q=_+c.shift(),A=g+c.shift(),M=q+c.shift(),x=A+c.shift(),_=M+c.shift(),e.U.P.curveTo(l,g,q,A,M,x,_)}else if(L=="o26")for(c.length%2&&(x+=c.shift());c.length>0;)g=x,q=_+c.shift(),x=A=g+c.shift(),_=(M=q+c.shift())+c.shift(),e.U.P.curveTo(l,g,q,A,M,x,_);else if(L=="o27")for(c.length%2&&(_+=c.shift());c.length>0;)q=_,A=(g=x+c.shift())+c.shift(),M=q+c.shift(),x=A+c.shift(),_=M,e.U.P.curveTo(l,g,q,A,M,x,_);else if(L=="o10"||L=="o29"){var j=L=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var Q=c.pop(),ie=j.Subrs[Q+j.Bias];s.x=x,s.y=_,s.nStems=u,s.haveWidth=d,s.width=p,s.open=m,e.U._drawCFF(ie,s,o,a,l),x=s.x,_=s.y,u=s.nStems,d=s.haveWidth,p=s.width,m=s.open}}else if(L=="o30"||L=="o31"){var $=c.length,ge=(ee=0,L=="o31");for(ee+=$-(U=-3&$);ee<U;)ge?(q=_,A=(g=x+c.shift())+c.shift(),_=(M=q+c.shift())+c.shift(),U-ee==5?(x=A+c.shift(),ee++):x=A,ge=!1):(g=x,q=_+c.shift(),A=g+c.shift(),M=q+c.shift(),x=A+c.shift(),U-ee==5?(_=M+c.shift(),ee++):_=M,ge=!0),e.U.P.curveTo(l,g,q,A,M,x,_),ee+=4}else{if((L+"").charAt(0)=="o")throw console.debug("Unknown operation: "+L,r),L;c.push(L)}}}s.x=x,s.y=_,s.nStems=u,s.haveWidth=d,s.width=p,s.open=m};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function $F(){return function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(L,U){for(var k=new t(31),Y=0;Y<31;++Y)k[Y]=U+=1<<L[Y-1];var X=new i(k[30]);for(Y=1;Y<30;++Y)for(var ee=k[Y];ee<k[Y+1];++ee)X[ee]=ee-k[Y]<<5|Y;return[k,X]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=a(s,0)[0],p=new t(32768),m=0;m<32768;++m){var v=(43690&m)>>>1|(21845&m)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,p[m]=((65280&v)>>>8|(255&v)<<8)>>>1}var x=function(L,U,k){for(var Y=L.length,X=0,ee=new t(U);X<Y;++X)++ee[L[X]-1];var D,G=new t(U);for(X=0;X<U;++X)G[X]=G[X-1]+ee[X-1]<<1;{D=new t(1<<U);var N=15-U;for(X=0;X<Y;++X)if(L[X])for(var O=X<<4|L[X],J=U-L[X],Z=G[L[X]-1]++<<J,j=Z|(1<<J)-1;Z<=j;++Z)D[p[Z]>>>N]=O}return D},_=new e(288);for(m=0;m<144;++m)_[m]=8;for(m=144;m<256;++m)_[m]=9;for(m=256;m<280;++m)_[m]=7;for(m=280;m<288;++m)_[m]=8;var g=new e(32);for(m=0;m<32;++m)g[m]=5;var q=x(_,9),A=x(g,5),M=function(L){for(var U=L[0],k=1;k<L.length;++k)L[k]>U&&(U=L[k]);return U},C=function(L,U,k){var Y=U/8|0;return(L[Y]|L[Y+1]<<8)>>(7&U)&k},w=function(L,U){var k=U/8|0;return(L[k]|L[k+1]<<8|L[k+2]<<16)>>(7&U)},b=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(L,U,k){var Y=new Error(U||b[L]);if(Y.code=L,Error.captureStackTrace&&Error.captureStackTrace(Y,P),!k)throw Y;return Y},R=function(L,U,k){var Y=L.length;if(!Y||k&&!k.l&&Y<5)return U||new e(0);var X=!U||k,ee=!k||k.i;k||(k={}),U||(U=new e(3*Y));var D,G=function(Oe){var rt=U.length;if(Oe>rt){var vt=new e(Math.max(2*rt,Oe));vt.set(U),U=vt}},N=k.f||0,O=k.p||0,J=k.b||0,Z=k.l,j=k.d,Q=k.m,ie=k.n,$=8*Y;do{if(!Z){k.f=N=C(L,O,1);var ge=C(L,O+1,3);if(O+=3,!ge){var De=L[(H=((D=O)/8|0)+(7&D&&1)+4)-4]|L[H-3]<<8,Ie=H+De;if(Ie>Y){ee&&P(0);break}X&&G(J+De),U.set(L.subarray(H,Ie),J),k.b=J+=De,k.p=O=8*Ie;continue}if(ge==1)Z=q,j=A,Q=9,ie=5;else if(ge==2){var z=C(L,O,31)+257,ne=C(L,O+10,15)+4,pe=z+C(L,O+5,31)+1;O+=14;for(var Me=new e(pe),xe=new e(19),Se=0;Se<ne;++Se)xe[o[Se]]=C(L,O+3*Se,7);O+=3*ne;var Be=M(xe),ve=(1<<Be)-1,Ue=x(xe,Be);for(Se=0;Se<pe;){var H,I=Ue[C(L,O,ve)];if(O+=15&I,(H=I>>>4)<16)Me[Se++]=H;else{var re=0,ae=0;for(H==16?(ae=3+C(L,O,3),O+=2,re=Me[Se-1]):H==17?(ae=3+C(L,O,7),O+=3):H==18&&(ae=11+C(L,O,127),O+=7);ae--;)Me[Se++]=re}}var he=Me.subarray(0,z),de=Me.subarray(z);Q=M(he),ie=M(de),Z=x(he,Q),j=x(de,ie)}else P(1);if(O>$){ee&&P(0);break}}X&&G(J+131072);for(var Je=(1<<Q)-1,Ae=(1<<ie)-1,Te=O;;Te=O){var Ve=(re=Z[w(L,O)&Je])>>>4;if((O+=15&re)>$){ee&&P(0);break}if(re||P(2),Ve<256)U[J++]=Ve;else{if(Ve==256){Te=O,Z=null;break}var Pe=Ve-254;if(Ve>264){var ze=r[Se=Ve-257];Pe=C(L,O,(1<<ze)-1)+c[Se],O+=ze}var st=j[w(L,O)&Ae],We=st>>>4;if(st||P(3),O+=15&st,de=d[We],We>3&&(ze=s[We],de+=w(L,O)&(1<<ze)-1,O+=ze),O>$){ee&&P(0);break}X&&G(J+131072);for(var Le=J+Pe;J<Le;J+=4)U[J]=U[J-de],U[J+1]=U[J+1-de],U[J+2]=U[J+2-de],U[J+3]=U[J+3-de];J=Le}}k.l=Z,k.p=Te,k.b=J,Z&&(N=1,k.m=Q,k.d=j,k.n=ie)}while(!N);return J==U.length?U:function(Oe,rt,vt){(vt==null||vt>Oe.length)&&(vt=Oe.length);var te=new(Oe instanceof t?t:Oe instanceof i?i:e)(vt-rt);return te.set(Oe.subarray(rt,vt)),te}(U,0,J)},T=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(T,{stream:!0})}catch{}return n.convert_streams=function(L){var U=new DataView(L),k=0;function Y(){var z=U.getUint16(k);return k+=2,z}function X(){var z=U.getUint32(k);return k+=4,z}function ee(z){De.setUint16(Ie,z),Ie+=2}function D(z){De.setUint32(Ie,z),Ie+=4}for(var G={signature:X(),flavor:X(),length:X(),numTables:Y(),reserved:Y(),totalSfntSize:X(),majorVersion:Y(),minorVersion:Y(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},N=0;Math.pow(2,N)<=G.numTables;)N++;N--;for(var O=16*Math.pow(2,N),J=16*G.numTables-O,Z=12,j=[],Q=0;Q<G.numTables;Q++)j.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),Z+=16;var ie,$=new Uint8Array(12+16*j.length+j.reduce(function(z,ne){return z+ne.origLength+4},0)),ge=$.buffer,De=new DataView(ge),Ie=0;return D(G.flavor),ee(G.numTables),ee(O),ee(N),ee(J),j.forEach(function(z){D(z.tag),D(z.origChecksum),D(Z),D(z.origLength),z.outOffset=Z,(Z+=z.origLength)%4!=0&&(Z+=4-Z%4)}),j.forEach(function(z){var ne,pe=L.slice(z.offset,z.offset+z.compLength);if(z.compLength!=z.origLength){var Me=new Uint8Array(z.origLength);ne=new Uint8Array(pe,2),R(ne,Me)}else Me=new Uint8Array(pe);$.set(Me,z.outOffset);var xe=0;(Z=z.outOffset+z.origLength)%4!=0&&(xe=4-Z%4),$.set(new Uint8Array(xe).buffer,z.outOffset+z.origLength),ie=Z+xe}),ge.slice(0,ie)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function eO(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,o=4,a=8,l=16,c=32;let u;function d(b){if(!u){const P={R:s,L:r,D:o,C:l,U:c,T:a};u=new Map;for(let R in i){let T=0;i[R].split(",").forEach(F=>{let[L,U]=F.split("+");L=parseInt(L,36),U=U?parseInt(U,36):0,u.set(T+=L,P[R]);for(let k=U;k--;)u.set(++T,P[R])})}}return u.get(b)||c}const p=1,m=2,v=3,x=4,_=[null,"isol","init","fina","medi"];function g(b){const P=new Uint8Array(b.length);let R=c,T=p,F=-1;for(let L=0;L<b.length;L++){const U=b.codePointAt(L);let k=d(U)|0,Y=p;k&a||(R&(r|o|l)?k&(s|o|l)?(Y=v,(T===p||T===v)&&P[F]++):k&(r|c)&&(T===m||T===x)&&P[F]--:R&(s|c)&&(T===m||T===x)&&P[F]--,T=P[L]=Y,R=k,F=L,U>65535&&L++)}return P}function q(b,P){const R=[];for(let F=0;F<P.length;F++){const L=P.codePointAt(F);L>65535&&F++,R.push(n.U.codeToGlyph(b,L))}const T=b.GSUB;if(T){const{lookupList:F,featureList:L}=T;let U;const k=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,Y=[];L.forEach(X=>{if(k.test(X.tag))for(let ee=0;ee<X.tab.length;ee++){if(Y[X.tab[ee]])continue;Y[X.tab[ee]]=!0;const D=F[X.tab[ee]],G=/^(isol|init|fina|medi)$/.test(X.tag);G&&!U&&(U=g(P));for(let N=0;N<R.length;N++)(!U||!G||_[U[N]]===X.tag)&&n.U._applySubs(R,N,D,F)}})}return R}function A(b,P){const R=new Int16Array(P.length*3);let T=0;for(;T<P.length;T++){const k=P[T];if(k===-1)continue;R[T*3+2]=b.hmtx.aWidth[k];const Y=b.GPOS;if(Y){const X=Y.lookupList;for(let ee=0;ee<X.length;ee++){const D=X[ee];for(let G=0;G<D.tabs.length;G++){const N=D.tabs[G];if(D.ltype===1){if(n._lctf.coverageIndex(N.coverage,k)!==-1&&N.pos){U(N.pos,T);break}}else if(D.ltype===2){let O=null,J=F();if(J!==-1){const Z=n._lctf.coverageIndex(N.coverage,P[J]);if(Z!==-1){if(N.fmt===1){const j=N.pairsets[Z];for(let Q=0;Q<j.length;Q++)j[Q].gid2===k&&(O=j[Q])}else if(N.fmt===2){const j=n.U._getGlyphClass(P[J],N.classDef1),Q=n.U._getGlyphClass(k,N.classDef2);O=N.matrix[j][Q]}if(O){O.val1&&U(O.val1,J),O.val2&&U(O.val2,T);break}}}}else if(D.ltype===4){const O=n._lctf.coverageIndex(N.markCoverage,k);if(O!==-1){const J=F(L),Z=J===-1?-1:n._lctf.coverageIndex(N.baseCoverage,P[J]);if(Z!==-1){const j=N.markArray[O],Q=N.baseArray[Z][j.markClass];R[T*3]=Q.x-j.x+R[J*3]-R[J*3+2],R[T*3+1]=Q.y-j.y+R[J*3+1];break}}}else if(D.ltype===6){const O=n._lctf.coverageIndex(N.mark1Coverage,k);if(O!==-1){const J=F();if(J!==-1){const Z=P[J];if(M(b,Z)===3){const j=n._lctf.coverageIndex(N.mark2Coverage,Z);if(j!==-1){const Q=N.mark1Array[O],ie=N.mark2Array[j][Q.markClass];R[T*3]=ie.x-Q.x+R[J*3]-R[J*3+2],R[T*3+1]=ie.y-Q.y+R[J*3+1];break}}}}}}}}else if(b.kern&&!b.cff){const X=F();if(X!==-1){const ee=b.kern.glyph1.indexOf(P[X]);if(ee!==-1){const D=b.kern.rval[ee].glyph2.indexOf(k);D!==-1&&(R[X*3+2]+=b.kern.rval[ee].vals[D])}}}}return R;function F(k){for(let Y=T-1;Y>=0;Y--)if(P[Y]!==-1&&(!k||k(P[Y])))return Y;return-1}function L(k){return M(b,k)===1}function U(k,Y){for(let X=0;X<3;X++)R[Y*3+X]+=k[X]||0}}function M(b,P){const R=b.GDEF&&b.GDEF.glyphClassDef;return R?n.U._getGlyphClass(P,R):0}function C(...b){for(let P=0;P<b.length;P++)if(typeof b[P]=="number")return b[P]}function w(b){const P=Object.create(null),R=b["OS/2"],T=b.hhea,F=b.head.unitsPerEm,L=C(R&&R.sTypoAscender,T&&T.ascender,F),U={unitsPerEm:F,ascender:L,descender:C(R&&R.sTypoDescender,T&&T.descender,0),capHeight:C(R&&R.sCapHeight,L),xHeight:C(R&&R.sxHeight,L),lineGap:C(R&&R.sTypoLineGap,T&&T.lineGap),supportsCodePoint(k){return n.U.codeToGlyph(b,k)>0},forEachGlyph(k,Y,X,ee){let D=0;const G=1/U.unitsPerEm*Y,N=q(b,k);let O=0;const J=A(b,N);return N.forEach((Z,j)=>{if(Z!==-1){let Q=P[Z];if(!Q){const{cmds:ie,crds:$}=n.U.glyphToPath(b,Z);let ge="",De=0;for(let Me=0,xe=ie.length;Me<xe;Me++){const Se=t[ie[Me]];ge+=ie[Me];for(let Be=1;Be<=Se;Be++)ge+=(Be>1?",":"")+$[De++]}let Ie,z,ne,pe;if($.length){Ie=z=1/0,ne=pe=-1/0;for(let Me=0,xe=$.length;Me<xe;Me+=2){let Se=$[Me],Be=$[Me+1];Se<Ie&&(Ie=Se),Be<z&&(z=Be),Se>ne&&(ne=Se),Be>pe&&(pe=Be)}}else Ie=ne=z=pe=0;Q=P[Z]={index:Z,advanceWidth:b.hmtx.aWidth[Z],xMin:Ie,yMin:z,xMax:ne,yMax:pe,path:ge}}ee.call(null,Q,D+J[j*3]*G,J[j*3+1]*G,O),D+=J[j*3+2]*G,X&&(D+=X*Y)}O+=k.codePointAt(O)>65535?2:1}),D}};return U}return function(P){const R=new Uint8Array(P,0,4),T=n._bin.readASCII(R,0,4);if(T==="wOFF")P=e(P);else if(T==="wOF2")throw new Error("woff2 fonts not supported");return w(n.parse(P)[0])}}const tO=Zu({name:"Typr Font Parser",dependencies:[ZF,$F,eO],init(n,e,t){const i=n(),r=e();return t(i,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function nO(){return function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(A){var M=A>>5;this.buckets.set(M,(this.buckets.get(M)||0)|1<<(31&A))},e.prototype.has=function(A){var M=this.buckets.get(A>>5);return M!==void 0&&(M&1<<(31&A))!=0},e.prototype.serialize=function(){var A=[];return this.buckets.forEach(function(M,C){A.push((+C).toString(36)+":"+M.toString(36))}),A.join(",")},e.prototype.deserialize=function(A){var M=this;this.buckets.clear(),A.split(",").forEach(function(C){var w=C.split(":");M.buckets.set(parseInt(w[0],36),parseInt(w[1],36))})};var t=Math.pow(2,8),i=t-1,r=~i;function s(A){var M=function(w){return w&r}(A).toString(16),C=function(w){return(w&r)+t-1}(A).toString(16);return"codepoint-index/plane"+(A>>16)+"/"+M+"-"+C+".json"}function o(A,M){var C=A&i,w=M.codePointAt(C/6|0);return((w=(w||48)-48)&1<<C%6)!=0}function a(A,M){var C;(C=A,C.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(w){return w.split("-").map(function(b){return parseInt(b.trim(),16)})})).forEach(function(w){var b=w[0],P=w[1];P===void 0&&(P=b),M(b,P)})}function l(A,M){a(A,function(C,w){for(var b=C;b<=w;b++)M(b)})}var c={},u={},d=new WeakMap,p="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(A){var M=d.get(A);return M||(M=new e,l(A.ranges,function(C){return M.add(C)}),d.set(A,M)),M}var v,x=new Map;function _(A,M,C){return A[M]?M:A[C]?C:function(w){for(var b in w)return b}(A)}function g(A,M){var C=M;if(!A.includes(C)){C=1/0;for(var w=0;w<A.length;w++)Math.abs(A[w]-M)<Math.abs(C-M)&&(C=A[w])}return C}function q(A){return v||(v=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(M){v.add(M)})),v.has(A)}return n.CodePointSet=e,n.clearCache=function(){c={},u={}},n.getFontsForString=function(A,M){M===void 0&&(M={});var C,w=M.lang;w===void 0&&(w=new RegExp("\\p{Script=Hangul}","u").test(C=A)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(C)?"ja":"en");var b=M.category;b===void 0&&(b="sans-serif");var P=M.style;P===void 0&&(P="normal");var R=M.weight;R===void 0&&(R=400);var T=(M.dataUrl||p).replace(/\/$/g,""),F=new Map,L=new Uint8Array(A.length),U={},k={},Y=new Array(A.length),X=new Map,ee=!1;function D(O){var J=x.get(O);return J||(J=fetch(T+"/"+O).then(function(Z){if(!Z.ok)throw new Error(Z.statusText);return Z.json().then(function(j){if(!Array.isArray(j)||j[0]!==1)throw new Error("Incorrect schema version; need 1, got "+j[0]);return j[1]})}).catch(function(Z){if(T!==p)return ee||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+T+'", trying default CDN. '+Z.message),ee=!0),T=p,x.delete(O),D(O);throw Z}),x.set(O,J)),J}for(var G=function(O){var J=A.codePointAt(O),Z=s(J);Y[O]=Z,c[Z]||X.has(Z)||X.set(Z,D(Z).then(function(j){c[Z]=j})),J>65535&&(O++,N=O)},N=0;N<A.length;N++)G(N);return Promise.all(X.values()).then(function(){X.clear();for(var O=function(Z){var j=A.codePointAt(Z),Q=null,ie=c[Y[Z]],$=void 0;for(var ge in ie){var De=k[ge];if(De===void 0&&(De=k[ge]=new RegExp(ge).test(w||"en")),De){for(var Ie in $=ge,ie[ge])if(o(j,ie[ge][Ie])){Q=Ie;break}break}}if(!Q){e:for(var z in ie)if(z!==$){for(var ne in ie[z])if(o(j,ie[z][ne])){Q=ne;break e}}}Q||(console.debug("No font coverage for U+"+j.toString(16)),Q="latin"),Y[Z]=Q,u[Q]||X.has(Q)||X.set(Q,D("font-meta/"+Q+".json").then(function(pe){u[Q]=pe})),j>65535&&(Z++,J=Z)},J=0;J<A.length;J++)O(J);return Promise.all(X.values())}).then(function(){for(var O,J=null,Z=0;Z<A.length;Z++){var j=A.codePointAt(Z);if(J&&(q(j)||m(J).has(j)))L[Z]=L[Z-1];else{J=u[Y[Z]];var Q=U[J.id];if(!Q){var ie=J.typeforms,$=_(ie,b,"sans-serif"),ge=_(ie[$],P,"normal"),De=g((O=ie[$])===null||O===void 0?void 0:O[ge],R);Q=U[J.id]=T+"/font-files/"+J.id+"/"+$+"."+ge+"."+De+".woff"}var Ie=F.get(Q);Ie==null&&(Ie=F.size,F.set(Q,Ie)),L[Z]=Ie}j>65535&&(Z++,L[Z]=L[Z-1])}return{fontUrls:Array.from(F.keys()),chars:L}})},Object.defineProperty(n,"__esModule",{value:!0}),n}({})}function iO(n,e){const t=Object.create(null),i=Object.create(null);function r(o,a){const l=c=>{console.error(`Failure loading font ${o}`,c)};try{const c=new XMLHttpRequest;c.open("get",o,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=n(c.response);u.src=o,a(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(o,a){let l=t[o];l?a(l):i[o]?i[o].push(a):(i[o]=[a],r(o,c=>{c.src=o,t[o]=c,i[o].forEach(u=>u(c)),delete i[o]}))}return function(o,a,{lang:l,fonts:c=[],style:u="normal",weight:d="normal",unicodeFontsURL:p}={}){const m=new Uint8Array(o.length),v=[];o.length||q();const x=new Map,_=[];if(u!=="italic"&&(u="normal"),typeof d!="number"&&(d=d==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(M=>!M.lang||M.lang.test(l)).reverse(),c.length){let b=0;(function P(R=0){for(let T=R,F=o.length;T<F;T++){const L=o.codePointAt(T);if(b===1&&v[m[T-1]].supportsCodePoint(L)||/\s/.test(o[T]))m[T]=m[T-1],b===2&&(_[_.length-1][1]=T);else for(let U=m[T],k=c.length;U<=k;U++)if(U===k){const Y=b===2?_[_.length-1]:_[_.length]=[T,T];Y[1]=T,b=2}else{m[T]=U;const{src:Y,unicodeRange:X}=c[U];if(!X||A(L,X)){const ee=t[Y];if(!ee){s(Y,()=>{P(T)});return}if(ee.supportsCodePoint(L)){let D=x.get(ee);typeof D!="number"&&(D=v.length,v.push(ee),x.set(ee,D)),m[T]=D,b=1;break}}}L>65535&&T+1<F&&(m[T+1]=m[T],T++,b===2&&(_[_.length-1][1]=T))}g()})()}else _.push([0,o.length-1]),g();function g(){if(_.length){const M=_.map(C=>o.substring(C[0],C[1]+1)).join(`
`);e.getFontsForString(M,{lang:l||void 0,style:u,weight:d,dataUrl:p}).then(({fontUrls:C,chars:w})=>{const b=v.length;let P=0;_.forEach(T=>{for(let F=0,L=T[1]-T[0];F<=L;F++)m[T[0]+F]=w[P++]+b;P++});let R=0;C.forEach((T,F)=>{s(T,L=>{v[F+b]=L,++R===C.length&&q()})})})}else q()}function q(){a({chars:m,fonts:v})}function A(M,C){for(let w=0;w<C.length;w++){const[b,P=b]=C[w];if(b<=M&&M<=P)return!0}return!1}}}const rO=Zu({name:"FontResolver",dependencies:[iO,tO,nO],init(n,e,t){return n(e,t())}});function sO(n,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",s=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:v,lang:x,fonts:_,style:g,weight:q,preResolvedFonts:A,unicodeFontsURL:M},C){const w=({chars:b,fonts:P})=>{let R,T;const F=[];for(let L=0;L<b.length;L++)b[L]!==T?(T=b[L],F.push(R={start:L,end:L,fontObj:P[b[L]]})):R.end=L;C(F)};A?w(A):n(v,w,{lang:x,fonts:_,style:g,weight:q,unicodeFontsURL:M})}function a({text:v="",font:x,lang:_,sdfGlyphSize:g=64,fontSize:q=400,fontWeight:A=1,fontStyle:M="normal",letterSpacing:C=0,lineHeight:w="normal",maxWidth:b=1/0,direction:P,textAlign:R="left",textIndent:T=0,whiteSpace:F="normal",overflowWrap:L="normal",anchorX:U=0,anchorY:k=0,metricsOnly:Y=!1,unicodeFontsURL:X,preResolvedFonts:ee=null,includeCaretPositions:D=!1,chunkedBoundsSize:G=8192,colorRanges:N=null},O){const J=d(),Z={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),q=+q,C=+C,b=+b,w=w||"normal",T=+T,o({text:v,lang:_,style:M,weight:A,fonts:typeof x=="string"?[{src:x}]:x,unicodeFontsURL:X,preResolvedFonts:ee},j=>{Z.fontLoad=d()-J;const Q=isFinite(b);let ie=null,$=null,ge=null,De=null,Ie=null,z=null,ne=null,pe=null,Me=0,xe=0,Se=F!=="nowrap";const Be=new Map,ve=d();let Ue=T,H=0,I=new p;const re=[I];j.forEach(Ae=>{const{fontObj:Te}=Ae,{ascender:Ve,descender:Pe,unitsPerEm:ze,lineGap:st,capHeight:We,xHeight:Le}=Te;let Oe=Be.get(Te);if(!Oe){const me=q/ze,Ee=w==="normal"?(Ve-Pe+st)*me:w*q,Ge=(Ee-(Ve-Pe)*me)/2,Qe=Math.min(Ee,(Ve-Pe)*me),it=(Ve+Pe)/2*me+Qe/2;Oe={index:Be.size,src:Te.src,fontObj:Te,fontSizeMult:me,unitsPerEm:ze,ascender:Ve*me,descender:Pe*me,capHeight:We*me,xHeight:Le*me,lineHeight:Ee,baseline:-Ge-Ve*me,caretTop:it,caretBottom:it-Qe},Be.set(Te,Oe)}const{fontSizeMult:rt}=Oe,vt=v.slice(Ae.start,Ae.end+1);let te,Ne;Te.forEachGlyph(vt,q,C,(me,Ee,Ge,Qe)=>{Ee+=H,Qe+=Ae.start,te=Ee,Ne=me;const it=v.charAt(Qe),yt=me.advanceWidth*rt,xt=I.count;let tt;if("isEmpty"in me||(me.isWhitespace=!!it&&new RegExp(r).test(it),me.canBreakAfter=!!it&&s.test(it),me.isEmpty=me.xMin===me.xMax||me.yMin===me.yMax||i.test(it)),!me.isWhitespace&&!me.isEmpty&&xe++,Se&&Q&&!me.isWhitespace&&Ee+yt+Ue>b&&xt){if(I.glyphAt(xt-1).glyphObj.canBreakAfter)tt=new p,Ue=-Ee;else for(let Yt=xt;Yt--;)if(Yt===0&&L==="break-word"){tt=new p,Ue=-Ee;break}else if(I.glyphAt(Yt).glyphObj.canBreakAfter){tt=I.splitAt(Yt+1);const nn=tt.glyphAt(0).x;Ue-=nn;for(let cn=tt.count;cn--;)tt.glyphAt(cn).x-=nn;break}tt&&(I.isSoftWrapped=!0,I=tt,re.push(I),Me=b)}let Lt=I.glyphAt(I.count);Lt.glyphObj=me,Lt.x=Ee+Ue,Lt.y=Ge,Lt.width=yt,Lt.charIndex=Qe,Lt.fontData=Oe,it===`
`&&(I=new p,re.push(I),Ue=-(Ee+yt+C*q)+T)}),H=te+Ne.advanceWidth*rt+C*q});let ae=0;re.forEach(Ae=>{let Te=!0;for(let Ve=Ae.count;Ve--;){const Pe=Ae.glyphAt(Ve);Te&&!Pe.glyphObj.isWhitespace&&(Ae.width=Pe.x+Pe.width,Ae.width>Me&&(Me=Ae.width),Te=!1);let{lineHeight:ze,capHeight:st,xHeight:We,baseline:Le}=Pe.fontData;ze>Ae.lineHeight&&(Ae.lineHeight=ze);const Oe=Le-Ae.baseline;Oe<0&&(Ae.baseline+=Oe,Ae.cap+=Oe,Ae.ex+=Oe),Ae.cap=Math.max(Ae.cap,Ae.baseline+st),Ae.ex=Math.max(Ae.ex,Ae.baseline+We)}Ae.baseline-=ae,Ae.cap-=ae,Ae.ex-=ae,ae+=Ae.lineHeight});let he=0,de=0;if(U&&(typeof U=="number"?he=-U:typeof U=="string"&&(he=-Me*(U==="left"?0:U==="center"?.5:U==="right"?1:c(U)))),k&&(typeof k=="number"?de=-k:typeof k=="string"&&(de=k==="top"?0:k==="top-baseline"?-re[0].baseline:k==="top-cap"?-re[0].cap:k==="top-ex"?-re[0].ex:k==="middle"?ae/2:k==="bottom"?ae:k==="bottom-baseline"?-re[re.length-1].baseline:c(k)*ae)),!Y){const Ae=e.getEmbeddingLevels(v,P);ie=new Uint16Array(xe),$=new Uint8Array(xe),ge=new Float32Array(xe*2),De={},ne=[1/0,1/0,-1/0,-1/0],pe=[],D&&(z=new Float32Array(v.length*4)),N&&(Ie=new Uint8Array(xe*3));let Te=0,Ve=-1,Pe=-1,ze,st;if(re.forEach((We,Le)=>{let{count:Oe,width:rt}=We;if(Oe>0){let vt=0;for(let Qe=Oe;Qe--&&We.glyphAt(Qe).glyphObj.isWhitespace;)vt++;let te=0,Ne=0;if(R==="center")te=(Me-rt)/2;else if(R==="right")te=Me-rt;else if(R==="justify"&&We.isSoftWrapped){let Qe=0;for(let it=Oe-vt;it--;)We.glyphAt(it).glyphObj.isWhitespace&&Qe++;Ne=(Me-rt)/Qe}if(Ne||te){let Qe=0;for(let it=0;it<Oe;it++){let yt=We.glyphAt(it);const xt=yt.glyphObj;yt.x+=te+Qe,Ne!==0&&xt.isWhitespace&&it<Oe-vt&&(Qe+=Ne,yt.width+=Ne)}}const me=e.getReorderSegments(v,Ae,We.glyphAt(0).charIndex,We.glyphAt(We.count-1).charIndex);for(let Qe=0;Qe<me.length;Qe++){const[it,yt]=me[Qe];let xt=1/0,tt=-1/0;for(let Lt=0;Lt<Oe;Lt++)if(We.glyphAt(Lt).charIndex>=it){let Yt=Lt,nn=Lt;for(;nn<Oe;nn++){let cn=We.glyphAt(nn);if(cn.charIndex>yt)break;nn<Oe-vt&&(xt=Math.min(xt,cn.x),tt=Math.max(tt,cn.x+cn.width))}for(let cn=Yt;cn<nn;cn++){const gi=We.glyphAt(cn);gi.x=tt-(gi.x+gi.width-xt)}break}}let Ee;const Ge=Qe=>Ee=Qe;for(let Qe=0;Qe<Oe;Qe++){const it=We.glyphAt(Qe);Ee=it.glyphObj;const yt=Ee.index,xt=Ae.levels[it.charIndex]&1;if(xt){const tt=e.getMirroredCharacter(v[it.charIndex]);tt&&it.fontData.fontObj.forEachGlyph(tt,0,0,Ge)}if(D){const{charIndex:tt,fontData:Lt}=it,Yt=it.x+he,nn=it.x+it.width+he;z[tt*4]=xt?nn:Yt,z[tt*4+1]=xt?Yt:nn,z[tt*4+2]=We.baseline+Lt.caretBottom+de,z[tt*4+3]=We.baseline+Lt.caretTop+de;const cn=tt-Ve;cn>1&&u(z,Ve,cn),Ve=tt}if(N){const{charIndex:tt}=it;for(;tt>Pe;)Pe++,N.hasOwnProperty(Pe)&&(st=N[Pe])}if(!Ee.isWhitespace&&!Ee.isEmpty){const tt=Te++,{fontSizeMult:Lt,src:Yt,index:nn}=it.fontData,cn=De[Yt]||(De[Yt]={});cn[yt]||(cn[yt]={path:Ee.path,pathBounds:[Ee.xMin,Ee.yMin,Ee.xMax,Ee.yMax]});const gi=it.x+he,Yi=it.y+We.baseline+de;ge[tt*2]=gi,ge[tt*2+1]=Yi;const Qn=gi+Ee.xMin*Lt,fr=Yi+Ee.yMin*Lt,Zn=gi+Ee.xMax*Lt,Ki=Yi+Ee.yMax*Lt;Qn<ne[0]&&(ne[0]=Qn),fr<ne[1]&&(ne[1]=fr),Zn>ne[2]&&(ne[2]=Zn),Ki>ne[3]&&(ne[3]=Ki),tt%G===0&&(ze={start:tt,end:tt,rect:[1/0,1/0,-1/0,-1/0]},pe.push(ze)),ze.end++;const Un=ze.rect;if(Qn<Un[0]&&(Un[0]=Qn),fr<Un[1]&&(Un[1]=fr),Zn>Un[2]&&(Un[2]=Zn),Ki>Un[3]&&(Un[3]=Ki),ie[tt]=yt,$[tt]=nn,N){const rs=tt*3;Ie[rs]=st>>16&255,Ie[rs+1]=st>>8&255,Ie[rs+2]=st&255}}}}}),z){const We=v.length-Ve;We>1&&u(z,Ve,We)}}const Je=[];Be.forEach(({index:Ae,src:Te,unitsPerEm:Ve,ascender:Pe,descender:ze,lineHeight:st,capHeight:We,xHeight:Le})=>{Je[Ae]={src:Te,unitsPerEm:Ve,ascender:Pe,descender:ze,lineHeight:st,capHeight:We,xHeight:Le}}),Z.typesetting=d()-ve,O({glyphIds:ie,glyphFontIndices:$,glyphPositions:ge,glyphData:De,fontData:Je,caretPositions:z,glyphColors:Ie,chunkedBounds:pe,fontSize:q,topBaseline:de+re[0].baseline,blockBounds:[he,de-ae,he+Me,de],visibleBounds:ne,timings:Z})})}function l(v,x){a({...v,metricsOnly:!0},_=>{const[g,q,A,M]=_.blockBounds;x({width:A-g,height:M-q})})}function c(v){let x=v.match(/^([\d.]+)%$/),_=x?parseFloat(x[1]):NaN;return isNaN(_)?0:_/100}function u(v,x,_){const g=v[x*4],q=v[x*4+1],A=v[x*4+2],M=v[x*4+3],C=(q-g)/_;for(let w=0;w<_;w++){const b=(x+w)*4;v[b]=g+C*w,v[b+1]=g+C*(w+1),v[b+2]=A,v[b+3]=M}}function d(){return(self.performance||Date).now()}function p(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return p.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(v){let x=p.flyweight;return x.data=this.data,x.index=v,x},splitAt(v){let x=new p;return x.data=this.data.splice(v*m.length),x}},p.flyweight=m.reduce((v,x,_,g)=>(Object.defineProperty(v,x,{get(){return this.data[this.index*m.length+_]},set(q){this.data[this.index*m.length+_]=q}}),v),{data:null,index:0}),{typeset:a,measure:l}}const Bl=()=>(self.performance||Date).now(),Am=gM();let G_;function oO(n,e,t,i,r,s,o,a,l,c,u=!0){return u?lO(n,e,t,i,r,s,o,a,l,c).then(null,d=>(G_||(console.warn("WebGL SDF generation failed, falling back to JS",d),G_=!0),V_(n,e,t,i,r,s,o,a,l,c))):V_(n,e,t,i,r,s,o,a,l,c)}const Jp=[],aO=5;let j5=0;function _M(){const n=Bl();for(;Jp.length&&Bl()-n<aO;)Jp.shift()();j5=Jp.length?setTimeout(_M,0):0}const lO=(...n)=>new Promise((e,t)=>{Jp.push(()=>{const i=Bl();try{Am.webgl.generateIntoCanvas(...n),e({timing:Bl()-i})}catch(r){t(r)}}),j5||(j5=setTimeout(_M,0))}),cO=4,uO=2e3,H_={};let hO=0;function V_(n,e,t,i,r,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+hO++%cO;let d=H_[u];return d||(d=H_[u]={workerModule:Zu({name:u,workerId:u,dependencies:[gM,Bl],init(p,m){const v=p().javascript.generate;return function(...x){const _=m();return{textureData:v(...x),timing:m()-_}}},getTransferables(p){return[p.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(n,e,t,i,r,s).then(({textureData:p,timing:m})=>{const v=Bl(),x=new Uint8Array(p.length*4);for(let _=0;_<p.length;_++)x[_*4+c]=p[_];return Am.webglUtils.renderImageData(o,x,a,l,n,e,1<<3-c),m+=Bl()-v,--d.requests===0&&(d.idleTimer=setTimeout(()=>{GF(u)},uO)),{timing:m}})}function fO(n){n._warm||(Am.webgl.isSupported(n),n._warm=!0)}const dO=Am.webglUtils.resizeWebGLCanvasWithoutClearing,Qc={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},pO=new Ke;function zc(){return(self.performance||Date).now()}const W_=Object.create(null);function yM(n,e){n=vO({},n);const t=zc(),{defaultFontURL:i}=Qc,r=[];if(i&&r.push({label:"default",src:X_(i)}),n.font&&r.push({label:"user",src:X_(n.font)}),n.font=r,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Qc.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||Qc.unicodeFontsURL,n.colorRanges!=null){let p={};for(let m in n.colorRanges)if(n.colorRanges.hasOwnProperty(m)){let v=n.colorRanges[m];typeof v!="number"&&(v=pO.set(v).getHex()),p[m]=v}n.colorRanges=p}Object.freeze(n);const{textureWidth:s,sdfExponent:o}=Qc,{sdfGlyphSize:a}=n,l=s/a*4;let c=W_[a];if(!c){const p=document.createElement("canvas");p.width=s,p.height=a*256/l,c=W_[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:p,sdfTexture:new ln(p,void 0,void 0,void 0,$t,$t),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,mO(c)}const{sdfTexture:u,sdfCanvas:d}=c;yO(n).then(p=>{const{glyphIds:m,glyphFontIndices:v,fontData:x,glyphPositions:_,fontSize:g,timings:q}=p,A=[],M=new Float32Array(m.length*4);let C=0,w=0;const b=zc(),P=x.map(U=>{let k=c.glyphsByFont.get(U.src);return k||c.glyphsByFont.set(U.src,k=new Map),k});m.forEach((U,k)=>{const Y=v[k],{src:X,unitsPerEm:ee}=x[Y];let D=P[Y].get(U);if(!D){const{path:Z,pathBounds:j}=p.glyphData[X][U],Q=Math.max(j[2]-j[0],j[3]-j[1])/a*(Qc.sdfMargin*a+.5),ie=c.glyphCount++,$=[j[0]-Q,j[1]-Q,j[2]+Q,j[3]+Q];P[Y].set(U,D={path:Z,atlasIndex:ie,sdfViewBox:$}),A.push(D)}const{sdfViewBox:G}=D,N=_[w++],O=_[w++],J=g/ee;M[C++]=N+G[0]*J,M[C++]=O+G[1]*J,M[C++]=N+G[2]*J,M[C++]=O+G[3]*J,m[k]=D.atlasIndex}),q.quads=(q.quads||0)+(zc()-b);const R=zc();q.sdf={};const T=d.height,F=Math.ceil(c.glyphCount/l),L=Math.pow(2,Math.ceil(Math.log2(F*a)));L>T&&(console.info(`Increasing SDF texture size ${T}->${L}`),dO(d,s,L),u.dispose()),Promise.all(A.map(U=>xM(U,c,n.gpuAccelerateSDF).then(({timing:k})=>{q.sdf[U.atlasIndex]=k}))).then(()=>{A.length&&!c.contextLost&&(qM(c),u.needsUpdate=!0),q.sdfTotal=zc()-R,q.total=zc()-t,e(Object.freeze({parameters:n,sdfTexture:u,sdfGlyphSize:a,sdfExponent:o,glyphBounds:M,glyphAtlasIndices:m,glyphColors:p.glyphColors,caretPositions:p.caretPositions,chunkedBounds:p.chunkedBounds,ascender:p.ascender,descender:p.descender,lineHeight:p.lineHeight,capHeight:p.capHeight,xHeight:p.xHeight,topBaseline:p.topBaseline,blockBounds:p.blockBounds,visibleBounds:p.visibleBounds,timings:p.timings}))})}),Promise.resolve().then(()=>{c.contextLost||fO(d)})}function xM({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Qc,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),d=u%(a/i)*i,p=Math.floor(u/(a/i))*i,m=e%4;return oO(i,i,n,t,c,l,r,d,p,m,o)}function mO(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(xM(s,n,!0))})}),Promise.all(i).then(()=>{qM(n),n.sdfTexture.needsUpdate=!0})})}function gO({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;yM({font:n,sdfGlyphSize:t,text:r},i)}function vO(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let yp;function X_(n){return yp||(yp=typeof document>"u"?{}:document.createElement("a")),yp.href=n,yp.href}function qM(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),t.image={width:i,height:r,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,o)}}const _O=Zu({name:"Typesetter",dependencies:[sO,rO,VF],init(n,e,t){return n(e,t())}}),yO=Zu({name:"Typesetter",dependencies:[_O],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}}),j_={};function xO(n){let e=j_[n];if(!e){const t=new bo(1,1,n,n),i=t.clone(),r=t.attributes,s=i.attributes,o=new At,a=r.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new ut([...r[l].array,...s[l].array],r[l].itemSize))}),o.setIndex([...t.index.array,...i.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=j_[n]=o}return e}const qO="aTroikaGlyphBounds",J_="aTroikaGlyphIndex",AO="aTroikaGlyphColor";class SO extends Ig{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Jn,this.boundingBox=new li}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===Pi?t/2:0,e===rr?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=xO(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,s){V3(this,qO,e,4),V3(this,J_,t,1),V3(this,AO,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=r/2,d=r*2,p=Math.abs(t),m=e[0]/p,v=e[2]/p,x=s((m+u)/d)!==s((v+u)/d)?-p:o(l(m)*p,l(v)*p),_=s((m-u)/d)!==s((v-u)/d)?p:a(l(m)*p,l(v)*p),g=s((m+r)/d)!==s((v+r)/d)?p*2:a(p-c(m)*p,p-c(v)*p);i.min.set(x,e[1],t<0?-g:0),i.max.set(_,e[3],t<0?0:g)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(J_).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function V3(n,e,t,i){const r=n.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(n.setAttribute(e,new Aa(t,i)),delete n._maxInstanceCount,n.dispose()):r&&n.deleteAttribute(e)}const MO=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,EO=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,wO=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,CO=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function TO(n){const e=X5(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Re},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new zt(0,0,0,0)},uTroikaClipRect:{value:new zt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Re},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Ke},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new wt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:MO,vertexTransform:EO,fragmentDefs:wO,fragmentColorTransform:CO,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(vM,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const Yg=new or({color:16777215,side:rr,transparent:!0}),Y_=8421504,K_=new ht,xp=new W,W3=new W,Wh=[],bO=new W,X3="+x+y";function Q_(n){return Array.isArray(n)?n[0]:n}let AM=()=>{const n=new fn(new bo(1,1),Yg);return AM=()=>n,n},SM=()=>{const n=new fn(new bo(1,1,32,1),Yg);return SM=()=>n,n};const RO={type:"syncstart"},PO={type:"synccomplete"},MM=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],BO=MM.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let EM=class extends fn{constructor(){const e=new SO;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Y_,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=X3,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(RO),yM({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(PO),e&&e()})))}onBeforeRender(e,t,i,r,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=qs}onAfterRender(e,t,i,r,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Yg.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=TO(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Q_(this.material).getDepthMaterial()}get customDistanceMaterial(){return Q_(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:a,blockBounds:l}=r;i.uTroikaSDFTexture.value=a,i.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(l),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let c=0,u=0,d=0,p,m,v,x=0,_=0;if(t){let{outlineWidth:q,outlineOffsetX:A,outlineOffsetY:M,outlineBlur:C,outlineOpacity:w}=this;c=this._parsePercent(q)||0,u=Math.max(0,this._parsePercent(C)||0),p=w,x=this._parsePercent(A)||0,_=this._parsePercent(M)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(v=this.strokeColor,i.uTroikaStrokeColor.value.set(v??Y_),m=this.strokeOpacity,m==null&&(m=1)),p=this.fillOpacity;i.uTroikaDistanceOffset.value=c,i.uTroikaPositionOffset.value.set(x,_),i.uTroikaBlurRadius.value=u,i.uTroikaStrokeWidth.value=d,i.uTroikaStrokeOpacity.value=m,i.uTroikaFillOpacity.value=p??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)i.uTroikaClipRect.value.fromArray(g);else{const q=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(l[0]-q,l[1]-q,l[2]+q,l[3]+q)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Ke;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||X3;if(o!==e._orientation){let a=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==X3&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,d,p]=l;xp.set(0,0,0)[u]=c==="-"?1:-1,W3.set(0,0,0)[p]=d==="-"?-1:1,K_.lookAt(bO,xp.cross(W3),W3),a.setFromMatrix4(K_)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Re){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new Re){return xp.copy(e),this.localPositionToTextCoords(this.worldToLocal(xp),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,o=r?SM():AM(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let d=s[0]+c.getX(u)*(s[2]-s[0]);const p=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;r&&(m=r-Math.cos(d/r)*r,d=Math.sin(d/r)*r),l.setXYZ(u,d,p,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Wh.length=0,o.raycast(e,Wh);for(let u=0;u<Wh.length;u++)Wh[u].object=this,t.push(Wh[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,BO.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};MM.forEach(n=>{const e="_private_"+n;Object.defineProperty(EM.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const IO=ue.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:o,onSync:a,...l},c)=>{const u=zn(({invalidate:v})=>v),[d]=ue.useState(()=>new EM),[p,m]=ue.useMemo(()=>{const v=[];let x="";return ue.Children.forEach(s,_=>{typeof _=="string"||typeof _=="number"?x+=_:v.push(_)}),[v,x]},[s]);return Og(()=>new Promise(v=>gO({font:i,characters:o},v)),["troika-text",i,o]),ue.useLayoutEffect(()=>void d.sync(()=>{u(),a&&a(d)})),ue.useEffect(()=>()=>d.dispose(),[d]),ue.createElement("primitive",Sa({object:d,ref:c,font:i,text:m,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},l),p)});let j3=null;async function LO(n){return typeof n=="string"?await(await fetch(n)).json():n}function DO(n){return j3||(j3=new IF),j3.parse(n)}async function wM(n){const e=await LO(n);return DO(e)}function Kg(n){return Og(wM,[n])}Kg.preload=n=>kS(wM,[n]);Kg.clear=n=>zS([n]);const UO=["string","number"],FO=n=>{let e="";const t=[];return ue.Children.forEach(n,i=>{UO.includes(typeof i)?e+=i+"":t.push(i)}),[e,...t]},OO=ue.forwardRef(({font:n,letterSpacing:e=0,lineHeight:t=1,size:i=1,height:r=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:c=4,curveSegments:u=8,smooth:d,children:p,...m},v)=>{ue.useMemo(()=>md({RenamedTextGeometry:RF}),[]);const x=ue.useRef(null),_=Kg(n),g=ue.useMemo(()=>({font:_,size:i,height:r,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:c,bevelOffset:l,curveSegments:u,letterSpacing:e,lineHeight:t}),[_,i,r,s,o,a,c,l,u,e,t]),[q,...A]=ue.useMemo(()=>FO(p),[p]),M=ue.useMemo(()=>[q,g],[q,g]);return ue.useLayoutEffect(()=>{d&&(x.current.geometry=jU(x.current.geometry,d),x.current.geometry.computeVertexNormals())},[M,d]),ue.useImperativeHandle(v,()=>x.current,[]),ue.createElement("mesh",Sa({},m,{ref:x}),ue.createElement("renamedTextGeometry",{args:M}),A)}),NO=()=>parseInt(Gu.replace(/\D+/g,"")),kO=NO();let qp=null,CM="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function TM(n,e,t){return i=>{t&&t(i),n&&(qp||(qp=new UF),qp.setDecoderPath(typeof n=="string"?n:CM),i.setDRACOLoader(qp)),e&&i.setMeshoptDecoder(typeof G3=="function"?G3():G3)}}function gn(n,e=!0,t=!0,i){return $l(Xg,n,TM(e,t,i))}gn.preload=(n,e=!0,t=!0,i)=>$l.preload(Xg,n,TM(e,t,i));gn.clear=n=>$l.clear(Xg,n);gn.setDecoderPath=n=>{CM=n};/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const xn={LEFT:1,RIGHT:2,MIDDLE:4},be=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Gc={NONE:0,IN:1,OUT:-1};function ll(n){return n.isPerspectiveCamera}function Ko(n){return n.isOrthographicCamera}const Hc=Math.PI*2,Z_=Math.PI/2,bM=1e-5,Xh=Math.PI/180;function hs(n,e,t){return Math.max(e,Math.min(t,n))}function rn(n,e=bM){return Math.abs(n)<e}function Jt(n,e,t=bM){return rn(n-e,t)}function $_(n,e){return Math.round(n/e)*e}function jh(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Jh(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function Ap(n,e,t,i,r=1/0,s){i=Math.max(1e-4,i);const o=2/i,a=o*s,l=1/(1+a+.48*a*a+.235*a*a*a);let c=n-e;const u=e,d=r*i;c=hs(c,-d,d),e=n-c;const p=(t.value+o*c)*s;t.value=(t.value-o*p)*l;let m=e+(c+p)*l;return u-n>0==m>u&&(m=u,t.value=(m-u)/s),m}function ey(n,e,t,i,r=1/0,s,o){i=Math.max(1e-4,i);const a=2/i,l=a*s,c=1/(1+l+.48*l*l+.235*l*l*l);let u=e.x,d=e.y,p=e.z,m=n.x-u,v=n.y-d,x=n.z-p;const _=u,g=d,q=p,A=r*i,M=A*A,C=m*m+v*v+x*x;if(C>M){const Y=Math.sqrt(C);m=m/Y*A,v=v/Y*A,x=x/Y*A}u=n.x-m,d=n.y-v,p=n.z-x;const w=(t.x+a*m)*s,b=(t.y+a*v)*s,P=(t.z+a*x)*s;t.x=(t.x-a*w)*c,t.y=(t.y-a*b)*c,t.z=(t.z-a*P)*c,o.x=u+(m+w)*c,o.y=d+(v+b)*c,o.z=p+(x+P)*c;const R=_-n.x,T=g-n.y,F=q-n.z,L=o.x-_,U=o.y-g,k=o.z-q;return R*L+T*U+F*k>0&&(o.x=_,o.y=g,o.z=q,t.x=(o.x-_)/s,t.y=(o.y-g)/s,t.z=(o.z-q)/s),o}function J3(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function Y3(n,e){return Ko(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class zO{constructor(){this._listeners={}}addEventListener(e,t){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e)}}}var K3;const GO="2.8.4",Sp=1/8,HO=/Mac/.test((K3=globalThis==null?void 0:globalThis.navigator)===null||K3===void 0?void 0:K3.platform);let _t,ty,Mp,Q3,tr,Pt,Xt,Vc,Yh,Is,Ls,cl,ny,iy,Wr,Kh,Wc,ry,Z3,sy,$3,e4,Ep,t4=class J5 extends zO{static install(e){_t=e.THREE,ty=Object.freeze(new _t.Vector3(0,0,0)),Mp=Object.freeze(new _t.Vector3(0,1,0)),Q3=Object.freeze(new _t.Vector3(0,0,1)),tr=new _t.Vector2,Pt=new _t.Vector3,Xt=new _t.Vector3,Vc=new _t.Vector3,Yh=new _t.Vector3,Is=new _t.Vector3,Ls=new _t.Vector3,cl=new _t.Vector3,ny=new _t.Vector3,iy=new _t.Vector3,Wr=new _t.Spherical,Kh=new _t.Spherical,Wc=new _t.Box3,ry=new _t.Box3,Z3=new _t.Sphere,sy=new _t.Quaternion,$3=new _t.Quaternion,e4=new _t.Matrix4,Ep=new _t.Raycaster}static get ACTION(){return be}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=be.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Gc.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new _t.Vector3,this._focalOffsetVelocity=new _t.Vector3,this._zoomVelocity={value:0},this._truckInternal=(g,q,A)=>{let M,C;if(ll(this._camera)){const w=Pt.copy(this._camera.position).sub(this._target),b=this._camera.getEffectiveFOV()*Xh,P=w.length()*Math.tan(b*.5);M=this.truckSpeed*g*P/this._elementRect.height,C=this.truckSpeed*q*P/this._elementRect.height}else if(Ko(this._camera)){const w=this._camera;M=g*(w.right-w.left)/w.zoom/this._elementRect.width,C=q*(w.top-w.bottom)/w.zoom/this._elementRect.height}else return;this.verticalDragToForward?(A?this.setFocalOffset(this._focalOffsetEnd.x+M,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(M,0,!0),this.forward(-C,!0)):A?this.setFocalOffset(this._focalOffsetEnd.x+M,this._focalOffsetEnd.y+C,this._focalOffsetEnd.z,!0):this.truck(M,C,!0)},this._rotateInternal=(g,q)=>{const A=Hc*this.azimuthRotateSpeed*g/this._elementRect.height,M=Hc*this.polarRotateSpeed*q/this._elementRect.height;this.rotate(A,M,!0)},this._dollyInternal=(g,q,A)=>{const M=Math.pow(.95,-g*this.dollySpeed),C=this._sphericalEnd.radius,w=this._sphericalEnd.radius*M,b=hs(w,this.minDistance,this.maxDistance),P=b-w;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(w,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(P,!0),this._dollyToNoClamp(b,!0)):this._dollyToNoClamp(b,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?w:b)-C,this._dollyControlCoord.set(q,A)),this._lastDollyDirection=Math.sign(-g)},this._zoomInternal=(g,q,A)=>{const M=Math.pow(.95,g*this.dollySpeed),C=this._zoom,w=this._zoom*M;this.zoomTo(w,!0),this.dollyToCursor&&(this._changedZoom+=w-C,this._dollyControlCoord.set(q,A))},typeof _t>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new _t.Quaternion().setFromUnitVectors(this._camera.up,Mp),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=be.NONE,this._target=new _t.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new _t.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new _t.Spherical().setFromVector3(Pt.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new _t.Vector3,new _t.Vector3,new _t.Vector3,new _t.Vector3],this._updateNearPlaneCorners(),this._boundary=new _t.Box3(new _t.Vector3(-1/0,-1/0,-1/0),new _t.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new _t.Vector2,this.mouseButtons={left:be.ROTATE,middle:be.DOLLY,right:be.TRUCK,wheel:ll(this._camera)?be.DOLLY:Ko(this._camera)?be.ZOOM:be.NONE},this.touches={one:be.TOUCH_ROTATE,two:ll(this._camera)?be.TOUCH_DOLLY_TRUCK:Ko(this._camera)?be.TOUCH_ZOOM_TRUCK:be.NONE,three:be.TOUCH_TRUCK};const i=new _t.Vector2,r=new _t.Vector2,s=new _t.Vector2,o=g=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),C=g.clientX/M.width,w=g.clientY/M.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||w<this._interactiveArea.top||w>this._interactiveArea.bottom)return}const q=g.pointerType!=="mouse"?null:(g.buttons&xn.LEFT)===xn.LEFT?xn.LEFT:(g.buttons&xn.MIDDLE)===xn.MIDDLE?xn.MIDDLE:(g.buttons&xn.RIGHT)===xn.RIGHT?xn.RIGHT:null;if(q!==null){const M=this._findPointerByMouseButton(q);M&&this._disposePointer(M)}if((g.buttons&xn.LEFT)===xn.LEFT&&this._lockedPointer)return;const A={pointerId:g.pointerId,clientX:g.clientX,clientY:g.clientY,deltaX:0,deltaY:0,mouseButton:q};this._activePointers.push(A),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),this._isDragging=!0,p(g)},a=g=>{g.cancelable&&g.preventDefault();const q=g.pointerId,A=this._lockedPointer||this._findPointerById(q);if(A){if(A.clientX=g.clientX,A.clientY=g.clientY,A.deltaX=g.movementX,A.deltaY=g.movementY,this._state=0,g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(g.buttons&xn.LEFT)===xn.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(g.buttons&xn.MIDDLE)===xn.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(g.buttons&xn.RIGHT)===xn.RIGHT&&(this._state=this._state|this.mouseButtons.right);m()}},l=g=>{const q=this._findPointerById(g.pointerId);if(!(q&&q===this._lockedPointer)){if(q&&this._disposePointer(q),g.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=be.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=be.NONE;v()}};let c=-1;const u=g=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===be.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const w=this._domElement.getBoundingClientRect(),b=g.clientX/w.width,P=g.clientY/w.height;if(b<this._interactiveArea.left||b>this._interactiveArea.right||P<this._interactiveArea.top||P>this._interactiveArea.bottom)return}if(g.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===be.ROTATE||this.mouseButtons.wheel===be.TRUCK){const w=performance.now();c-w<1e3&&this._getClientRect(this._elementRect),c=w}const q=HO?-1:-3,A=g.deltaMode===1?g.deltaY/q:g.deltaY/(q*10),M=this.dollyToCursor?(g.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,C=this.dollyToCursor?(g.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case be.ROTATE:{this._rotateInternal(g.deltaX,g.deltaY),this._isUserControllingRotate=!0;break}case be.TRUCK:{this._truckInternal(g.deltaX,g.deltaY,!1),this._isUserControllingTruck=!0;break}case be.OFFSET:{this._truckInternal(g.deltaX,g.deltaY,!0),this._isUserControllingOffset=!0;break}case be.DOLLY:{this._dollyInternal(-A,M,C),this._isUserControllingDolly=!0;break}case be.ZOOM:{this._zoomInternal(-A,M,C),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},d=g=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===J5.ACTION.NONE){const q=g instanceof PointerEvent?g.pointerId:0,A=this._findPointerById(q);A&&this._disposePointer(A),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l);return}g.preventDefault()}},p=g=>{if(!this._enabled)return;if(J3(this._activePointers,tr),this._getClientRect(this._elementRect),i.copy(tr),r.copy(tr),this._activePointers.length>=2){const A=tr.x-this._activePointers[1].clientX,M=tr.y-this._activePointers[1].clientY,C=Math.sqrt(A*A+M*M);s.set(0,C);const w=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,b=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(w,b)}if(this._state=0,!g)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in g&&g.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(g.buttons&xn.LEFT)===xn.LEFT&&(this._state=this._state|this.mouseButtons.left),(g.buttons&xn.MIDDLE)===xn.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(g.buttons&xn.RIGHT)===xn.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&be.ROTATE)===be.ROTATE||(this._state&be.TOUCH_ROTATE)===be.TOUCH_ROTATE||(this._state&be.TOUCH_DOLLY_ROTATE)===be.TOUCH_DOLLY_ROTATE||(this._state&be.TOUCH_ZOOM_ROTATE)===be.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&be.TRUCK)===be.TRUCK||(this._state&be.TOUCH_TRUCK)===be.TOUCH_TRUCK||(this._state&be.TOUCH_DOLLY_TRUCK)===be.TOUCH_DOLLY_TRUCK||(this._state&be.TOUCH_ZOOM_TRUCK)===be.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&be.DOLLY)===be.DOLLY||(this._state&be.TOUCH_DOLLY)===be.TOUCH_DOLLY||(this._state&be.TOUCH_DOLLY_TRUCK)===be.TOUCH_DOLLY_TRUCK||(this._state&be.TOUCH_DOLLY_OFFSET)===be.TOUCH_DOLLY_OFFSET||(this._state&be.TOUCH_DOLLY_ROTATE)===be.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&be.ZOOM)===be.ZOOM||(this._state&be.TOUCH_ZOOM)===be.TOUCH_ZOOM||(this._state&be.TOUCH_ZOOM_TRUCK)===be.TOUCH_ZOOM_TRUCK||(this._state&be.TOUCH_ZOOM_OFFSET)===be.TOUCH_ZOOM_OFFSET||(this._state&be.TOUCH_ZOOM_ROTATE)===be.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&be.OFFSET)===be.OFFSET||(this._state&be.TOUCH_OFFSET)===be.TOUCH_OFFSET||(this._state&be.TOUCH_DOLLY_OFFSET)===be.TOUCH_DOLLY_OFFSET||(this._state&be.TOUCH_ZOOM_OFFSET)===be.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},m=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,J3(this._activePointers,tr);const q=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,A=q?-q.deltaX:r.x-tr.x,M=q?-q.deltaY:r.y-tr.y;if(r.copy(tr),((this._state&be.ROTATE)===be.ROTATE||(this._state&be.TOUCH_ROTATE)===be.TOUCH_ROTATE||(this._state&be.TOUCH_DOLLY_ROTATE)===be.TOUCH_DOLLY_ROTATE||(this._state&be.TOUCH_ZOOM_ROTATE)===be.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(A,M),this._isUserControllingRotate=!0),(this._state&be.DOLLY)===be.DOLLY||(this._state&be.ZOOM)===be.ZOOM){const C=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,w=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0,b=this.dollyDragInverted?-1:1;(this._state&be.DOLLY)===be.DOLLY?(this._dollyInternal(b*M*Sp,C,w),this._isUserControllingDolly=!0):(this._zoomInternal(b*M*Sp,C,w),this._isUserControllingZoom=!0)}if((this._state&be.TOUCH_DOLLY)===be.TOUCH_DOLLY||(this._state&be.TOUCH_ZOOM)===be.TOUCH_ZOOM||(this._state&be.TOUCH_DOLLY_TRUCK)===be.TOUCH_DOLLY_TRUCK||(this._state&be.TOUCH_ZOOM_TRUCK)===be.TOUCH_ZOOM_TRUCK||(this._state&be.TOUCH_DOLLY_OFFSET)===be.TOUCH_DOLLY_OFFSET||(this._state&be.TOUCH_ZOOM_OFFSET)===be.TOUCH_ZOOM_OFFSET||(this._state&be.TOUCH_DOLLY_ROTATE)===be.TOUCH_DOLLY_ROTATE||(this._state&be.TOUCH_ZOOM_ROTATE)===be.TOUCH_ZOOM_ROTATE){const C=tr.x-this._activePointers[1].clientX,w=tr.y-this._activePointers[1].clientY,b=Math.sqrt(C*C+w*w),P=s.y-b;s.set(0,b);const R=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&be.TOUCH_DOLLY)===be.TOUCH_DOLLY||(this._state&be.TOUCH_DOLLY_ROTATE)===be.TOUCH_DOLLY_ROTATE||(this._state&be.TOUCH_DOLLY_TRUCK)===be.TOUCH_DOLLY_TRUCK||(this._state&be.TOUCH_DOLLY_OFFSET)===be.TOUCH_DOLLY_OFFSET?(this._dollyInternal(P*Sp,R,T),this._isUserControllingDolly=!0):(this._zoomInternal(P*Sp,R,T),this._isUserControllingZoom=!0)}((this._state&be.TRUCK)===be.TRUCK||(this._state&be.TOUCH_TRUCK)===be.TOUCH_TRUCK||(this._state&be.TOUCH_DOLLY_TRUCK)===be.TOUCH_DOLLY_TRUCK||(this._state&be.TOUCH_ZOOM_TRUCK)===be.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(A,M,!1),this._isUserControllingTruck=!0),((this._state&be.OFFSET)===be.OFFSET||(this._state&be.TOUCH_OFFSET)===be.TOUCH_OFFSET||(this._state&be.TOUCH_DOLLY_OFFSET)===be.TOUCH_DOLLY_OFFSET||(this._state&be.TOUCH_ZOOM_OFFSET)===be.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(A,M,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},v=()=>{J3(this._activePointers,tr),r.copy(tr),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",x),this._domElement.ownerDocument.addEventListener("pointerlockerror",_),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),p())},this.unlockPointer=()=>{var g,q,A;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(g=this._domElement)===null||g===void 0||g.ownerDocument.exitPointerLock(),(q=this._domElement)===null||q===void 0||q.ownerDocument.removeEventListener("pointerlockchange",x),(A=this._domElement)===null||A===void 0||A.ownerDocument.removeEventListener("pointerlockerror",_),this.cancel()};const x=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},_=()=>{this.unlockPointer()};this._addAllEventListeners=g=>{this._domElement=g,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),this._domElement.addEventListener("pointercancel",l),this._domElement.addEventListener("wheel",u,{passive:!1}),this._domElement.addEventListener("contextmenu",d)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("pointercancel",l),this._domElement.removeEventListener("wheel",u,{passive:!1}),this._domElement.removeEventListener("contextmenu",d),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.removeEventListener("pointerlockchange",x),this._domElement.ownerDocument.removeEventListener("pointerlockerror",_))},this.cancel=()=>{this._state!==be.NONE&&(this._state=be.NONE,this._activePointers.length=0,v())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=hs(e.width,0,1),this._interactiveArea.height=hs(e.height,0,1),this._interactiveArea.x=hs(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=hs(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,i=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,i)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,i=!1){this._isUserControllingRotate=!1;const r=hs(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=hs(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!i||Jt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Jt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Gc.NONE,this._changedDolly=0,this._dollyToNoClamp(hs(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=Jt(o,this._spherical.radius);if(!(i>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const s=!t||Jt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(Yh).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const i=!t||Jt(this._target.x,this._targetEnd.x,this.restThreshold)&&Jt(this._target.y,this._targetEnd.y,this.restThreshold)&&Jt(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=hs(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const i=!t||Jt(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(e,t,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,i)}truck(e,t,i=!1){this._camera.updateMatrix(),Is.setFromMatrixColumn(this._camera.matrix,0),Ls.setFromMatrixColumn(this._camera.matrix,1),Is.multiplyScalar(e),Ls.multiplyScalar(-t);const r=Pt.copy(Is).add(Ls),s=Xt.copy(this._targetEnd).add(r);return this.moveTo(s.x,s.y,s.z,i)}forward(e,t=!1){Pt.setFromMatrixColumn(this._camera.matrix,0),Pt.crossVectors(this._camera.up,Pt),Pt.multiplyScalar(e);const i=Xt.copy(this._targetEnd).add(Pt);return this.moveTo(i.x,i.y,i.z,t)}elevate(e,t=!1){return Pt.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Pt.x,this._targetEnd.y+Pt.y,this._targetEnd.z+Pt.z,t)}moveTo(e,t,i,r=!1){this._isUserControllingTruck=!1;const s=Pt.set(e,t,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const o=!r||Jt(this._target.x,this._targetEnd.x,this.restThreshold)&&Jt(this._target.y,this._targetEnd.y,this.restThreshold)&&Jt(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,i,r=!1){const a=Pt.set(e,t,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(a.x,a.y,a.z,r)}fitToBox(e,t,{cover:i=!1,paddingLeft:r=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const l=[],c=e.isBox3?Wc.copy(e):Wc.setFromObject(e);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const u=$_(this._sphericalEnd.theta,Z_),d=$_(this._sphericalEnd.phi,Z_);l.push(this.rotateTo(u,d,t));const p=Pt.setFromSpherical(this._sphericalEnd).normalize(),m=sy.setFromUnitVectors(p,Q3),v=Jt(Math.abs(p.y),1);v&&m.multiply($3.setFromAxisAngle(Mp,u)),m.multiply(this._yAxisUpSpaceInverse);const x=ry.makeEmpty();Xt.copy(c.min).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.min).setX(c.max.x).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.min).setY(c.max.y).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.max).setZ(c.min.z).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.min).setZ(c.max.z).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.max).setY(c.min.y).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.max).setX(c.min.x).applyQuaternion(m),x.expandByPoint(Xt),Xt.copy(c.max).applyQuaternion(m),x.expandByPoint(Xt),x.min.x-=r,x.min.y-=o,x.max.x+=s,x.max.y+=a,m.setFromUnitVectors(Q3,p),v&&m.premultiply($3.invert()),m.premultiply(this._yAxisUpSpace);const _=x.getSize(Pt),g=x.getCenter(Xt).applyQuaternion(m);if(ll(this._camera)){const q=this.getDistanceToFitBox(_.x,_.y,_.z,i);l.push(this.moveTo(g.x,g.y,g.z,t)),l.push(this.dollyTo(q,t)),l.push(this.setFocalOffset(0,0,0,t))}else if(Ko(this._camera)){const q=this._camera,A=q.right-q.left,M=q.top-q.bottom,C=i?Math.max(A/_.x,M/_.y):Math.min(A/_.x,M/_.y);l.push(this.moveTo(g.x,g.y,g.z,t)),l.push(this.zoomTo(C,t)),l.push(this.setFocalOffset(0,0,0,t))}return Promise.all(l)}fitToSphere(e,t){const i=[],s="isSphere"in e?Z3.copy(e):J5.createBoundingSphere(e,Z3);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,t)),ll(this._camera)){const o=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(o,t))}else if(Ko(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*s.radius,c=Math.min(o/l,a/l);i.push(this.zoomTo(c,t))}return i.push(this.setFocalOffset(0,0,0,t)),Promise.all(i)}setLookAt(e,t,i,r,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Gc.NONE,this._changedDolly=0;const l=Xt.set(r,s,o),c=Pt.set(e,t,i);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(c.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!a||Jt(this._target.x,this._targetEnd.x,this.restThreshold)&&Jt(this._target.y,this._targetEnd.y,this.restThreshold)&&Jt(this._target.z,this._targetEnd.z,this.restThreshold)&&Jt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Jt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Jt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,t,i,r,s,o,a,l,c,u,d,p,m,v=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Gc.NONE,this._changedDolly=0;const x=Pt.set(r,s,o),_=Xt.set(e,t,i);Wr.setFromVector3(_.sub(x).applyQuaternion(this._yAxisUpSpace));const g=Vc.set(u,d,p),q=Xt.set(a,l,c);Kh.setFromVector3(q.sub(g).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(x.lerp(g,m));const A=Kh.theta-Wr.theta,M=Kh.phi-Wr.phi,C=Kh.radius-Wr.radius;this._sphericalEnd.set(Wr.radius+C*m,Wr.phi+M*m,Wr.theta+A*m),this.normalizeRotations(),this._needsUpdate=!0,v||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const w=!v||Jt(this._target.x,this._targetEnd.x,this.restThreshold)&&Jt(this._target.y,this._targetEnd.y,this.restThreshold)&&Jt(this._target.z,this._targetEnd.z,this.restThreshold)&&Jt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Jt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Jt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(w)}setPosition(e,t,i,r=!1){return this.setLookAt(e,t,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,i,r=!1){const s=this.getPosition(Pt),o=this.setLookAt(s.x,s.y,s.z,e,t,i,r);return this._sphericalEnd.phi=hs(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,i,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const s=!r||Jt(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Jt(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Jt(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,i){this._camera.updateMatrixWorld(),Is.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Ls.setFromMatrixColumn(this._camera.matrixWorldInverse,1),cl.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Pt.set(e,t,i),s=r.distanceTo(this._camera.position),o=r.sub(this._camera.position);Is.multiplyScalar(o.x),Ls.multiplyScalar(o.y),cl.multiplyScalar(o.z),Pt.copy(Is).add(Ls).add(cl),Pt.z=Pt.z+s,this.dollyTo(s,!1),this.setFocalOffset(-Pt.x,Pt.y,-Pt.z,!1),this.moveTo(e,t,i,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,i,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new _t.Vector4,typeof e=="number"?this._viewport.set(e,t,i,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,i,r=!1){if(Y3(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,o=this._camera.getEffectiveFOV()*Xh,a=this._camera.aspect;return((r?s>a:s<a)?t:e/a)*.5/Math.tan(o*.5)+i*.5}getDistanceToFitSphere(e){if(Y3(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*Xh,i=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:i;return e/Math.sin(r*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new _t.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new _t.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new _t.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new _t.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Hc,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Hc),this._spherical.theta+=Hc*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Hc)}reset(e=!1){if(!Jt(this._camera.up.x,this._cameraUp0.x)||!Jt(this._camera.up.y,this._cameraUp0.y)||!Jt(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const i=this.getPosition(Pt);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Mp),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Pt.subVectors(this._target,this._camera.position).normalize(),t=Xt.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const i=this.getPosition(Pt);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,s=ny.subVectors(this._targetEnd,this._target),o=iy.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(rn(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const d=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Ap(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,d,1/0,e),this._needsUpdate=!0}if(rn(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const d=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Ap(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,d,1/0,e),this._needsUpdate=!0}if(rn(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const d=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Ap(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,d,this.maxSpeed,e),this._needsUpdate=!0}if(rn(s.x)&&rn(s.y)&&rn(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const d=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;ey(this._target,this._targetEnd,this._targetVelocity,d,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(rn(o.x)&&rn(o.y)&&rn(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const d=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;ey(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,d,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(rn(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const d=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Ap(this._zoom,this._zoomEnd,this._zoomVelocity,d,1/0,e)}if(this.dollyToCursor){if(ll(this._camera)&&this._changedDolly!==0){const d=this._spherical.radius-this._lastDistance,p=this._camera,m=this._getCameraDirection(Yh),v=Pt.copy(m).cross(p.up).normalize();v.lengthSq()===0&&(v.x=1);const x=Xt.crossVectors(v,m),_=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*Xh*.5),q=(this._sphericalEnd.radius-d-this._sphericalEnd.radius)/this._sphericalEnd.radius,A=Vc.copy(this._targetEnd).add(v.multiplyScalar(this._dollyControlCoord.x*_*p.aspect)).add(x.multiplyScalar(this._dollyControlCoord.y*_)),M=Pt.copy(this._targetEnd).lerp(A,q),C=this._lastDollyDirection===Gc.IN&&this._spherical.radius<=this.minDistance,w=this._lastDollyDirection===Gc.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(C||w)){this._sphericalEnd.radius-=d,this._spherical.radius-=d;const P=Xt.copy(m).multiplyScalar(-d);M.add(P)}this._boundary.clampPoint(M,M);const b=Xt.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(b),this._changedDolly-=d,rn(this._changedDolly)&&(this._changedDolly=0)}else if(Ko(this._camera)&&this._changedZoom!==0){const d=this._zoom-this._lastZoom,p=this._camera,m=Pt.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.near+p.far)/(p.near-p.far)).unproject(p),v=Xt.set(0,0,-1).applyQuaternion(p.quaternion),x=Vc.copy(m).add(v.multiplyScalar(-m.dot(p.up))),g=-(this._zoom-d-this._zoom)/this._zoom,q=this._getCameraDirection(Yh),A=this._targetEnd.dot(q),M=Pt.copy(this._targetEnd).lerp(x,g),C=M.dot(q),w=q.multiplyScalar(C-A);M.sub(w),this._boundary.clampPoint(M,M);const b=Xt.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(b),this._changedZoom-=d,rn(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const l=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,l),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!rn(this._focalOffset.x)||!rn(this._focalOffset.y)||!rn(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Is.setFromMatrixColumn(this._camera.matrix,0),Ls.setFromMatrixColumn(this._camera.matrix,1),cl.setFromMatrixColumn(this._camera.matrix,2),Is.multiplyScalar(this._focalOffset.x),Ls.multiplyScalar(-this._focalOffset.y),cl.multiplyScalar(this._focalOffset.z),Pt.copy(Is).add(Ls).add(cl),this._camera.position.add(Pt)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Pt.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),rn(t,this.restThreshold)&&rn(i,this.restThreshold)&&rn(r,this.restThreshold)&&rn(s.x,this.restThreshold)&&rn(s.y,this.restThreshold)&&rn(s.z,this.restThreshold)&&rn(o.x,this.restThreshold)&&rn(o.y,this.restThreshold)&&rn(o.z,this.restThreshold)&&rn(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:jh(this.maxDistance),minZoom:this.minZoom,maxZoom:jh(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:jh(this.maxPolarAngle),minAzimuthAngle:jh(this.minAzimuthAngle),maxAzimuthAngle:jh(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:Pt.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const i=JSON.parse(e);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=Jh(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=Jh(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=Jh(i.maxPolarAngle),this.minAzimuthAngle=Jh(i.minAzimuthAngle),this.maxAzimuthAngle=Jh(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this.verticalDragToForward=i.verticalDragToForward,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],t),Wr.setFromVector3(Pt.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Wr.theta,Wr.phi,t),this.dollyTo(Wr.radius,t),this.zoomTo(i.zoom,t),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",GO),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,i){const r=t.lengthSq();if(r===0)return e;const s=Xt.copy(t).add(e),a=this._boundary.clampPoint(s,Vc).sub(s),l=a.lengthSq();if(l===0)return e.add(t);if(l===r)return e;if(i===0)return e.add(t).add(a);{const c=1+i*l/t.dot(a);return e.add(Xt.copy(t).multiplyScalar(c)).add(a.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(ll(this._camera)){const e=this._camera,t=e.near,i=e.getEffectiveFOV()*Xh,r=Math.tan(i*.5)*t,s=r*e.aspect;this._nearPlaneCorners[0].set(-s,-r,0),this._nearPlaneCorners[1].set(s,-r,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(-s,r,0)}else if(Ko(this._camera)){const e=this._camera,t=1/e.zoom,i=e.left*t,r=e.right*t,s=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(i,s,0),this._nearPlaneCorners[1].set(r,s,0),this._nearPlaneCorners[2].set(r,o,0),this._nearPlaneCorners[3].set(i,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||Y3(this._camera,"_collisionTest"))return e;const i=this._getTargetDirection(Yh);e4.lookAt(ty,i,this._camera.up);for(let r=0;r<4;r++){const s=Xt.copy(this._nearPlaneCorners[r]);s.applyMatrix4(e4);const o=Vc.addVectors(this._target,s);Ep.set(o,i),Ep.far=this._spherical.radius+1;const a=Ep.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const i=()=>{this.removeEventListener("rest",i),t()};this.addEventListener("rest",i)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new _t.Sphere){const i=t,r=i.center;Wc.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Wc.expandByObject(o)}),Wc.getCenter(r);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,l=a.geometry.clone();l.applyMatrix4(a.matrixWorld);const u=l.attributes.position;for(let d=0,p=u.count;d<p;d++)Pt.fromBufferAttribute(u,d),s=Math.max(s,r.distanceToSquared(Pt))}),i.radius=Math.sqrt(s),i}};const VO=ue.forwardRef((n,e)=>{ue.useMemo(()=>{const C={Box3:li,MathUtils:{clamp:og.clamp},Matrix4:ht,Quaternion:ai,Raycaster:_m,Sphere:Jn,Spherical:PS,Vector2:Re,Vector3:W,Vector4:zt};t4.install({THREE:C}),md({CameraControlsImpl:t4})},[]);const{camera:t,domElement:i,makeDefault:r,onStart:s,onEnd:o,onChange:a,regress:l,...c}=n,u=zn(C=>C.camera),d=zn(C=>C.gl),p=zn(C=>C.invalidate),m=zn(C=>C.events),v=zn(C=>C.setEvents),x=zn(C=>C.set),_=zn(C=>C.get),g=zn(C=>C.performance),q=t||u,A=i||m.connected||d.domElement,M=ue.useMemo(()=>new t4(q),[q]);return Qu((C,w)=>{M.enabled&&M.update(w)},-1),ue.useEffect(()=>(M.connect(A),()=>void M.disconnect()),[A,M]),ue.useEffect(()=>{const C=P=>{p(),l&&g.regress(),a&&a(P)},w=P=>{s&&s(P)},b=P=>{o&&o(P)};return M.addEventListener("update",C),M.addEventListener("controlstart",w),M.addEventListener("controlend",b),M.addEventListener("control",C),M.addEventListener("transitionstart",C),M.addEventListener("wake",C),()=>{M.removeEventListener("update",C),M.removeEventListener("controlstart",w),M.removeEventListener("controlend",b),M.removeEventListener("control",C),M.removeEventListener("transitionstart",C),M.removeEventListener("wake",C)}},[M,s,o,p,v,l,a]),ue.useEffect(()=>{if(r){const C=_().controls;return x({controls:M}),()=>x({controls:C})}},[r,M]),ue.createElement("primitive",Sa({ref:e,object:M},c))});class WO extends ns{constructor(e=new Re){super({uniforms:{inputBuffer:new Ti(null),depthBuffer:new Ti(null),resolution:new Ti(new Re),texelSize:new Ti(new Re),halfTexelSize:new Ti(new Re),kernel:new Ti(0),scale:new Ti(1),cameraNear:new Ti(0),cameraFar:new Ti(1),minDepthThreshold:new Ti(0),maxDepthThreshold:new Ti(1),depthScale:new Ti(0),depthToBlurRatioBias:new Ti(.25)},fragmentShader:`#include <common>
        #include <dithering_pars_fragment>      
        uniform sampler2D inputBuffer;
        uniform sampler2D depthBuffer;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          float depthFactor = 0.0;
          
          #ifdef USE_DEPTH
            vec4 depth = texture2D(depthBuffer, vUv);
            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
            depthFactor *= depthScale;
            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));
          #endif
          
          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));
          gl_FragColor = sum * 0.25 ;

          #include <dithering_fragment>
          #include <tonemapping_fragment>
          #include <${kO>=154?"colorspace_fragment":"encodings_fragment"}>
        }`,vertexShader:`uniform vec2 texelSize;
        uniform vec2 halfTexelSize;
        uniform float kernel;
        uniform float scale;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          vec2 uv = position.xy * 0.5 + 0.5;
          vUv = uv;

          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;
          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);
          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);
          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);
          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);

          gl_Position = vec4(position.xy, 1.0, 1.0);
        }`,blending:ks,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(e.x,e.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setResolution(e){this.uniforms.resolution.value.copy(e)}}class XO{constructor({gl:e,resolution:t,width:i=500,height:r=500,minDepthThreshold:s=0,maxDepthThreshold:o=1,depthScale:a=0,depthToBlurRatioBias:l=.25}){this.renderToScreen=!1,this.renderTargetA=new ur(t,t,{minFilter:$t,magFilter:$t,stencilBuffer:!1,depthBuffer:!1,type:Jl}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new WO,this.convolutionMaterial.setTexelSize(1/i,1/r),this.convolutionMaterial.setResolution(new Re(i,r)),this.scene=new Jf,this.camera=new Wu,this.convolutionMaterial.uniforms.minDepthThreshold.value=s,this.convolutionMaterial.uniforms.maxDepthThreshold.value=o,this.convolutionMaterial.uniforms.depthScale.value=a,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=l,this.convolutionMaterial.defines.USE_DEPTH=a>0;const c=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),u=new Float32Array([0,0,2,0,0,2]),d=new At;d.setAttribute("position",new Ut(c,3)),d.setAttribute("uv",new Ut(u,2)),this.screen=new fn(d,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(e,t,i){const r=this.scene,s=this.camera,o=this.renderTargetA,a=this.renderTargetB;let l=this.convolutionMaterial,c=l.uniforms;c.depthBuffer.value=t.depthTexture;const u=l.kernel;let d=t,p,m,v;for(m=0,v=u.length-1;m<v;++m)p=m&1?a:o,c.kernel.value=u[m],c.inputBuffer.value=d.texture,e.setRenderTarget(p),e.render(r,s),d=p;c.kernel.value=u[m],c.inputBuffer.value=d.texture,e.setRenderTarget(this.renderToScreen?null:i),e.render(r,s)}}let jO=class extends Ju{constructor(e={}){super(e),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(e)}onBeforeCompile(e){var t;(t=e.defines)!=null&&t.USE_UV||(e.defines.USE_UV=""),e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader=`
        uniform mat4 textureMatrix;
        varying vec4 my_vUv;
      ${e.vertexShader}`,e.vertexShader=e.vertexShader.replace("#include <project_vertex>",`#include <project_vertex>
        my_vUv = textureMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`),e.fragmentShader=`
        uniform sampler2D tDiffuse;
        uniform sampler2D tDiffuseBlur;
        uniform sampler2D tDepth;
        uniform sampler2D distortionMap;
        uniform float distortion;
        uniform float cameraNear;
			  uniform float cameraFar;
        uniform bool hasBlur;
        uniform float mixBlur;
        uniform float mirror;
        uniform float mixStrength;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float mixContrast;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec4 my_vUv;
        ${e.fragmentShader}`,e.fragmentShader=e.fragmentShader.replace("#include <emissivemap_fragment>",`#include <emissivemap_fragment>

      float distortionFactor = 0.0;
      #ifdef USE_DISTORTION
        distortionFactor = texture2D(distortionMap, vUv).r * distortion;
      #endif

      vec4 new_vUv = my_vUv;
      new_vUv.x += distortionFactor;
      new_vUv.y += distortionFactor;

      vec4 base = texture2DProj(tDiffuse, new_vUv);
      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);

      vec4 merge = base;

      #ifdef USE_NORMALMAP
        vec2 normal_uv = vec2(0.0);
        vec4 normalColor = texture2D(normalMap, vUv * normalScale);
        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );
        vec3 coord = new_vUv.xyz / new_vUv.w;
        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;
        vec4 base_normal = texture2D(tDiffuse, normal_uv);
        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);
        merge = base_normal;
        blur = blur_normal;
      #endif

      float depthFactor = 0.0001;
      float blurFactor = 0.0;

      #ifdef USE_DEPTH
        vec4 depth = texture2DProj(tDepth, new_vUv);
        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
        depthFactor *= depthScale;
        depthFactor = max(0.0001, min(1.0, depthFactor));

        #ifdef USE_BLUR
          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);
          merge = merge * min(1.0, depthFactor + 0.5);
        #else
          merge = merge * depthFactor;
        #endif

      #endif

      float reflectorRoughnessFactor = roughness;
      #ifdef USE_ROUGHNESSMAP
        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );
        reflectorRoughnessFactor *= reflectorTexelRoughness.g;
      #endif

      #ifdef USE_BLUR
        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);
        merge = mix(merge, blur, blurFactor);
      #endif

      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);
      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;
      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;
      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;

      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);
      `)}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(e){this._tDiffuse.value=e}get tDepth(){return this._tDepth.value}set tDepth(e){this._tDepth.value=e}get distortionMap(){return this._distortionMap.value}set distortionMap(e){this._distortionMap.value=e}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(e){this._tDiffuseBlur.value=e}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(e){this._textureMatrix.value=e}get hasBlur(){return this._hasBlur.value}set hasBlur(e){this._hasBlur.value=e}get mirror(){return this._mirror.value}set mirror(e){this._mirror.value=e}get mixBlur(){return this._mixBlur.value}set mixBlur(e){this._mixBlur.value=e}get mixStrength(){return this._blurStrength.value}set mixStrength(e){this._blurStrength.value=e}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(e){this._minDepthThreshold.value=e}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(e){this._maxDepthThreshold.value=e}get depthScale(){return this._depthScale.value}set depthScale(e){this._depthScale.value=e}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(e){this._depthToBlurRatioBias.value=e}get distortion(){return this._distortion.value}set distortion(e){this._distortion.value=e}get mixContrast(){return this._mixContrast.value}set mixContrast(e){this._mixContrast.value=e}};const JO=ue.forwardRef(({mixBlur:n=0,mixStrength:e=1,resolution:t=256,blur:i=[0,0],minDepthThreshold:r=.9,maxDepthThreshold:s=1,depthScale:o=0,depthToBlurRatioBias:a=.25,mirror:l=0,distortion:c=1,mixContrast:u=1,distortionMap:d,reflectorOffset:p=0,...m},v)=>{md({MeshReflectorMaterialImpl:jO});const x=zn(({gl:O})=>O),_=zn(({camera:O})=>O),g=zn(({scene:O})=>O);i=Array.isArray(i)?i:[i,i];const q=i[0]+i[1]>0,A=ue.useRef(null);ue.useImperativeHandle(v,()=>A.current,[]);const[M]=ue.useState(()=>new co),[C]=ue.useState(()=>new W),[w]=ue.useState(()=>new W),[b]=ue.useState(()=>new W),[P]=ue.useState(()=>new ht),[R]=ue.useState(()=>new W(0,0,-1)),[T]=ue.useState(()=>new zt),[F]=ue.useState(()=>new W),[L]=ue.useState(()=>new W),[U]=ue.useState(()=>new zt),[k]=ue.useState(()=>new ht),[Y]=ue.useState(()=>new bn),X=ue.useCallback(()=>{var O;const J=A.current.parent||((O=A.current)==null?void 0:O.__r3f.parent);if(!J||(w.setFromMatrixPosition(J.matrixWorld),b.setFromMatrixPosition(_.matrixWorld),P.extractRotation(J.matrixWorld),C.set(0,0,1),C.applyMatrix4(P),w.addScaledVector(C,p),F.subVectors(w,b),F.dot(C)>0))return;F.reflect(C).negate(),F.add(w),P.extractRotation(_.matrixWorld),R.set(0,0,-1),R.applyMatrix4(P),R.add(b),L.subVectors(w,R),L.reflect(C).negate(),L.add(w),Y.position.copy(F),Y.up.set(0,1,0),Y.up.applyMatrix4(P),Y.up.reflect(C),Y.lookAt(L),Y.far=_.far,Y.updateMatrixWorld(),Y.projectionMatrix.copy(_.projectionMatrix),k.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),k.multiply(Y.projectionMatrix),k.multiply(Y.matrixWorldInverse),k.multiply(J.matrixWorld),M.setFromNormalAndCoplanarPoint(C,w),M.applyMatrix4(Y.matrixWorldInverse),T.set(M.normal.x,M.normal.y,M.normal.z,M.constant);const Z=Y.projectionMatrix;U.x=(Math.sign(T.x)+Z.elements[8])/Z.elements[0],U.y=(Math.sign(T.y)+Z.elements[9])/Z.elements[5],U.z=-1,U.w=(1+Z.elements[10])/Z.elements[14],T.multiplyScalar(2/T.dot(U)),Z.elements[2]=T.x,Z.elements[6]=T.y,Z.elements[10]=T.z+1,Z.elements[14]=T.w},[_,p]),[ee,D,G,N]=ue.useMemo(()=>{const O={minFilter:$t,magFilter:$t,type:Jl},J=new ur(t,t,O);J.depthBuffer=!0,J.depthTexture=new Y0(t,t),J.depthTexture.format=pa,J.depthTexture.type=Bu;const Z=new ur(t,t,O),j=new XO({gl:x,resolution:t,width:i[0],height:i[1],minDepthThreshold:r,maxDepthThreshold:s,depthScale:o,depthToBlurRatioBias:a}),Q={mirror:l,textureMatrix:k,mixBlur:n,tDiffuse:J.texture,tDepth:J.depthTexture,tDiffuseBlur:Z.texture,hasBlur:q,mixStrength:e,minDepthThreshold:r,maxDepthThreshold:s,depthScale:o,depthToBlurRatioBias:a,distortion:c,distortionMap:d,mixContrast:u,"defines-USE_BLUR":q?"":void 0,"defines-USE_DEPTH":o>0?"":void 0,"defines-USE_DISTORTION":d?"":void 0};return[J,Z,j,Q]},[x,i,k,t,l,q,n,e,r,s,o,a,c,d,u]);return Qu(()=>{var O;const J=A.current.parent||((O=A.current)==null?void 0:O.__r3f.parent);if(!J)return;J.visible=!1;const Z=x.xr.enabled,j=x.shadowMap.autoUpdate;X(),x.xr.enabled=!1,x.shadowMap.autoUpdate=!1,x.setRenderTarget(ee),x.state.buffers.depth.setMask(!0),x.autoClear||x.clear(),x.render(g,Y),q&&G.render(x,ee,D),x.xr.enabled=Z,x.shadowMap.autoUpdate=j,J.visible=!0,x.setRenderTarget(null)}),ue.createElement("meshReflectorMaterialImpl",Sa({attach:"material",key:"key"+N["defines-USE_BLUR"]+N["defines-USE_DEPTH"]+N["defines-USE_DISTORTION"],ref:A},N,m))}),RM=ue.forwardRef(({children:n,hysteresis:e=0,distances:t,...i},r)=>{const s=ue.useRef(null);return ue.useImperativeHandle(r,()=>s.current,[]),ue.useLayoutEffect(()=>{const{current:o}=s;o.levels.length=0,o.children.forEach((a,l)=>o.levels.push({object:a,hysteresis:e,distance:t[l]}))}),Qu(o=>{var a;return(a=s.current)==null?void 0:a.update(o.camera)}),ue.createElement("lOD",Sa({ref:s},i),n)});function YO(){const n=zn(e=>e.gl);return ue.useEffect(()=>(n.shadowMap.autoUpdate=!1,n.shadowMap.needsUpdate=!0,()=>{n.shadowMap.autoUpdate=n.shadowMap.needsUpdate=!0}),[n.shadowMap]),null}var Yp={},PM={},KO=[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}],Qg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y5=sa.createContext&&sa.createContext(Qg),ga=function(){return ga=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ga.apply(this,arguments)},QO=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function BM(n){return n&&n.map(function(e,t){return sa.createElement(e.tag,ga({key:t},e.attr),BM(e.child))})}function ZO(n){return function(e){return sa.createElement(IM,ga({attr:ga({},n.attr)},e),BM(n.child))}}function IM(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=QO(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),sa.createElement("svg",ga({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:ga(ga({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&sa.createElement("title",null,s),n.children)};return Y5!==void 0?sa.createElement(Y5.Consumer,null,function(t){return e(t)}):e(Qg)}const $O=Object.freeze(Object.defineProperty({__proto__:null,DefaultContext:Qg,GenIcon:ZO,IconBase:IM,IconContext:Y5,IconsManifest:KO},Symbol.toStringTag,{value:"Module"})),Lr=Z5($O);var eN=Lr.GenIcon;PM.FaMemory=function(e){return eN({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 130.94V96c0-17.67-14.33-32-32-32H32C14.33 64 0 78.33 0 96v34.94c18.6 6.61 32 24.19 32 45.06s-13.4 38.45-32 45.06V320h640v-98.94c-18.6-6.61-32-24.19-32-45.06s13.4-38.45 32-45.06zM224 256h-64V128h64v128zm128 0h-64V128h64v128zm128 0h-64V128h64v128zM0 448h64v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h64v-96H0v96z"}}]})(e)};var LM={},tN=Lr.GenIcon;LM.RiCpuLine=function(e){return tN({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 18h12V6H6v12zm8 2h-4v2H8v-2H5a1 1 0 0 1-1-1v-3H2v-2h2v-4H2V8h2V5a1 1 0 0 1 1-1h3V2h2v2h4V2h2v2h3a1 1 0 0 1 1 1v3h2v2h-2v4h2v2h-2v3a1 1 0 0 1-1 1h-3v2h-2v-2zM8 8h8v8H8V8z"}}]}]})(e)};var DM={},nN=Lr.GenIcon;DM.RiCpuFill=function(e){return nN({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14 20h-4v2H8v-2H5a1 1 0 0 1-1-1v-3H2v-2h2v-4H2V8h2V5a1 1 0 0 1 1-1h3V2h2v2h4V2h2v2h3a1 1 0 0 1 1 1v3h2v2h-2v4h2v2h-2v3a1 1 0 0 1-1 1h-3v2h-2v-2zM7 7v4h4V7H7z"}}]}]})(e)};var UM={},iN=Lr.GenIcon;UM.VscPulse=function(e){return iN({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.8 9L10 3H9L7.158 9.64 5.99 4.69h-.97L3.85 9H1v.99h3.23l.49-.37.74-2.7L6.59 12h1.03l1.87-7.04 1.46 4.68.48.36H15V9h-3.2z"}}]})(e)};var FM={},rN=Lr.GenIcon;FM.AiOutlineCodeSandbox=function(e){return rN({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M709.6 210l.4-.2h.2L512 96 313.9 209.8h-.2l.7.3L151.5 304v416L512 928l360.5-208V304l-162.9-94zM482.7 843.6L339.6 761V621.4L210 547.8V372.9l272.7 157.3v313.4zM238.2 321.5l134.7-77.8 138.9 79.7 139.1-79.9 135.2 78-273.9 158-274-158zM814 548.3l-128.8 73.1v139.1l-143.9 83V530.4L814 373.1v175.2z"}}]})(e)};var OM={},sN=Lr.GenIcon;OM.FaRegImages=function(e){return sN({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z"}}]})(e)};var NM={},oN=Lr.GenIcon;NM.FiLayers=function(e){return oN({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)};var kM={},aN=Lr.GenIcon;kM.BsTriangle=function(e){return aN({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.938 2.016a.146.146 0 00-.054.057L1.027 13.74a.176.176 0 00-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 00.066-.017.163.163 0 00.055-.06.176.176 0 00-.003-.183L8.12 2.073a.146.146 0 00-.054-.057A.13.13 0 008.002 2a.13.13 0 00-.064.016zm1.044-.45a1.13 1.13 0 00-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z",clipRule:"evenodd"}}]})(e)};var zM={},lN=Lr.GenIcon;zM.VscActivateBreakpoints=function(e){return lN({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 5.5a4.394 4.394 0 0 1-4 4.5 2.955 2.955 0 0 0-.2-1A3.565 3.565 0 0 0 14 5.5a3.507 3.507 0 0 0-7-.3A3.552 3.552 0 0 0 6 5a4.622 4.622 0 0 1 4.5-4A4.481 4.481 0 0 1 15 5.5zM5.5 6a4.5 4.5 0 1 0 0 9.001 4.5 4.5 0 0 0 0-9z"}}]})(e)};var GM={},cN=Lr.GenIcon;GM.FaServer=function(e){return cN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(e)};var HM={},uN=Lr.GenIcon;HM.RiArrowDownSFill=function(e){return uN({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 16l-6-6h12z"}}]}]})(e)};var VM={},hN=Lr.GenIcon;VM.RiArrowRightSFill=function(e){return hN({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 12l-6 6V6z"}}]}]})(e)};var WM={},fN=Lr.GenIcon;WM.GiPauseButton=function(e){return fN({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M120.16 45A20.162 20.162 0 0 0 100 65.16v381.68A20.162 20.162 0 0 0 120.16 467h65.68A20.162 20.162 0 0 0 206 446.84V65.16A20.162 20.162 0 0 0 185.84 45h-65.68zm206 0A20.162 20.162 0 0 0 306 65.16v381.68A20.162 20.162 0 0 0 326.16 467h65.68A20.162 20.162 0 0 0 412 446.84V65.16A20.162 20.162 0 0 0 391.84 45h-65.68z"}}]})(e)};console.warn("react-three-fiber has been deprecated, please use @react-three/fiber (https://www.npmjs.com/package/@react-three/fiber) from now on");const dN=Object.freeze(Object.defineProperty({__proto__:null,Canvas:cM,ReactThreeFiber:ZD,_roots:Wl,act:xU,addAfterEffect:cU,addEffect:lU,addTail:uU,advance:N5,applyProps:pl,buildGraph:kg,context:xm,createEvents:ZS,createPortal:_U,createRoot:Gg,dispose:JS,events:lM,extend:md,flushGlobalEffects:Kc,getRootState:jc,invalidate:O5,reconciler:Ou,render:gU,unmountComponentAtNode:Hg,useFrame:Qu,useGraph:dU,useInstanceHandle:fU,useLoader:$l,useStore:qm,useThree:zn},Symbol.toStringTag,{value:"Module"})),pN=Z5(dN),mN=Z5(WD);var gN={};function XM(n){return n&&typeof n=="object"&&"default"in n?n.default:n}Object.defineProperty(Yp,"__esModule",{value:!0});var ms=ue,ke=XM(ms),vN=PM,_N=LM,yN=DM,xN=UM,qN=FM,AN=OM,SN=NM,MN=kM,EN=zM,wN=GM,CN=HM,TN=VM,bN=WM,oy=Mq,sf=pN,RN=XM(mN),fi={perf:"index-module_perf__1nmLF","top-left":"index-module_top-left__31rPe","bottom-left":"index-module_bottom-left__1sL8h","bottom-right":"index-module_bottom-right__22j9x",sbg:"index-module_sbg__2sGU8",graphc:"index-module_graphc__WTt1r",graphp:"index-module_graphp__2oOr4",graph:"index-module_graph__29MCH",PatternCpuStroke:"index-module_PatternCpuStroke__dYSB4",PatternGpuStroke:"index-module_PatternGpuStroke__xr8CJ",PatternStroke:"index-module_PatternStroke__5EP_F",toggle:"index-module_toggle__30uBJ"};function ay(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}})(`.index-module_perf__1nmLF {
  position: fixed;
  top: 0;
  right: 0;
  z-index: 9999;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
  sans-serif;
  background-color: rgba(36,36,36,1);
  color: #fff;

  pointer-events: none;
  margin: 0;
  padding: 4px 6px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  user-select: none;
}
.index-module_perf__1nmLF.index-module_top-left__31rPe {
  right: initial;
  left: 0;
}
.index-module_perf__1nmLF.index-module_bottom-left__1sL8h {
  right: initial;
  top: initial;
  bottom: 0;
  left: 0;
}
.index-module_perf__1nmLF.index-module_bottom-right__22j9x {
  top: initial;
  bottom: 0;
}

.index-module_perf__1nmLF i {
  display: inline-flex;
  font-style: normal;
  padding: 0;
  line-height: 13px;
  font-size: 14px;
  width: 62px;
  position: relative;
  font-weight: 500;
  letter-spacing: 0px;
  text-align: left;
  height: 29px;
  white-space: nowrap;
  justify-content: space-evenly;
  font-variant-numeric: tabular-nums;
}
.index-module_perf__1nmLF svg.index-module_sbg__2sGU8 {
  left: 0;
  padding: 0;
  color: rgba(145,145,145,.12);
  font-size: 22px;
  position: absolute;
  z-index: -1;
  max-height: 21px;
  left: 50%;
  margin-left: -27px;
  top: 4px;
}

.index-module_perf__1nmLF i b {
  vertical-align: bottom;
  position: absolute;
  bottom: 5px;
  color: rgba(101,197,188, 1);
  text-align: revert;
  right: 0;
  letter-spacing: 0;
  letter-spacing: 1px;
  font-size: 8px;
  font-weight: 500;
  right: 0;
}
.index-module_perf__1nmLF span {
  
}
.index-module_perf__1nmLF i small {
  font-size: 9px;
  margin-top: 2px;
  margin-left: -6px;
  display: inline-block;
}
.index-module_graphc__WTt1r {
  height: 61px;
  overflow: hidden;
  position: relative;
  display: flex;
  justify-content: center;
  width: 310px;
  margin: 0 auto;
}
.index-module_graphp__2oOr4 {
  text-align: center;
  font-weight: 700;
  font-size: 12px;
  line-height: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  vertical-align: middle;
  color: #f1f1f1;
  padding: 7px;
  width: 100%;
  background-color: rgba(36, 36, 37, 0.8);
  z-index: 1;
}
.index-module_graphp__2oOr4 svg {
  font-size: 10px;
  margin-right: 4px;
}
.index-module_graphc__WTt1r svg {
  bottom: -6px;
}
.index-module_graph__29MCH {
  max-width: 312px;
  position: absolute;
  z-index: 1;
}
.index-module_PatternCpuStroke__dYSB4 {
  stroke-width: 1.5;
}
.index-module_PatternGpuStroke__xr8CJ {
  stroke-width: 1.5;
}
.index-module_PatternStroke__5EP_F {
  stroke-width: 1.5;
}

.index-module_toggle__30uBJ {
  pointer-events: auto;
  justify-content: center;
  display: block;
  cursor: pointer;
  font-size: 12px;
  background-color: rgb(41, 43, 45);
  margin-top: 6px;
  width: auto;
  margin: 0 auto;
  color: rgba(145,145,145,1);

  text-align: center;
  position: absolute;
  right: 0;
  bottom: -17px;
  padding: 4px 11px;
}

.index-module_perf__1nmLF.index-module_bottom-left__1sL8h .index-module_toggle__30uBJ{
  top: -17px;
  bottom: initial;
}
.index-module_perf__1nmLF.index-module_bottom-right__22j9x .index-module_toggle__30uBJ{
  top: -17px;
  bottom: initial;
}

.index-module_toggle__30uBJ svg {
  font-size: 19px;
  position: relative;
  z-index: 0;
  vertical-align: middle;
  padding: 0;
  left: initial;
  top: initial;
  color: rgba(145,145,145,1);
  margin: -6px -6px -6px -6px;
  display: inline-block;
  margin-top: -7px;
}
.index-module_toggle__30uBJ:hover {
  background-color: rgb(32,32,32);
  color: rgb(203,203,203);
}
.index-module_toggle__30uBJ:hover svg {
  color: rgb(203,203,203);
}`);var Xr,ly,PN=ms.forwardRef(function(n,e){var t,i=n.children,r=n.className,s=n.portal,o=function(d,p){if(d==null)return{};var m,v,x={},_=Object.keys(d);for(v=0;v<_.length;v++)p.indexOf(m=_[v])>=0||(x[m]=d[m]);return x}(n,["children","style","className","portal"]),a=sf.useThree().gl,l=ms.useState(function(){return document.createElement("div")})[0],c=ms.useRef(null),u=(t=s==null?void 0:s.current)!=null?t:a.domElement.parentNode;return ms.useEffect(function(){if(c.current)return u&&u.appendChild(l),function(){u&&u.removeChild(l),oy.unmountComponentAtNode(l)}},[u,l]),ms.useEffect(function(){oy.render(ms.createElement("div",{ref:e,className:r,children:i}),l)}),ms.createElement("group",Object.assign({},o,{ref:c}))}),cy=(function(n){var e=function(t){var i=Object.prototype,r=i.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(L,U,k){return Object.defineProperty(L,U,{value:k,enumerable:!0,configurable:!0,writable:!0}),L[U]}try{c({},"")}catch{c=function(U,k,Y){return U[k]=Y}}function u(L,U,k,Y){var X=Object.create((U&&U.prototype instanceof m?U:m).prototype),ee=new R(Y||[]);return X._invoke=function(D,G,N){var O="suspendedStart";return function(J,Z){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(J==="throw")throw Z;return{value:void 0,done:!0}}for(N.method=J,N.arg=Z;;){var j=N.delegate;if(j){var Q=w(j,N);if(Q){if(Q===p)continue;return Q}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(O==="suspendedStart")throw O="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);O="executing";var ie=d(D,G,N);if(ie.type==="normal"){if(O=N.done?"completed":"suspendedYield",ie.arg===p)continue;return{value:ie.arg,done:N.done}}ie.type==="throw"&&(O="completed",N.method="throw",N.arg=ie.arg)}}}(L,k,ee),X}function d(L,U,k){try{return{type:"normal",arg:L.call(U,k)}}catch(Y){return{type:"throw",arg:Y}}}t.wrap=u;var p={};function m(){}function v(){}function x(){}var _={};_[o]=function(){return this};var g=Object.getPrototypeOf,q=g&&g(g(T([])));q&&q!==i&&r.call(q,o)&&(_=q);var A=x.prototype=m.prototype=Object.create(_);function M(L){["next","throw","return"].forEach(function(U){c(L,U,function(k){return this._invoke(U,k)})})}function C(L,U){var k;this._invoke=function(Y,X){function ee(){return new U(function(D,G){(function N(O,J,Z,j){var Q=d(L[O],L,J);if(Q.type!=="throw"){var ie=Q.arg,$=ie.value;return $&&typeof $=="object"&&r.call($,"__await")?U.resolve($.__await).then(function(ge){N("next",ge,Z,j)},function(ge){N("throw",ge,Z,j)}):U.resolve($).then(function(ge){ie.value=ge,Z(ie)},function(ge){return N("throw",ge,Z,j)})}j(Q.arg)})(Y,X,D,G)})}return k=k?k.then(ee,ee):ee()}}function w(L,U){var k=L.iterator[U.method];if(k===void 0){if(U.delegate=null,U.method==="throw"){if(L.iterator.return&&(U.method="return",U.arg=void 0,w(L,U),U.method==="throw"))return p;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var Y=d(k,L.iterator,U.arg);if(Y.type==="throw")return U.method="throw",U.arg=Y.arg,U.delegate=null,p;var X=Y.arg;return X?X.done?(U[L.resultName]=X.value,U.next=L.nextLoc,U.method!=="return"&&(U.method="next",U.arg=void 0),U.delegate=null,p):X:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,p)}function b(L){var U={tryLoc:L[0]};1 in L&&(U.catchLoc=L[1]),2 in L&&(U.finallyLoc=L[2],U.afterLoc=L[3]),this.tryEntries.push(U)}function P(L){var U=L.completion||{};U.type="normal",delete U.arg,L.completion=U}function R(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(b,this),this.reset(!0)}function T(L){if(L){var U=L[o];if(U)return U.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var k=-1,Y=function X(){for(;++k<L.length;)if(r.call(L,k))return X.value=L[k],X.done=!1,X;return X.value=void 0,X.done=!0,X};return Y.next=Y}}return{next:F}}function F(){return{value:void 0,done:!0}}return v.prototype=A.constructor=x,x.constructor=v,v.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(L){var U=typeof L=="function"&&L.constructor;return!!U&&(U===v||(U.displayName||U.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,x):(L.__proto__=x,c(L,l,"GeneratorFunction")),L.prototype=Object.create(A),L},t.awrap=function(L){return{__await:L}},M(C.prototype),C.prototype[a]=function(){return this},t.AsyncIterator=C,t.async=function(L,U,k,Y,X){X===void 0&&(X=Promise);var ee=new C(u(L,U,k,Y),X);return t.isGeneratorFunction(U)?ee:ee.next().then(function(D){return D.done?D.value:ee.next()})},M(A),c(A,l,"Generator"),A[o]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=function(L){var U=[];for(var k in L)U.push(k);return U.reverse(),function Y(){for(;U.length;){var X=U.pop();if(X in L)return Y.value=X,Y.done=!1,Y}return Y.done=!0,Y}},t.values=T,R.prototype={constructor:R,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!L)for(var U in this)U.charAt(0)==="t"&&r.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=void 0)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var U=this;function k(N,O){return ee.type="throw",ee.arg=L,U.next=N,O&&(U.method="next",U.arg=void 0),!!O}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y],ee=X.completion;if(X.tryLoc==="root")return k("end");if(X.tryLoc<=this.prev){var D=r.call(X,"catchLoc"),G=r.call(X,"finallyLoc");if(D&&G){if(this.prev<X.catchLoc)return k(X.catchLoc,!0);if(this.prev<X.finallyLoc)return k(X.finallyLoc)}else if(D){if(this.prev<X.catchLoc)return k(X.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return k(X.finallyLoc)}}}},abrupt:function(L,U){for(var k=this.tryEntries.length-1;k>=0;--k){var Y=this.tryEntries[k];if(Y.tryLoc<=this.prev&&r.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var X=Y;break}}X&&(L==="break"||L==="continue")&&X.tryLoc<=U&&U<=X.finallyLoc&&(X=null);var ee=X?X.completion:{};return ee.type=L,ee.arg=U,X?(this.method="next",this.next=X.finallyLoc,p):this.complete(ee)},complete:function(L,U){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&U&&(this.next=U),p},finish:function(L){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.finallyLoc===L)return this.complete(k.completion,k.afterLoc),P(k),p}},catch:function(L){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.tryLoc===L){var Y=k.completion;if(Y.type==="throw"){var X=Y.arg;P(k)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(L,U,k){return this.delegate={iterator:T(L),resultName:U,nextLoc:k},this.method==="next"&&(this.arg=void 0),p}},t}(n.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}(ly={exports:{}}),ly.exports),BN=function(){function n(t){t===void 0&&(t={}),this.names=[""],this.finished=[],this.paused=!1,this.isWebGL2=!0,this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=[],this.gpuChart=[],this.cpuChart=[],this.paramLogger=function(){},this.glFinish=function(){},this.addProfiler=function(){},this.chartLogger=function(){},this.chartLen=60,this.chartHz=10,this.factorGPU=1,this.trackGPU=!0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.paramFrame=0,this.paramTime=0,this.now=function(){},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,t),this.chart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.now=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()},this.initGpu(),this.is120hz()}var e=n.prototype;return e.initGpu=function(){this.gl&&(this.isWebGL2=!0,this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2"),this.extension===null?(this.isWebGL2=!1,this.extension=this.gl.getExtension("EXT_disjoint_timer_query"),this.extension===null&&(console.warn("Disjoint_time_query extension not available."),this.isGL())):this.isGL())},e.isGL=function(){var t,i,r=this,s=this.gl;if(s){var o=function(c,u){setTimeout(function(){s.getError();var d=r.now()-c;u.forEach(function(p,m){p&&(r.gpuAccums[m]+=d)})})},a=function(){var c,u=(c=cy.mark(function d(p,m){return cy.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Promise.resolve(o(p,m));case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},d)}),function(){var d=this,p=arguments;return new Promise(function(m,v){var x=c.apply(d,p);function _(q){ay(x,m,v,_,g,"next",q)}function g(q){ay(x,m,v,_,g,"throw",q)}_(void 0)})});return function(d,p){return u.apply(this,arguments)}}(),l=function(c,u,d){return function(){var p=u.now();c.apply(d,arguments),u.finished.push(a(p,u.activeAccums.slice(0)))}};["drawArrays","drawElements","drawArraysInstanced","drawBuffers","drawElementsInstanced","drawRangeElements"].forEach(function(c){s[c]&&(s[c]=l(s[c],r,s))}),s.getExtension=(t=s.getExtension,i=this,function(){var c=t.apply(s,arguments);return c&&["drawElementsInstancedANGLE","drawBuffersWEBGL"].forEach(function(u){c[u]&&(c[u]=l(c[u],i,c))}),c})}},e.is120hz=function(){var t,i=this,r=0;window.requestAnimationFrame(function s(o){++r<20?t=window.requestAnimationFrame(s):(i.detected=Math.ceil(1e3*r/(o-i.t0)/70),window.cancelAnimationFrame(t)),i.t0||(i.t0=o)})},e.addUI=function(t){this.names.indexOf(t)===-1&&(this.names.push(t),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))},e.nextFrame=function(t){var i=this;this.frameId++;var r=t||this.now(),s=r-this.paramTime,o=0,a=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=r;else if(s>=1e3){for(var l=this.frameId-this.paramFrame,c=l/s*1e3,u=function(g){o=Math.round(i.cpuAccums[g]/s*100),a=i.isWebGL2?i.gpuAccums[g]:i.gpuAccums[g]/s;var q=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/(1<<20):0);i.paramLogger({i:g,cpu:o,gpu:a,mem:q,fps:Math.round(10*c)/10,duration:Math.round(s),frameCount:l}),i.cpuAccums[g]=0,i.isWebGL2?i.gpuAccums[g]=0:Promise.all(i.finished).then(function(){i.gpuAccums[g]=0,i.finished=[]})},d=0;d<this.names.length;d++)u(d);this.paramFrame=this.frameId,this.paramTime=r}if(this.detected&&this.chartFrame)for(var p=r-this.chartTime,m=this.chartHz*p/1e3;--m>0&&this.detected;){this.chart[this.circularId%this.chartLen]=(this.frameId-this.chartFrame)/p*1e3;var v=Math.round(this.cpuAccums[1]/s*100)+5,x=(this.isWebGL2?2*this.gpuAccums[1]:Math.round(this.gpuAccums[1]/s*100))+10;x>0&&(this.gpuChart[this.circularId%this.chartLen]=x),v>0&&(this.cpuChart[this.circularId%this.chartLen]=v);for(var _=0;_<this.names.length;_++)this.chartLogger({i:_,data:{fps:this.chart,gpu:this.gpuChart,cpu:this.cpuChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=r}else this.chartFrame=this.frameId,this.chartTime=r,this.circularId=0},e.startGpu=function(){var t,i=this,r=this.gl,s=this.extension;this.isWebGL2&&((t=r.createQuery())instanceof WebGLQuery&&r.beginQuery(s.TIME_ELAPSED_EXT,t),t)&&(this.activeQueries++,window.requestAnimationFrame(function o(){if(t&&i.isWebGL2){var a,l,c;i.isWebGL2?(a=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE),l=r.getParameter(s.GPU_DISJOINT_EXT),c=r.getQueryParameter(t,r.QUERY_RESULT)):(a=s.getQueryObjectEXT(t,s.QUERY_RESULT_AVAILABLE_EXT),l=r.getParameter(s.GPU_DISJOINT_EXT),c=s.getQueryObjectEXT(t,s.QUERY_RESULT_EXT));var u=1e-6*c;a?(l||i.activeAccums.forEach(function(d,p){i.gpuAccums[p]=u}),i.activeQueries--):window.requestAnimationFrame(o)}}))},e.endGpu=function(){var t=this.extension;t!==null&&this.isWebGL2&&(this.isWebGL2&&t.TIME_ELAPSED_EXT?this.gl.endQuery(t.TIME_ELAPSED_EXT):t.TIME_ELAPSED_EXT&&t.endQueryEXT(t.TIME_ELAPSED_EXT))},e.begin=function(t){this.startGpu(),this.updateAccums(t)},e.end=function(t){this.endGpu(),this.updateAccums(t)},e.updateAccums=function(t){var i=this.names.indexOf(t);i===-1&&(i=this.names.length,this.addUI(t));for(var r=this.now(),s=r-this.t0,o=0;o<i+1;o++)this.activeAccums[o]&&(this.cpuAccums[o]+=s);this.activeAccums[i]=!this.activeAccums[i],this.t0=r},n}(),Sr=RN(function(){return{log:null,paused:!1,chart:{data:{fps:[],gpu:[],cpu:[]},circularId:0},gl:{info:null}}}),jM=function(n){var e=n.trackGPU,t=n.chart,i=sf.useThree().gl,r=ms.useRef(!1);return Sr.setState({gl:i}),ms.useEffect(function(){if(i.info.autoReset=!1,!Xr&&i.info&&(Xr=new BN({trackGPU:e,chartLen:t?t.length:30,chartHz:t?t.hz:10,gl:i.getContext(),chartLogger:function(a){Sr.setState({chart:a})},paramLogger:function(a){Xr&&i.info&&(Xr.factorGPU=1/i.info.render.calls),Sr.setState({log:{cpu:a.cpu,gpu:a.gpu,mem:a.mem,fps:a.fps,totalTime:a.duration,frameCount:a.frameCount}})}})),Xr&&i.info){var s=sf.addEffect(function(){return Sr.getState().paused&&Sr.setState({paused:!1}),Xr&&i.info&&(i.info.reset(),Xr.begin("profiler")),!1}),o=sf.addAfterEffect(function(){return Xr&&(Xr.end("profiler"),Xr.nextFrame(window.performance.now())),!1});return function(){s(),o()}}},[i,e,t]),ms.useEffect(function(){var s=sf.addTail(function(){return Xr&&r.current&&(Xr.paused=!0,Sr.setState({paused:!0,log:{cpu:0,gpu:0,mem:0,fps:0,totalTime:0,frameCount:0}})),r.current=!0,!1});return function(){s()}},[r]),null},IN={yMin:0,yMax:65,xMin:0,xMax:200},uy=function(n,e,t,i,r){return(n-e)*(r-i)/(t-e)+i},LN=function(n,e){var t=e[0]-n[0],i=e[1]-n[1];return{length:Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),angle:Math.atan2(i,t)}},DN=function(n){var e=n.element,t=n.points;if(!t||t.length===0)return null;var i,r=bi(n.colorBlind),s=function(l,c,u,d){return l.map(function(p){return[uy(p[0],d.xMin,d.xMax,0,320),uy(p[1],d.yMin,d.yMax,63,0)]})}(t,0,0,IN),o=(i=function(l,c){return function(u,d,p,m){var v=l(d||u,p||u),x=v.angle+(m?Math.PI:0),_=.15*v.length;return[u[0]+Math.cos(x)*_,u[1]+Math.sin(x)*_]}}(LN),function(l,c,u){var d=i(u[c-1],u[c-2],l),p=i(l,u[c-1],u[c+1],!0);return"C "+d[0]+","+d[1]+" "+p[0]+","+p[1]+" "+l[0]+","+l[1]+(c===u.length-1?" z":"")}),a=s.reduce(function(l,c,u,d){return u===0?"M "+d[d.length-1][0]+",63 L "+c[0]+",63 L "+c[0]+","+c[1]:l+" "+o(c,u,d)},"");return ke.createElement("path",{d:a,fill:"url(#graph"+e+")",stroke:"rgb("+r[e]+")"})},n4=function(n){var e=n.points,t=n.colorBlind,i=e.element;return e.points&&e.points.length!==0?ke.createElement("svg",{className:fi.graph,height:"65",width:"320",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 65"},ke.createElement("pattern",{id:"graph"+i,x:"0",y:"0",width:"8",height:"60",patternUnits:"userSpaceOnUse"},ke.createElement("rect",{x:"4",y:"0",width:"4",height:"60",fill:"url(#"+i+"gradFade)"}),ke.createElement("rect",{x:"0",y:"0",width:"4",height:"60",fill:"url(#"+i+"grad)"})),ke.createElement(DN,{points:e.points,element:e.element,colorBlind:t})):null},bi=function(n){return{fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31"}},UN=function(n){var e=n.colorBlind,t=n.trackGPU,i=Sr(function(l){return l.chart}),r=i.circularId,s=i.data,o=function(l,c){c===void 0&&(c=1);var u=0,d=[],p=s[l];if(!p||p.length===0)return[0];for(var m=p.length,v=0;v<m;v++){var x=(r+v+1)%m;if(p[x]!==void 0){p[x]>u&&(u=p[x]*c);var _=[(200*v/(m-1)).toFixed(1),(Math.min(100,p[x])*c).toFixed(1)];d.push(_)}}return{points:d,maxVal:u,element:l}},a=Sr(function(l){return l.paused});return ke.createElement("div",{className:fi.graphc},ke.createElement("svg",{height:"0",width:"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 65",style:{height:0}},ke.createElement("defs",null,ke.createElement("linearGradient",{id:"fpsgrad",gradientTransform:"rotate(90)"},ke.createElement("stop",{offset:"0%",stopColor:"rgb("+bi(e).fps+",.7)"}),ke.createElement("stop",{offset:"20%",stopColor:"rgb("+bi(e).fps+",.7)"}),ke.createElement("stop",{offset:"60%",stopColor:"transparent"})),ke.createElement("linearGradient",{id:"fpsgradFade",gradientTransform:"rotate(90)"},ke.createElement("stop",{offset:"0%",stopColor:"rgb("+bi(e).fps+",.2)"}),ke.createElement("stop",{offset:"20%",stopColor:"rgb("+bi(e).fps+",.2)"}),ke.createElement("stop",{offset:"60%",stopColor:"transparent"})),ke.createElement("linearGradient",{id:"cpugrad",gradientTransform:"rotate(90)"},ke.createElement("stop",{offset:"0%",stopColor:"rgb("+bi(e).cpu+",.7)"}),ke.createElement("stop",{offset:"60%",stopColor:"rgb("+bi(e).cpu+",.7)"}),ke.createElement("stop",{offset:"90%",stopColor:"transparent"})),ke.createElement("linearGradient",{id:"cpugradFade",gradientTransform:"rotate(90)"},ke.createElement("stop",{offset:"0%",stopColor:"rgb("+bi(e).cpu+",.2)"}),ke.createElement("stop",{offset:"60%",stopColor:"rgb("+bi(e).cpu+",.2)"}),ke.createElement("stop",{offset:"90%",stopColor:"transparent"})),ke.createElement("linearGradient",{id:"gpugrad",gradientTransform:"rotate(90)"},ke.createElement("stop",{offset:"0%",stopColor:"rgb("+bi(e).gpu+","+(e?"1":".7")+")"}),ke.createElement("stop",{offset:"70%",stopColor:"rgb("+bi(e).gpu+","+(e?"1":".7")+")"}),ke.createElement("stop",{offset:"100%",stopColor:"transparent"})),ke.createElement("linearGradient",{id:"gpugradFade",gradientTransform:"rotate(90)"},ke.createElement("stop",{offset:"0%",stopColor:"rgb("+bi(e).gpu+",.2)"}),ke.createElement("stop",{offset:"70%",stopColor:"rgb("+bi(e).gpu+",.2)"}),ke.createElement("stop",{offset:"100%",stopColor:"transparent"})))),ke.createElement(n4,{points:o("fps"),colorBlind:e}),ke.createElement(n4,{points:o("cpu",.6),colorBlind:e}),t&&ke.createElement(n4,{points:o("gpu",.6),colorBlind:e}),a&&ke.createElement("div",{className:fi.graphp},ke.createElement(bN.GiPauseButton,null)," PAUSED"))},FN=function(n){var e=n.showGraph,t=n.trackGPU,i=n.colorBlind,r=n.openByDefault,s=Sr(function(a){return a.log}),o=Sr(function(a){return a.gl});return s?ke.createElement("div",null,ke.createElement("i",null,ke.createElement(_N.RiCpuLine,{className:fi.sbg}),ke.createElement("b",{style:e?{color:"rgb("+bi(i).cpu+")"}:{}},"CPU")," ",ke.createElement("span",null,(Math.round(100*s.cpu)/100||0).toFixed(2),"%")),ke.createElement("i",null,ke.createElement(yN.RiCpuFill,{className:fi.sbg}),ke.createElement("b",{style:e&&t?{color:"rgb("+bi(i).gpu+")"}:{}},"GPU")," ",ke.createElement("span",null,(Math.round(1e3*s.gpu)/1e3||0).toFixed(2)),ke.createElement("small",null,"ms")),ke.createElement("i",null,ke.createElement(vN.FaMemory,{className:fi.sbg}),ke.createElement("b",null,"Memory")," ",s.mem,ke.createElement("small",null,"mb")),ke.createElement("i",null,ke.createElement(xN.VscPulse,{className:fi.sbg}),ke.createElement("b",{style:e?{color:"rgb("+bi(i).fps+")"}:{}},"FPS")," ",ke.createElement("span",null,s.fps)),o&&ke.createElement("i",null,ke.createElement(MN.BsTriangle,{className:fi.sbg}),ke.createElement("b",null,"Triangles")," ",ke.createElement("span",null,o.info.render.triangles)),o&&ke.createElement(ON,{openByDefault:r})):null},ON=function(n){var e=n.openByDefault,t=Sr(function(o){return o.gl}).info,i=ke.useState(e),r=i[0],s=i[1];return ke.createElement("span",null,t&&r&&ke.createElement("div",null,ke.createElement("i",null,ke.createElement(qN.AiOutlineCodeSandbox,{className:fi.sbg}),ke.createElement("b",null,t.memory.geometries===1?"Geometry":"Geometries")," ",ke.createElement("span",null,t.memory.geometries)),ke.createElement("i",null,ke.createElement(AN.FaRegImages,{className:fi.sbg}),ke.createElement("b",null,t.memory.textures===1?"Texture":"Textures")," ",ke.createElement("span",null,t.memory.textures)),ke.createElement("i",null,ke.createElement(SN.FiLayers,{className:fi.sbg}),ke.createElement("b",null,t.render.calls===1?"call":"calls")," ",ke.createElement("span",null,t.render.calls)),ke.createElement("i",null,ke.createElement(wN.FaServer,{className:fi.sbg}),ke.createElement("b",null,t.programs.length===1?"shader":"shaders")," ",ke.createElement("span",null,t.programs.length)),ke.createElement("i",null,ke.createElement(EN.VscActivateBreakpoints,{className:fi.sbg}),ke.createElement("b",null,"Points")," ",ke.createElement("span",null,t.render.points))),ke.createElement("div",{className:fi.toggle,onClick:function(){s(!r)}},r?ke.createElement("span",null,ke.createElement(CN.RiArrowDownSFill,null)," Minimize"):ke.createElement("span",null,ke.createElement(TN.RiArrowRightSFill,null)," More")))},NN=function(n){var e=n.showGraph,t=n.colorBlind,i=n.trackGPU,r=n.openByDefault,s=n.className,o=n.position;return ke.createElement(ke.Fragment,null,ke.createElement(jM,{trackGPU:i,chart:n.chart}),ke.createElement(PN,{className:(s?(fi.perf+" ").concat(s):fi.perf)+" "+(o?fi[o]:"")},ke.createElement(FN,{colorBlind:t,showGraph:e,trackGPU:i,openByDefault:r}),e&&ke.createElement(UN,{colorBlind:t,trackGPU:i})))};Yp.Perf=function(){return null},gN.R3F_PERF_SHOW_IN_PROD!=="SHOW"||(Yp.Perf=function(n){var e=n.headless,t=n.colorBlind,i=t!==void 0&&t,r=n.showGraph,s=r===void 0||r,o=n.trackGPU,a=o===void 0||o,l=n.openByDefault,c=l!==void 0&&l,u=n.position,d=u===void 0?"top-right":u,p=n.chart,m=p===void 0?{length:30,hz:10}:p,v=n.className;return e!==void 0&&e?ke.createElement(jM,{chart:m}):ke.createElement(NN,{colorBlind:i,showGraph:s,trackGPU:a,openByDefault:c,className:v,position:d,chart:m})},Yp.usePerf=function(){var n;return{log:Sr(function(e){return e.log}),gl:(n=Sr(function(e){return e.gl}))==null?void 0:n.info}});function Qh(n){return se.jsx("pointLight",{position:n.position,color:n.color||15761171,intensity:n.intensity,"shadow-mapSize-width":512,"shadow-mapSize-height":512,"shadow-camera-far":2e3,"shadow-bias":-1e-4,decay:n.decay||2,rotateX:n.rotateX,castShadow:n.shadow})}const kN={0:{ha:847,x_min:35,x_max:856,o:"m 828 472 q 625 128 769 274 q 293 -17 481 -17 q 99 71 164 -17 q 35 297 35 158 q 133 656 35 478 q 403 924 240 847 q 592 965 493 965 q 790 880 724 965 q 856 658 856 794 q 828 472 856 568 m 364 50 q 411 50 364 50 q 545 151 458 50 q 678 392 632 251 q 724 649 724 533 q 678 835 724 764 q 539 906 632 906 q 360 810 446 906 q 228 576 275 714 q 181 314 181 439 q 225 119 181 189 q 364 50 269 50 z "},1:{ha:485,x_min:33,x_max:542,o:"m 367 983 l 542 983 q 344 456 467 810 q 201 0 221 103 l 33 0 q 297 683 78 100 l 369 878 l 172 694 l 124 694 l 367 983 z "},2:{ha:789,x_min:42,x_max:836,o:"m 833 760 q 536 439 804 576 q 390 364 443 392 q 258 281 338 336 q 157 186 178 225 l 169 186 q 295 162 222 186 q 463 122 368 138 q 597 107 558 107 q 736 208 735 107 l 774 208 q 711 44 771 111 q 549 -24 651 -24 q 378 28 446 -24 q 320 71 363 43 q 263 106 278 99 q 195 126 222 126 q 154 104 168 126 q 139 55 140 82 q 124 6 138 28 q 89 -17 111 -17 q 42 36 42 -17 q 192 301 42 172 q 336 417 261 361 q 631 682 543 569 q 682 813 682 749 q 647 913 682 876 q 538 949 611 949 q 396 877 465 949 q 326 728 326 806 q 332 689 326 706 q 272 667 300 667 q 226 688 243 667 q 208 746 208 708 q 247 863 208 813 q 344 942 286 914 q 572 994 461 994 q 699 978 643 994 q 795 917 754 963 q 836 799 836 871 q 833 760 836 788 z "},3:{ha:833,x_min:28,x_max:824,o:"m 540 528 q 710 447 651 510 q 768 296 768 383 q 700 133 768 208 q 533 19 632 57 q 340 -18 433 -18 q 183 1 247 -18 q 73 67 118 19 q 28 178 28 114 q 64 290 28 242 q 156 338 100 338 q 210 324 182 338 q 157 176 157 247 q 210 66 157 106 q 346 26 263 26 q 528 101 453 26 q 604 274 604 176 q 545 433 604 371 q 397 494 486 494 q 289 469 344 494 q 269 465 281 465 q 248 477 257 465 q 239 508 239 489 q 258 544 239 528 q 324 560 278 560 q 422 536 371 560 q 595 640 526 563 q 664 813 664 717 q 625 917 664 876 q 504 958 586 958 q 362 894 422 958 q 301 746 301 829 q 310 692 301 719 q 270 685 292 685 q 228 710 249 685 q 208 778 208 735 q 264 900 208 849 q 542 996 367 996 q 824 803 824 996 q 748 641 824 718 q 540 528 672 564 z "},4:{ha:954,x_min:6,x_max:950,o:"m 900 374 q 693 301 831 301 q 642 306 669 301 q 551 0 578 107 l 386 0 q 511 324 419 75 q 401 353 469 333 q 192 399 249 399 q 110 379 135 399 q 83 336 85 360 q 43 274 82 274 q 17 289 28 274 q 6 332 6 304 q 65 425 6 394 l 717 983 l 889 983 q 675 403 788 743 q 865 518 865 417 q 853 558 865 542 q 890 569 868 569 q 931 541 913 569 q 950 483 950 513 q 900 374 950 426 m 732 915 l 174 444 q 359 424 276 439 q 542 406 442 410 l 732 915 z "},5:{ha:810,x_min:19,x_max:825,o:"m 169 576 q 347 983 169 606 l 611 983 q 703 986 649 983 l 758 990 q 810 982 796 990 q 825 940 825 974 q 794 836 825 906 l 756 736 l 728 736 l 735 760 q 733 839 751 803 q 672 881 724 863 q 500 893 640 893 q 493 893 496 893 q 382 893 438 893 q 258 619 293 703 q 421 647 346 647 q 672 567 576 647 q 768 367 768 486 q 726 195 768 271 q 614 76 683 119 q 307 -11 472 -11 q 103 45 186 -11 q 19 213 19 101 q 58 331 19 278 q 156 383 96 383 q 218 364 190 383 q 156 205 156 296 q 207 72 156 114 q 339 31 258 31 q 522 119 444 31 q 599 328 599 208 q 524 519 599 449 q 339 589 449 589 q 256 575 310 589 q 185 561 201 561 q 169 576 169 561 z "},6:{ha:810,x_min:43,x_max:818,o:"m 818 817 q 789 740 818 758 q 738 722 760 722 q 678 768 697 722 q 714 840 714 792 q 683 913 714 889 q 601 936 653 936 q 393 827 493 936 q 232 544 293 718 q 500 633 340 633 q 690 566 621 633 q 758 389 758 499 q 629 97 758 201 q 335 -8 500 -8 q 106 65 169 -8 q 43 263 43 138 q 85 515 43 389 q 197 747 126 640 q 375 922 268 853 q 585 990 482 990 q 753 947 689 990 q 818 817 818 904 m 431 574 q 246 474 308 568 q 183 243 183 379 q 224 97 183 154 q 342 39 264 39 q 534 140 457 39 q 611 363 611 242 q 564 515 611 456 q 431 574 517 574 z "},7:{ha:749,x_min:71,x_max:756,o:"m 229 990 l 383 983 l 735 983 q 756 953 756 983 q 730 889 756 922 q 626 757 704 856 q 500 597 547 658 q 306 317 360 415 q 251 156 251 218 q 265 108 251 128 q 301 88 279 88 q 336 92 322 88 q 283 10 324 36 q 193 -15 242 -15 q 108 17 144 -15 q 72 111 72 50 q 113 249 72 172 q 215 395 154 326 q 347 536 275 464 q 478 667 418 608 q 621 861 621 801 q 618 881 621 867 l 324 881 q 211 860 253 881 q 156 812 169 840 q 137 755 143 783 q 120 706 131 726 q 90 687 110 686 q 71 696 71 688 q 75 708 71 699 q 85 743 79 718 q 99 801 92 768 q 150 963 126 936 q 229 990 174 990 z "},8:{ha:815,x_min:6,x_max:835,o:"m 611 547 q 750 330 750 468 q 616 88 750 192 q 310 -15 482 -15 q 92 52 179 -15 q 6 224 6 119 q 89 417 6 329 q 308 550 172 506 q 207 721 207 618 q 303 921 207 842 q 564 1000 399 1000 q 761 945 688 1000 q 835 800 835 890 q 611 547 835 631 m 739 794 q 681 904 739 858 q 544 950 624 950 q 396 901 464 950 q 328 790 328 853 q 391 670 328 728 q 536 593 454 613 q 739 794 733 668 m 394 476 q 143 213 143 376 q 198 95 143 142 q 351 49 253 49 q 536 111 450 49 q 622 289 622 174 q 550 417 622 372 q 394 476 497 449 z "},9:{ha:853,x_min:28,x_max:828,o:"m 649 175 q 250 -18 494 -18 q 28 149 28 -18 q 56 232 28 194 q 131 269 83 269 q 182 257 157 269 q 154 150 154 217 q 188 55 154 83 q 277 26 222 26 q 386 57 332 26 q 538 196 483 111 q 650 431 593 281 q 408 351 540 351 q 193 430 275 351 q 111 632 111 508 q 223 897 111 801 q 500 992 335 992 q 828 690 828 992 q 777 418 828 563 q 649 175 726 274 m 685 718 q 685 765 685 718 q 636 876 685 811 q 490 941 588 942 q 324 849 393 940 q 256 652 256 757 q 310 478 256 547 q 450 410 364 410 q 590 453 536 410 q 664 560 643 496 q 685 718 685 625 z "},"\0":{ha:0,x_min:0,x_max:0,o:""},"":{ha:0,x_min:0,x_max:0,o:""}," ":{ha:417,x_min:0,x_max:0,o:""},"!":{ha:488,x_min:68,x_max:557,o:"m 461 908 l 542 903 q 557 904 553 903 q 369 581 481 794 q 243 322 258 368 l 186 311 q 285 582 210 364 q 389 875 361 800 q 461 908 401 908 m 221 68 q 176 36 206 65 q 136 -11 146 7 q 68 46 68 11 q 98 94 68 71 q 167 118 128 118 q 224 83 224 118 q 221 68 224 79 z "},'"':{ha:518,x_min:74,x_max:497,o:"m 497 958 q 469 920 497 957 q 384 799 440 883 q 315 689 328 714 q 288 683 311 683 q 264 688 264 683 q 372 957 271 697 q 438 974 379 974 q 497 958 497 974 m 306 960 q 277 919 306 957 q 192 797 249 882 q 124 689 135 713 q 98 683 122 683 q 74 688 74 683 q 182 957 81 699 q 247 974 189 974 q 306 960 306 974 z "},"#":{ha:1085,x_min:85,x_max:1040,o:"m 275 11 q 240 48 267 11 q 215 94 214 85 q 215 104 215 103 l 278 265 l 86 265 q 85 272 85 265 q 110 317 85 279 q 149 356 136 356 l 313 356 l 392 560 l 185 560 q 183 567 183 560 q 209 612 183 574 q 249 650 235 650 l 426 650 l 500 840 q 501 842 500 842 q 535 805 510 842 q 561 751 561 768 l 561 749 l 524 650 l 742 650 l 815 840 q 817 842 815 842 q 850 805 824 842 q 876 751 876 768 l 876 749 l 838 650 l 1039 650 q 1040 643 1040 650 q 1015 598 1040 636 q 975 560 989 560 l 803 560 l 724 356 l 939 356 q 940 349 940 356 q 915 303 940 342 q 875 265 889 265 l 689 265 l 592 13 l 590 11 q 556 48 582 11 q 530 94 529 85 q 531 104 531 103 l 593 265 l 374 265 l 276 13 l 275 11 m 628 356 l 706 560 l 488 560 l 410 356 l 628 356 z "},$:{ha:632,x_min:63,x_max:628,o:"m 618 776 q 628 737 628 761 q 613 694 628 713 q 571 676 599 676 l 563 676 q 500 763 563 728 l 422 558 l 449 540 q 567 365 567 458 q 477 194 567 272 q 257 117 388 117 l 251 117 l 175 -81 q 144 -85 174 -85 q 114 -74 114 -85 l 190 124 q 98 169 133 136 q 63 252 63 203 q 88 340 63 301 q 157 378 114 378 q 172 376 167 378 q 142 321 142 354 q 163 258 142 288 q 225 214 183 228 l 328 482 q 225 645 225 574 q 288 774 225 717 q 464 835 351 831 l 517 971 q 549 975 519 975 q 578 965 578 975 l 578 964 l 526 831 q 618 776 593 818 m 374 599 l 443 781 l 432 781 q 360 755 390 781 q 331 684 331 729 q 374 599 331 639 m 400 425 l 376 442 l 286 208 q 406 251 360 213 q 451 338 451 289 q 400 425 451 388 z "},"%":{ha:931,x_min:119,x_max:822,o:"m 801 933 q 683 813 758 869 l 222 0 q 182 -7 219 -7 q 144 -1 144 -7 l 144 0 l 600 799 q 561 793 581 793 q 469 828 504 793 q 471 792 471 817 q 409 603 471 693 q 247 514 347 514 q 151 558 183 514 q 119 669 119 601 q 182 858 119 771 q 342 944 244 944 q 442 897 404 944 q 527 850 481 850 q 621 880 574 850 q 693 951 668 910 q 757 975 707 975 q 807 947 807 975 q 801 933 807 944 m 814 203 q 735 56 793 118 q 606 -7 678 -7 q 501 37 533 -7 q 469 150 469 81 q 532 338 469 251 q 692 425 594 425 q 790 381 758 425 q 822 271 822 338 q 814 203 822 236 m 281 588 q 296 588 281 588 q 342 622 311 588 q 390 706 374 657 q 407 797 407 756 q 349 883 407 883 q 261 817 301 883 q 221 675 221 750 q 236 611 221 635 q 281 588 251 588 m 628 68 q 693 103 661 68 q 741 186 725 138 q 757 276 757 235 q 699 363 757 363 q 611 296 651 363 q 571 149 571 229 q 628 68 571 68 z "},"&":{ha:1096,x_min:18,x_max:1039,o:"m 538 471 l 476 481 q 261 384 350 481 q 172 190 172 288 q 222 63 172 114 q 363 11 272 11 q 600 90 511 11 q 689 256 689 169 q 613 342 689 342 q 571 313 589 342 q 551 261 553 283 q 529 322 529 288 q 567 390 529 356 q 667 444 606 425 l 876 508 q 1035 593 1017 550 q 1039 567 1039 585 q 997 472 1039 506 q 900 429 956 439 q 636 361 701 394 q 683 369 667 369 q 759 339 732 369 q 786 265 786 308 q 706 97 786 171 q 526 -11 626 22 q 354 -44 425 -44 q 231 -35 283 -44 q 129 -3 179 -25 q 49 62 79 19 q 18 163 18 104 q 135 404 18 304 q 401 511 251 504 q 323 578 351 536 q 294 667 294 619 q 356 816 294 751 q 499 909 417 881 q 663 938 582 938 q 797 898 743 938 q 850 803 850 858 q 814 713 850 749 q 735 678 778 678 q 708 685 717 678 q 771 785 771 719 q 661 867 771 867 q 475 796 551 867 q 399 646 399 725 q 435 557 399 588 q 515 524 471 526 l 543 524 q 581 508 581 524 q 566 484 581 497 q 538 471 551 471 z "},"'":{ha:199,x_min:131,x_max:356,o:"m 356 903 q 251 720 317 813 q 150 628 185 628 q 131 633 140 628 q 238 906 215 760 q 297 924 239 924 q 356 906 356 924 l 356 903 z "},"(":{ha:861,x_min:69,x_max:850,o:"m 850 981 l 839 943 q 528 782 676 903 q 288 494 381 661 q 196 157 196 326 q 328 -12 196 -12 q 374 -10 351 -12 l 364 -51 q 226 -74 306 -74 q 108 -14 147 -74 q 69 135 69 46 q 138 414 69 269 q 317 674 207 558 q 569 874 426 790 q 850 981 711 957 z "},")":{ha:797,x_min:1,x_max:782,o:"m 782 774 q 599 308 782 539 q 319 56 479 158 q 1 -72 160 -46 l 13 -35 q 458 263 263 29 q 654 749 654 497 q 524 921 654 921 q 478 918 497 921 l 488 960 q 625 982 546 982 q 743 922 704 982 q 782 774 782 861 z "},"*":{ha:906,x_min:11,x_max:864,o:"m 831 814 l 864 711 l 490 574 l 489 569 l 781 436 l 685 332 l 456 531 l 446 526 l 386 193 l 260 193 l 401 526 l 396 531 l 44 332 l 11 435 l 385 568 l 386 574 l 94 710 l 190 813 l 421 613 l 429 615 l 490 953 l 615 953 l 474 615 l 479 613 l 831 814 z "},"+":{ha:1003,x_min:63,x_max:974,o:"m 150 522 l 481 511 q 588 797 557 701 q 644 833 592 814 q 711 853 697 853 q 725 851 725 853 l 725 850 q 572 511 590 553 q 972 518 886 514 q 974 515 974 518 q 939 465 974 503 q 886 428 904 428 l 542 440 q 463 256 503 361 q 413 103 424 150 q 355 67 408 86 q 288 47 301 47 q 274 49 274 47 l 274 50 q 453 442 344 181 q 127 437 192 442 q 63 433 63 432 q 97 484 63 446 q 150 522 132 522 z "},",":{ha:376,x_min:117,x_max:342,o:"m 342 89 q 237 -94 303 -1 q 136 -186 171 -186 q 117 -181 126 -186 q 224 92 201 -54 q 283 110 225 110 q 342 92 342 110 l 342 89 z "},"-":{ha:681,x_min:213,x_max:667,o:"m 278 400 l 665 400 q 667 393 667 400 q 641 348 667 386 q 601 310 615 310 l 214 310 q 213 317 213 310 q 239 362 213 324 q 278 400 265 400 z "},".":{ha:376,x_min:156,x_max:311,o:"m 308 68 q 263 36 293 65 q 224 -11 233 7 q 156 46 156 11 q 185 94 156 71 q 254 118 215 118 q 311 83 311 118 q 308 68 311 79 z "},"/":{ha:632,x_min:97,x_max:942,o:"m 942 964 l 169 -81 q 132 -85 167 -85 q 97 -75 97 -85 l 97 -74 l 869 971 q 908 975 874 975 q 942 965 942 975 l 942 964 z "},":":{ha:394,x_min:156,x_max:456,o:"m 308 68 q 263 36 293 65 q 224 -11 233 7 q 156 46 156 11 q 185 94 156 71 q 254 118 215 118 q 311 83 311 118 q 308 68 311 79 m 453 492 q 408 460 438 489 q 368 413 378 431 q 300 469 300 435 q 330 518 300 494 q 399 542 360 542 q 456 507 456 542 q 453 492 456 503 z "},";":{ha:475,x_min:117,x_max:493,o:"m 490 468 q 445 436 475 465 q 406 389 415 407 q 338 446 338 411 q 367 494 338 471 q 436 518 397 518 q 493 483 493 518 q 490 468 493 479 m 342 89 q 237 -94 303 -1 q 136 -186 171 -186 q 117 -181 126 -186 q 224 92 201 -54 q 283 110 225 110 q 342 92 342 110 l 342 89 z "},"<":{ha:665,x_min:36,x_max:642,o:"m 635 801 q 639 803 636 803 q 642 788 642 803 q 621 744 642 774 q 425 588 582 699 q 172 418 268 476 q 503 111 433 232 q 504 103 504 108 q 472 56 504 83 q 424 29 440 29 q 419 31 421 29 q 71 357 236 238 q 36 396 36 381 q 78 435 36 411 q 635 801 365 597 z "},"=":{ha:738,x_min:133,x_max:714,o:"m 269 590 l 713 590 q 714 583 714 590 q 690 543 714 576 q 653 510 665 510 l 210 510 q 208 517 208 510 q 232 557 208 524 q 269 590 256 590 m 194 331 l 638 331 q 639 324 639 331 q 615 283 639 317 q 578 250 590 250 l 135 250 q 133 257 133 250 q 157 297 133 264 q 194 331 181 331 z "},">":{ha:665,x_min:111,x_max:718,o:"m 683 475 q 718 435 718 451 q 676 396 718 419 q 119 31 382 229 q 114 28 117 28 q 111 35 111 28 q 133 86 111 64 q 324 240 171 132 q 582 414 478 349 q 388 567 486 481 q 251 721 290 654 q 249 729 249 726 q 281 776 249 749 q 331 803 314 803 q 335 801 333 803 q 683 475 518 594 z "},"?":{ha:765,x_min:118,x_max:769,o:"m 293 326 l 294 307 q 277 278 294 290 q 242 267 260 267 q 210 304 210 267 q 300 447 210 379 l 333 469 q 581 679 514 585 q 611 772 611 724 q 578 856 611 821 q 492 890 546 890 q 389 856 453 890 q 333 801 357 838 q 310 730 310 765 q 319 675 310 694 q 274 664 300 664 q 226 689 249 664 q 203 756 203 714 q 258 861 203 818 q 508 938 356 938 q 769 772 769 938 q 709 628 769 676 q 547 538 649 579 q 390 460 443 492 q 293 326 293 397 m 271 68 q 226 36 256 65 q 186 -11 196 7 q 118 46 118 11 q 148 94 118 71 q 217 118 178 118 q 274 83 274 118 q 271 68 274 79 z "},"@":{ha:1274,x_min:122,x_max:1215,o:"m 1128 264 q 1006 157 1086 200 q 856 114 926 114 q 744 151 785 114 q 704 267 704 189 q 721 376 704 314 q 489 169 590 169 q 420 204 449 169 q 392 297 392 239 q 486 583 392 449 q 717 717 581 717 q 788 695 763 717 q 833 617 814 674 q 877 681 857 664 q 943 697 897 697 l 1021 697 q 881 476 947 639 q 814 239 814 314 q 881 149 814 149 q 1049 272 979 149 q 1118 526 1118 394 q 1019 805 1118 690 q 740 919 921 919 q 477 838 596 919 q 294 628 358 756 q 231 379 231 501 q 265 175 231 257 q 358 47 300 93 q 632 -44 475 -44 q 942 34 789 -44 q 1154 208 1096 113 q 1164 217 1158 217 q 1169 193 1169 217 q 1128 81 1169 132 q 1026 0 1088 31 q 888 -53 965 -31 q 615 -90 750 -90 q 259 16 396 -90 q 122 340 122 122 q 165 560 122 453 q 285 755 208 668 q 481 894 363 842 q 736 947 599 947 q 1085 831 954 947 q 1215 540 1215 714 q 1128 264 1215 400 m 797 546 l 828 606 q 799 649 824 633 q 743 664 775 664 q 579 560 643 664 q 515 354 515 457 q 529 289 515 313 q 564 265 543 265 q 680 361 608 265 q 797 546 751 457 z "},A:{ha:1042,x_min:17,x_max:1132,o:"m 650 969 l 961 969 q 840 917 926 935 q 646 888 754 899 q 504 871 538 878 q 356 693 356 836 q 313 789 313 738 q 650 969 313 969 m 1032 969 l 1132 969 q 1002 635 1068 908 q 936 214 936 363 q 975 68 936 108 q 1017 50 992 50 q 1069 68 1042 50 l 1078 56 q 1008 8 1058 28 q 910 -12 958 -12 q 811 39 838 -12 q 781 176 785 90 q 799 360 781 247 l 481 360 q 156 0 274 140 l 17 0 q 422 392 147 119 q 888 881 776 744 q 929 927 915 914 q 972 955 943 940 q 1032 969 1000 969 m 889 774 q 542 429 731 625 l 808 429 q 889 774 833 567 z "},B:{ha:806,x_min:-42,x_max:853,o:"m 853 761 q 667 539 838 613 q 585 514 626 522 q 801 308 801 474 q 652 72 801 168 q 282 -24 503 -24 q 101 10 174 -24 q 29 124 29 44 q 132 463 29 221 q 322 875 235 704 q 343 914 336 903 l 293 907 q 94 856 185 892 q -29 765 3 819 q -36 761 -31 761 q -42 769 -42 761 q -40 779 -42 776 q 153 956 13 924 q 324 969 217 969 l 597 969 q 788 915 724 969 q 853 779 853 861 l 853 761 m 708 797 q 515 928 696 919 q 343 610 450 843 q 207 273 236 376 q 178 116 178 169 q 208 47 178 63 q 310 31 239 31 q 540 102 442 31 q 639 315 639 174 q 605 435 639 385 q 506 493 571 485 q 339 469 419 469 q 315 479 315 469 q 358 523 315 511 q 440 535 401 535 q 517 529 479 535 q 658 629 607 557 q 708 779 708 701 l 708 797 z "},C:{ha:944,x_min:74,x_max:1006,o:"m 994 772 q 912 676 972 715 q 786 638 851 638 q 736 651 756 638 q 717 685 717 664 q 733 729 717 706 q 768 724 749 724 q 868 761 822 724 q 914 851 914 799 q 807 932 914 932 q 531 835 665 932 q 313 583 396 738 q 231 268 231 428 q 456 21 231 21 q 753 129 596 21 q 961 364 910 238 q 988 315 988 346 q 899 160 988 253 q 675 13 810 68 q 400 -42 540 -42 q 74 263 74 -42 q 125 503 74 378 q 264 737 176 629 q 483 914 351 844 q 742 983 614 983 q 938 940 869 983 q 1006 828 1006 896 q 994 772 1006 803 z "},D:{ha:986,x_min:-28,x_max:1011,o:"m 1004 497 q 881 213 978 333 q 644 32 783 92 q 343 -28 506 -28 q 42 126 42 -28 q 336 875 42 293 q 357 914 350 903 q 133 865 247 906 q -15 765 19 825 q -22 761 -17 761 q -28 769 -28 761 q -26 779 -28 776 q 167 956 26 924 q 338 969 231 969 l 622 969 q 915 863 819 969 q 1011 590 1011 756 q 1004 497 1011 550 m 858 486 q 874 608 874 550 q 794 832 874 743 q 673 903 750 881 q 529 926 596 926 q 370 638 463 839 q 221 260 278 438 q 192 119 192 172 q 219 49 192 65 q 318 32 247 32 q 663 162 511 32 q 858 486 814 292 z "},E:{ha:792,x_min:-28,x_max:817,o:"m 613 969 l 764 976 q 812 959 807 976 q 817 933 817 942 q 783 810 817 885 q 734 736 749 736 q 719 747 719 736 l 731 831 q 696 899 731 874 q 613 924 661 924 q 540 917 564 924 q 503 888 517 910 q 318 543 401 736 l 681 543 l 682 542 q 663 503 682 532 q 631 475 643 475 l 288 475 q 214 269 250 383 q 178 119 178 156 q 200 65 178 82 q 275 47 222 47 q 756 206 681 47 q 766 210 758 210 q 774 201 774 210 q 771 179 774 193 q 656 26 732 58 q 580 5 615 10 q 489 0 544 0 l 69 0 q 26 65 26 0 q 150 475 26 178 l 74 475 q 63 482 63 475 q 89 519 63 496 q 132 543 115 543 l 179 543 q 364 917 307 850 q 126 861 233 900 q -15 765 18 822 q -22 761 -17 761 q -28 769 -28 761 q -26 779 -28 776 q 167 956 26 924 q 338 969 231 969 l 613 969 z "},F:{ha:528,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 733 898 772 872 q 644 924 693 924 q 573 917 596 924 q 535 888 550 910 q 363 543 469 794 l 671 543 l 672 542 q 653 503 672 532 q 621 475 633 475 l 333 475 q 199 31 199 147 q 204 0 199 10 l 25 0 q 192 475 63 158 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 403 917 339 822 q 26 765 89 872 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 z "},G:{ha:1028,x_min:71,x_max:1100,o:"m 1100 435 q 1067 361 1090 385 q 1003 331 1043 338 q 449 -53 861 -53 q 169 33 267 -53 q 71 272 71 118 q 125 515 71 389 q 269 744 179 640 q 489 916 358 849 q 744 983 619 983 q 938 940 869 983 q 1006 824 1006 896 q 938 695 1006 753 q 786 638 869 638 q 736 651 756 638 q 717 685 717 664 q 733 729 717 706 q 768 724 749 724 q 868 761 822 724 q 914 851 914 799 q 809 932 914 932 q 600 869 704 932 q 418 708 496 806 q 291 485 340 610 q 242 240 242 360 q 303 64 242 121 q 465 7 364 7 q 740 97 611 7 q 892 326 869 186 q 593 319 643 326 q 610 351 600 332 q 648 403 621 371 q 693 435 675 435 l 1100 435 z "},H:{ha:944,x_min:61,x_max:1190,o:"m 1101 969 l 1190 969 q 1017 692 1121 915 q 829 132 829 293 q 881 50 829 50 q 935 68 903 50 l 936 68 q 940 60 940 68 q 870 10 940 33 q 757 -12 800 -12 q 672 78 672 -12 q 785 475 672 196 l 392 475 q 300 233 346 368 q 254 31 254 97 q 260 0 254 10 l 81 0 q 244 467 119 168 q 460 918 411 864 q 220 870 342 915 q 79 763 99 825 q 74 758 78 758 q 61 776 61 758 q 64 790 61 779 q 140 908 90 867 q 238 960 190 950 q 357 969 286 969 l 671 969 q 419 543 576 897 l 813 543 q 997 928 943 849 q 1033 956 1007 943 q 1101 969 1060 969 z "},I:{ha:389,x_min:33,x_max:643,o:"m 329 969 l 643 969 q 379 514 547 896 q 281 259 336 417 q 226 29 226 101 q 232 0 226 10 l 53 0 q 217 467 92 168 q 432 918 383 864 q 192 870 314 915 q 51 763 71 825 q 46 758 50 758 q 33 776 33 758 q 36 790 33 779 q 113 908 63 867 q 210 960 163 950 q 329 969 258 969 z "},J:{ha:542,x_min:-118,x_max:817,o:"m -54 -4 l -56 -12 q -35 -70 -56 -51 q 14 -89 -15 -89 q 422 506 182 -89 q 441 553 426 517 q 493 664 456 589 q 585 815 531 739 q 682 906 640 890 q 539 917 642 917 q 309 872 436 917 q 161 763 182 828 q 156 758 158 758 q 143 776 143 758 q 146 790 143 779 q 222 908 172 867 q 320 960 272 950 q 439 969 368 969 l 504 969 l 817 968 q 703 872 735 906 q 636 770 671 839 q 571 617 601 701 q 519 467 540 532 q 481 350 499 401 q 434 222 464 299 q 376 88 404 146 q 307 -35 347 29 q 225 -140 267 -99 q 26 -236 132 -236 q -78 -199 -39 -236 q -118 -101 -118 -162 q -103 -40 -118 -72 q -54 -4 -87 -8 z "},K:{ha:889,x_min:54,x_max:1217,o:"m 1210 954 q 917 826 1121 954 q 553 553 714 699 q 718 231 599 400 q 926 3 838 61 q 860 -1 906 -1 l 742 3 q 638 92 703 3 q 522 292 572 182 q 460 465 471 401 q 326 308 381 386 q 274 181 304 276 q 244 48 244 86 q 250 0 244 10 l 71 0 q 227 465 115 171 q 428 885 339 758 q 451 918 428 886 q 212 870 333 915 q 71 763 90 825 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 350 969 249 969 l 664 969 q 500 736 594 917 q 346 406 406 556 q 498 584 403 486 q 702 772 593 682 q 927 921 811 861 q 1130 981 1043 981 q 1217 961 1217 981 q 1210 954 1217 954 z "},L:{ha:792,x_min:-14,x_max:786,o:"m 783 179 q 669 26 744 58 q 594 5 629 10 q 503 0 558 0 l 82 0 q 26 78 26 0 q 358 875 26 276 q 385 918 383 915 q 145 870 267 915 q 4 763 24 825 q -1 758 3 758 q -14 776 -14 758 q -2 814 -14 779 q 42 886 10 849 q 114 942 74 924 q 282 969 182 969 l 597 969 q 451 765 540 926 q 276 412 361 604 q 190 138 190 219 q 289 47 190 47 q 769 206 692 47 q 776 210 772 210 q 786 196 786 210 q 783 179 786 193 z "},M:{ha:1167,x_min:53,x_max:1428,o:"m 1342 969 l 1428 969 q 1239 669 1365 921 q 1051 126 1051 292 q 1100 50 1051 50 q 1154 68 1122 50 l 1156 68 q 1160 61 1160 68 q 1090 11 1160 35 q 975 -12 1019 -12 q 882 89 882 -12 q 1165 801 882 265 q 1090 726 1110 749 q 693 235 957 578 q 617 146 638 164 q 562 128 596 128 q 483 149 528 128 q 518 419 518 193 q 490 829 518 644 q 310 415 440 736 q 179 13 179 94 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 525 969 q 591 956 567 969 q 625 890 615 942 q 644 649 635 838 q 653 385 653 461 q 650 281 653 308 q 1164 904 849 529 q 1342 969 1219 969 z "},N:{ha:889,x_min:53,x_max:1192,o:"m 1192 968 q 1035 735 1136 932 q 856 323 935 538 q 778 25 778 108 q 781 0 778 7 l 693 0 q 665 141 689 81 q 628 231 640 201 q 585 331 615 261 q 531 456 554 400 q 449 742 458 624 q 268 310 357 538 q 179 13 179 82 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 583 969 q 564 892 564 938 q 643 603 564 789 q 728 381 715 429 q 745 318 742 333 q 750 282 749 303 q 753 256 751 261 q 1063 969 771 300 q 1088 976 1065 976 q 1149 972 1111 976 q 1192 968 1186 968 z "},O:{ha:1060,x_min:88,x_max:1138,o:"m 1081 421 q 819 84 989 213 q 432 -44 649 -44 q 88 260 88 -44 q 145 530 88 397 q 297 762 203 663 q 521 922 392 861 q 785 983 650 983 q 1049 897 961 983 q 1138 680 1138 810 q 1081 421 1138 550 m 1022 693 q 819 919 1022 919 q 538 818 672 919 q 327 564 404 717 q 250 258 250 411 q 299 81 250 149 q 453 13 347 13 q 667 76 560 13 q 850 240 774 140 q 974 460 926 339 q 1022 693 1022 582 z "},P:{ha:681,x_min:19,x_max:922,o:"m 922 761 q 864 601 914 669 q 736 494 814 532 q 392 419 588 419 q 328 424 357 419 q 213 31 213 132 q 218 0 213 10 l 39 0 q 203 467 78 168 q 418 918 369 864 q 178 870 300 915 q 38 763 57 825 q 32 758 36 758 q 19 776 19 758 q 22 790 19 779 q 99 908 49 867 q 197 960 149 950 q 315 969 244 969 l 667 969 q 858 915 793 969 q 922 779 922 861 l 922 761 m 353 446 q 552 481 453 446 q 715 587 651 515 q 779 757 779 658 q 588 928 779 915 q 365 514 496 814 l 336 446 l 353 446 z "},Q:{ha:1060,x_min:115,x_max:1165,o:"m 1108 421 q 789 46 997 169 q 813 -38 800 21 q 838 -143 826 -97 q 874 -226 849 -189 q 933 -262 900 -262 q 988 -240 965 -262 q 999 -282 999 -262 q 959 -358 999 -328 q 867 -389 919 -389 q 778 -363 814 -389 q 727 -290 743 -337 q 704 -199 711 -242 q 692 -93 697 -156 q 683 -4 688 -31 q 460 -44 578 -44 q 115 260 115 -44 q 173 530 115 397 q 325 762 231 663 q 549 922 419 861 q 813 983 678 983 q 1078 897 990 983 q 1165 680 1165 810 q 1108 421 1165 550 m 1050 693 q 856 919 1050 919 q 640 857 747 919 q 456 697 533 794 q 330 480 378 600 q 282 251 282 360 q 330 78 282 143 q 475 14 378 14 q 668 61 572 14 q 629 118 654 99 q 578 138 604 138 l 540 132 q 528 140 528 132 q 555 167 528 158 q 611 176 582 176 q 747 111 689 176 q 966 377 882 213 q 1050 693 1050 542 z "},R:{ha:847,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 z "},S:{ha:726,x_min:72,x_max:849,o:"m 609 994 q 673 994 609 994 q 793 953 738 994 q 849 852 849 911 q 809 742 849 793 q 699 692 769 692 q 628 751 628 692 q 631 774 628 757 q 696 803 668 774 q 724 867 724 832 q 690 924 724 901 q 610 946 657 946 q 476 897 529 946 q 424 783 424 849 q 449 707 424 749 q 497 641 474 665 q 572 569 519 617 q 633 511 624 521 q 739 281 739 406 q 626 65 739 157 q 357 -28 514 -28 q 151 14 229 -28 q 72 144 72 56 q 104 233 72 193 q 195 274 136 274 q 275 232 254 274 q 226 138 226 193 q 263 53 226 83 q 360 24 300 24 q 506 83 443 24 q 569 234 569 143 q 450 451 569 325 q 401 503 449 454 q 323 604 354 553 q 292 726 292 656 q 386 921 292 847 q 609 994 481 994 z "},T:{ha:556,x_min:0,x_max:1053,o:"m 840 871 l 644 879 q 553 713 631 879 q 418 392 475 547 q 361 167 361 236 q 405 99 361 99 q 515 189 449 99 q 529 197 522 197 q 536 185 536 197 q 517 139 536 172 q 468 67 499 106 q 389 -1 438 29 q 289 -31 340 -31 q 213 75 213 -31 q 344 519 213 206 q 518 886 439 740 l 500 886 l 357 889 q 149 858 238 889 q 72 809 100 842 q 43 731 43 776 l 54 672 q 40 658 54 658 q 11 694 22 658 q 0 756 0 729 q 31 867 0 821 q 114 936 61 913 q 335 981 214 981 q 608 966 456 981 q 886 951 761 951 q 1049 990 1011 951 q 1053 971 1053 981 q 994 898 1053 925 q 840 871 936 871 z "},U:{ha:986,x_min:56,x_max:1239,o:"m 428 875 q 454 918 453 915 q 215 870 336 915 q 74 763 93 825 q 68 758 72 758 q 56 776 56 758 q 67 814 56 779 q 111 886 79 849 q 183 942 143 924 q 351 969 251 969 l 667 969 q 509 744 603 921 q 361 433 415 568 q 285 167 285 257 q 356 78 285 78 q 510 163 415 78 q 696 372 604 249 q 950 755 876 618 q 1064 931 1024 892 q 1153 969 1104 969 l 1239 969 q 1049 669 1174 919 q 861 126 861 292 q 910 50 861 50 q 965 68 933 50 l 967 68 q 971 60 971 68 q 901 11 971 33 q 789 -11 832 -11 q 700 92 700 -11 q 736 256 700 143 q 828 490 772 369 q 519 92 621 182 q 311 -10 407 -10 q 151 144 151 -10 q 235 469 151 258 q 428 875 319 679 z "},V:{ha:625,x_min:56,x_max:931,o:"m 806 969 l 931 969 q 665 558 885 894 q 415 174 446 222 q 371 105 385 126 q 351 73 357 83 q 331 46 344 63 q 308 21 318 29 q 253 0 282 0 l 164 0 q 190 98 186 43 q 197 214 194 153 q 202 347 199 275 q 206 493 206 418 q 122 861 206 861 q 63 813 93 861 l 61 811 q 56 819 56 811 l 56 821 q 133 930 72 872 q 236 988 193 988 q 326 877 304 988 q 349 556 349 767 q 332 154 349 346 q 598 581 442 308 q 806 969 754 853 z "},W:{ha:1389,x_min:14,x_max:1532,o:"m 1532 843 l 1532 821 q 1447 501 1532 681 q 1239 186 1363 322 q 1083 61 1172 114 q 901 8 993 8 q 729 267 729 8 q 754 486 729 361 q 539 144 642 264 q 265 -6 408 -6 q 158 43 200 -6 q 115 199 115 92 q 215 545 115 339 q 451 874 314 751 q 514 911 476 897 q 351 888 461 900 q 206 868 242 876 q 57 690 57 835 q 14 786 14 735 q 367 969 14 969 l 651 969 q 654 965 654 969 q 637 940 654 960 q 604 911 619 921 q 467 761 544 875 q 325 491 389 647 q 261 211 261 335 q 349 88 261 88 q 657 399 447 88 q 756 594 700 464 q 833 766 811 724 q 913 852 856 808 q 1019 896 971 896 q 1067 882 1067 896 q 928 611 993 782 q 863 285 863 440 q 975 88 863 94 q 1117 157 1047 88 q 1235 317 1188 226 q 1325 522 1283 408 q 1396 825 1396 713 q 1322 938 1396 938 q 1272 928 1300 938 q 1306 969 1275 953 q 1388 985 1338 985 q 1483 949 1439 985 q 1532 843 1528 914 z "},X:{ha:778,x_min:0,x_max:1097,o:"m 1097 965 q 619 518 860 761 q 761 64 701 210 q 793 0 783 11 l 597 0 l 493 389 q 150 0 310 196 l 0 0 q 476 454 281 257 l 383 817 q 317 876 368 876 q 211 822 265 876 q 207 821 210 821 q 197 833 197 821 q 201 849 197 844 q 316 931 249 894 q 431 968 383 968 q 499 947 478 968 q 527 903 519 926 q 551 805 535 881 q 603 582 568 729 q 938 943 781 764 q 1025 967 960 967 q 1063 966 1039 967 q 1097 965 1088 965 z "},Y:{ha:950,x_min:6,x_max:1050,o:"m 1050 969 q 792 735 919 879 q 539 349 633 556 q 461 111 486 231 q 450 35 450 60 q 456 0 450 10 l 276 0 q 331 172 282 24 q 381 387 381 321 q 349 564 381 453 q 263 767 317 675 q 160 860 210 860 q 15 751 97 860 q 13 750 14 750 q 6 761 6 750 q 7 774 6 772 q 110 919 56 872 q 247 965 164 965 q 368 922 331 965 q 444 749 406 879 q 519 468 482 619 q 675 689 549 508 q 857 942 801 869 q 971 971 879 971 q 1013 970 986 971 q 1050 969 1040 969 z "},Z:{ha:949,x_min:0,x_max:1111,o:"m 1111 969 q 268 178 776 678 q 382 143 307 158 q 679 100 571 100 q 853 200 853 100 q 833 240 853 226 q 838 249 833 243 q 846 254 843 254 q 915 225 885 253 q 944 158 944 197 q 876 37 944 92 q 708 -18 807 -18 q 513 17 608 -18 q 346 87 418 51 q 242 122 274 122 q 149 53 211 122 q 50 -15 86 -15 q 14 1 28 -15 q 0 40 0 17 q 43 108 0 82 q 499 484 218 217 q 900 872 779 751 q 776 833 850 850 q 658 817 703 817 q 521 826 613 817 q 395 835 429 835 q 320 799 361 835 q 275 717 279 764 q 261 708 275 708 q 251 736 251 708 q 295 859 251 793 q 380 949 339 925 q 487 974 421 974 q 664 949 553 974 q 848 924 775 924 q 975 949 921 924 q 1064 975 1029 975 q 1111 969 1099 975 z "},"[":{ha:632,x_min:18,x_max:726,o:"m 389 989 l 726 989 l 704 922 l 492 922 l 165 -40 l 378 -40 l 356 -107 l 18 -107 q 389 989 372 940 z "},"\\":{ha:632,x_min:119,x_max:589,o:"m 236 971 l 589 -74 q 563 -81 590 -78 q 504 -85 535 -85 q 472 -81 474 -85 l 119 964 q 146 972 118 968 q 203 975 174 975 q 236 971 233 975 z "},"]":{ha:632,x_min:18,x_max:726,o:"m 389 989 l 726 989 l 356 -107 l 18 -107 l 40 -40 l 253 -40 l 579 922 l 367 922 l 389 989 z "},"^":{ha:738,x_min:225,x_max:732,o:"m 732 682 l 732 681 q 712 656 732 672 q 678 640 692 640 q 603 719 650 640 q 525 868 557 797 q 357 718 456 799 q 233 638 258 638 q 225 640 225 638 q 226 643 225 642 q 526 924 390 776 q 553 944 544 944 q 576 919 563 944 q 732 682 625 815 z "},_:{ha:1053,x_min:-65,x_max:1054,o:"m 0 -139 l 1053 -139 q 1054 -146 1054 -139 q 1028 -191 1054 -153 q 989 -229 1001 -229 l -64 -229 q -65 -222 -65 -229 q -40 -177 -65 -215 q 0 -139 -14 -139 z "},"`":{ha:738,x_min:454,x_max:732,o:"m 560 806 q 477 846 500 836 q 454 858 454 856 q 482 882 454 867 q 521 897 510 897 q 538 894 532 897 q 611 842 563 876 l 690 782 q 732 754 722 758 q 718 744 732 750 q 701 738 704 738 q 658 757 697 738 q 560 806 658 757 z "},a:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 z "},b:{ha:615,x_min:33,x_max:731,o:"m 722 356 q 731 330 731 356 q 722 290 731 304 l 692 239 q 581 89 624 126 q 489 46 533 46 q 411 100 431 46 q 296 15 354 43 q 165 -14 238 -14 q 63 9 93 -14 q 33 85 33 32 q 50 207 33 139 q 194 638 93 390 q 354 901 296 886 q 420 906 372 906 q 478 908 468 907 q 331 672 424 868 q 192 296 239 476 q 475 561 342 561 q 569 426 569 561 q 456 150 569 290 q 469 113 457 126 q 501 99 482 99 q 544 116 521 99 q 578 147 567 133 q 610 185 590 160 q 656 252 629 210 q 701 325 682 294 q 722 356 719 356 m 414 443 q 392 444 410 444 q 327 408 375 444 q 215 270 279 372 q 151 102 151 168 q 192 36 151 36 q 350 178 265 36 q 435 403 435 321 q 414 443 435 438 z "},c:{ha:497,x_min:47,x_max:611,o:"m 603 356 q 611 329 611 356 q 588 264 611 303 q 552 205 565 225 q 507 140 539 185 q 451 76 475 96 q 392 31 428 57 q 233 -14 331 -14 q 91 35 135 -14 q 47 164 47 85 q 151 431 47 310 q 394 553 254 553 q 494 520 457 553 q 532 442 532 488 q 507 364 532 397 q 450 331 482 331 q 388 382 388 331 q 422 414 388 399 q 447 435 436 419 q 458 475 458 450 q 419 511 458 511 q 254 390 336 511 q 172 156 172 269 q 271 43 172 43 q 539 256 408 43 q 583 326 565 297 q 603 356 600 356 z "},d:{ha:661,x_min:39,x_max:835,o:"m 835 908 q 715 722 789 875 q 583 398 640 568 q 526 151 526 228 q 550 107 526 107 q 609 138 574 107 q 660 189 644 168 q 701 252 675 210 q 745 326 726 294 q 767 357 764 357 q 776 331 776 357 q 661 128 775 282 q 571 35 624 78 q 475 -8 518 -8 q 401 101 401 -8 q 442 308 401 182 q 296 89 378 182 q 132 -4 214 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 374 561 282 561 q 501 500 467 561 q 581 676 540 576 q 635 806 622 776 q 655 850 649 836 q 671 876 661 864 q 708 901 686 896 q 777 906 729 906 q 835 908 825 907 m 494 483 q 439 508 478 508 q 313 445 376 508 q 212 299 250 382 q 174 154 174 217 q 207 111 174 111 q 494 483 319 111 z "},e:{ha:497,x_min:47,x_max:614,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 z "},f:{ha:471,x_min:-240,x_max:879,o:"m 185 435 q 69 236 81 236 q 63 259 63 236 q 71 299 63 282 q 174 521 139 415 q 186 545 179 539 q 210 551 193 551 l 221 551 l 343 542 q 372 618 351 563 q 403 703 392 674 q 436 782 414 732 q 476 861 458 832 q 524 927 494 890 q 582 983 553 964 q 735 1031 653 1031 q 879 924 879 1031 q 856 851 879 883 q 796 819 833 819 q 765 829 778 819 q 751 852 751 839 q 772 895 751 865 q 793 947 793 925 q 776 982 793 968 q 735 996 758 996 q 651 951 693 996 q 575 835 610 907 q 465 565 514 708 q 463 556 464 558 q 456 536 458 544 q 706 556 675 536 q 628 497 688 511 q 436 481 568 483 l 396 364 q 263 24 310 117 q 173 -135 215 -68 q 89 -244 131 -201 q -107 -344 -6 -344 q -208 -312 -175 -344 q -240 -241 -240 -281 q -222 -175 -240 -201 q -182 -149 -204 -149 q -149 -159 -160 -149 q -137 -181 -137 -169 q -152 -219 -137 -193 q -167 -262 -167 -244 q -157 -293 -167 -281 q -122 -306 -147 -306 q -63 -281 -97 -306 q 3 -211 -29 -257 q 318 479 122 -35 l 279 479 q 185 435 208 479 z "},g:{ha:606,x_min:-53,x_max:711,o:"m 656 556 l 711 556 q 647 471 682 536 q 588 342 613 406 q 525 169 564 279 q 375 -159 439 -78 q 231 -284 311 -240 q 86 -328 151 -328 q -53 -240 -53 -328 q -31 -175 -53 -206 q 26 -144 -10 -144 q 75 -174 63 -144 q 53 -203 61 -182 q 46 -242 46 -224 q 60 -274 46 -261 q 99 -286 75 -286 q 219 -219 165 -286 q 311 -62 274 -151 q 444 304 321 -39 q 136 -4 281 -4 q 42 124 42 -4 q 84 321 42 221 q 206 491 126 421 q 379 561 285 561 q 462 542 422 561 q 513 478 501 522 q 562 539 533 522 q 656 556 590 556 m 507 465 q 442 510 493 510 q 263 381 350 510 q 176 153 176 253 q 210 111 176 111 q 294 156 246 111 q 382 263 343 201 q 507 465 507 456 z "},h:{ha:608,x_min:-28,x_max:722,o:"m 708 279 q 419 -8 538 -8 q 338 86 338 -8 q 425 399 338 196 q 444 469 444 450 q 419 497 444 497 q 363 478 403 497 q 288 421 324 458 q 227 334 251 383 q 188 249 203 285 q 158 160 174 213 q 131 76 143 108 q 107 0 119 43 l -28 0 q 80 306 10 96 q 200 637 150 517 q 298 840 250 757 q 408 978 346 922 q 538 1033 469 1033 q 607 968 607 1033 q 569 847 607 922 q 300 481 489 689 q 419 551 375 535 q 503 568 463 568 q 582 499 582 568 q 572 447 582 471 q 551 393 563 424 q 531 343 539 363 q 511 290 524 324 q 492 233 499 257 q 474 140 474 175 q 497 106 474 106 q 706 347 581 106 q 716 357 710 357 q 722 331 722 357 q 708 279 722 306 m 540 999 q 413 844 492 999 q 260 490 335 690 q 519 857 450 714 q 558 972 558 944 q 540 999 558 999 z "},i:{ha:301,x_min:35,x_max:474,o:"m 447 739 l 442 739 q 388 715 414 739 q 351 667 363 692 q 315 717 315 681 q 349 790 315 753 q 413 826 382 826 q 458 813 443 826 q 474 777 474 799 q 447 739 474 756 m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 z "},j:{ha:299,x_min:-414,x_max:474,o:"m 286 542 l 342 542 q 293 488 311 524 q 265 434 275 453 q 240 375 256 415 q 217 314 240 375 q 169 183 190 244 q 141 101 149 122 q 113 32 133 81 q 79 -43 93 -17 q 40 -114 65 -69 q -7 -183 15 -158 q -62 -240 -29 -208 q -128 -287 -94 -271 q -274 -328 -206 -328 q -414 -242 -414 -328 q -392 -176 -414 -207 q -334 -144 -371 -144 q -285 -174 -297 -144 q -306 -203 -299 -182 q -314 -242 -314 -224 q -299 -274 -314 -261 q -260 -287 -285 -287 q -50 -64 -143 -286 q 36 175 -17 15 q 171 508 136 471 q 286 542 204 542 m 447 739 l 442 739 q 388 715 414 739 q 351 667 363 692 q 315 717 315 681 q 349 790 315 753 q 413 826 382 826 q 458 813 443 826 q 474 777 474 799 q 447 739 474 756 z "},k:{ha:571,x_min:-40,x_max:685,o:"m 669 276 q 571 128 621 194 q 360 -11 464 -11 q 274 46 303 -11 q 246 172 246 103 q 288 311 246 311 q 408 341 353 311 q 464 419 464 371 q 419 458 464 458 q 207 250 324 458 q 160 153 196 229 q 98 39 125 78 q 44 0 71 0 l -40 0 q 87 326 3 81 q 211 654 171 571 q 228 690 213 657 q 251 736 244 724 q 275 783 257 749 q 304 835 293 818 q 335 883 315 851 q 369 931 354 914 q 406 970 385 947 q 444 1004 426 993 q 531 1032 492 1032 q 607 963 607 1032 q 490 705 607 865 q 225 401 372 544 l 200 332 q 351 483 267 418 q 507 547 436 547 q 570 528 547 547 q 593 475 593 508 q 526 352 593 399 q 371 292 458 306 q 411 115 383 147 q 446 100 425 100 q 503 125 467 100 q 562 180 539 150 q 610 251 585 210 q 655 324 636 293 q 676 354 674 354 q 685 327 685 354 q 669 276 685 300 m 533 996 q 261 496 456 996 q 511 847 439 704 q 553 971 553 922 q 533 996 553 996 z "},l:{ha:342,x_min:43,x_max:608,o:"m 576 847 q 424 617 526 746 q 239 411 321 489 l 217 347 q 185 229 200 299 q 171 131 169 160 q 201 89 171 89 q 274 124 232 89 q 336 184 317 158 q 381 251 356 210 q 426 324 407 293 q 447 354 444 354 q 456 328 456 354 q 442 279 456 303 q 318 97 365 150 q 121 -8 222 -8 q 43 97 43 -8 q 136 461 43 201 q 168 554 143 483 q 211 665 193 625 q 260 769 229 704 q 319 874 290 835 q 382 953 347 913 q 529 1033 450 1033 q 608 961 608 1033 q 576 847 608 906 m 547 999 l 538 999 q 267 490 453 999 q 526 857 457 714 q 565 972 565 944 q 547 999 565 999 z "},m:{ha:924,x_min:-31,x_max:1038,o:"m 1024 279 q 930 135 972 193 q 833 35 888 78 q 735 -8 779 -8 q 653 86 653 -8 q 740 399 653 196 q 760 469 760 450 q 735 497 760 497 q 682 479 719 497 q 610 425 644 461 q 556 358 576 389 q 510 267 535 328 q 476 181 485 206 q 422 0 436 56 l 286 0 q 385 269 358 200 q 418 356 413 339 l 431 394 q 446 468 446 439 q 419 497 446 497 q 359 478 397 497 q 285 421 321 458 q 224 334 249 383 q 185 249 200 285 q 156 160 171 213 q 128 76 140 108 q 104 0 117 43 l -31 0 q 3 104 -15 58 l 93 335 q 149 538 149 474 q 146 556 149 551 l 204 556 q 265 547 251 556 q 279 522 279 538 q 263 451 279 507 q 507 563 385 563 q 581 501 581 563 q 565 436 581 475 q 825 563 692 563 q 897 501 897 563 q 888 449 897 474 q 863 384 878 424 q 838 319 847 344 q 815 256 828 293 q 789 142 789 179 q 812 106 789 106 q 869 136 835 106 q 922 189 904 167 q 965 252 939 211 q 1008 324 990 293 q 1029 354 1026 354 q 1038 328 1038 354 q 1024 279 1038 303 z "},n:{ha:606,x_min:-29,x_max:719,o:"m 706 279 q 612 135 654 193 q 515 35 569 78 q 417 -8 461 -8 q 335 82 335 -8 q 439 444 335 172 q 444 471 444 457 q 408 500 444 500 q 335 477 371 500 q 271 412 300 454 q 218 326 242 369 q 174 225 194 282 q 142 130 154 168 q 119 48 131 92 q 106 0 107 4 l -29 0 q 93 335 -29 29 q 143 535 143 478 q 139 556 143 549 l 197 556 q 260 546 246 556 q 274 519 274 536 q 258 451 274 503 q 493 563 375 563 q 572 490 572 563 q 565 443 572 467 q 531 349 558 419 q 469 140 469 193 q 494 107 469 107 q 545 132 513 107 q 599 184 578 157 q 647 252 621 211 q 690 324 672 293 q 711 354 708 354 q 719 328 719 354 q 706 279 719 303 z "},o:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 z "},p:{ha:547,x_min:-169,x_max:671,o:"m 657 297 q 476 60 574 144 q 246 -25 379 -25 q 96 43 113 -25 l 18 -200 q -24 -306 -10 -282 q -57 -337 -39 -331 q -103 -344 -75 -344 l -169 -344 q -24 20 -133 -292 q 122 418 86 332 q 174 522 157 504 q 289 556 207 556 l 331 556 q 221 389 290 528 q 449 561 350 561 q 542 433 542 561 q 475 217 542 328 q 318 44 408 106 l 329 44 q 445 90 386 44 q 547 192 504 136 q 614 295 571 222 q 660 368 657 368 q 671 344 671 368 q 657 297 671 321 m 386 443 q 374 444 382 444 q 310 417 344 444 q 189 269 253 372 q 125 101 125 167 q 165 36 125 36 q 322 179 238 36 q 407 403 407 322 q 386 443 407 438 z "},q:{ha:643,x_min:39,x_max:758,o:"m 751 358 q 758 333 758 358 q 751 292 758 307 q 723 244 743 278 q 695 199 703 211 q 667 156 688 186 q 632 113 646 126 q 597 81 618 99 q 520 46 561 46 q 467 78 479 46 q 424 -67 454 36 q 377 -227 394 -169 q 317 -312 360 -285 q 185 -340 275 -340 q 301 -87 235 -272 q 368 103 325 -22 q 432 288 411 229 q 132 -4 271 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 456 543 418 561 q 508 483 494 525 q 557 540 528 524 q 649 556 586 556 l 690 556 q 493 161 610 506 l 493 154 q 531 99 493 99 q 643 192 569 99 q 706 288 663 217 q 751 358 749 358 m 492 446 l 501 468 q 438 510 486 510 q 260 382 346 510 q 174 154 174 254 q 207 111 174 111 q 326 193 256 111 q 438 347 396 275 q 492 446 481 419 z "},r:{ha:467,x_min:75,x_max:582,o:"m 422 558 l 493 557 l 507 557 q 448 467 486 542 q 391 353 410 392 q 349 251 372 315 q 326 146 326 186 q 354 106 326 106 q 405 131 372 107 q 459 183 438 156 q 506 252 481 210 q 551 326 532 294 q 572 357 569 357 q 582 331 582 357 q 568 282 582 306 q 469 131 508 183 q 376 34 431 78 q 276 -10 321 -10 q 197 107 197 -10 q 228 286 197 186 q 318 479 258 386 q 221 440 269 440 q 189 447 206 440 q 83 253 90 253 q 75 276 75 253 q 92 340 75 299 q 130 418 110 381 q 151 460 150 456 q 101 540 101 485 q 119 590 101 568 q 167 613 136 613 q 217 593 197 613 q 214 568 214 585 q 241 509 214 531 q 307 488 268 488 q 324 489 318 488 q 422 558 372 558 z "},s:{ha:525,x_min:35,x_max:640,o:"m 626 282 q 438 40 522 108 q 218 -28 353 -28 q 88 2 140 -28 q 35 90 35 32 q 54 151 35 124 q 108 179 74 179 q 151 154 142 179 q 125 93 125 128 q 203 24 125 24 q 283 56 249 24 q 317 126 317 88 q 300 193 317 164 q 260 244 283 222 q 213 289 236 267 q 156 413 156 343 q 209 531 156 483 q 356 579 263 579 q 454 558 414 579 q 494 494 494 538 q 468 418 494 450 q 397 386 442 386 q 351 428 351 386 q 383 457 351 438 q 415 497 415 476 q 398 528 415 518 q 349 539 381 539 q 287 517 317 539 q 257 458 257 494 q 288 390 257 422 q 354 336 318 358 q 421 274 390 314 q 451 191 451 235 q 431 113 451 147 q 383 57 411 78 q 549 224 461 90 q 578 269 557 235 q 632 357 626 357 q 640 331 640 357 q 626 282 640 306 z "},t:{ha:346,x_min:53,x_max:481,o:"m 481 796 q 328 554 413 749 l 468 554 l 469 553 q 454 528 469 546 q 428 511 439 511 l 308 511 q 199 161 199 239 q 232 108 199 108 q 346 192 281 108 q 386 253 361 210 q 453 356 450 356 q 461 333 461 356 q 346 128 460 281 q 256 35 308 78 q 160 -8 203 -8 q 81 103 81 -8 q 125 317 81 196 l 125 318 q 80 246 99 269 q 58 222 61 222 q 53 240 53 222 q 72 296 53 257 q 123 397 90 335 q 176 511 156 460 l 83 511 q 79 517 79 511 q 90 539 79 524 q 106 554 100 554 l 211 554 q 414 794 311 794 q 481 796 474 794 z "},u:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 z "},v:{ha:561,x_min:35,x_max:668,o:"m 658 275 q 515 174 601 174 q 414 251 443 174 q 244 36 293 69 q 111 -10 176 -10 q 56 23 78 -10 q 35 112 35 56 q 69 281 35 168 q 226 539 138 501 q 343 557 269 557 q 349 551 349 557 q 340 538 349 546 q 226 348 288 493 q 164 142 164 203 q 210 82 164 82 q 300 159 249 82 q 386 329 351 236 q 379 410 379 361 q 403 509 379 460 q 471 558 428 558 q 514 494 514 558 q 468 342 514 419 q 451 311 456 319 q 473 244 453 268 q 525 221 493 221 q 618 283 575 221 q 648 328 635 308 q 663 349 661 349 q 668 319 668 349 q 658 275 668 290 z "},w:{ha:940,x_min:31,x_max:1046,o:"m 567 525 l 642 524 q 669 525 665 524 q 547 292 618 494 q 507 128 507 185 q 549 72 507 72 q 648 128 597 72 q 724 236 699 185 q 765 329 750 288 q 758 414 758 364 q 784 511 758 464 q 849 558 810 558 q 893 496 893 558 q 879 408 893 440 q 851 349 865 376 q 832 311 838 322 q 853 246 832 271 q 903 221 875 221 q 1035 342 968 221 q 1042 349 1039 349 q 1046 329 1046 349 q 994 214 1046 254 q 892 174 943 174 q 793 251 817 174 l 789 265 q 637 53 703 115 q 481 -10 571 -10 q 364 122 364 -10 q 369 176 364 146 q 111 -8 238 -8 q 53 22 76 -8 q 31 108 31 53 q 69 278 31 163 q 231 538 143 500 q 347 556 272 556 q 351 550 351 556 q 342 540 351 554 q 233 342 289 465 q 199 244 222 314 q 175 128 175 175 q 210 82 175 82 q 411 335 279 82 q 468 443 467 442 q 567 525 519 525 z "},x:{ha:622,x_min:-18,x_max:738,o:"m 176 424 q 89 263 101 275 q 82 290 82 263 q 88 329 82 318 q 131 433 110 369 q 169 525 153 496 q 211 554 186 554 l 283 554 q 339 339 300 461 q 435 445 374 374 q 519 542 497 517 q 561 556 532 556 q 605 555 590 556 q 622 554 619 554 q 350 288 511 456 q 436 97 397 135 q 476 79 456 79 q 622 192 532 79 q 661 250 636 208 q 731 358 728 358 q 738 332 738 358 q 722 279 738 306 q 621 128 664 179 q 520 32 578 76 q 408 -12 463 -12 q 317 35 354 -12 q 251 179 279 82 q 85 0 135 63 l -18 0 q 232 238 82 90 q 176 424 199 329 z "},y:{ha:590,x_min:-69,x_max:668,o:"m 611 542 l 668 542 q 581 411 625 515 q 519 252 544 324 q 489 165 494 181 q 463 91 483 150 q 431 0 443 32 q 350 -154 396 -97 q 236 -245 304 -211 q 99 -279 168 -279 q -20 -252 29 -279 q -69 -167 -69 -225 q -51 -112 -69 -136 q -8 -87 -32 -87 q 33 -99 17 -87 q 57 -124 50 -110 q 32 -182 32 -132 q 51 -224 32 -208 q 99 -240 69 -240 q 288 -39 211 -240 l 367 172 q 253 49 301 90 q 178 0 206 8 q 115 -8 151 -8 q 56 22 78 -8 q 34 109 33 51 q 67 274 35 167 q 140 443 100 381 q 222 524 179 506 q 338 542 264 542 q 343 536 343 542 q 335 522 343 531 q 219 343 278 472 q 160 125 160 214 q 186 78 160 78 q 314 178 236 78 q 433 378 392 278 q 449 418 439 392 q 464 454 460 444 q 477 481 468 464 q 493 505 486 499 q 512 521 500 511 q 536 533 524 531 q 611 542 576 542 z "},z:{ha:592,x_min:36,x_max:708,o:"m 692 279 q 527 49 599 124 q 388 -26 456 -26 q 271 15 351 -26 q 173 57 190 57 q 150 53 156 57 q 65 -15 93 -15 q 36 13 36 -15 q 53 58 36 40 q 80 83 71 75 q 108 106 89 92 q 160 147 126 119 q 399 361 261 229 l 447 407 l 419 411 q 289 426 321 426 q 176 390 215 426 q 128 319 172 386 q 82 251 83 251 q 76 281 76 251 q 88 329 76 310 q 122 396 99 349 q 153 459 144 443 q 182 499 163 475 q 224 530 201 522 q 271 538 246 538 q 349 529 296 538 l 365 526 q 510 506 481 506 q 599 553 557 506 q 622 563 607 563 q 665 553 636 563 q 214 119 557 453 q 357 68 278 68 q 363 68 360 68 q 486 101 425 68 q 592 192 547 135 q 654 288 610 215 q 701 361 699 361 q 708 335 708 361 q 692 279 708 308 z "},"{":{ha:635,x_min:13,x_max:694,o:"m 407 -110 l 335 -112 q 166 -101 196 -112 q 115 -76 136 -89 q 76 4 76 -53 q 116 176 76 61 q 156 340 156 290 q 128 416 156 389 q 72 450 100 443 q 13 457 43 457 l 26 500 q 158 521 139 508 q 196 549 176 533 q 275 719 246 588 q 296 802 286 771 q 338 872 306 833 q 415 932 371 910 q 481 964 458 954 q 658 989 542 989 l 694 989 l 682 946 q 500 900 561 946 q 456 847 475 881 q 428 787 436 814 q 409 717 421 760 q 388 649 397 674 q 279 526 360 578 q 114 472 199 475 q 232 431 178 471 q 286 336 286 392 q 254 181 286 281 q 222 29 222 81 q 369 -71 222 -71 q 398 -70 379 -71 q 424 -69 417 -69 l 407 -110 z "},"|":{ha:635,x_min:239,x_max:483,o:"m 388 968 l 483 968 l 336 -74 l 239 -74 l 388 968 z "},"}":{ha:794,x_min:13,x_max:694,o:"m 300 986 l 372 989 q 541 977 511 989 q 592 953 571 965 q 631 872 631 929 q 591 701 631 815 q 551 537 551 586 q 579 460 551 488 q 635 426 607 433 q 694 419 664 419 l 681 376 q 549 356 568 368 q 511 328 531 343 q 432 156 461 288 q 411 74 421 104 q 369 5 401 43 q 290 -56 336 -33 q 225 -87 244 -79 q 158 -105 206 -96 q 76 -114 110 -114 q 31 -113 43 -114 q 13 -112 19 -112 l 26 -69 q 206 -24 146 -69 q 251 29 232 -4 q 278 90 271 63 q 298 160 286 117 q 319 228 310 203 q 426 350 346 299 q 593 404 507 401 q 474 445 528 406 q 421 540 421 485 q 453 696 421 594 q 485 847 485 797 q 338 947 485 947 q 308 947 326 947 q 283 946 290 946 l 300 986 z "},"~":{ha:714,x_min:314,x_max:847,o:"m 846 956 q 692 846 768 846 q 565 876 646 846 q 440 906 485 906 q 336 865 363 906 q 326 860 332 860 q 314 875 314 860 q 365 932 314 890 q 462 974 415 974 q 589 944 508 974 q 708 914 669 914 q 774 929 746 914 q 817 959 801 944 q 836 974 833 974 q 847 961 847 974 q 846 956 847 957 z "}," ":{ha:403,x_min:0,x_max:0,o:""},"¡":{ha:521,x_min:21,x_max:522,o:"m 519 681 q 474 649 504 678 q 435 601 444 619 q 367 658 367 624 q 397 707 367 683 q 465 731 426 731 q 522 696 522 731 q 519 681 522 692 m 117 -156 l 35 -150 q 27 -151 32 -150 q 21 -151 22 -151 q 208 172 97 -42 q 335 431 319 385 l 392 442 q 292 171 368 389 q 189 -122 217 -47 q 117 -156 176 -156 z "},"¢":{ha:668,x_min:68,x_max:646,o:"m 636 661 q 578 606 617 606 q 547 619 560 606 q 533 648 533 632 q 551 691 533 664 q 568 736 568 718 q 525 778 568 771 l 303 201 q 438 225 363 201 q 572 321 483 240 q 606 347 600 347 q 611 325 611 347 q 590 274 611 303 q 446 160 535 197 q 272 124 357 124 l 194 -81 q 164 -85 193 -85 q 135 -75 135 -85 l 135 -74 l 213 129 q 211 130 211 129 q 210 131 211 131 q 103 197 138 146 q 68 342 68 249 q 128 550 68 435 q 285 744 188 665 q 482 831 382 822 l 536 971 q 568 975 539 975 q 597 965 597 975 l 597 964 l 544 826 q 619 790 592 818 q 646 726 646 763 q 636 661 646 690 m 246 215 l 460 772 q 271 599 351 735 q 190 332 190 463 q 246 215 190 244 z "},"£":{ha:893,x_min:28,x_max:879,o:"m 789 236 q 849 213 818 235 q 879 149 879 192 q 817 38 879 89 q 666 -12 756 -12 q 491 19 576 -12 q 340 82 406 50 q 247 114 275 114 q 192 94 218 114 q 147 50 165 75 q 61 -12 103 -12 q 28 32 28 -12 q 67 113 28 76 q 164 156 107 149 q 288 449 210 231 l 160 449 q 158 456 158 449 q 174 488 158 463 q 201 514 190 514 l 311 514 q 549 917 425 829 q 663 957 606 957 q 746 929 719 957 q 772 865 772 901 q 762 801 772 828 q 742 775 751 775 q 739 778 739 775 q 686 850 728 850 q 440 514 597 850 l 604 514 q 606 506 606 514 q 590 474 606 499 q 564 449 575 449 l 410 449 l 389 401 q 254 156 311 225 q 421 123 286 151 q 635 94 556 94 q 796 185 796 94 q 778 224 796 211 l 778 225 q 782 232 778 228 q 789 236 786 236 z "},"¤":{ha:1157,x_min:163,x_max:993,o:"m 785 679 l 988 824 l 989 824 q 993 798 993 824 q 986 736 993 772 q 968 692 979 700 l 843 603 q 863 510 863 560 q 800 344 863 421 l 894 254 q 899 235 899 250 q 892 192 899 219 q 878 143 886 164 q 868 122 871 122 l 867 122 l 713 269 q 543 224 633 224 q 383 275 453 224 l 168 122 l 167 122 q 163 148 163 122 q 169 210 163 174 q 186 254 176 247 l 321 349 q 296 447 296 393 q 354 613 296 536 l 272 692 q 268 715 268 696 q 281 779 268 735 q 301 824 294 824 l 303 824 l 442 690 q 617 739 521 739 q 785 679 714 739 m 396 466 q 396 427 396 466 q 442 340 396 388 q 560 293 488 293 q 699 353 633 293 q 764 494 764 414 q 717 623 764 575 q 595 671 671 671 q 458 608 519 671 q 396 466 396 544 z "},"¥":{ha:910,x_min:31,x_max:1010,o:"m 1010 969 q 568 475 750 789 l 690 475 q 692 468 692 475 q 667 428 692 461 q 631 394 643 394 l 525 394 q 463 254 490 328 l 629 254 q 631 247 631 254 q 606 207 631 240 q 569 174 582 174 l 436 174 q 410 43 410 76 q 415 0 410 10 l 236 0 q 288 174 251 68 l 126 174 q 125 181 125 174 q 149 221 125 188 q 186 254 172 254 l 315 254 q 340 381 340 329 l 340 394 l 188 394 q 186 401 186 394 q 210 442 186 408 q 247 475 233 475 l 326 475 q 213 810 297 603 q 144 874 186 874 q 42 822 103 874 l 39 821 q 31 831 31 821 q 33 844 31 842 q 148 930 79 893 q 266 967 217 967 q 333 940 315 967 q 479 468 372 883 q 635 689 508 508 q 817 942 761 869 q 931 971 839 971 q 973 970 946 971 q 1010 969 1000 969 z "},"¦":{ha:635,x_min:346,x_max:557,o:"m 557 960 l 493 519 q 460 515 493 515 q 431 526 428 515 l 494 967 q 527 971 494 971 q 557 960 560 971 m 472 360 l 408 -81 q 376 -85 408 -85 q 346 -74 343 -85 l 410 367 q 442 371 410 371 q 472 360 475 371 z "},"§":{ha:1190,x_min:44,x_max:1175,o:"m 935 994 q 1000 994 935 994 q 1119 953 1064 994 q 1175 852 1175 911 q 1135 742 1175 793 q 1025 692 1096 692 q 954 751 954 692 q 957 774 954 757 q 1021 802 993 774 q 1049 866 1049 831 q 1016 924 1049 901 q 936 946 983 946 q 803 897 856 946 q 750 783 750 849 q 774 708 750 749 q 824 641 799 667 q 897 570 849 615 q 960 511 946 525 q 1065 283 1065 404 q 962 72 1065 163 q 711 -26 858 -18 q 589 -233 700 -147 q 339 -319 478 -319 q 122 -277 200 -319 q 44 -147 44 -235 q 76 -58 44 -99 q 167 -18 108 -18 q 247 -60 226 -18 q 199 -152 199 -99 q 233 -235 199 -206 q 322 -268 267 -265 q 476 -210 410 -268 q 542 -60 542 -153 q 422 160 542 33 q 374 212 421 163 q 295 313 326 261 q 264 435 264 364 q 358 629 264 556 q 590 703 453 703 l 619 703 q 618 726 618 710 q 713 921 618 847 q 935 994 807 994 m 767 463 q 658 590 679 554 q 628 656 638 626 q 582 654 615 654 q 449 606 501 654 q 396 492 396 557 q 421 415 396 457 q 469 349 446 374 q 544 277 492 325 q 606 219 596 229 q 710 24 696 129 q 841 91 786 33 q 896 229 896 149 q 810 414 896 318 q 767 463 771 458 z "},"¨":{ha:806,x_min:376,x_max:776,o:"m 768 846 q 710 808 740 839 q 665 776 681 776 q 636 800 636 776 q 670 872 636 824 q 733 921 704 921 q 763 900 749 921 q 776 863 776 879 q 768 846 776 847 m 508 846 q 451 808 481 839 q 406 776 421 776 q 376 800 376 776 q 410 872 376 824 q 474 921 444 921 q 503 900 489 921 q 517 863 517 879 q 508 846 517 847 z "},"©":{ha:936,x_min:57,x_max:1101,o:"m 1097 476 q 901 140 1071 279 q 525 1 731 1 q 188 122 319 1 q 57 418 57 242 q 139 683 57 560 q 356 879 221 807 q 642 951 490 951 q 971 831 840 951 q 1101 533 1101 711 q 1097 476 1101 506 m 836 178 q 994 528 994 324 q 890 795 994 688 q 629 903 786 903 q 305 760 444 903 q 165 426 165 618 q 269 160 165 267 q 537 53 374 53 q 836 178 700 53 m 817 339 q 500 174 685 174 q 349 239 401 174 q 297 403 297 304 q 403 681 297 551 q 660 810 508 810 q 765 774 726 810 q 804 688 804 738 q 778 601 804 638 q 718 565 753 565 q 649 625 649 565 q 672 647 649 638 q 715 713 715 664 q 702 751 715 736 q 663 767 689 767 q 551 708 608 767 q 455 563 493 650 q 417 398 417 475 q 449 275 417 321 q 545 229 482 229 q 676 272 608 229 q 796 383 743 315 q 807 390 801 390 q 824 369 824 390 q 817 339 824 347 z "},ª:{ha:657,x_min:39,x_max:772,o:"m 618 975 l 688 974 l 701 974 q 589 784 656 936 q 522 563 522 632 q 547 526 522 526 q 549 526 549 526 q 597 550 567 526 q 650 602 628 574 q 698 672 672 631 q 742 744 724 714 q 764 775 761 775 q 772 749 772 775 q 757 700 772 722 q 663 556 707 615 q 567 454 619 497 q 471 411 514 411 q 396 526 396 411 q 425 696 396 613 q 132 415 267 415 q 39 543 39 415 q 81 740 39 640 q 203 910 124 840 q 376 981 282 981 q 460 960 421 981 q 511 896 499 940 q 558 951 526 928 q 618 975 590 975 m 503 883 q 438 928 489 928 q 260 801 346 928 q 174 574 174 674 q 207 531 174 531 q 292 576 243 531 q 379 682 340 621 q 503 883 465 818 z "},"«":{ha:932,x_min:96,x_max:917,o:"m 911 724 l 914 725 q 917 719 917 725 q 790 588 917 685 q 540 417 663 490 q 696 294 617 364 q 806 172 775 225 q 807 161 807 171 q 781 128 807 151 q 747 106 756 106 q 739 107 739 106 q 460 368 593 272 q 431 400 431 389 q 465 432 431 411 q 911 724 711 569 m 575 724 q 578 725 576 725 q 581 721 581 725 q 454 589 581 686 q 206 417 328 492 q 469 172 414 269 q 471 160 471 169 q 445 128 471 150 q 411 106 419 106 q 403 107 403 106 q 124 368 257 272 q 96 400 96 389 q 131 432 96 411 q 575 724 360 561 z "},"¬":{ha:1126,x_min:4,x_max:988,o:"m 988 454 l 961 313 q 890 25 906 25 q 868 43 872 25 l 897 449 l 4 436 l 4 499 l 929 513 q 966 494 944 513 q 988 454 988 476 z "},"­":{ha:681,x_min:213,x_max:667,o:"m 278 400 l 665 400 q 667 393 667 400 q 641 348 667 386 q 601 310 615 310 l 214 310 q 213 317 213 310 q 239 362 213 324 q 278 400 265 400 z "},"®":{ha:1154,x_min:57,x_max:1101,o:"m 1097 476 q 901 140 1071 279 q 525 1 731 1 q 188 122 319 1 q 57 418 57 242 q 139 683 57 560 q 356 879 221 807 q 642 951 490 951 q 971 831 840 951 q 1101 533 1101 711 q 1097 476 1101 506 m 836 178 q 994 528 994 324 q 890 795 994 688 q 629 903 786 903 q 305 760 444 903 q 165 426 165 618 q 269 160 165 267 q 537 53 374 53 q 836 178 700 53 m 851 700 q 788 569 851 619 q 640 503 725 518 l 610 497 q 807 175 658 331 q 764 172 797 172 l 692 175 q 580 312 638 175 q 522 500 522 449 q 535 515 522 514 q 695 568 629 524 q 761 694 761 613 q 728 770 761 742 q 631 799 696 799 q 468 481 556 697 q 381 194 381 265 q 385 174 381 181 l 264 174 q 389 522 289 286 q 532 828 479 747 l 678 828 q 808 792 764 828 q 851 700 851 756 z "},"¯":{ha:714,x_min:389,x_max:774,o:"m 438 951 l 772 951 l 774 950 q 754 918 774 942 q 725 894 735 894 l 390 894 q 389 899 389 894 q 408 927 389 903 q 438 951 428 951 z "},"°":{ha:1157,x_min:374,x_max:739,o:"m 731 817 q 647 703 708 750 q 513 657 586 657 q 406 690 439 657 q 374 774 374 722 q 440 919 374 853 q 608 985 507 985 q 706 952 674 985 q 739 869 739 919 q 731 817 739 844 m 679 869 q 604 943 679 943 q 496 886 542 943 q 450 769 450 829 q 522 696 450 696 q 632 753 585 696 q 679 869 679 811 z "},"±":{ha:1003,x_min:-50,x_max:974,o:"m 150 522 l 481 511 q 588 797 557 701 q 644 833 592 814 q 711 853 697 853 q 725 851 725 853 l 725 850 q 572 511 590 553 q 972 518 886 514 q 974 515 974 518 q 939 465 974 503 q 886 428 904 428 l 542 440 q 463 256 503 361 q 413 103 424 150 q 355 67 408 86 q 288 47 301 47 q 274 49 274 47 l 274 50 q 453 442 344 181 q 127 437 192 442 q 63 433 63 432 q 97 484 63 446 q 150 522 132 522 m 15 -54 l 686 -54 q 688 -60 688 -54 q 662 -101 688 -67 q 622 -135 636 -135 l -49 -135 q -50 -128 -50 -135 q -24 -88 -50 -122 q 15 -54 1 -54 z "},"²":{ha:682,x_min:4,x_max:661,o:"m 661 828 q 610 683 661 740 q 498 592 560 625 q 371 528 436 558 q 125 351 203 451 q 463 275 343 275 q 567 360 567 275 l 593 360 q 553 222 593 275 q 425 168 513 168 q 313 200 372 168 q 207 264 254 232 q 135 296 160 296 q 97 277 110 296 q 83 235 85 258 q 39 174 79 174 q 4 229 4 174 q 189 493 4 357 q 450 703 401 640 q 503 836 503 772 q 480 901 503 876 q 403 925 457 925 q 302 874 350 925 q 254 761 254 822 q 261 722 254 743 q 214 708 239 708 q 169 732 189 708 q 150 793 150 756 q 203 903 150 858 q 435 982 294 982 q 661 828 661 982 z "},"³":{ha:657,x_min:6,x_max:660,o:"m 431 979 q 479 979 431 979 q 593 941 526 979 q 660 819 660 903 q 605 682 660 736 q 472 600 550 628 q 577 540 539 586 q 615 432 615 493 q 504 228 615 303 q 249 153 393 153 q 76 196 147 153 q 6 325 6 239 q 38 418 6 375 q 121 461 71 461 q 182 440 151 461 q 132 318 132 372 q 169 235 132 264 q 276 206 206 206 q 402 266 346 206 q 458 402 458 326 q 417 523 458 478 q 311 568 376 568 q 267 560 296 568 q 226 551 239 551 q 203 561 214 551 q 193 586 193 571 q 210 613 193 601 q 260 625 226 625 q 329 613 294 625 q 456 694 403 631 q 508 826 508 757 q 481 901 508 872 q 395 929 454 929 q 292 881 336 929 q 249 769 249 832 q 258 718 249 742 q 213 706 239 706 q 168 730 188 706 q 149 799 149 754 q 177 881 149 843 q 249 939 206 918 q 431 979 336 979 z "},"´":{ha:738,x_min:393,x_max:669,o:"m 667 847 q 519 777 611 824 q 424 731 428 731 q 406 738 419 731 q 393 747 393 744 q 484 812 406 754 q 588 888 563 869 q 604 890 593 890 q 642 875 615 890 q 669 851 669 860 q 667 847 669 849 z "},µ:{ha:629,x_min:-414,x_max:744,o:"m 579 556 l 646 554 q 672 556 667 554 q 562 374 632 529 q 492 149 492 218 q 519 107 492 107 q 569 131 538 107 q 622 183 600 154 q 670 253 644 211 q 715 325 696 294 q 736 356 733 356 q 744 329 744 356 q 729 281 744 303 q 635 137 679 196 q 539 35 592 78 q 442 -8 486 -8 q 364 107 364 -8 q 369 176 364 143 q 111 -8 238 -8 q 97 -7 101 -8 q -289 -328 -47 -328 q -377 -307 -340 -328 q -414 -247 -414 -286 q -392 -176 -414 -207 q -334 -144 -371 -144 q -285 -174 -297 -144 q -306 -203 -299 -182 q -314 -242 -314 -224 q -299 -274 -314 -261 q -260 -287 -285 -287 q -50 -64 -143 -287 q 53 228 -12 28 q 172 511 118 429 q 206 536 185 531 q 272 542 226 542 l 335 542 q 214 292 271 451 q 175 128 175 175 q 210 82 175 82 q 300 155 249 82 q 411 344 351 228 q 481 475 471 460 q 579 556 532 556 z "},"¶":{ha:775,x_min:60,x_max:932,o:"m 429 969 l 932 969 q 817 819 883 932 q 686 575 750 706 q 558 262 622 444 q 493 3 493 79 q 532 -87 493 -74 l 433 -87 q 376 -11 376 -87 q 439 238 376 65 q 616 653 501 411 q 778 942 731 894 l 704 942 q 501 608 625 854 q 381 324 454 511 q 285 55 307 138 q 263 -94 263 -28 q 301 -174 263 -160 l 222 -174 q 165 -99 165 -174 q 208 99 165 -25 q 351 469 250 224 q 307 468 336 468 q 122 524 185 468 q 60 665 60 581 q 162 875 60 781 q 429 969 264 969 m 599 942 l 506 942 q 277 867 356 942 q 199 694 199 793 q 244 564 199 618 q 368 510 290 510 q 599 942 547 901 z "},"·":{ha:376,x_min:214,x_max:379,o:"m 365 449 q 342 419 358 442 q 290 364 297 364 q 242 385 269 364 q 214 425 214 407 q 256 482 214 456 q 346 508 299 508 q 379 478 379 508 q 365 449 379 458 z "},"¸":{ha:936,x_min:56,x_max:325,o:"m 299 -100 q 285 -104 297 -106 q 265 -103 274 -103 q 172 -167 217 -103 q 128 -294 128 -231 q 183 -358 128 -358 q 285 -306 235 -358 q 291 -303 288 -303 q 294 -312 294 -303 q 251 -369 294 -346 q 156 -392 207 -392 q 81 -363 106 -392 q 56 -289 56 -335 q 115 -138 56 -199 q 261 -78 174 -78 l 267 -78 l 294 -14 q 310 -8 296 -8 q 325 -12 325 -8 l 299 -100 z "},"¹":{ha:404,x_min:0,x_max:419,o:"m 269 981 l 419 981 q 261 555 358 838 q 147 186 164 272 l 0 186 q 206 728 32 261 l 261 879 l 107 740 l 40 740 l 269 981 z "},º:{ha:606,x_min:3,x_max:674,o:"m 660 692 q 518 495 569 547 q 424 443 467 443 q 356 472 381 443 q 161 400 276 400 q 47 442 92 400 q 3 571 3 483 q 42 751 3 658 q 162 910 82 843 q 335 976 242 976 q 467 928 428 976 q 506 806 506 881 q 408 532 506 678 q 444 510 419 510 q 560 603 489 510 q 623 700 583 633 q 665 767 663 767 q 674 741 674 767 q 660 692 674 715 m 399 644 l 408 665 q 442 818 442 743 q 374 913 442 913 q 186 726 278 913 q 136 540 136 624 q 208 453 136 457 q 329 528 268 453 l 326 546 q 324 586 324 563 q 340 635 324 610 q 374 660 357 660 q 399 644 390 660 z "},"»":{ha:963,x_min:172,x_max:994,o:"m 967 463 q 994 431 994 442 q 960 400 994 421 q 515 107 726 269 q 511 106 514 106 q 508 111 508 106 q 634 242 508 147 q 885 414 760 338 q 621 660 679 560 q 619 671 619 661 q 644 703 619 681 q 678 725 669 725 q 688 724 686 725 q 967 463 833 558 m 631 463 q 658 431 658 443 q 625 400 658 419 q 179 107 393 271 q 175 106 178 106 q 172 111 172 106 q 301 244 172 147 q 549 414 429 342 q 285 660 343 560 q 283 671 283 661 q 308 703 283 681 q 342 725 333 725 q 351 724 350 725 q 631 463 497 558 z "},"¼":{ha:1379,x_min:1,x_max:1376,o:"m 1282 449 q 1318 464 1299 464 q 1357 444 1338 464 q 1376 389 1376 424 q 1319 285 1376 331 q 1160 239 1261 239 q 1129 240 1139 239 q 1060 0 1072 63 l 913 0 q 1013 258 932 43 q 931 281 986 265 q 769 315 814 315 q 706 300 724 315 q 686 267 688 285 q 653 217 685 217 q 624 229 636 217 q 613 264 613 242 q 664 349 613 319 l 1182 794 l 1332 794 q 1161 333 1261 632 q 1296 417 1296 344 q 1282 449 1296 439 m 918 964 l 146 -81 q 108 -85 143 -85 q 74 -75 74 -85 l 74 -74 l 846 971 q 884 975 850 975 q 918 965 918 975 l 918 964 m 271 981 l 421 981 q 263 555 360 838 q 149 186 165 272 l 1 186 q 206 728 33 261 l 263 879 l 108 740 l 42 740 l 271 981 m 1181 711 l 771 365 q 906 350 842 361 q 1040 335 971 339 l 1181 711 z "},"½":{ha:1319,x_min:0,x_max:1289,o:"m 1289 644 q 1238 499 1289 557 q 1126 408 1188 442 q 999 344 1064 375 q 753 168 831 268 q 1090 92 971 92 q 1194 176 1194 92 l 1221 176 q 1181 38 1221 92 q 1053 -15 1140 -15 q 941 17 1000 -15 q 835 81 882 49 q 763 113 788 113 q 725 94 738 113 q 711 51 713 75 q 667 -10 707 -10 q 632 46 632 -10 q 817 310 632 174 q 1078 519 1029 457 q 1131 653 1131 589 q 1108 717 1131 693 q 1031 742 1085 742 q 930 690 978 742 q 882 578 882 639 q 889 539 882 560 q 842 525 867 525 q 797 549 817 525 q 778 610 778 572 q 831 719 778 675 q 1063 799 922 799 q 1289 644 1289 799 m 864 964 l 92 -81 q 54 -85 89 -85 q 19 -75 19 -85 l 19 -74 l 792 971 q 830 975 796 975 q 864 965 864 975 l 864 964 m 269 1031 l 419 1031 q 261 605 358 888 q 147 236 164 322 l 0 236 q 206 778 32 311 l 261 929 l 107 790 l 40 790 l 269 1031 z "},"¾":{ha:1694,x_min:6,x_max:1697,o:"m 1603 449 q 1639 464 1619 464 q 1678 444 1658 464 q 1697 389 1697 424 q 1640 285 1697 331 q 1481 239 1582 239 q 1450 240 1460 239 q 1381 0 1393 63 l 1233 0 q 1333 258 1253 43 q 1253 281 1307 265 q 1090 315 1135 315 q 1026 300 1044 315 q 1008 267 1008 285 q 974 217 1006 217 q 945 229 957 217 q 933 264 933 242 q 985 349 933 319 l 1503 794 l 1653 794 q 1482 333 1582 632 q 1617 417 1617 344 q 1603 449 1617 439 m 1282 964 l 510 -81 q 472 -85 507 -85 q 438 -75 438 -85 l 438 -74 l 1210 971 q 1248 975 1214 975 q 1282 965 1282 975 l 1282 964 m 431 979 q 479 979 431 979 q 593 941 526 979 q 660 819 660 903 q 605 682 660 736 q 472 600 550 628 q 577 540 539 586 q 615 432 615 493 q 504 228 615 303 q 249 153 393 153 q 76 196 147 153 q 6 325 6 239 q 38 418 6 375 q 121 461 71 461 q 182 440 151 461 q 132 318 132 372 q 169 235 132 264 q 276 206 206 206 q 402 266 346 206 q 458 402 458 326 q 417 523 458 478 q 311 568 376 568 q 267 560 296 568 q 226 551 239 551 q 203 561 214 551 q 193 586 193 571 q 210 613 193 601 q 260 625 226 625 q 329 613 294 625 q 456 694 403 631 q 508 826 508 757 q 481 901 508 872 q 395 929 454 929 q 292 881 336 929 q 249 769 249 832 q 258 718 249 742 q 213 706 239 706 q 168 730 188 706 q 149 799 149 754 q 177 881 149 843 q 249 939 206 918 q 431 979 336 979 m 1501 711 l 1092 365 q 1227 350 1163 361 q 1361 335 1292 339 l 1501 711 z "},"¿":{ha:706,x_min:38,x_max:706,o:"m 515 417 l 513 438 q 530 466 513 454 q 565 478 547 478 q 597 439 597 478 q 508 297 597 364 l 483 281 q 219 53 283 153 q 197 -15 197 15 q 231 -111 197 -76 q 317 -146 264 -146 q 419 -111 354 -146 q 474 -58 451 -94 q 497 13 497 -22 q 488 69 497 49 q 533 81 507 81 q 581 56 558 81 q 604 -11 604 31 q 544 -119 604 -78 q 299 -193 443 -193 q 38 -28 38 -193 q 108 124 38 69 q 240 197 167 167 q 347 245 313 228 q 425 289 382 263 q 515 417 515 344 m 703 686 q 658 654 688 683 q 618 607 628 625 q 550 664 550 629 q 580 713 550 689 q 649 736 610 736 q 706 701 706 736 q 703 686 706 697 z "},À:{ha:1129,x_min:-67,x_max:1108,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 936 1083 q 853 1124 876 1114 q 831 1136 831 1133 q 858 1160 831 1144 q 897 1175 886 1175 q 914 1172 908 1175 q 986 1119 939 1154 l 1067 1060 q 1108 1032 1099 1036 q 1094 1022 1108 1028 q 1077 1015 1081 1015 q 1035 1035 1074 1015 l 936 1083 z "},Á:{ha:1129,x_min:-67,x_max:1225,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1222 1125 q 1075 1055 1167 1101 q 979 1008 983 1008 q 962 1015 975 1008 q 949 1025 949 1022 q 1040 1090 961 1032 q 1143 1165 1118 1147 q 1160 1168 1149 1168 q 1198 1153 1171 1168 q 1225 1129 1225 1138 q 1222 1125 1225 1126 z "},Â:{ha:1129,x_min:-67,x_max:1217,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1217 1064 l 1217 1063 q 1197 1047 1217 1058 q 1165 1036 1176 1036 q 1112 1086 1146 1036 q 1061 1174 1078 1136 q 959 1085 1015 1129 q 881 1042 903 1042 q 858 1046 858 1042 l 858 1047 q 1061 1228 992 1156 q 1084 1240 1072 1240 q 1117 1209 1096 1240 q 1169 1131 1139 1178 q 1217 1064 1200 1085 z "},Ã:{ha:1129,x_min:-67,x_max:1308,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1306 1226 q 1194 1126 1247 1126 q 1104 1151 1163 1126 q 1012 1176 1046 1176 q 953 1156 978 1176 q 926 1135 928 1135 q 911 1148 911 1135 q 947 1201 911 1161 q 1017 1242 983 1242 q 1115 1216 1051 1242 q 1208 1190 1179 1190 q 1252 1205 1236 1190 q 1278 1233 1268 1219 q 1296 1247 1288 1247 q 1308 1236 1308 1247 q 1306 1226 1308 1232 z "},Ä:{ha:1129,x_min:-67,x_max:1265,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 m 1257 1124 q 1199 1085 1229 1117 q 1154 1054 1169 1054 q 1125 1078 1125 1054 q 1159 1150 1125 1101 q 1222 1199 1193 1199 q 1251 1178 1238 1199 q 1265 1141 1265 1157 q 1257 1124 1265 1125 m 997 1124 q 940 1085 969 1117 q 894 1054 910 1054 q 865 1078 865 1054 q 899 1150 865 1101 q 963 1199 933 1199 q 992 1178 978 1199 q 1006 1141 1006 1157 q 997 1124 1006 1125 z "},Å:{ha:1129,x_min:-67,x_max:1049,o:"m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 m 949 969 l 1049 969 q 919 635 985 908 q 853 214 853 363 q 892 68 853 108 q 933 50 908 50 q 986 68 958 50 l 994 56 q 925 8 975 28 q 826 -12 875 -12 q 728 39 754 -12 q 697 176 701 90 q 715 360 697 247 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 m 806 774 q 458 429 647 625 l 725 429 q 806 774 750 567 z "},Æ:{ha:1386,x_min:-67,x_max:1432,o:"m 1228 969 l 1379 976 q 1427 959 1422 976 q 1432 933 1432 942 q 1398 810 1432 885 q 1349 736 1364 736 q 1335 747 1335 736 l 1346 831 q 1311 899 1346 874 q 1228 924 1276 924 q 1156 917 1179 924 q 1118 888 1132 910 q 933 543 1017 736 l 1296 543 l 1297 542 q 1278 503 1297 532 q 1246 475 1258 475 l 903 475 q 829 269 865 383 q 793 119 793 156 q 815 65 793 82 q 890 47 838 47 q 1371 206 1296 47 q 1381 210 1372 210 q 1389 201 1389 210 q 1386 179 1389 193 q 1271 26 1347 58 q 1195 5 1231 10 q 1104 0 1160 0 l 685 0 q 642 67 642 0 q 719 360 642 160 l 397 360 q 72 0 190 140 l -67 0 q 339 392 64 119 q 804 881 693 744 q 846 927 832 914 q 888 955 860 940 q 949 969 917 969 l 1228 969 m 978 928 q 845 823 926 896 q 707 692 764 750 q 458 429 536 517 l 746 429 l 794 543 q 979 917 921 847 q 978 922 979 918 q 978 928 978 925 m 567 969 l 878 969 q 757 917 843 935 q 563 888 671 899 q 421 871 454 878 q 272 693 272 836 q 229 789 229 738 q 567 969 229 969 z "},Ç:{ha:904,x_min:4,x_max:936,o:"m 925 772 q 842 676 903 715 q 717 638 782 638 q 667 651 686 638 q 647 685 647 664 q 664 729 647 706 q 699 724 679 724 q 799 761 753 724 q 844 851 844 799 q 738 932 844 932 q 461 835 596 932 q 244 583 326 738 q 161 268 161 428 q 386 21 161 21 q 683 129 526 21 q 892 364 840 238 q 918 315 918 346 q 829 160 918 253 q 606 13 740 68 q 331 -42 471 -42 q 4 263 4 -42 q 56 503 4 378 q 194 737 107 629 q 413 914 282 844 q 672 983 544 983 q 868 940 800 983 q 936 828 936 896 q 925 772 936 803 m 296 -125 q 283 -129 294 -131 q 263 -128 271 -128 q 169 -192 214 -128 q 125 -319 125 -256 q 181 -383 125 -383 q 282 -331 232 -383 q 288 -328 285 -328 q 292 -337 292 -328 q 248 -394 292 -371 q 153 -417 204 -417 q 78 -388 103 -417 q 53 -314 53 -360 q 112 -163 53 -224 q 258 -103 171 -103 l 264 -103 l 292 -39 q 308 -33 293 -33 q 322 -37 322 -33 l 296 -125 z "},È:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 540 1083 q 458 1124 481 1114 q 435 1136 435 1133 q 463 1160 435 1144 q 501 1175 490 1175 q 518 1172 513 1175 q 592 1119 543 1154 l 671 1060 q 713 1032 703 1036 q 699 1022 713 1028 q 681 1015 685 1015 q 639 1035 678 1015 l 540 1083 z "},É:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 781 1125 q 633 1055 725 1101 q 538 1008 542 1008 q 520 1015 533 1008 q 507 1025 507 1022 q 598 1090 519 1032 q 701 1165 676 1147 q 718 1168 707 1168 q 756 1153 729 1168 q 783 1129 783 1138 q 781 1125 783 1126 z "},Ê:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 810 1053 l 810 1051 q 790 1036 810 1047 q 758 1025 769 1025 q 705 1075 739 1025 q 654 1163 671 1125 q 552 1074 608 1118 q 474 1031 496 1031 q 451 1035 451 1031 l 451 1036 q 654 1217 585 1144 q 677 1229 665 1229 q 710 1198 689 1229 q 763 1120 732 1167 q 810 1053 793 1074 z "},Ë:{ha:815,x_min:14,x_max:858,o:"m 654 969 l 806 976 q 853 959 849 976 q 858 933 858 942 q 824 810 858 885 q 776 736 790 736 q 761 747 761 736 l 772 831 q 738 899 772 874 q 654 924 703 924 q 582 917 606 924 q 544 888 558 910 q 360 543 443 736 l 722 543 l 724 542 q 704 503 724 532 q 672 475 685 475 l 329 475 q 256 269 292 383 q 219 119 219 156 q 242 65 219 82 q 317 47 264 47 q 797 206 722 47 q 808 210 800 210 q 815 201 815 210 q 813 179 815 193 q 697 26 774 58 q 622 5 657 10 q 531 0 586 0 l 111 0 q 68 65 68 0 q 192 475 68 178 l 115 475 q 104 482 104 475 q 131 519 104 496 q 174 543 157 543 l 221 543 q 406 917 349 850 q 167 861 275 900 q 26 765 60 822 q 19 761 25 761 q 14 769 14 761 q 15 779 14 776 q 208 956 68 924 q 379 969 272 969 l 654 969 m 833 1124 q 776 1085 806 1117 q 731 1054 746 1054 q 701 1078 701 1054 q 735 1150 701 1101 q 799 1199 769 1199 q 828 1178 814 1199 q 842 1141 842 1157 q 833 1124 842 1125 m 574 1124 q 516 1085 546 1117 q 471 1054 486 1054 q 442 1078 442 1054 q 476 1150 442 1101 q 539 1199 510 1199 q 568 1178 554 1199 q 582 1141 582 1157 q 574 1124 582 1125 z "},Ì:{ha:567,x_min:6,x_max:615,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 432 1083 q 349 1124 372 1114 q 326 1136 326 1133 q 354 1160 326 1144 q 393 1175 382 1175 q 410 1172 404 1175 q 483 1119 435 1154 l 563 1060 q 604 1032 594 1036 q 590 1022 604 1028 q 573 1015 576 1015 q 531 1035 569 1015 l 432 1083 z "},Í:{ha:567,x_min:6,x_max:732,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 729 1125 q 582 1055 674 1101 q 486 1008 490 1008 q 469 1015 482 1008 q 456 1025 456 1022 q 547 1090 468 1032 q 650 1165 625 1147 q 667 1168 656 1168 q 705 1153 678 1168 q 732 1129 732 1138 q 729 1125 732 1126 z "},Î:{ha:567,x_min:6,x_max:710,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 710 1047 l 710 1046 q 690 1031 710 1042 q 658 1019 669 1019 q 605 1069 639 1019 q 554 1157 571 1119 q 452 1069 508 1113 q 374 1025 396 1025 q 351 1029 351 1025 l 351 1031 q 554 1211 485 1139 q 577 1224 565 1224 q 610 1192 589 1224 q 663 1115 632 1161 q 710 1047 693 1068 z "},Ï:{ha:567,x_min:6,x_max:718,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 710 1124 q 652 1085 682 1117 q 607 1054 622 1054 q 578 1078 578 1054 q 612 1150 578 1101 q 675 1199 646 1199 q 704 1178 690 1199 q 718 1141 718 1157 q 710 1124 718 1125 m 450 1124 q 392 1085 422 1117 q 347 1054 363 1054 q 318 1078 318 1054 q 352 1150 318 1101 q 415 1199 386 1199 q 444 1178 431 1199 q 458 1141 458 1157 q 450 1124 458 1125 z "},Ð:{ha:1015,x_min:0,x_max:1039,o:"m 1032 497 q 908 213 1006 333 q 672 32 811 92 q 371 -28 533 -28 q 69 126 69 -28 q 85 237 69 189 q 107 300 101 285 q 149 403 128 363 l 11 403 q 10 410 10 403 q 29 449 10 418 q 61 479 49 479 l 179 479 q 320 790 260 671 q 385 914 381 908 q 161 865 275 906 q 13 765 47 825 q 6 761 11 761 q 0 769 0 761 q 1 779 0 776 q 194 956 54 924 q 365 969 258 969 l 650 969 q 943 863 847 969 q 1039 590 1039 756 q 1032 497 1039 550 m 886 486 q 901 608 901 550 q 822 832 901 743 q 701 903 778 881 q 557 926 624 926 q 328 479 456 792 l 490 479 q 492 472 492 479 q 472 433 492 464 q 440 403 453 403 l 299 403 q 285 369 296 394 q 271 333 275 344 q 258 299 267 322 q 246 262 250 275 q 235 227 242 249 q 226 189 229 206 q 219 108 219 150 q 247 49 219 65 q 346 32 275 32 q 690 162 539 32 q 886 486 842 292 z "},Ñ:{ha:976,x_min:53,x_max:1192,o:"m 1192 968 q 1035 735 1136 932 q 856 323 935 538 q 778 25 778 108 q 781 0 778 7 l 693 0 q 665 141 689 81 q 628 231 640 201 q 585 331 615 261 q 531 456 554 400 q 449 742 458 624 q 268 310 357 538 q 179 13 179 82 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 583 969 q 564 892 564 938 q 643 603 564 789 q 728 381 715 429 q 745 318 742 333 q 750 282 749 303 q 753 256 751 261 q 1063 969 771 300 q 1088 976 1065 976 q 1149 972 1111 976 q 1192 968 1186 968 m 1050 1226 q 939 1126 992 1126 q 849 1151 907 1126 q 756 1176 790 1176 q 697 1156 722 1176 q 671 1135 672 1135 q 656 1148 656 1135 q 692 1201 656 1161 q 762 1242 728 1242 q 860 1216 796 1242 q 952 1190 924 1190 q 997 1205 981 1190 q 1022 1233 1013 1219 q 1040 1247 1032 1247 q 1053 1236 1053 1247 q 1050 1226 1053 1232 z "},Ò:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 700 1108 q 617 1149 640 1139 q 594 1161 594 1158 q 622 1185 594 1169 q 661 1200 650 1200 q 678 1197 672 1200 q 750 1144 703 1179 l 831 1085 q 872 1057 863 1061 q 858 1047 872 1053 q 841 1040 844 1040 q 799 1060 838 1040 l 700 1108 z "},Ó:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 946 1160 q 799 1090 890 1136 q 703 1043 707 1043 q 685 1050 699 1043 q 672 1060 672 1057 q 763 1124 685 1067 q 867 1200 842 1182 q 883 1203 872 1203 q 922 1188 894 1203 q 949 1164 949 1172 q 946 1160 949 1161 z "},Ô:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 954 1076 l 954 1075 q 934 1060 954 1071 q 903 1049 914 1049 q 849 1099 883 1049 q 799 1186 815 1149 q 697 1098 753 1142 q 618 1054 640 1054 q 596 1058 596 1054 l 596 1060 q 799 1240 729 1168 q 822 1253 810 1253 q 855 1222 833 1253 q 907 1144 876 1190 q 954 1076 938 1097 z "},Õ:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 1003 1226 q 892 1126 944 1126 q 801 1151 860 1126 q 709 1176 743 1176 q 650 1156 675 1176 q 624 1135 625 1135 q 608 1148 608 1135 q 644 1201 608 1161 q 715 1242 681 1242 q 813 1216 749 1242 q 905 1190 876 1190 q 949 1205 933 1190 q 975 1233 965 1219 q 993 1247 985 1247 q 1006 1236 1006 1247 q 1003 1226 1006 1232 z "},Ö:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 701 983 567 983 q 966 897 878 983 q 1054 680 1054 810 q 997 421 1054 550 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 m 976 1175 q 919 1137 949 1168 q 874 1106 889 1106 q 844 1129 844 1106 q 878 1201 844 1153 q 942 1250 913 1250 q 971 1229 957 1250 q 985 1192 985 1208 q 976 1175 985 1176 m 717 1175 q 659 1137 689 1168 q 614 1106 629 1106 q 585 1129 585 1106 q 619 1201 585 1153 q 682 1250 653 1250 q 711 1229 697 1250 q 725 1192 725 1208 q 717 1175 725 1176 z "},"×":{ha:1028,x_min:214,x_max:908,o:"m 575 475 l 904 710 l 906 710 q 908 690 908 710 q 888 599 908 614 l 633 418 l 826 233 q 831 213 831 229 q 820 160 831 196 q 803 124 810 124 l 554 361 l 219 124 l 218 124 q 214 145 214 124 q 220 197 214 167 q 235 233 226 228 l 494 418 l 307 599 q 303 619 303 603 q 314 672 303 635 q 331 710 325 710 l 332 710 l 575 475 z "},Ø:{ha:1060,x_min:4,x_max:1054,o:"m 997 421 q 735 84 906 213 q 349 -44 565 -44 q 232 -33 288 -44 l 199 -81 q 161 -85 196 -85 q 126 -75 126 -85 l 126 -74 l 168 -15 q 4 258 4 47 q 98 605 4 439 q 349 875 192 771 q 683 983 507 979 q 865 957 790 983 l 886 985 q 924 989 890 989 q 958 979 958 989 l 958 978 l 924 929 q 1054 667 1054 847 q 997 421 1054 553 m 768 240 q 806 290 768 240 q 892 460 844 339 q 939 698 939 582 q 881 869 939 814 l 279 31 q 369 13 319 13 q 585 77 478 13 q 768 240 692 142 m 228 68 l 828 904 q 744 919 789 919 q 530 857 636 919 q 346 698 424 794 q 219 481 268 601 q 171 245 171 361 q 228 68 171 129 z "},Ù:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 789 1106 q 706 1145 729 1135 q 683 1157 683 1156 q 711 1181 683 1165 q 750 1196 739 1196 q 767 1193 761 1196 q 839 1139 792 1175 l 919 1081 q 961 1053 951 1057 q 947 1042 961 1049 q 930 1036 933 1036 q 888 1056 926 1036 l 789 1106 z "},Ú:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 1021 1149 q 874 1078 965 1125 q 778 1032 782 1032 q 760 1039 774 1032 q 747 1049 747 1046 q 838 1113 760 1056 q 942 1189 917 1171 q 958 1192 947 1192 q 997 1176 969 1192 q 1024 1153 1024 1161 q 1021 1149 1024 1150 z "},Û:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 1036 1047 l 1036 1046 q 1016 1031 1036 1042 q 985 1019 996 1019 q 931 1069 965 1019 q 881 1157 897 1119 q 778 1069 835 1113 q 700 1025 722 1025 q 678 1029 678 1025 l 678 1031 q 881 1211 811 1139 q 903 1224 892 1224 q 937 1192 915 1224 q 989 1115 958 1161 q 1036 1047 1019 1068 z "},Ü:{ha:1038,x_min:14,x_max:1197,o:"m 386 875 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 467 744 561 921 q 319 433 374 568 q 243 167 243 257 q 314 78 243 78 q 468 163 374 78 q 654 372 563 249 q 908 755 835 618 q 1022 931 982 892 q 1111 969 1063 969 l 1197 969 q 1007 669 1132 919 q 819 126 819 292 q 868 50 819 50 q 924 68 892 50 l 925 68 q 929 60 929 68 q 860 11 929 33 q 747 -11 790 -11 q 658 92 658 -11 q 694 256 658 143 q 786 490 731 369 q 478 92 579 182 q 269 -10 365 -10 q 110 144 110 -10 q 194 469 110 258 q 386 875 278 679 m 1029 1117 q 972 1078 1001 1110 q 926 1047 942 1047 q 897 1071 897 1047 q 931 1143 897 1094 q 994 1192 965 1192 q 1024 1171 1010 1192 q 1038 1134 1038 1150 q 1029 1117 1038 1118 m 769 1117 q 712 1078 742 1110 q 667 1047 682 1047 q 638 1071 638 1047 q 672 1143 638 1094 q 735 1192 706 1192 q 764 1171 750 1192 q 778 1134 778 1150 q 769 1117 778 1118 z "},Ý:{ha:950,x_min:6,x_max:1050,o:"m 1050 969 q 792 735 919 879 q 539 349 633 556 q 461 111 486 231 q 450 35 450 60 q 456 0 450 10 l 276 0 q 331 172 282 24 q 381 387 381 321 q 349 564 381 453 q 263 767 317 675 q 160 860 210 860 q 15 751 97 860 q 13 750 14 750 q 6 761 6 750 q 7 774 6 772 q 110 919 56 872 q 247 965 164 965 q 368 922 331 965 q 444 749 406 879 q 519 468 482 619 q 675 689 549 508 q 857 942 801 869 q 971 971 879 971 q 1013 970 986 971 q 1050 969 1040 969 m 821 1125 q 674 1055 765 1101 q 578 1008 582 1008 q 560 1015 574 1008 q 547 1025 547 1022 q 638 1090 560 1032 q 742 1165 717 1147 q 758 1168 747 1168 q 797 1153 769 1168 q 824 1129 824 1138 q 821 1125 824 1126 z "},Þ:{ha:693,x_min:-75,x_max:829,o:"m 586 1006 l 646 1001 q 686 1004 665 1001 q 506 763 631 968 l 571 763 q 764 707 699 763 q 829 567 829 651 q 677 315 829 417 q 296 213 525 213 q 232 217 264 213 q 117 -178 117 -75 q 122 -207 117 -193 l -57 -207 q 178 425 -1 22 q 208 496 185 440 q 289 657 250 599 l 317 711 q 81 663 200 708 q -57 556 -37 617 q -62 551 -58 551 q -75 569 -75 551 q -63 607 -75 572 q -19 679 -51 642 q 53 733 13 717 q 221 763 121 763 l 344 763 q 453 940 403 871 q 586 1006 501 1006 m 257 239 q 458 274 358 239 q 620 379 557 308 q 683 550 683 450 q 493 721 683 710 q 269 307 394 594 l 240 239 l 257 239 z "},ß:{ha:756,x_min:-456,x_max:872,o:"m 857 281 q 675 50 765 124 q 442 -24 585 -24 q 317 6 368 -24 q 267 89 267 35 q 286 151 267 122 q 340 179 306 179 q 383 154 374 179 q 357 93 357 128 q 435 24 357 24 q 515 56 481 24 q 549 122 549 88 q 534 185 549 156 q 475 258 519 214 q 399 344 431 301 q 368 440 368 386 q 403 532 368 493 q 488 597 438 571 q 588 648 538 622 q 674 716 639 674 q 708 813 708 758 q 677 894 708 868 q 601 921 646 921 q 254 432 433 921 q 247 412 250 422 q 220 340 243 401 q 188 253 197 278 q 156 172 178 228 q 121 84 135 117 q 88 6 107 51 q 3 -157 57 -65 q -117 -301 -50 -249 q -278 -354 -183 -354 q -414 -319 -372 -354 q -456 -241 -456 -285 q -433 -169 -456 -197 q -383 -142 -410 -142 q -329 -181 -329 -142 q -348 -217 -329 -189 q -367 -265 -367 -246 q -317 -310 -367 -310 q -257 -292 -294 -310 q -175 -223 -219 -274 q -99 -118 -131 -172 q -31 19 -67 -64 q 26 161 6 103 q 78 312 47 219 q 130 458 110 404 q 163 547 150 513 q 205 647 175 581 q 258 751 235 714 q 320 837 281 788 q 399 911 360 886 q 607 976 496 976 q 742 936 679 976 q 806 822 806 896 q 773 732 806 771 q 693 668 740 693 q 599 619 646 643 q 519 558 551 594 q 486 482 486 522 q 506 413 486 442 q 556 363 526 385 q 614 319 585 342 q 683 186 683 264 q 663 113 683 147 q 615 57 643 78 q 710 128 663 76 q 786 231 757 181 q 838 322 815 282 q 866 361 860 361 q 872 333 872 361 q 857 281 872 306 z "},à:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 450 767 q 367 807 390 797 q 344 819 344 817 q 372 843 344 828 q 411 858 400 858 q 428 856 422 858 q 500 803 453 838 l 581 743 q 622 715 613 719 q 608 705 622 711 q 591 699 594 699 q 549 718 588 699 l 450 767 z "},á:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 651 817 q 504 747 596 793 q 408 700 413 700 q 391 707 404 700 q 378 717 378 714 q 469 781 390 724 q 572 857 547 839 q 589 860 578 860 q 627 844 600 860 q 654 821 654 829 q 651 817 654 818 z "},â:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 661 710 l 661 708 q 641 693 661 704 q 610 682 621 682 q 556 732 590 682 q 506 819 522 782 q 403 731 460 775 q 325 688 347 688 q 303 692 303 688 l 303 693 q 506 874 436 801 q 528 886 517 886 q 562 855 540 886 q 614 777 583 824 q 661 710 644 731 z "},ã:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 713 824 q 601 724 654 724 q 511 749 569 724 q 419 774 453 774 q 360 753 385 774 q 333 732 335 732 q 318 745 318 732 q 354 799 318 758 q 424 839 390 839 q 522 813 458 839 q 615 788 586 788 q 659 802 643 788 q 685 831 675 817 q 703 844 694 844 q 715 833 715 844 q 713 824 715 829 z "},ä:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 708 775 q 651 737 681 768 q 606 706 621 706 q 576 729 576 706 q 610 801 576 753 q 674 850 644 850 q 703 829 689 850 q 717 792 717 808 q 708 775 717 776 m 449 775 q 391 737 421 768 q 346 706 361 706 q 317 729 317 706 q 351 801 317 753 q 414 850 385 850 q 443 829 429 850 q 457 792 457 808 q 449 775 457 776 z "},å:{ha:657,x_min:39,x_max:771,o:"m 618 556 l 688 554 l 701 554 q 589 365 656 517 q 522 143 522 213 q 547 107 522 107 q 753 344 628 107 q 763 354 758 354 q 771 328 771 354 q 757 279 771 303 q 471 -8 586 -8 q 396 107 396 -8 q 425 276 396 193 q 132 -4 267 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 558 532 526 508 q 618 556 590 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 678 796 q 614 708 661 744 q 509 672 567 672 q 426 698 451 672 q 401 764 401 724 q 452 876 401 825 q 582 926 503 926 q 658 901 632 926 q 685 836 685 875 q 678 796 685 819 m 600 893 l 586 894 q 508 852 542 894 q 475 765 475 810 q 528 711 475 711 q 608 753 574 711 q 642 842 642 796 q 600 893 642 888 z "},æ:{ha:858,x_min:39,x_max:975,o:"m 618 556 l 688 554 l 701 554 q 674 518 692 546 q 792 553 740 553 q 869 528 844 553 q 893 475 893 504 q 817 319 893 372 q 667 265 742 265 q 560 283 593 265 l 546 244 q 533 160 535 215 q 557 74 532 106 q 636 43 582 43 q 752 88 690 43 q 858 190 814 133 q 957 351 901 246 q 967 361 963 361 q 975 334 975 361 q 953 269 975 307 q 909 199 931 232 q 851 121 888 165 q 781 50 815 76 q 606 -14 693 -14 q 463 31 518 -14 q 408 164 408 75 q 431 267 408 211 q 271 64 340 132 q 132 -4 201 -4 q 39 124 39 -4 q 81 321 39 221 q 203 491 124 421 q 376 561 282 561 q 460 541 421 561 q 511 476 499 521 q 556 531 525 506 q 618 556 588 556 m 503 464 q 438 508 489 508 q 260 381 346 508 q 174 154 174 254 q 207 111 174 111 q 292 156 243 111 q 379 263 340 201 q 503 464 465 399 m 819 471 q 781 511 819 511 q 660 444 726 511 q 593 336 593 378 q 646 308 593 308 q 756 360 699 308 q 819 471 814 411 z "},ç:{ha:497,x_min:-14,x_max:611,o:"m 603 356 q 611 329 611 356 q 588 264 611 303 q 552 205 565 225 q 507 140 539 185 q 451 76 475 96 q 392 31 428 57 q 233 -14 331 -14 q 91 35 135 -14 q 47 164 47 85 q 151 431 47 310 q 394 553 254 553 q 494 520 457 553 q 532 442 532 488 q 507 364 532 397 q 450 331 482 331 q 388 382 388 331 q 422 414 388 399 q 447 435 436 419 q 458 475 458 450 q 419 511 458 511 q 254 390 336 511 q 172 156 172 269 q 271 43 172 43 q 539 256 408 43 q 583 326 565 297 q 603 356 600 356 m 229 -100 q 216 -104 228 -106 q 196 -103 204 -103 q 103 -167 147 -103 q 58 -294 58 -231 q 114 -358 58 -358 q 215 -306 165 -358 q 222 -303 218 -303 q 225 -312 225 -303 q 181 -369 225 -346 q 87 -392 138 -392 q 11 -363 36 -392 q -14 -289 -14 -335 q 45 -138 -14 -199 q 192 -78 104 -78 l 197 -78 l 225 -14 q 241 -8 226 -8 q 256 -12 256 -8 l 229 -100 z "},è:{ha:497,x_min:47,x_max:614,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 358 750 q 276 790 299 781 q 253 803 253 800 q 281 826 253 811 q 319 842 308 842 q 336 839 331 842 q 408 786 361 821 l 489 726 q 531 699 521 703 q 517 688 531 694 q 499 682 503 682 q 457 701 496 682 l 358 750 z "},é:{ha:497,x_min:47,x_max:635,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 632 793 q 485 723 576 769 q 389 676 393 676 q 372 683 385 676 q 358 693 358 690 q 449 758 371 700 q 553 833 528 815 q 569 836 558 836 q 608 821 581 836 q 635 797 635 806 q 632 793 635 794 z "},ê:{ha:497,x_min:47,x_max:625,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 625 715 l 625 714 q 605 699 625 710 q 574 688 585 688 q 520 738 554 688 q 469 825 486 788 q 367 737 424 781 q 289 693 311 693 q 267 697 267 693 l 267 699 q 469 879 400 807 q 492 892 481 892 q 526 860 504 892 q 578 783 547 829 q 625 715 608 736 z "},ë:{ha:497,x_min:47,x_max:678,o:"m 606 361 q 614 334 614 361 q 592 269 614 307 q 548 199 569 232 q 490 121 526 165 q 419 50 454 76 q 244 -14 332 -14 q 101 31 156 -14 q 47 169 47 76 q 151 432 47 311 q 394 553 256 553 q 494 520 457 553 q 532 442 532 488 q 458 317 532 364 q 285 269 385 269 q 199 285 226 269 q 172 160 172 214 q 271 43 172 43 q 391 88 329 43 q 497 190 453 133 q 596 351 540 246 q 606 361 601 361 m 458 471 q 419 511 458 511 q 299 444 365 511 q 232 336 232 378 q 285 308 232 308 q 395 360 338 308 q 458 471 453 411 m 669 774 q 612 735 642 767 q 567 704 582 704 q 538 728 538 704 q 572 800 538 751 q 635 849 606 849 q 664 828 650 849 q 678 791 678 807 q 669 774 678 775 m 410 774 q 352 735 382 767 q 307 704 322 704 q 278 728 278 704 q 312 800 278 751 q 375 849 346 849 q 404 828 390 849 q 418 791 418 807 q 410 774 418 775 z "},ì:{ha:301,x_min:35,x_max:421,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 249 764 q 166 803 189 793 q 143 815 143 814 q 171 839 143 824 q 210 854 199 854 q 226 851 221 854 q 300 797 251 833 l 379 739 q 421 711 411 715 q 407 701 421 707 q 390 694 393 694 q 347 714 386 694 l 249 764 z "},í:{ha:301,x_min:35,x_max:510,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 507 815 q 360 745 451 792 q 264 699 268 699 q 247 706 260 699 q 233 715 233 713 q 324 780 246 722 q 428 856 403 838 q 444 858 433 858 q 483 843 456 858 q 510 819 510 828 q 507 815 510 817 z "},î:{ha:301,x_min:35,x_max:500,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 500 707 l 500 706 q 480 690 500 701 q 449 679 460 679 q 395 729 429 679 q 344 817 361 779 q 242 728 299 772 q 164 685 186 685 q 142 689 142 685 l 142 690 q 344 871 275 799 q 367 883 356 883 q 401 852 379 883 q 453 774 422 821 q 500 707 483 728 z "},ï:{ha:301,x_min:35,x_max:517,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 508 776 q 451 738 481 769 q 406 707 421 707 q 376 731 376 707 q 410 803 376 754 q 474 851 444 851 q 503 831 489 851 q 517 794 517 810 q 508 776 517 778 m 249 776 q 191 738 221 769 q 146 707 161 707 q 117 731 117 707 q 151 803 117 754 q 214 851 185 851 q 243 831 229 851 q 257 794 257 810 q 249 776 257 778 z "},ð:{ha:669,x_min:-28,x_max:624,o:"m 453 849 q 578 652 533 767 q 624 429 624 538 q 582 219 624 321 q 450 45 540 118 q 252 -28 360 -28 q 92 44 144 -28 q 40 221 40 115 q 83 422 40 326 q 206 584 125 518 q 386 650 288 650 q 406 642 406 650 q 383 626 406 635 q 274 540 324 607 q 199 391 225 474 q 174 232 174 308 q 314 51 174 51 q 462 141 406 51 q 518 339 518 231 q 473 569 518 447 q 356 785 428 692 q 168 664 236 710 l 167 664 q 164 679 164 664 q 182 751 164 740 l 313 835 q 117 936 215 936 q 60 888 60 936 q 81 838 60 864 q 101 797 101 811 q 87 772 101 783 q 46 761 72 761 q -4 790 19 761 q -28 863 -28 818 q 17 943 -28 907 q 157 979 63 979 q 403 893 293 979 l 525 974 q 529 957 529 974 q 513 886 529 899 l 453 849 z "},ñ:{ha:606,x_min:-29,x_max:719,o:"m 706 279 q 612 135 654 193 q 515 35 569 78 q 417 -8 461 -8 q 335 82 335 -8 q 439 444 335 172 q 444 471 444 457 q 408 500 444 500 q 335 477 371 500 q 271 412 300 454 q 218 326 242 369 q 174 225 194 282 q 142 130 154 168 q 119 48 131 92 q 106 0 107 4 l -29 0 q 93 335 -29 29 q 143 535 143 478 q 139 556 143 549 l 197 556 q 260 546 246 556 q 274 519 274 536 q 258 451 274 503 q 493 563 375 563 q 572 490 572 563 q 565 443 572 467 q 531 349 558 419 q 469 140 469 193 q 494 107 469 107 q 545 132 513 107 q 599 184 578 157 q 647 252 621 211 q 690 324 672 293 q 711 354 708 354 q 719 328 719 354 q 706 279 719 303 m 628 807 q 517 707 569 707 q 426 732 485 707 q 334 757 368 757 q 275 736 300 757 q 249 715 250 715 q 233 728 233 715 q 269 782 233 742 q 340 822 306 822 q 438 797 374 822 q 530 771 501 771 q 574 785 558 771 q 600 814 590 800 q 618 828 610 828 q 631 817 631 828 q 628 807 631 813 z "},ò:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 347 758 q 265 799 288 789 q 242 811 242 808 q 269 835 242 819 q 308 850 297 850 q 325 847 319 850 q 397 794 350 829 l 478 735 q 519 707 510 711 q 506 697 519 703 q 488 690 492 690 q 446 710 485 690 l 347 758 z "},ó:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 599 807 q 451 737 543 783 q 356 690 360 690 q 338 697 351 690 q 325 707 325 704 q 416 772 338 714 q 519 847 494 829 q 536 850 525 850 q 574 835 547 850 q 601 811 601 819 q 599 807 601 808 z "},ô:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 607 697 l 607 696 q 587 681 607 692 q 556 669 567 669 q 502 719 536 669 q 451 807 468 769 q 349 719 406 763 q 271 675 293 675 q 249 679 249 675 l 249 681 q 451 861 382 789 q 474 874 463 874 q 508 842 486 874 q 560 765 529 811 q 607 697 590 718 z "},õ:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 622 799 q 511 699 564 699 q 421 724 479 699 q 328 749 363 749 q 269 728 294 749 q 243 707 244 707 q 228 720 228 707 q 264 774 228 733 q 334 814 300 814 q 432 788 368 814 q 524 763 496 763 q 569 777 553 763 q 594 806 585 792 q 613 819 604 819 q 625 808 625 819 q 622 799 625 804 z "},ö:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 383 46 451 103 q 206 -11 314 -11 q 92 31 136 -11 q 49 160 49 74 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 551 390 551 565 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 486 428 q 419 501 481 501 q 232 315 324 501 q 182 129 182 213 q 254 42 182 46 q 365 105 314 42 q 450 244 415 168 q 403 346 403 285 q 423 406 403 383 q 478 428 443 428 l 486 428 m 667 764 q 609 726 639 757 q 564 694 579 694 q 535 718 535 694 q 569 790 535 742 q 632 839 603 839 q 661 818 647 839 q 675 781 675 797 q 667 764 675 765 m 407 764 q 349 726 379 757 q 304 694 319 694 q 275 718 275 694 q 309 790 275 742 q 372 839 343 839 q 401 818 388 839 q 415 781 415 797 q 407 764 415 765 z "},"÷":{ha:1024,x_min:214,x_max:803,o:"m 633 668 q 576 603 585 603 q 540 619 561 603 q 518 655 518 636 q 550 693 518 674 q 619 713 582 713 q 643 690 643 713 q 633 668 643 676 m 279 517 l 801 517 q 803 510 803 517 q 777 465 803 503 q 738 426 751 426 l 215 426 q 214 433 214 426 q 240 478 214 440 q 279 517 267 517 m 483 268 q 476 247 483 254 q 456 224 468 240 q 415 181 421 181 q 378 197 400 181 q 357 233 357 214 q 390 272 357 251 q 453 292 422 292 q 483 268 483 292 z "},ø:{ha:624,x_min:49,x_max:735,o:"m 718 342 q 726 350 722 350 q 735 329 735 350 q 681 219 735 263 q 581 175 628 175 q 501 201 535 175 q 382 45 451 101 q 201 -11 313 -11 l 199 -11 l 108 -154 q 81 -161 104 -161 q 58 -158 58 -161 l 58 -157 l 154 -4 q 49 158 49 24 q 88 340 49 247 q 208 499 128 432 q 386 565 288 565 q 494 533 453 565 l 571 654 q 598 661 575 661 q 621 658 621 661 l 621 657 l 524 503 q 551 392 551 460 q 522 250 551 324 q 582 221 543 221 q 718 342 654 221 m 232 315 q 182 133 182 213 q 200 67 182 90 l 464 485 q 419 501 450 501 q 232 315 324 501 m 450 244 q 406 317 414 274 l 233 44 q 254 42 247 42 q 365 105 314 42 q 450 244 415 168 z "},ù:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 401 753 q 319 792 342 782 q 296 804 296 803 q 324 828 296 813 q 363 843 351 843 q 379 840 374 843 q 453 786 404 822 l 532 728 q 574 700 564 704 q 560 690 574 696 q 542 683 546 683 q 500 703 539 683 l 401 753 z "},ú:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 638 801 q 490 731 582 778 q 394 685 399 685 q 377 692 390 685 q 364 701 364 699 q 455 766 376 708 q 558 842 533 824 q 575 844 564 844 q 613 829 586 844 q 640 806 640 814 q 638 801 640 803 z "},û:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 663 701 l 663 700 q 642 685 663 696 q 611 674 622 674 q 558 724 592 674 q 507 811 524 774 q 405 723 461 767 q 326 679 349 679 q 304 683 304 679 l 304 685 q 507 865 438 793 q 530 878 518 878 q 563 847 542 878 q 615 769 585 815 q 663 701 646 722 z "},ü:{ha:624,x_min:38,x_max:739,o:"m 578 560 l 644 558 q 671 560 665 558 q 559 376 632 533 q 486 149 486 218 q 514 107 486 107 q 563 131 532 107 q 617 183 594 154 q 665 253 639 211 q 709 325 690 294 q 731 356 728 356 q 739 329 739 356 q 724 279 739 303 q 436 -8 551 -8 q 358 107 358 -8 q 364 176 358 143 q 115 -8 233 -8 q 59 21 81 -8 q 38 107 38 50 q 78 295 38 164 q 176 511 118 426 q 206 537 190 532 q 267 542 222 542 l 333 542 q 258 414 299 494 q 167 135 167 224 q 205 82 167 82 q 296 156 243 82 q 409 347 349 229 q 479 479 469 464 q 578 560 531 560 m 660 769 q 602 731 632 763 q 557 700 572 700 q 528 724 528 700 q 562 796 528 747 q 625 844 596 844 q 654 824 640 844 q 668 787 668 803 q 660 769 668 771 m 400 769 q 342 731 372 763 q 297 700 313 700 q 268 724 268 700 q 302 796 268 747 q 365 844 336 844 q 394 824 381 844 q 408 787 408 803 q 400 769 408 771 z "},ý:{ha:590,x_min:-69,x_max:668,o:"m 611 542 l 668 542 q 581 411 625 515 q 519 252 544 324 q 489 165 494 181 q 463 91 483 150 q 431 0 443 32 q 350 -154 396 -97 q 236 -245 304 -211 q 99 -279 168 -279 q -20 -252 29 -279 q -69 -167 -69 -225 q -51 -112 -69 -136 q -8 -87 -32 -87 q 33 -99 17 -87 q 57 -124 50 -110 q 32 -182 32 -132 q 51 -224 32 -208 q 99 -240 69 -240 q 288 -39 211 -240 l 367 172 q 253 49 301 90 q 178 0 206 8 q 115 -8 151 -8 q 56 22 78 -8 q 34 109 33 51 q 67 274 35 167 q 140 443 100 381 q 222 524 179 506 q 338 542 264 542 q 343 536 343 542 q 335 522 343 531 q 219 343 278 472 q 160 125 160 214 q 186 78 160 78 q 314 178 236 78 q 433 378 392 278 q 449 418 439 392 q 464 454 460 444 q 477 481 468 464 q 493 505 486 499 q 512 521 500 511 q 536 533 524 531 q 611 542 576 542 m 644 793 q 497 723 589 769 q 401 676 406 676 q 384 683 397 676 q 371 693 371 690 q 462 758 383 700 q 565 833 540 815 q 582 836 571 836 q 620 821 593 836 q 647 797 647 806 q 644 793 647 794 z "},þ:{ha:547,x_min:-169,x_max:663,o:"m 647 279 q 460 42 553 108 q 244 -24 368 -24 q 100 28 121 -24 l 96 43 l 18 -200 q -24 -306 -10 -282 q -57 -337 -39 -331 q -103 -344 -75 -344 l -169 -344 q -78 -140 -128 -285 q -41 -37 -65 -107 q -3 71 -17 33 q 19 143 7 115 q 61 276 31 171 q 123 478 92 381 q 196 675 154 575 q 293 836 238 775 q 410 897 349 897 l 451 897 q 383 808 426 882 q 208 371 285 639 q 326 506 261 451 q 449 561 392 561 q 542 433 542 561 q 476 220 542 326 q 318 43 411 114 l 328 43 q 329 43 329 43 q 547 190 432 43 q 608 285 565 213 q 654 357 651 357 q 663 331 663 357 q 647 279 663 306 m 386 443 q 374 444 382 444 q 310 417 344 444 q 189 269 253 372 q 125 101 125 167 q 165 36 125 36 q 273 108 214 36 q 369 267 332 181 q 407 396 407 354 q 386 443 407 438 z "},ÿ:{ha:590,x_min:-69,x_max:690,o:"m 611 542 l 668 542 q 581 411 625 515 q 519 252 544 324 q 489 165 494 181 q 463 91 483 150 q 431 0 443 32 q 350 -154 396 -97 q 236 -245 304 -211 q 99 -279 168 -279 q -20 -252 29 -279 q -69 -167 -69 -225 q -51 -112 -69 -136 q -8 -87 -32 -87 q 33 -99 17 -87 q 57 -124 50 -110 q 32 -182 32 -132 q 51 -224 32 -208 q 99 -240 69 -240 q 288 -39 211 -240 l 367 172 q 253 49 301 90 q 178 0 206 8 q 115 -8 151 -8 q 56 22 78 -8 q 34 109 33 51 q 67 274 35 167 q 140 443 100 381 q 222 524 179 506 q 338 542 264 542 q 343 536 343 542 q 335 522 343 531 q 219 343 278 472 q 160 125 160 214 q 186 78 160 78 q 314 178 236 78 q 433 378 392 278 q 449 418 439 392 q 464 454 460 444 q 477 481 468 464 q 493 505 486 499 q 512 521 500 511 q 536 533 524 531 q 611 542 576 542 m 682 757 q 624 719 654 750 q 579 688 594 688 q 550 711 550 688 q 584 783 550 735 q 647 832 618 832 q 676 811 663 832 q 690 774 690 790 q 682 757 690 758 m 422 757 q 365 719 394 750 q 319 688 335 688 q 290 711 290 688 q 324 783 290 735 q 388 832 358 832 q 417 811 403 832 q 431 774 431 790 q 422 757 431 758 z "},ħ:{ha:608,x_min:-28,x_max:722,o:"m 708 279 q 419 -8 538 -8 q 338 86 338 -8 q 425 399 338 196 q 444 469 444 450 q 419 497 444 497 q 363 478 403 497 q 288 421 324 458 q 227 334 251 383 q 188 249 203 285 q 158 160 174 213 q 131 76 143 108 q 107 0 119 43 l -28 0 q 80 306 10 96 q 200 637 150 517 q 298 840 250 757 q 408 978 346 922 q 538 1033 469 1033 q 607 968 607 1033 q 569 847 607 922 q 300 481 489 689 q 419 551 375 535 q 503 568 463 568 q 582 499 582 568 q 572 447 582 471 q 551 393 563 424 q 531 343 539 363 q 511 290 524 324 q 492 233 499 257 q 474 140 474 175 q 497 106 474 106 q 706 347 581 106 q 716 357 710 357 q 722 331 722 357 q 708 279 722 306 m 540 999 q 413 844 492 999 q 260 490 335 690 q 519 857 450 714 q 558 972 558 944 q 540 999 558 999 m 163 810 l 675 810 l 678 808 q 648 777 678 800 q 603 754 618 754 l 90 754 q 89 756 89 754 q 118 786 89 763 q 163 810 147 810 z "},Ĩ:{ha:567,x_min:6,x_max:728,o:"m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 m 725 1150 q 614 1050 667 1050 q 524 1075 582 1050 q 431 1100 465 1100 q 372 1079 397 1100 q 346 1058 347 1058 q 331 1072 331 1058 q 367 1125 331 1085 q 437 1165 403 1165 q 535 1140 471 1165 q 627 1114 599 1114 q 672 1128 656 1114 q 697 1156 688 1142 q 715 1171 707 1171 q 728 1160 728 1171 q 725 1150 728 1156 z "},ĩ:{ha:301,x_min:35,x_max:528,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 525 803 q 414 703 467 703 q 324 728 382 703 q 231 753 265 753 q 172 732 197 753 q 146 711 147 711 q 131 724 131 711 q 167 778 131 738 q 237 818 203 818 q 335 792 271 818 q 427 767 399 767 q 472 781 456 767 q 497 809 488 794 q 515 824 507 824 q 528 813 528 824 q 525 803 528 808 z "},ı:{ha:301,x_min:35,x_max:415,o:"m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 z "},Ĳ:{ha:1044,x_min:6,x_max:1044,o:"m 136 -69 l 135 -78 q 155 -135 135 -117 q 204 -154 175 -154 q 347 -67 275 -154 q 513 211 418 19 q 646 496 608 403 q 721 664 683 589 q 813 814 758 739 q 908 906 867 889 q 737 846 813 885 q 646 763 661 807 q 640 758 644 758 q 628 776 628 758 q 631 790 628 779 q 707 908 657 867 q 805 960 757 950 q 924 969 853 969 l 989 969 l 1044 968 q 910 853 969 943 q 776 554 850 764 q 673 259 732 404 q 584 53 614 114 q 509 -79 554 -7 q 422 -196 464 -151 q 325 -271 379 -240 q 211 -301 271 -301 q 112 -265 151 -301 q 72 -167 72 -228 q 88 -106 72 -137 q 136 -69 103 -74 m 301 969 l 615 969 q 351 514 519 896 q 253 259 308 417 q 199 29 199 101 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 z "},ĳ:{ha:600,x_min:-168,x_max:719,o:"m 447 739 l 442 739 q 388 715 414 739 q 351 667 363 692 q 315 717 315 681 q 349 790 315 753 q 413 826 382 826 q 458 813 443 826 q 474 777 474 799 q 447 739 474 756 m 258 556 l 328 554 l 342 554 q 283 464 319 538 q 228 353 246 390 q 187 251 210 315 q 164 147 164 188 q 190 107 164 107 q 241 131 208 107 q 294 183 274 156 q 341 251 315 210 q 385 324 367 293 q 407 354 404 354 q 415 328 415 354 q 401 279 415 303 q 308 135 350 193 q 211 35 265 78 q 113 -8 157 -8 q 35 100 35 -8 q 150 472 35 268 q 258 556 199 556 m 532 542 l 588 542 q 539 488 557 524 q 511 434 521 453 q 486 375 501 415 l 464 314 q 415 183 436 244 q 387 101 394 122 q 359 32 379 81 q 325 -43 339 -17 q 286 -114 311 -69 q 239 -183 261 -158 q 184 -240 217 -208 q 119 -287 151 -271 q -28 -328 40 -328 q -168 -242 -168 -328 q -147 -176 -168 -207 q -88 -144 -125 -144 q -39 -174 -51 -144 q -60 -203 -53 -182 q -68 -242 -68 -224 q -53 -274 -68 -261 q -14 -287 -39 -287 q 196 -64 103 -286 q 283 175 229 15 q 417 508 382 471 q 532 542 450 542 m 693 739 l 688 739 q 634 715 660 739 q 597 667 608 692 q 561 717 561 681 q 594 790 561 753 q 658 826 628 826 q 704 813 689 826 q 719 777 719 799 q 693 739 719 756 z "},Ĵ:{ha:613,x_min:-118,x_max:885,o:"m -54 -4 l -56 -12 q -35 -70 -56 -51 q 14 -89 -15 -89 q 422 506 182 -89 q 441 553 426 517 q 493 664 456 589 q 585 815 531 739 q 682 906 640 890 q 539 917 642 917 q 309 872 436 917 q 161 763 182 828 q 156 758 158 758 q 143 776 143 758 q 146 790 143 779 q 222 908 172 867 q 320 960 272 950 q 439 969 368 969 l 504 969 l 817 968 q 703 872 735 906 q 636 770 671 839 q 571 617 601 701 q 519 467 540 532 q 481 350 499 401 q 434 222 464 299 q 376 88 404 146 q 307 -35 347 29 q 225 -140 267 -99 q 26 -236 132 -236 q -78 -199 -39 -236 q -118 -101 -118 -162 q -103 -40 -118 -72 q -54 -4 -87 -8 m 885 1063 l 885 1061 q 865 1046 885 1057 q 833 1035 844 1035 q 780 1085 814 1035 q 729 1172 746 1135 q 627 1084 683 1128 q 549 1040 571 1040 q 526 1044 526 1040 l 526 1046 q 729 1226 660 1154 q 752 1239 740 1239 q 785 1208 764 1239 q 838 1130 807 1176 q 885 1063 868 1083 z "},ĵ:{ha:299,x_min:-414,x_max:479,o:"m 286 542 l 342 542 q 293 488 311 524 q 265 434 275 453 q 240 375 256 415 q 217 314 240 375 q 169 183 190 244 q 141 101 149 122 q 113 32 133 81 q 79 -43 93 -17 q 40 -114 65 -69 q -7 -183 15 -158 q -62 -240 -29 -208 q -128 -287 -94 -271 q -274 -328 -206 -328 q -414 -242 -414 -328 q -392 -176 -414 -207 q -334 -144 -371 -144 q -285 -174 -297 -144 q -306 -203 -299 -182 q -314 -242 -314 -224 q -299 -274 -314 -261 q -260 -287 -285 -287 q -50 -64 -143 -286 q 36 175 -17 15 q 171 508 136 471 q 286 542 204 542 m 479 701 l 479 700 q 459 685 479 696 q 428 674 439 674 q 374 724 408 674 q 324 811 340 774 q 222 723 278 767 q 143 679 165 679 q 121 683 121 679 l 121 685 q 324 865 254 793 q 347 878 335 878 q 380 847 358 878 q 432 769 401 815 q 479 701 463 722 z "},ķ:{ha:571,x_min:-40,x_max:685,o:"m 669 276 q 571 128 621 194 q 360 -11 464 -11 q 274 46 303 -11 q 246 172 246 103 q 288 311 246 311 q 408 341 353 311 q 464 419 464 371 q 419 458 464 458 q 207 250 324 458 q 160 153 196 229 q 98 39 125 78 q 44 0 71 0 l -40 0 q 87 326 3 81 q 211 654 171 571 q 228 690 213 657 q 251 736 244 724 q 275 783 257 749 q 304 835 293 818 q 335 883 315 851 q 369 931 354 914 q 406 970 385 947 q 444 1004 426 993 q 531 1032 492 1032 q 607 963 607 1032 q 490 705 607 865 q 225 401 372 544 l 200 332 q 351 483 267 418 q 507 547 436 547 q 570 528 547 547 q 593 475 593 508 q 526 352 593 399 q 371 292 458 306 q 411 115 383 147 q 446 100 425 100 q 503 125 467 100 q 562 180 539 150 q 610 251 585 210 q 655 324 636 293 q 676 354 674 354 q 685 327 685 354 q 669 276 685 300 m 533 996 q 261 496 456 996 q 511 847 439 704 q 553 971 553 922 q 533 996 553 996 m 218 -89 q 113 -272 179 -179 q 13 -364 47 -364 q -7 -358 3 -364 q 100 -86 78 -232 q 160 -68 101 -68 q 218 -86 218 -68 l 218 -89 z "},ĸ:{ha:786,x_min:71,x_max:807,o:"m 796 600 q 469 428 667 600 q 783 3 551 158 q 622 -8 750 -8 q 479 128 563 -8 q 379 367 396 265 q 328 312 353 347 q 274 181 304 276 q 244 48 244 86 q 250 0 244 10 l 71 0 q 300 650 219 471 q 436 907 381 829 q 508 938 458 938 q 560 926 526 938 q 593 892 593 915 q 535 773 593 868 q 414 570 476 678 q 346 406 351 463 q 530 552 408 468 q 726 636 651 636 q 781 627 754 636 q 807 604 807 618 q 796 600 807 600 z "},Ŀ:{ha:792,x_min:-14,x_max:786,o:"m 783 179 q 669 26 744 58 q 594 5 629 10 q 503 0 558 0 l 82 0 q 26 78 26 0 q 358 875 26 276 q 385 918 383 915 q 145 870 267 915 q 4 763 24 825 q -1 758 3 758 q -14 776 -14 758 q -2 814 -14 779 q 42 886 10 849 q 114 942 74 924 q 282 969 182 969 l 597 969 q 451 765 540 926 q 276 412 361 604 q 190 138 190 219 q 289 47 190 47 q 769 206 692 47 q 776 210 772 210 q 786 196 786 210 q 783 179 786 193 m 625 449 q 600 419 618 442 q 550 364 557 364 q 501 385 529 364 q 474 425 474 407 q 516 482 474 456 q 606 508 558 508 q 639 478 639 508 q 625 449 639 458 z "},ŀ:{ha:556,x_min:42,x_max:674,o:"m 576 847 q 424 617 526 746 q 239 411 321 489 l 217 347 q 165 131 165 196 q 190 76 165 94 q 251 57 214 57 q 473 136 364 57 q 654 350 582 215 q 665 363 661 363 q 674 338 674 363 q 657 282 674 314 q 447 65 586 154 q 165 -24 308 -24 q 69 0 97 -24 q 42 81 42 24 q 136 461 42 197 q 168 554 143 483 q 211 665 193 625 q 260 769 229 704 q 319 874 290 835 q 382 953 347 913 q 529 1033 450 1033 q 608 961 608 1033 q 576 847 608 906 m 547 999 l 538 999 q 267 490 453 999 q 526 857 457 714 q 565 972 565 944 q 547 999 565 999 m 525 449 q 500 419 518 442 q 450 364 457 364 q 401 385 429 364 q 374 425 374 407 q 416 482 374 456 q 506 508 458 508 q 539 478 539 508 q 525 449 539 458 z "},Ł:{ha:824,x_min:-22,x_max:814,o:"m 811 179 q 697 26 772 58 q 622 5 657 10 q 531 0 586 0 l 110 0 q 54 78 54 0 q 386 875 54 276 q 413 918 411 915 q 173 870 294 915 q 32 763 51 825 q 26 758 31 758 q 14 776 14 758 q 26 814 14 779 q 69 886 38 849 q 142 942 101 924 q 310 969 210 969 l 625 969 q 478 765 568 926 q 303 412 389 604 q 218 138 218 219 q 317 47 218 47 q 797 206 719 47 q 804 210 800 210 q 814 196 814 210 q 811 179 814 193 m 15 371 l 449 371 l 449 369 q 434 338 449 363 q 413 313 419 313 l -21 313 q -22 317 -22 313 q -7 346 -22 321 q 15 371 8 371 z "},ł:{ha:335,x_min:-39,x_max:607,o:"m -21 304 l 101 350 q 243 731 142 506 q 378 946 300 858 q 532 1033 457 1033 q 607 968 607 1033 q 479 699 607 874 q 232 411 351 524 l 226 397 l 403 463 q 404 454 404 463 q 398 424 404 446 q 386 401 392 403 l 204 333 q 164 131 164 201 q 194 89 164 89 q 267 124 225 89 q 329 184 310 158 q 375 253 349 210 q 440 356 438 356 q 449 333 449 356 q 335 128 449 278 q 237 35 297 78 q 124 -8 176 -8 q 46 97 46 -8 q 82 286 46 161 l -37 242 q -39 249 -39 242 q -33 279 -39 257 q -21 304 -28 301 m 540 999 q 413 844 492 999 q 260 490 335 690 q 519 857 450 714 q 558 972 558 944 q 540 999 558 999 z "},Ń:{ha:976,x_min:53,x_max:1192,o:"m 1192 968 q 1035 735 1136 932 q 856 323 935 538 q 778 25 778 108 q 781 0 778 7 l 693 0 q 665 141 689 81 q 628 231 640 201 q 585 331 615 261 q 531 456 554 400 q 449 742 458 624 q 268 310 357 538 q 179 13 179 82 q 181 0 179 3 l 53 0 q 279 535 132 203 q 458 929 426 867 q 212 879 332 929 q 71 763 92 829 q 65 758 69 758 q 54 776 54 758 q 65 814 54 779 q 108 886 76 849 q 181 942 139 924 q 349 969 249 969 l 583 969 q 564 892 564 938 q 643 603 564 789 q 728 381 715 429 q 745 318 742 333 q 750 282 749 303 q 753 256 751 261 q 1063 969 771 300 q 1088 976 1065 976 q 1149 972 1111 976 q 1192 968 1186 968 m 1011 1125 q 864 1055 956 1101 q 768 1008 772 1008 q 751 1015 764 1008 q 738 1025 738 1022 q 828 1090 750 1032 q 932 1165 907 1147 q 949 1168 938 1168 q 987 1153 960 1168 q 1014 1129 1014 1138 q 1011 1125 1014 1126 z "},ń:{ha:606,x_min:-29,x_max:719,o:"m 706 279 q 612 135 654 193 q 515 35 569 78 q 417 -8 461 -8 q 335 82 335 -8 q 439 444 335 172 q 444 471 444 457 q 408 500 444 500 q 335 477 371 500 q 271 412 300 454 q 218 326 242 369 q 174 225 194 282 q 142 130 154 168 q 119 48 131 92 q 106 0 107 4 l -29 0 q 93 335 -29 29 q 143 535 143 478 q 139 556 143 549 l 197 556 q 260 546 246 556 q 274 519 274 536 q 258 451 274 503 q 493 563 375 563 q 572 490 572 563 q 565 443 572 467 q 531 349 558 419 q 469 140 469 193 q 494 107 469 107 q 545 132 513 107 q 599 184 578 157 q 647 252 621 211 q 690 324 672 293 q 711 354 708 354 q 719 328 719 354 q 706 279 719 303 m 622 803 q 475 733 567 779 q 379 686 383 686 q 362 693 375 686 q 349 703 349 700 q 440 767 361 710 q 543 843 518 825 q 560 846 549 846 q 598 831 571 846 q 625 807 625 815 q 622 803 625 804 z "},Œ:{ha:1553,x_min:4,x_max:1589,o:"m 1385 969 l 1536 976 q 1584 959 1579 976 q 1589 933 1589 942 q 1555 810 1589 885 q 1506 736 1521 736 q 1492 747 1492 736 l 1503 831 q 1468 899 1503 874 q 1385 924 1433 924 q 1313 917 1336 924 q 1275 888 1289 910 q 1090 543 1174 736 l 1453 543 l 1454 542 q 1435 503 1454 532 q 1403 475 1415 475 l 1060 475 q 986 269 1022 383 q 950 119 950 156 q 972 65 950 82 q 1047 47 994 47 q 1528 206 1449 47 q 1535 210 1531 210 q 1546 194 1546 210 q 1535 155 1546 190 q 1496 81 1524 119 q 1428 26 1468 43 q 1352 5 1388 10 q 1261 0 1317 0 l 842 0 q 799 67 799 0 q 808 146 799 92 q 349 -44 611 -44 q 4 260 4 -44 q 62 530 4 397 q 214 762 119 663 q 438 922 308 861 q 707 983 567 983 q 933 924 847 983 q 1043 761 1018 864 q 1113 900 1085 854 q 1115 935 1115 914 q 1118 963 1114 957 q 1138 969 1122 969 l 1385 969 m 939 693 q 736 919 939 919 q 455 818 589 919 q 244 564 321 717 q 167 258 167 411 q 215 81 167 149 q 370 13 264 13 q 583 76 476 13 q 767 240 690 140 q 891 460 843 339 q 939 693 939 582 z "},œ:{ha:900,x_min:49,x_max:1015,o:"m 1001 281 q 925 165 954 206 q 850 78 896 125 q 629 -14 761 -14 q 507 19 551 -14 q 451 110 463 53 l 450 115 q 206 -11 356 -11 q 92 31 136 -11 q 49 160 49 72 q 88 340 49 247 q 208 499 128 432 q 375 565 288 565 q 550 424 535 565 q 808 557 663 557 q 926 469 926 557 q 863 345 926 406 q 720 251 800 285 q 578 213 640 217 q 572 157 572 186 q 671 43 572 43 q 900 192 781 43 q 942 253 915 210 q 1007 356 1004 356 q 1015 330 1015 356 q 1001 281 1015 304 m 847 421 q 864 472 864 446 q 824 511 864 511 q 685 430 758 511 q 588 251 611 349 q 728 307 654 265 q 847 421 803 349 m 254 42 q 450 244 353 42 q 492 415 492 331 q 419 500 492 500 q 315 443 364 500 q 224 299 267 386 q 182 127 182 213 q 254 42 182 42 z "},Ŕ:{ha:925,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 m 869 1125 q 722 1055 814 1101 q 626 1008 631 1008 q 609 1015 622 1008 q 596 1025 596 1022 q 687 1090 608 1032 q 790 1165 765 1147 q 807 1168 796 1168 q 845 1153 818 1168 q 872 1129 872 1138 q 869 1125 872 1126 z "},Ŗ:{ha:925,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 z "},ŗ:{ha:467,x_min:-57,x_max:582,o:"m 422 558 l 493 557 l 507 557 q 448 467 486 542 q 391 353 410 392 q 349 251 372 315 q 326 146 326 186 q 354 106 326 106 q 405 131 372 107 q 459 183 438 156 q 506 252 481 210 q 551 326 532 294 q 572 357 569 357 q 582 331 582 357 q 568 282 582 306 q 469 131 508 183 q 376 34 431 78 q 276 -10 321 -10 q 197 107 197 -10 q 228 286 197 186 q 318 479 258 386 q 221 440 269 440 q 189 447 206 440 q 83 253 90 253 q 75 276 75 253 q 92 340 75 299 q 130 418 110 381 q 151 460 150 456 q 101 540 101 485 q 119 590 101 568 q 167 613 136 613 q 217 593 197 613 q 214 568 214 585 q 241 509 214 531 q 307 488 268 488 q 324 489 318 488 q 422 558 372 558 m 168 -99 q 63 -281 129 -189 q -37 -374 -3 -374 q -57 -368 -47 -374 q 50 -96 28 -242 q 110 -78 51 -78 q 168 -96 168 -78 l 168 -99 z "},Ř:{ha:925,x_min:6,x_max:896,o:"m 831 916 q 864 889 831 916 q 896 781 896 863 q 847 636 896 699 q 582 489 761 522 l 538 481 q 829 3 607 239 q 765 -1 808 -1 l 658 3 q 541 112 603 3 q 443 334 479 221 q 407 485 407 447 q 426 507 407 506 q 763 763 753 547 q 717 881 763 839 q 569 928 672 922 q 329 461 461 782 q 199 31 199 135 q 204 0 199 10 l 25 0 q 189 467 64 168 q 404 918 356 864 q 165 870 286 915 q 24 763 43 825 q 18 758 22 758 q 6 776 6 758 q 8 790 6 779 q 85 908 35 867 q 183 960 135 950 q 301 969 231 969 l 639 969 q 831 916 767 969 m 564 1253 q 668 1115 597 1253 q 846 1247 808 1247 q 871 1243 871 1247 l 871 1242 q 668 1061 738 1133 q 644 1047 656 1047 q 610 1078 632 1047 q 559 1157 589 1110 q 513 1225 529 1204 q 532 1242 513 1231 q 564 1253 551 1253 z "},ř:{ha:503,x_min:75,x_max:603,o:"m 422 558 l 493 557 l 507 557 q 448 467 486 542 q 391 353 410 392 q 349 251 372 315 q 326 146 326 186 q 354 106 326 106 q 405 131 372 107 q 459 183 438 156 q 506 252 481 210 q 551 326 532 294 q 572 357 569 357 q 582 331 582 357 q 568 282 582 306 q 469 131 508 183 q 376 34 431 78 q 276 -10 321 -10 q 197 107 197 -10 q 228 286 197 186 q 318 479 258 386 q 221 440 269 440 q 189 447 206 440 q 83 253 90 253 q 75 276 75 253 q 92 340 75 299 q 130 418 110 381 q 151 460 150 456 q 101 540 101 485 q 119 590 101 568 q 167 613 136 613 q 217 593 197 613 q 214 568 214 585 q 241 509 214 531 q 307 488 268 488 q 324 489 318 488 q 422 558 372 558 m 244 865 q 264 882 244 871 q 296 893 283 893 q 400 756 331 893 q 578 888 540 888 q 603 883 603 888 l 603 882 q 400 701 469 774 q 376 688 388 688 q 342 719 364 688 q 291 797 321 750 q 244 865 261 844 z "},Š:{ha:756,x_min:17,x_max:863,o:"m 553 994 q 618 994 553 994 q 738 953 682 994 q 793 852 793 911 q 753 742 793 793 q 643 692 714 692 q 572 751 572 692 q 575 774 572 757 q 640 803 613 774 q 668 867 668 832 q 635 924 668 901 q 554 946 601 946 q 421 897 474 946 q 368 783 368 849 q 393 707 368 749 q 441 641 418 665 q 516 569 464 617 q 578 511 568 521 q 683 281 683 406 q 571 65 683 157 q 301 -28 458 -28 q 95 14 174 -28 q 17 144 17 56 q 49 233 17 193 q 140 274 81 274 q 219 232 199 274 q 171 138 171 193 q 208 53 171 83 q 304 24 244 24 q 451 83 388 24 q 514 234 514 143 q 394 451 514 325 q 346 503 393 454 q 267 604 299 553 q 236 726 236 656 q 331 921 236 847 q 553 994 425 994 m 504 1290 q 524 1307 504 1296 q 559 1318 543 1318 q 606 1272 575 1318 q 660 1181 638 1225 q 838 1313 800 1313 q 863 1308 863 1313 l 863 1307 q 660 1126 729 1199 q 635 1113 647 1113 q 602 1144 624 1113 q 551 1222 581 1175 q 504 1290 521 1269 z "},š:{ha:557,x_min:50,x_max:658,o:"m 640 282 q 528 116 578 176 q 401 16 478 56 q 238 -24 325 -24 q 101 6 151 -24 q 50 89 50 35 q 69 151 50 122 q 123 179 89 179 q 167 154 157 179 q 140 93 140 128 q 218 24 140 24 q 298 56 264 24 q 332 126 332 88 q 315 193 332 164 q 275 244 299 222 q 228 289 251 267 q 171 415 171 344 q 225 532 171 485 q 371 579 279 579 q 469 558 429 579 q 510 494 510 538 q 483 418 510 450 q 412 386 457 386 q 367 428 367 386 q 399 457 367 438 q 431 497 431 476 q 413 528 431 518 q 364 539 396 539 q 302 517 332 539 q 272 458 272 494 q 303 390 272 422 q 369 336 333 358 q 436 274 406 314 q 467 191 467 235 q 447 113 467 147 q 399 57 426 78 q 493 128 446 76 q 569 231 540 181 q 621 322 599 282 q 649 361 643 361 q 656 334 656 361 q 640 282 656 307 m 300 842 q 319 858 300 847 q 351 869 339 869 q 456 732 386 869 q 633 864 596 864 q 658 860 658 864 l 658 858 q 456 678 525 750 q 431 664 443 664 q 398 695 419 664 q 347 774 376 726 q 300 842 317 821 z "},Ÿ:{ha:811,x_min:33,x_max:928,o:"m 767 1110 q 709 1072 739 1103 q 664 1040 679 1040 q 635 1064 635 1040 q 669 1136 635 1088 q 732 1185 703 1185 q 761 1164 747 1185 q 775 1127 775 1143 q 767 1110 775 1111 m 507 1110 q 449 1072 479 1103 q 404 1040 419 1040 q 375 1064 375 1040 q 409 1136 375 1088 q 472 1185 443 1185 q 501 1164 488 1185 q 515 1127 515 1143 q 507 1110 515 1111 m 928 969 q 603 653 769 857 q 442 402 514 544 q 346 142 371 260 q 321 16 321 24 q 324 0 321 8 l 154 0 q 210 172 160 24 q 260 381 260 321 q 224 556 260 442 q 148 775 189 671 q 82 915 107 879 q 33 951 69 931 q 43 963 33 957 q 65 969 53 969 l 214 969 q 251 961 242 969 q 286 875 261 953 q 397 468 311 797 q 735 942 631 801 q 850 971 757 971 q 892 970 865 971 q 928 969 918 969 z "},Ž:{ha:828,x_min:-8,x_max:921,o:"m 207 96 q 503 68 207 68 q 738 99 682 68 q 786 143 768 115 q 794 149 789 149 q 800 143 800 149 q 750 41 785 82 q 688 0 715 0 l 26 0 q -8 26 -8 0 q 7 82 -8 42 q 44 147 22 122 q 643 849 453 613 q 664 886 664 875 q 588 901 664 901 l 500 900 q 431 900 500 900 q 375 899 403 900 q 333 897 347 899 q 294 891 318 894 q 257 882 271 888 q 226 869 243 876 q 176 826 193 853 q 167 821 172 821 q 161 826 161 821 q 212 928 176 888 q 274 969 247 969 l 818 969 l 883 972 q 921 958 921 972 q 890 908 921 943 q 233 140 671 671 q 207 96 207 108 m 494 1229 q 514 1246 494 1235 q 546 1257 533 1257 q 650 1119 581 1257 q 828 1251 790 1251 q 853 1247 853 1251 l 853 1246 q 650 1065 719 1138 q 626 1051 638 1051 q 592 1083 614 1051 q 541 1161 571 1114 q 494 1229 511 1208 z "},ž:{ha:592,x_min:29,x_max:706,o:"m 692 279 q 533 53 613 133 q 388 -26 453 -26 q 271 15 351 -26 q 173 57 190 57 q 150 53 156 57 q 65 -15 93 -15 q 36 13 36 -15 q 53 58 36 40 q 80 83 71 75 q 108 106 89 92 q 160 147 126 119 q 399 361 261 229 l 447 407 l 419 411 q 285 426 321 426 q 224 419 250 426 q 178 392 199 413 q 147 356 157 371 q 122 317 136 340 q 99 277 108 294 q 80 245 89 260 q 61 215 71 231 q 35 183 43 183 q 29 209 28 183 q 49 263 31 235 q 97 350 68 292 q 144 444 125 408 q 197 509 163 481 q 276 538 232 538 q 349 529 296 538 l 365 526 q 510 506 481 506 q 599 553 557 506 q 622 563 607 563 q 665 553 636 563 q 214 119 557 453 q 357 68 278 68 q 363 68 360 68 q 486 101 425 68 q 592 192 547 135 q 657 292 619 226 q 697 357 694 357 q 706 331 706 357 q 692 279 706 306 m 392 869 q 496 732 425 869 q 674 864 636 864 q 699 860 699 864 l 699 858 q 496 678 565 750 q 472 664 483 664 q 438 695 460 664 q 387 774 417 726 q 340 842 357 821 q 360 858 340 847 q 392 869 379 869 z "},ƒ:{ha:415,x_min:-456,x_max:688,o:"m 688 853 q 665 793 688 825 q 604 761 642 761 q 573 771 586 761 q 560 794 560 781 q 581 837 560 807 q 601 886 601 867 q 589 919 601 906 q 549 933 576 933 q 490 909 521 933 q 431 836 460 885 q 340 650 389 765 l 563 650 q 565 643 565 650 q 552 618 565 636 q 526 600 539 600 l 326 600 q 194 266 299 542 q 20 -129 90 -10 q -117 -301 -50 -249 q -278 -354 -183 -354 q -414 -319 -372 -354 q -456 -241 -456 -285 q -433 -169 -456 -197 q -383 -142 -410 -142 q -329 -181 -329 -142 q -348 -217 -329 -189 q -367 -265 -367 -246 q -317 -306 -367 -306 q -201 -259 -267 -306 q -86 -116 -135 -212 q 13 106 -37 -19 q 116 378 63 231 q 200 600 169 525 l 131 600 q 122 610 122 600 q 130 635 122 621 q 143 650 138 650 l 218 650 q 338 864 268 772 q 551 972 421 972 q 636 956 606 972 q 688 853 688 929 z "},"ˆ":{ha:738,x_min:318,x_max:676,o:"m 676 701 l 676 700 q 656 685 676 696 q 625 674 636 674 q 572 724 606 674 q 521 811 538 774 q 419 723 475 767 q 340 679 363 679 q 318 683 318 679 l 318 685 q 521 865 451 793 q 544 878 532 878 q 577 847 556 878 q 629 769 599 815 q 676 701 660 722 z "},"ˇ":{ha:738,x_min:340,x_max:699,o:"m 392 869 q 496 732 425 869 q 674 864 636 864 q 699 860 699 864 l 699 858 q 496 678 565 750 q 472 664 483 664 q 438 695 460 664 q 387 774 417 726 q 340 842 357 821 q 360 858 340 847 q 392 869 379 869 z "},"˘":{ha:843,x_min:403,x_max:783,o:"m 783 969 q 571 836 719 836 q 455 873 507 836 q 403 963 403 910 q 444 976 403 976 q 486 971 486 976 q 518 906 486 929 q 592 882 550 882 q 671 904 635 882 q 725 969 707 926 q 755 975 726 975 q 783 969 783 975 z "},"˙":{ha:843,x_min:519,x_max:675,o:"m 672 924 q 627 892 657 921 q 588 844 597 863 q 519 901 519 867 q 549 950 519 926 q 618 974 579 974 q 675 939 675 974 q 672 924 675 935 z "},"˚":{ha:771,x_min:472,x_max:756,o:"m 749 849 q 685 761 732 797 q 580 725 638 725 q 497 751 522 725 q 472 817 472 776 q 523 928 472 878 q 653 979 574 979 q 729 953 703 979 q 756 889 756 928 q 749 849 756 872 m 671 946 l 657 947 q 579 905 613 947 q 546 818 546 863 q 599 764 546 764 q 678 806 644 764 q 713 894 713 849 q 671 946 713 940 z "},"˛":{ha:931,x_min:633,x_max:904,o:"m 890 -257 q 710 -417 792 -417 q 656 -389 678 -417 q 633 -315 633 -361 q 708 -87 633 -194 q 890 19 782 19 q 904 13 904 19 q 890 -1 904 1 q 775 -108 819 -24 q 731 -269 731 -192 q 742 -322 731 -303 q 769 -340 753 -340 q 875 -244 806 -340 q 895 -224 890 -224 q 900 -233 900 -224 q 890 -257 900 -242 z "},"˜":{ha:714,x_min:378,x_max:775,o:"m 772 949 q 661 849 714 849 q 571 874 629 849 q 478 899 513 899 q 419 878 444 899 q 393 857 394 857 q 378 870 378 857 q 414 924 378 883 q 484 964 450 964 q 582 938 518 964 q 674 913 646 913 q 719 927 703 913 q 744 956 735 942 q 763 969 754 969 q 775 958 775 969 q 772 949 775 954 z "},"˝":{ha:843,x_min:413,x_max:738,o:"m 738 988 q 631 751 657 832 q 607 747 628 747 q 586 749 586 747 q 650 989 586 751 q 696 1004 654 1004 q 738 990 738 1004 l 738 988 m 564 988 q 456 751 485 838 q 433 747 453 747 q 413 749 413 747 q 476 989 413 751 q 522 1004 481 1004 q 564 990 564 1004 l 564 988 z "},"–":{ha:1085,x_min:213,x_max:1069,o:"m 278 400 l 1068 400 q 1069 393 1069 400 q 1044 348 1069 386 q 1004 310 1018 310 l 214 310 q 213 317 213 310 q 238 362 213 324 q 278 400 264 400 z "},"—":{ha:1754,x_min:213,x_max:1739,o:"m 278 400 l 1738 400 q 1739 393 1739 400 q 1713 348 1739 386 q 1674 310 1688 310 l 214 310 q 213 317 213 310 q 238 362 213 324 q 278 400 264 400 z "},"‘":{ha:301,x_min:71,x_max:272,o:"m 101 661 q 71 720 71 678 q 92 803 71 763 q 135 874 114 843 q 192 940 156 906 q 257 974 228 974 q 272 971 261 974 q 212 888 253 949 q 169 810 171 826 l 178 810 q 225 763 225 810 q 197 684 225 715 q 132 653 168 653 q 101 661 117 653 z "},"’":{ha:221,x_min:119,x_max:321,o:"m 290 974 q 321 914 321 956 q 299 832 321 872 q 257 760 278 792 q 200 695 236 729 q 135 661 164 661 q 119 664 128 661 q 180 747 139 686 q 222 825 221 808 l 214 825 q 167 878 167 825 q 195 950 167 918 q 260 982 224 982 q 290 974 275 982 z "},"‚":{ha:392,x_min:154,x_max:356,o:"m 325 149 q 356 89 356 131 q 334 7 356 47 q 292 -65 313 -33 q 235 -130 271 -96 q 169 -164 199 -164 q 154 -161 163 -164 q 215 -78 174 -139 q 257 0 256 -17 l 249 0 q 201 53 201 0 q 230 125 201 93 q 294 157 258 157 q 325 149 310 157 z "},"“":{ha:518,x_min:69,x_max:489,o:"m 100 661 q 69 720 69 678 q 91 803 69 763 q 133 874 113 843 q 190 940 154 906 q 256 974 226 974 q 271 971 260 974 q 210 888 251 949 q 168 810 169 826 l 176 810 q 224 763 224 810 q 195 684 224 715 q 131 653 167 653 q 100 661 114 653 m 318 661 q 288 720 288 678 q 309 803 288 763 q 351 874 331 843 q 408 940 372 906 q 474 974 444 974 q 489 971 478 974 q 428 888 469 949 q 386 810 388 826 l 394 810 q 442 763 442 810 q 413 684 442 715 q 349 653 385 653 q 318 661 333 653 z "},"”":{ha:518,x_min:85,x_max:500,o:"m 256 974 q 286 914 286 956 q 265 832 286 872 q 222 760 243 792 q 165 695 201 729 q 100 661 129 661 q 85 664 93 661 q 145 747 104 686 q 188 825 186 808 l 179 825 q 132 878 132 825 q 160 950 132 918 q 225 982 189 982 q 256 974 242 982 m 469 974 q 500 914 500 956 q 478 832 500 872 q 436 760 457 792 q 379 695 415 729 q 314 661 343 661 q 299 664 307 661 q 359 747 318 686 q 401 825 400 808 l 393 825 q 346 878 346 825 q 374 950 346 918 q 439 982 403 982 q 469 974 456 982 z "},"„":{ha:613,x_min:154,x_max:569,o:"m 325 149 q 356 89 356 131 q 334 7 356 47 q 292 -65 313 -33 q 235 -130 271 -96 q 169 -164 199 -164 q 154 -161 163 -164 q 215 -78 174 -139 q 257 0 256 -17 l 249 0 q 201 53 201 0 q 230 125 201 93 q 294 157 258 157 q 325 149 310 157 m 539 149 q 569 89 569 131 q 548 7 569 47 q 506 -65 526 -33 q 449 -130 485 -96 q 383 -164 413 -164 q 368 -161 376 -164 q 428 -78 388 -139 q 471 0 469 -17 l 463 0 q 415 53 415 0 q 444 125 415 93 q 508 157 472 157 q 539 149 525 157 z "},"†":{ha:532,x_min:1,x_max:511,o:"m 304 715 l 510 715 q 511 708 511 715 q 485 663 511 701 q 446 625 460 625 l 292 625 l 192 -81 q 166 -85 192 -85 q 118 -81 140 -85 q 97 -74 96 -78 l 196 625 l 3 625 q 1 632 1 625 q 28 677 1 639 q 67 715 54 715 l 210 715 l 246 971 q 270 975 246 975 q 317 972 294 975 q 339 964 340 968 l 304 715 z "},"‡":{ha:575,x_min:-6,x_max:549,o:"m 203 -86 l 188 -85 l 182 -85 q 141 -80 147 -85 q 135 -74 135 -75 l 201 399 l -4 399 q -6 406 -6 399 q 21 451 -6 413 q 60 489 47 489 l 214 489 l 233 625 l 40 625 q 39 632 39 625 q 65 677 39 639 q 104 715 92 715 l 247 715 l 283 971 q 331 975 286 975 q 376 964 376 975 l 340 715 l 547 715 q 549 708 549 715 q 523 663 549 701 q 483 625 497 625 l 328 625 l 308 489 l 503 489 q 504 482 504 489 q 478 437 504 475 q 439 399 453 399 l 296 399 l 229 -81 q 203 -86 226 -86 z "},"•":{ha:710,x_min:113,x_max:642,o:"m 178 497 q 396 604 265 604 q 571 530 500 604 q 642 347 642 456 q 556 153 642 239 q 362 68 469 68 q 183 142 254 68 q 113 316 113 217 q 178 497 113 415 z "},"…":{ha:900,x_min:156,x_max:847,o:"m 308 68 q 263 36 293 65 q 224 -11 233 7 q 156 46 156 11 q 185 94 156 71 q 254 118 215 118 q 311 83 311 118 q 308 68 311 79 m 844 68 q 799 36 829 65 q 760 -11 769 7 q 692 46 692 11 q 722 94 692 71 q 790 118 751 118 q 847 83 847 118 q 844 68 847 79 m 576 68 q 531 36 561 65 q 492 -11 501 7 q 424 46 424 11 q 453 94 424 71 q 522 118 483 118 q 579 83 579 118 q 576 68 579 79 z "},"‰":{ha:1251,x_min:119,x_max:1217,o:"m 1208 203 q 1130 56 1188 118 q 1000 -7 1072 -7 q 896 37 928 -7 q 864 150 864 81 q 926 338 864 251 q 1086 425 989 425 q 1185 381 1153 425 q 1217 271 1217 338 q 1208 203 1217 236 m 801 933 q 683 813 758 869 l 222 0 q 182 -7 219 -7 q 144 -1 144 -7 l 144 0 l 600 799 q 561 793 581 793 q 469 828 504 793 q 471 792 471 817 q 409 603 471 693 q 247 514 347 514 q 151 558 183 514 q 119 669 119 601 q 182 858 119 771 q 342 944 244 944 q 442 897 404 944 q 527 850 481 850 q 621 880 574 850 q 693 951 668 910 q 757 975 707 975 q 807 947 807 975 q 801 933 807 944 m 814 203 q 735 56 793 118 q 606 -7 678 -7 q 501 37 533 -7 q 469 150 469 81 q 532 338 469 251 q 692 425 594 425 q 790 381 758 425 q 822 271 822 338 q 814 203 822 236 m 1022 68 q 1088 103 1056 68 q 1135 186 1119 138 q 1151 276 1151 235 q 1093 363 1151 363 q 1006 296 1046 363 q 965 149 965 229 q 1022 68 965 68 m 281 588 q 296 588 281 588 q 342 622 311 588 q 390 706 374 657 q 407 797 407 756 q 349 883 407 883 q 261 817 301 883 q 221 675 221 750 q 236 611 221 635 q 281 588 251 588 m 628 68 q 693 103 661 68 q 741 186 725 138 q 757 276 757 235 q 699 363 757 363 q 611 296 651 363 q 571 149 571 229 q 628 68 571 68 z "},"‹":{ha:600,x_min:96,x_max:581,o:"m 575 724 q 578 725 576 725 q 581 721 581 725 q 454 589 581 686 q 206 417 328 492 q 469 172 414 269 q 471 160 471 169 q 445 128 471 150 q 411 106 419 106 q 403 107 403 106 q 124 368 257 272 q 96 400 96 389 q 131 432 96 411 q 575 724 360 561 z "},"›":{ha:615,x_min:172,x_max:658,o:"m 631 463 q 658 431 658 442 q 624 400 658 421 q 179 107 390 269 q 175 106 178 106 q 172 111 172 106 q 301 244 172 147 q 549 414 429 342 q 285 660 343 560 q 283 671 283 661 q 308 703 283 681 q 342 725 333 725 q 351 724 350 725 q 631 463 497 558 z "},"€":{ha:897,x_min:22,x_max:922,o:"m 724 846 q 876 811 829 846 q 922 725 922 776 q 888 637 922 674 q 810 600 853 600 q 746 649 746 600 q 749 667 746 653 q 799 689 778 667 q 821 739 821 711 q 792 783 821 767 q 726 799 763 799 q 522 717 618 799 q 368 525 425 635 l 681 525 q 683 518 683 525 q 670 493 683 511 q 644 475 657 475 l 344 475 l 332 446 q 308 371 318 414 l 604 371 q 607 364 607 371 q 594 339 607 357 q 568 321 581 321 l 297 321 q 292 251 292 289 q 335 108 292 163 q 465 54 378 54 q 662 105 551 54 q 828 222 772 156 q 839 231 836 231 q 842 222 842 231 q 824 164 842 185 q 631 24 749 69 q 384 -21 514 -21 q 186 45 254 -21 q 118 225 118 111 q 129 321 118 268 l 31 321 q 22 331 22 321 q 30 356 22 342 q 43 371 38 371 l 143 371 q 185 475 154 413 l 107 475 q 99 485 99 475 q 106 510 99 496 q 119 525 114 525 l 213 525 l 225 543 q 448 760 315 674 q 724 846 581 846 z "},"™":{ha:704,x_min:151,x_max:756,o:"m 654 678 l 671 683 q 672 681 672 683 q 651 667 672 674 q 615 660 629 660 q 588 690 588 660 q 675 910 588 746 q 606 835 650 889 q 528 742 563 782 q 482 703 493 703 q 460 708 471 703 q 472 803 472 728 q 467 918 472 879 q 403 797 431 864 q 375 698 375 729 q 386 663 375 667 l 364 663 q 347 686 347 663 q 433 911 347 746 q 464 961 460 961 q 506 931 499 961 q 514 835 514 900 q 513 753 514 769 q 647 907 593 853 q 729 961 700 961 l 756 961 q 682 845 725 938 q 639 701 639 753 q 654 678 639 678 m 351 961 l 399 964 q 414 957 413 964 l 414 951 q 403 911 414 933 q 389 889 392 889 q 383 892 383 889 l 388 917 q 329 946 388 946 q 251 814 285 893 q 218 701 218 735 q 229 663 218 667 l 188 663 q 169 693 169 663 q 211 822 169 724 q 278 946 253 921 l 268 946 q 188 922 211 946 q 165 900 175 911 l 156 890 q 151 896 151 890 q 169 942 151 924 q 214 961 188 961 l 351 961 z "}},zN="Playball",GN=1319,HN=-417,VN=-104,WN=69,XN={yMin:-417,xMin:-456,yMax:1318,xMax:1739},jN=1e3,JN={format:0,copyright:'Copyright (c) 2011 TypeSETit, LLC (typesetit@att.net),\rwith Reserved Font Name "Playball"',fontFamily:"Playball",fontSubfamily:"Regular",uniqueID:"RobertE.Leuschke: Playball: 2011",fullName:"Playball",version:"Version 1.001",postScriptName:"Playball-Regular",trademark:"Playball is a trademark of Robert E. Leuschke.",manufacturer:"Robert E. Leuschke",designer:"Robert E. Leuschke",designerURL:"www.typesetit.com",licence:"This Font Software is licensed under the SIL Open Font License, Version 1.1. This license is available with a FAQ at: http://scripts.sil.org/OFL",licenceURL:"http://scripts.sil.org/OFL"},YN="normal",KN="normal",QN={glyphs:kN,familyName:zN,ascender:GN,descender:HN,underlinePosition:VN,underlineThickness:WN,boundingBox:XN,resolution:jN,original_font_information:JN,cssFontWeight:YN,cssFontStyle:KN};let JM,YM;function Zg(){clearTimeout(JM),clearTimeout(YM)}function ZN(){const n=ue.useRef(),{controls:e}=zn(),{pan:t,setPan:i}=ec();return ue.useEffect(()=>{function r(){i(!1),Zg()}function s(){JM=setTimeout(()=>{e.setLookAt(-200,175,200,0,0,0,!0)},1e4),YM=setTimeout(()=>{i(!0)},15e3)}return e==null||e.addEventListener("controlstart",r),e==null||e.addEventListener("controlend",s),()=>{e==null||e.removeEventListener("controlstart",r),e==null||e.removeEventListener("controlend",s)}},[e]),Qu(()=>{n.current&&t&&n.current.rotate(.001,0)},[n]),se.jsx(VO,{maxDistance:500,minDistance:220,maxPolarAngle:Math.PI/2,truckSpeed:0,smoothTime:1,ref:n,makeDefault:!0})}function Xc({text:n,size:e,position:t,rotation:i,moveTo:r,lookAt:s,hoverColor:o=16711680,baseColor:a=16777215,displayProject:l,...c}){const{setPan:u,setSmallText:d,setDisplayProject:p,whoosh:m,click:v,handlePointerIn:x,handlePointerOut:_,setLookingAt:g}=ec(),{controls:q}=zn(),[A,M]=ue.useState(a||16777215);return se.jsxs(OO,{position:t,rotation:i,font:QN,scale:e,onPointerEnter:C=>{x(C),M(o)},onPointerOut:C=>{_(C),M(a)},onClick:C=>{C.stopPropagation(),q._removeAllEventListeners(),v.play(),m.play(),Zg(),u(!1),g(c.lookingAt),setTimeout(()=>{p(l||"none"),d(c.enableButtons||!1)},2e3),q==null||q.setLookAt(...r,...s,!0)},children:[n,se.jsx("meshLambertMaterial",{color:A})]})}function ra({text:n,position:e,rotation:t,moveTo:i,lookAt:r,hoverColor:s="#ff0000",baseColor:o="#ffffff",switchProject:a}){const[l,c]=ue.useState(o),{controls:u}=zn(),{setPan:d,setSmallText:p,setDisplayProject:m,click:v,whoosh:x,lookingAt:_,setLookingAt:g}=ec(),[q,A]=ue.useState(!1);fM(q,"pointer","default");function M(C){C.stopPropagation(),Zg(),v.play(),x.play(),m(a||"none"),p(!!a),u._removeAllEventListeners(),g(a||"none"),u==null||u.setLookAt(...i,...r,!0),u==null||u._addAllEventListeners(u._domElement),d(_=="none")}return se.jsx(IO,{font:"/Playball-Regular.ttf",color:l,position:e,rotation:t,scale:.33,onClick:M,onPointerOver:C=>{C.stopPropagation(),c(s),A(!0)},onPointerOut:C=>{C.stopPropagation(),c(o),A(!1)},children:n})}function K5({file:n,position:e,scale:t,rotation:i,basic:r}){const s="images/"+n,o=$l(Tg,s),a=ue.useRef();return ue.useEffect(()=>{a.current&&a.current.traverse(l=>{l.isMesh&&(l.material.side=0,l.receiveShadow=!0,l.material.map&&(l.material.map.minFilter=$t))})},[o]),se.jsxs("mesh",{position:e,rotation:i,scale:t,ref:a,children:[se.jsx("planeGeometry",{attach:"geometry",args:[100,100]}),r&&se.jsx("meshBasicMaterial",{attach:"material",map:o}),!r&&se.jsx("meshLambertMaterial",{attach:"material",map:o})]})}function $N(){const{active:n,progress:e,errors:t,item:i,loaded:r,total:s}=XU();return se.jsx(hM,{center:!0,children:se.jsxs("p",{style:{color:"white"},children:["Loading ",Math.trunc(e),"%"]})})}function ek(){const{scene:n,animations:e}=gn("models/animated_torch_flame1.glb"),t=ue.useRef(),[i,r]=ue.useState(0);ue.useState(0);const s=n.children[0].children[0].children[0].children[0].children[i].children[0].geometry,o=n.children[0].children[0].children[0].children[0].children[i].children[0].material,a=[[-34,10,-70],[48.5,54,78.5],[48.5,54,-30.5],[-26.5,54,-66],[69,59,120],[69,59,-70.5],[54,59,-86],[-91.5,59,-86]];return ue.useEffect(()=>{for(let l=0;l<a.length;l++){const c=l?[2,.75,2]:[5,3,1],u=new ht().compose(new W(...a[l]),new ai(0,0,0,1),new W(...c));t.current.setMatrixAt(l,u)}t.current.instanceMatrix.needsUpdate=!0},[]),ue.useEffect(()=>{let l=setInterval(()=>{r(c=>c>15?0:c+1)},100);return()=>clearInterval(l)},[]),se.jsx("instancedMesh",{geometry:s,material:o,ref:t,args:[null,null,4]})}function wp(n){const{nodes:e,materials:t}=gn("models/old_black_sconce.glb");return se.jsx("group",{...n,dispose:null,children:se.jsx("mesh",{geometry:e.Cylinder006__0.geometry,material:t["Scene_-_Root"],position:[1.772,-.057,-2.88],scale:1.718})})}gn.preload("models/old_black_sconce.glb");function tk({url:n,position:e,rotation:t,scale:i}){const r=ue.useRef();return se.jsx("mesh",{position:e,rotation:t,scale:i,ref:r,children:se.jsxs(hM,{wrapperClass:"project",transform:!0,occlude:!0,children:[se.jsx("p",{}),se.jsx("object",{data:n})]})})}function hy(n){const{nodes:e,materials:t}=gn("models/arcade_machine.glb"),{displayProject:i}=ec();return t.Body.side=0,se.jsxs(se.Fragment,{children:[i==n.name?se.jsxs(se.Fragment,{children:[se.jsx(tk,{url:n.project,rotation:[-1.418,1.368,1.414],position:[85.147,28,n.position[2]],scale:[.41,.7,.1]}),i=="project1"?se.jsxs(se.Fragment,{children:[se.jsx(ra,{text:"Previous Project",position:[86.5,21.75,5],rotation:[-1.509,1.425,1.488],moveTo:[95,28,50],lookAt:[85,27,49.5],hoverColor:"#F07F13",switchProject:"project2"}),se.jsx(ra,{text:"Back",position:[86.5,21.5,-6],rotation:[-1.426,1.4,1.423],moveTo:[-200,175,200],lookAt:[0,0,0],hoverColor:"#F07F13"})]}):se.jsxs(se.Fragment,{children:[se.jsx(ra,{text:"Next Project",position:[86.5,21.5,44],rotation:[-1.456,1.388,1.453],moveTo:[95,28,-.5],lookAt:[85.2,27,-.75],size:.5,depth:0,setControls:!0,hoverColor:"#F07F13",switchProject:"project1"}),se.jsx(ra,{text:"Back",position:[86.5,21.75,55.5],rotation:[-1.518,1.426,1.497],moveTo:[-200,175,200],lookAt:[0,0,0],hoverColor:"#F07F13"})]})]}):se.jsx(K5,{file:n.name+".png",rotation:[-1.516,1.383,1.514],position:[85.25,28,n.position[2]],scale:[.13,.125,.1],basic:!0}),se.jsxs("group",{...n,dispose:null,children:[se.jsx("mesh",{geometry:e.Body_1_Body_0.geometry,material:t.Body,position:[.004,1.013,.109],rotation:[Math.PI,0,-3.135],scale:.995}),se.jsx("mesh",{geometry:e.Null_1_Null_0.geometry,material:t.Null,position:[.004,1.013,.109],rotation:[Math.PI,0,-3.135],scale:.998})]})]})}gn.preload("models/arcade_machine.glb");function nk(n){const{nodes:e,materials:t}=gn("models/baked-tavern.glb");return ue.useEffect(()=>{n.afterRender()},[]),Object.values(t).forEach(i=>i.metalness=0),se.jsxs("group",{...n,dispose:null,children:[se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Baqueta_(1)_Plastic_-_Translucent_Glossy_(Yellow)_0001"].geometry,material:t["Plastic_-_Translucent_Glossy_Yellow.001"],position:[.205,.372,1.13],rotation:[-Math.PI,0,-Math.PI],scale:1.182}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Baqueta_(2)_Banqueta_Carvalho_-_Semibrilhante_0001"].geometry,material:t["Banqueta_Carvalho_-_Semibrilhante.001"],position:[.15,.372,.207],rotation:[-Math.PI,0,-Math.PI],scale:1.089}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Ba��_(2)_Barris_Nogueira_0001"].geometry,material:t["Barris_Nogueira.001"],position:[1.219,.292,4.445],rotation:[-Math.PI,0,-Math.PI],scale:.292}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Cartaz_1_cartaz_2_Poliestireno_0001.geometry,material:t["cartaz_2_Poliestireno.001"],position:[-.414,1.558,-2.8],rotation:[-Math.PI,0,-Math.PI],scale:.166}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Cartaz_2_cartaz_Espelho_0001.geometry,material:t["cartaz_Espelho.001"],position:[-.156,1.46,-2.8],rotation:[-Math.PI,0,-Math.PI],scale:.166}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Machado_(1)_Nickel_-_Polished_0001"].geometry,material:t["Nickel_-_Polished.001"],position:[-3.008,.57,-2.692],rotation:[-Math.PI,0,-Math.PI],scale:.531}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Machado_Nickel_-_Satin_0001"].geometry,material:t["Nickel_-_Satin.001"],position:[-3.13,.183,-2.636],rotation:[-Math.PI,0,-Math.PI],scale:.185}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_1_Paint_-_Enamel_Glossy_(Red)_0001"].geometry,material:t["Paint_-_Enamel_Glossy_Red.001"],position:[-1.178,.458,1.768],rotation:[-Math.PI,.732,-Math.PI],scale:2.048}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_2_Plastic_-_Translucent_Glossy_(Blue)_0001"].geometry,material:t["Plastic_-_Translucent_Glossy_Blue.001"],position:[-1.473,.457,-1.34],rotation:[-Math.PI,.732,-Math.PI],scale:.456}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cadeira_3_Mesa_redonda_Mogno_0001.geometry,material:t["Mesa_redonda_Mogno.001"],position:[-2.506,.498,-.88],rotation:[-Math.PI,.732,-Math.PI],scale:1.024}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cadeira_4_PEEK_0001.geometry,material:t["PEEK.001"],position:[-2.922,.457,.065],rotation:[-Math.PI,.732,-Math.PI],scale:.456}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Moldura_quadro_Carbon_Fiber_-_Plain_0001"].geometry,material:t["Carbon_Fiber_-_Plain.001"],position:[-.294,1.955,-2.815],rotation:[-Math.PI,0,-Math.PI],scale:.233}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Pano_de_prato_Fabric_(Light_Brown)_0001"].geometry,material:t["Fabric_Light_Brown_0.001"],position:[.987,.887,-.751],rotation:[-Math.PI,0,-Math.PI],scale:.242}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Acabamento_1_Deta��hes_de_madeiraas_Cerejeira_0001"].geometry,material:t["Detahes_de_madeiraas_Cerejeira.001"],position:[-.491,1.738,.828],rotation:[-Math.PI,0,-Math.PI],scale:[3.817,3.856,3.817]}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Balc��o_(1)_Balc��o_Pintura_-_Esmalte_com_brilho_(C"].geometry,material:t["Balco_Pintura_-_Esmalte_com_brilho_Cinza_escuro.001"],position:[1.393,.456,.847],rotation:[-Math.PI,0,-Math.PI],scale:2.326}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["chamin��_Polymide_(Kapton)_0001"].geometry,material:t["Polymide_Kapton.001"],position:[-1.355,2.197,-2.838],rotation:[-Math.PI,0,-Math.PI],scale:[1.271,1.246,1.245]}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Detalhe_Balc��o_(1)_Bronze_-_Patina_0001"].geometry,material:t["Bronze_-_Patina.001"],position:[1.382,.456,.857],rotation:[-Math.PI,0,-Math.PI],scale:2.336}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Escada_Pine_0001.geometry,material:t["Pine.001"],position:[1.078,.851,-2.154],rotation:[-Math.PI,0,-Math.PI],scale:1.043}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Fogueira_Lenha_Bambu_claro_-_Semi-brilhante_0001"].geometry,material:t["Lenha_Bambu_claro_-_Semi-brilhante.001"],position:[-1.347,.158,-2.827],rotation:[-Math.PI,0,-Math.PI],scale:.428}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Janela_(1)_Gemstone_-_Ruby_0001"].geometry,material:t["Gemstone_-_Ruby.001"],position:[-.987,1.811,-2.89],rotation:[-Math.PI,0,-Math.PI],scale:1.734}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Lareira_Lareira_Superf��cie_-_Fosca_0001"].geometry,material:t["Lareira_Superfcie_-_Fosca.001"],position:[-1.357,1.722,-2.637],rotation:[-Math.PI,0,-Math.PI],scale:[1.721,1.721,1.704]}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Lenha_Fabric_(Light_Brown)_0001"].geometry,material:t["Fabric_Light_Brown.001"],position:[-2.609,.209,-2.44],rotation:[-Math.PI,0,-Math.PI],scale:.241}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Parede_1_Parede_Superf��cie_-_Fosca_0001"].geometry,material:t["Parede_Superfcie_-_Fosca.001"],position:[-.491,1.722,.979],rotation:[-Math.PI,0,-Math.PI],scale:3.941}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Piso_Surface_-_Matte_0001"].geometry,material:t["Surface_-_Matte.001"],position:[-.491,-.201,.979],rotation:[-Math.PI,0,-Math.PI],scale:3.941}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Porta_da_Escada_(1)_Gemstone_-_Diamond_0001"].geometry,material:t["Gemstone_-_Diamond.001"],position:[2.192,1.377,.932],rotation:[-Math.PI,0,-Math.PI],scale:3.371}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Porta_da_Escada_Gemstone_-_Sapphire_0001"].geometry,material:t["Gemstone_-_Sapphire.001"],position:[2.156,1.363,.932],rotation:[-Math.PI,0,-Math.PI],scale:3.333}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Prateleiras_Estante_Pintura_-_Esmalte_com_brilho_(Verde)_0001"].geometry,material:t["Estante_Pintura_-_Esmalte_com_brilho_Verde.001"],position:[2.254,1.215,.979],rotation:[-Math.PI,0,-Math.PI],scale:1.861}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Puxador_(1)_Steel_-_Satin_0001"].geometry,material:t["Steel_-_Satin.001"],position:[2.123,1.482,.64],rotation:[-Math.PI,0,-Math.PI],scale:3.019}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Tampo_Balc��o_Paek_(Beige)_0001"].geometry,material:t["Paek_Beige.001"],position:[1.345,.926,.895],rotation:[-Math.PI,0,-Math.PI],scale:2.374}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Vidro_(1)_Glass_(Clear)_0001"].geometry,material:t["Glass_Clear.001"],position:[-.987,1.811,-2.891],rotation:[-Math.PI,0,-Math.PI],scale:1.687}),se.jsx("mesh",{geometry:e["Pilar_(1)_Cherry_0001"].geometry,material:t["Cherry.001"],position:[-.729,1.216,.977],rotation:[-Math.PI,0,-Math.PI],scale:4.036}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Quadro_Paper_(White)_0001"].geometry,material:t["Paper_White.001"],position:[-.294,1.955,-2.801],rotation:[-Math.PI,0,-Math.PI],scale:.233}),se.jsx("mesh",{receiveShadow:!0,geometry:e["Tocha_(1)_(2)_tocha_Pal��dio_-_Polido_0001"].geometry,material:t["tocha_Paldio_-_Polido.001"],position:[.491,1.835,.207],rotation:[-Math.PI,0,-Math.PI],scale:3.029}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_1_Stainless_Steel_-_Satin_0001"].geometry,material:t["Stainless_Steel_-_Satin.001"],position:[-1.45,.46,3.159],rotation:[0,Math.PI/2,0],scale:1.98}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Cadeira_3_Stainless_Steel_-_Brushed_Linear_Long_0001"].geometry,material:t["Stainless_Steel_-_Brushed_Linear_Long.001"],position:[-2.014,.499,2.738],rotation:[0,Math.PI/2,0],scale:1.638})]})}gn.preload("models/baked-tavern.glb");function ik(n){const{nodes:e,materials:t}=gn("models/lightpost.glb");for(let i in t)t[i].side=0;return se.jsxs("group",{...n,dispose:null,children:[se.jsx("mesh",{receiveShadow:!0,geometry:e.defaultMaterial.geometry,material:t.lambert4SG,position:[-.009,20.815,0],scale:2.935}),se.jsx("mesh",{receiveShadow:!0,geometry:e.defaultMaterial_1.geometry,material:t.lambert3SG,position:[-.009,21.51,0],scale:2.794}),se.jsx("mesh",{receiveShadow:!0,geometry:e.defaultMaterial_2.geometry,material:t.lambert2SG,position:[0,12.186,0],scale:12.186})]})}gn.preload("models/lightpost.glb");function rk(n){const{nodes:e,materials:t}=gn("models/medieval_book_stack.glb");return se.jsx("group",{...n,dispose:null,children:se.jsx("mesh",{receiveShadow:!0,geometry:e.book1_low1_books_0.geometry,material:t.books,position:[-2.033,13.704,-.039],scale:20.623})})}gn.preload("models/medieval_book_stack.glb");function sk(n){const{nodes:e,materials:t}=gn("models/project_sign.glb");return se.jsxs("group",{...n,dispose:null,children:[se.jsx("mesh",{receiveShadow:!0,geometry:e.Projects.geometry,material:t.emission,position:[-11.334,-.388,15.094],rotation:[Math.PI/2,0,0],scale:161.487}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Cylinder001_cables_0.geometry,material:t.cables,position:[-21.372,6.62,9.873],scale:[186.782,262.504,252.408]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Cylinder001_cover_0.geometry,material:t.cover,position:[-8.966,.004,-1.67],scale:[195.926,275.355,264.765]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Cylinder001_wall_mount_0.geometry,material:t.wall_mount,position:[-9.135,.271,-20.788],scale:[179.566,252.364,242.657]})]})}gn.preload("models/project_sign.glb");function ok(){const[n,e]=ue.useState(new Date),[t,i]=ue.useState(""),[r,s]=ue.useState(""),o=n.getHours().toString().padStart(2,"0"),a=n.getMinutes().toString().padStart(2,"0"),l=n.getSeconds().toString().padStart(2,"0");return ue.useEffect(()=>{const c=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(c)},[]),ue.useEffect(()=>{const c="Corbin Ainsworth",u="Software Engineer";let[d,p]=[0,0];const m=setInterval(()=>{if(i(c.slice(0,d)),d++,d>c.length){clearInterval(m);const v=setInterval(()=>{s(u.slice(0,p)),p++,p>u.length&&clearInterval(v)},100)}},100)},[]),se.jsxs("div",{style:{color:"white",position:"absolute",zIndex:1,left:20},children:[se.jsx("h2",{style:{marginBottom:5},children:t}),se.jsx("h3",{style:{marginTop:5,marginBottom:5},children:r}),se.jsxs("h3",{style:{marginTop:0},children:[o,":",a,":",l]})]})}function ak(n){const{nodes:e,materials:t}=gn(`models/${n.res||"low-res"}/bounty_board.glb`),{materials:i}=gn("models/high-res/bounty_board.glb"),{setPan:r,whoosh:s,lookingAt:o,setLookingAt:a,handlePointerIn:l,handlePointerOut:c}=ec(),{controls:u}=zn(),d=ue.useCallback(()=>{r(!1),s.play(),u._removeAllEventListeners(),o=="bounty"?(a("none"),u._addAllEventListeners(u._domElement),u.reset(!0),r(o=="none")):(a("bounty"),u.setLookAt(41,16,139,52,16,139,!0))},[u,r,s]);return se.jsx("group",{...n,dispose:null,onPointerOver:l,onPointerOut:c,onClick:d,children:se.jsxs(RM,{distances:[0,50],children:[se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_4.geometry,material:i.default,position:[0,1.643,-.056],scale:1.919}),se.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_4.geometry,material:t.default,position:[0,1.643,-.056],scale:1.919})]})})}gn.preload("models/low-res/bounty_board.glb");gn.preload("models/high-res/bounty_board.glb");function lk(n){const{nodes:e,materials:t}=gn("models/low-res/skill_books.glb"),{materials:i}=gn("models/high-res/skill_books.glb"),{setPan:r,whoosh:s,lookingAt:o,setLookingAt:a,handlePointerIn:l,handlePointerOut:c}=ec(),{controls:u}=zn(),d=ue.useCallback(()=>{r(!1),s.play(),u._removeAllEventListeners(),o=="skills"?(a("none"),u._addAllEventListeners(u._domElement),u.reset(!0),r(o=="none")):(a("skills"),u.setLookAt(44,47,-15,48,47,-15,!0))},[u,r,s]);for(const p in t)t[p].isMaterial&&(t[p].side=0,t[p].minFilter=Dn,t[p].magFilter=Dn);return se.jsxs(RM,{...n,distances:[0,50],children:[se.jsxs("group",{dispose:null,onPointerOver:l,onPointerLeave:c,onClick:d,children:[se.jsx("mesh",{receiveShadow:!0,geometry:e.Box002_ORANGE_0.geometry,material:i.ORANGE,position:[-30.927,3.112,-56.585],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box003_RED_0.geometry,material:i.material,position:[-30.573,14.017,-57.247],rotation:[-Math.PI/2,0,-.061],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box004_blue_0.geometry,material:i.blue,position:[-30.79,35.178,-57.33],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box005_black_0.geometry,material:i.black,position:[-30.601,24.85,-57.835],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box006_green_0.geometry,material:i.green,position:[-28.765,40.406,-58.626],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box007_purple_0.geometry,material:i.purple,position:[-28.721,30.078,-58.127],rotation:[-Math.PI/2,0,-.105],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box008_pink_0.geometry,material:i.pink,position:[-29.499,19.245,-57.192],rotation:[-Math.PI/2,0,-.036],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box009_Cyan_0.geometry,material:i.Cyan,position:[-29.086,8.34,-57.639],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box002_ORANGE_0001.geometry,material:i["ORANGE.001"],position:[-30.927,45.554,-58.275],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box003_RED_0001.geometry,material:i["material.001"],position:[-30.573,56.459,-58.937],rotation:[-Math.PI/2,0,-.061],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box004_blue_0001.geometry,material:i["blue.001"],position:[-30.79,77.62,-59.02],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box005_black_0001.geometry,material:i["black.001"],position:[-30.601,67.292,-59.525],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box006_green_0001.geometry,material:i["green.001"],position:[-28.765,82.848,-60.316],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box007_purple_0001.geometry,material:i["purple.001"],position:[-28.721,72.52,-59.817],rotation:[-Math.PI/2,0,-.105],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box008_pink_0001.geometry,material:i["pink.001"],position:[-29.499,61.687,-58.882],rotation:[-Math.PI/2,0,-.036],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box009_Cyan_0001.geometry,material:i["Cyan.001"],position:[-29.086,50.782,-59.329],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]})]}),se.jsxs("group",{dispose:null,onPointerOver:l,onPointerLeave:c,onClick:d,children:[se.jsx("mesh",{receiveShadow:!0,geometry:e.Box002_ORANGE_0.geometry,material:t.ORANGE,position:[-30.927,3.112,-56.585],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box003_RED_0.geometry,material:t.material,position:[-30.573,14.017,-57.247],rotation:[-Math.PI/2,0,-.061],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box004_blue_0.geometry,material:t.blue,position:[-30.79,35.178,-57.33],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box005_black_0.geometry,material:t.black,position:[-30.601,24.85,-57.835],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box006_green_0.geometry,material:t.green,position:[-28.765,40.406,-58.626],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box007_purple_0.geometry,material:t.purple,position:[-28.721,30.078,-58.127],rotation:[-Math.PI/2,0,-.105],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box008_pink_0.geometry,material:t.pink,position:[-29.499,19.245,-57.192],rotation:[-Math.PI/2,0,-.036],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box009_Cyan_0.geometry,material:t.Cyan,position:[-29.086,8.34,-57.639],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box002_ORANGE_0001.geometry,material:t["ORANGE.001"],position:[-30.927,45.554,-58.275],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box003_RED_0001.geometry,material:t["material.001"],position:[-30.573,56.459,-58.937],rotation:[-Math.PI/2,0,-.061],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box004_blue_0001.geometry,material:t["blue.001"],position:[-30.79,77.62,-59.02],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box005_black_0001.geometry,material:t["black.001"],position:[-30.601,67.292,-59.525],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box006_green_0001.geometry,material:t["green.001"],position:[-28.765,82.848,-60.316],rotation:[-Math.PI/2,0,-.067],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box007_purple_0001.geometry,material:t["purple.001"],position:[-28.721,72.52,-59.817],rotation:[-Math.PI/2,0,-.105],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box008_pink_0001.geometry,material:t["pink.001"],position:[-29.499,61.687,-58.882],rotation:[-Math.PI/2,0,-.036],scale:[26.586,17.029,5.141]}),se.jsx("mesh",{receiveShadow:!0,geometry:e.Box009_Cyan_0001.geometry,material:t["Cyan.001"],position:[-29.086,50.782,-59.329],rotation:[-Math.PI/2,0,0],scale:[26.586,17.029,5.141]})]})]})}gn.preload("models/low-res/skill_books.glb");gn.preload("models/new-baked.glb");const ck=()=>{const{smallText:n}=ec(),[e,t]=ue.useState(!1);function i(){t(!0)}return se.jsxs(se.Fragment,{children:[e&&se.jsx(ok,{}),se.jsxs(cM,{shadows:!0,dpr:1,camera:{position:[-200,175,200]},style:{background:"#000000"},children:[se.jsx(YO,{}),se.jsxs(ue.Suspense,{fallback:se.jsx($N,{}),children:[se.jsx(ZN,{}),se.jsxs("mesh",{receiveShadow:!0,rotation:[-Math.PI*.5,0,0],position:[0,-7,0],children:[se.jsx("planeGeometry",{args:[1e3,1e3]}),se.jsx(JO,{mixStrength:.1,resolution:512,args:[1e3,1e3],rotation:[-Math.PI*.5,0,0],mirror:.97,minDepthThreshold:1,maxDepthThreshold:.5,depthScale:50,position:[0,-7,0]})]}),se.jsxs("group",{children:[se.jsx(Qh,{shadow:!0,position:[70,60,120],intensity:2e3,decay:1.5}),se.jsx(Qh,{position:[65,63,-70],intensity:2e3,decay:1.5}),se.jsx(Qh,{position:[53,63,-83],intensity:2e3,decay:1.5}),se.jsx(Qh,{shadow:!0,position:[-90,63,-83],intensity:2e3,decay:1.5}),se.jsx(Qh,{shadow:!0,position:[-82.5,80,127],color:16765468,intensity:3500,decay:1.675})]}),se.jsx("ambientLight",{intensity:1.5}),se.jsx(K5,{file:"ainsworth_corbin_resume.png",position:[50.4,15.75,140.9],scale:[.113,.14,.1],rotation:[.075,-1.575,0]}),se.jsx(K5,{file:"about_me.png",position:[-3.91,36.5,-69.95],scale:[.0475,.085,.1]}),se.jsxs("group",{children:[se.jsx(Xc,{text:"Résumé",position:[-178,59,-72],moveTo:[41,16,139],lookAt:[52,16,139],size:15,lookingAt:"bounty"}),se.jsx(Xc,{text:"Skills",position:[-183,37,-72],moveTo:[44,47,-15],lookAt:[48,47,-15],size:15,lookingAt:"skills"}),se.jsx(Xc,{text:"Experience",position:[-183,15,-72],moveTo:[-11,38.95,-64.5],lookAt:[-11,38.95,-75.5],size:15,enableButtons:!0,lookingAt:"experience"}),se.jsx(Xc,{text:"About Me",position:[-190,-7,-72],moveTo:[-4,36.5,-64.5],lookAt:[-4,36.5,-75.5],size:15,enableButtons:!0,lookingAt:"about"}),se.jsx(Xc,{text:"Project1",position:[-260,15,-72],moveTo:[95,28,-.5],lookAt:[85.2,27,-.75],size:15,displayProject:"project1",lookinAt:"project1"}),se.jsx(Xc,{text:"Project2",position:[-265,-7,-72],moveTo:[95,28,50],lookAt:[85,27,49.5],size:15,displayProject:"project2",lookingAt:"project2"})]}),se.jsx(ek,{}),se.jsx(wp,{position:[75,60,105],rotation:[0,Math.PI,0],scale:[5,5,5]}),se.jsx(wp,{position:[75,60,-85],rotation:[0,Math.PI,0],scale:[5,5,5]}),se.jsx(wp,{position:[40,60,-92.75],rotation:[0,-Math.PI/2,0],scale:[5,5,5]}),se.jsx(wp,{position:[-105,60,-92.75],rotation:[0,-Math.PI/2,0],scale:[5,5,5]}),n&&se.jsxs(se.Fragment,{children:[se.jsx(ra,{text:"Experience",position:[-5,33,-69.94],moveTo:[-11,38.95,-64.5],lookAt:[-11,38.95,-75.5],hoverColor:"#ff0000",switchProject:!0}),se.jsx(ra,{text:"Back",position:[-2.5,33,-69.94],moveTo:[-200,175,200],lookAt:[0,0,0],hoverColor:"#ff0000"}),se.jsx(ra,{text:"About Me",position:[-11.5,35.5,-69.94],moveTo:[-4,36.5,-64.5],lookAt:[-4,36.5,-75.5],hoverColor:"#ff0000",switchProject:!0}),se.jsx(ra,{text:"Back",position:[-9,35.5,-69.94],moveTo:[-200,175,200],lookAt:[0,0,0],hoverColor:"#ff0000"})]}),se.jsx(sk,{scale:[.25,.25,.25],rotation:[0,Math.PI/2,0],position:[75,70,22]}),se.jsx(lk,{scale:[.15,.15,.15],position:[48,51.75,-8],rotation:[-1.6,-1.5,0],canHover:!0,moveTo:[44,47,-15],lookAt:[48,47,-15]}),se.jsx(ak,{scale:[10,10,10],rotation:[0,-Math.PI/2,0],position:[52,-5,150],canHover:!0,lookAt:[52,16,139],moveTo:[41,16,139]}),se.jsx(hy,{position:[80,-8,0],scale:[25,25,25],rotation:[0,Math.PI/2,0],project:"https://project1.corbinainsworth.com",name:"project1"}),se.jsx(hy,{position:[80,-8,50],scale:[25,25,25],rotation:[0,Math.PI/2,0],project:"https://project2.corbinainsworth.com",name:"project2"}),se.jsx(rk,{position:[22,23.6,70],scale:[.33,.33,.33],rotation:[0,-2.5,0]}),se.jsx(ik,{position:[-90,-5,120],scale:[4.5,4.5,4.5],rotation:[0,2.5,0]}),se.jsx(nk,{afterRender:i,scale:[25,25,25],onPointerOver:r=>r.stopPropagation()})]})]})]})},KM=ue.createContext(),ec=()=>ue.useContext(KM),uk=({children:n})=>{const[e,t]=ue.useState(!0),[i,r]=ue.useState("none"),[s,o]=ue.useState(!1),[a,l]=ue.useState("none"),[c,u]=ue.useState(!1),d=ue.useCallback(()=>u(!0),[c]),p=ue.useCallback(()=>u(!1),[c]);fM(c,"pointer","default");const m="https://project1.corbinainsworth.com",v="https://project2.corbinainsworth.com",x="sounds/whoosh.mp3",_="sounds/click.mp3",g=new Audio(x),q=new Audio(_),A={pan:e,setPan:t,whoosh:g,click:q,displayProject:i,setDisplayProject:r,project1URL:m,project2URL:v,smallText:s,setSmallText:o,lookingAt:a,setLookingAt:l,handlePointerIn:d,handlePointerOut:p};return se.jsx(KM.Provider,{value:A,children:n})};i4.createRoot(document.getElementById("root")).render(se.jsx(sa.StrictMode,{children:se.jsx(uk,{children:se.jsx(ck,{})})}));
